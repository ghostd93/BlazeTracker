{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,kF;;;;;;;;;;ACAA,iE;;;;;;;;;;ACAA,uE;;;;;;;;;;ACAA,gE;;;;;;;;;;ACAA,sE;;;;;;;;;;ACAA,wE;;;;;;;;;;ACAA,iE;;;;;;;;;;ACAA,mE;;;;;;;;;;ACAA,gE;;;;;;;;;;ACAA,qE;;;;;;;;;;ACAA,yE;;;;;;;;;;ACAA,yG;;;;;;;;;;ACAA,+F;;;;;;;;;;ACAA,gE;;;;;;;;;;ACAA,qE;;;;;;;;;;ACAA,uE;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,2BAA2B,IAAI;;AAE/B;AACA,mCAAmC,IAAI;;AAEvC,kDAAkD,MAAM;;AAExD;AACA,+BAA+B,IAAI;;AAEnC;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI,IAAI;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,2BAA2B;;AAEpD;AACA,kBAAkB,wBAAwB;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,YAAY;AACZ;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,iEAAiE;AACrE;AACA,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,iEAAiE;AACrE;AACA,UAAU,gBAAgB;AAC1B,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAkB,gBAAgB;AAClC,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,yBAAyB,YAAY;AACrC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,YAAY,oDAAoD;;AAEhE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA,2BAA2B,+BAA+B;AAC1D,cAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,SAAS;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,oDAAoD;;AAEhE;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAyC,UAAU;AACnD;;AAEA;AACA;AACA;;AAEA;AACA,+CAA+C,UAAU;AACzD;AACA,gBAAgB,0BAA0B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA,iCAAiC,cAAc,IAAI;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,8BAA8B,kBAAkB;AAChD;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,YAAY,iBAAiB;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA,YAAY,MAAM;;AAElB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,gCAAgC;AAChC,qBAAqB;;AAErB;AACA;AACA;AACA,MAAM;AAAA,EAED;;AAEL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,aAAa,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,iBAAiB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,YAAY,UAAU;AACtB;;AAEA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA,cAAc,0BAA0B;;AAExC;AACA;AACA;AACA;AACA,sBAAsB,mCAAmC;AACzD,SAAS;AACT;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,gBAAgB,kBAAkB;;AAElC;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD,SAAS;AAC3D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,gCAAgC,SAAS;AACzC;AACA,WAAW;AACX;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA,YAAY,gBAAgB;AAC5B;;AAEA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA,gBAAgB,0BAA0B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,MAAM;AACN,cAAc,mBAAmB;;AAEjC,cAAc,0BAA0B;;AAExC;AACA,uBAAuB,wCAAwC;AAC/D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAE2B;;;;;;;;;;;ACjwD3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACa;AACb,KAAqC;AACrC;AACA;AACA,wCAAwC,0BAA0B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,QAAQ;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,wBAAwB,WAAW,gBAAgB;AACnD,yBAAyB,WAAW,iBAAiB;AACrD,yBAAyB,WAAW,iBAAiB;AACrD,0BAA0B,WAAW,kBAAkB;AACvD,0BAA0B,WAAW,kBAAkB;AACvD,mCAAmC,WAAW,2BAA2B;AACzE,6BAA6B,WAAW,qBAAqB;AAC7D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AAEE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,WAAW;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yDAAyD;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB,kBAAkB,4CAA4C;AAC9D,gBAAgB,gBAAgB;AAChC;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,4CAA4C;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,iEAAiE,OAAO;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,iBAAiB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAkH,8BAA8B;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gNAAgN;AAChN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kJAAkJ,iBAAiB;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kJAAkJ,iBAAiB,mDAAmD,mBAAmB,WAAW,+BAA+B;AACnR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,GAAG;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+BAA+B;AAC/B;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qCAAqC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAM;AAC9B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kDAAkD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,uBAAuB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAmB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,iBAAiB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kDAAkD;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6CAA6C;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qCAAqC;AAClD;AACA;AACA;AACA;AACA,aAAa,wCAAwC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,+BAA+B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,sBAAsB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,8BAA8B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD,SAAS;AACT;AACA;AACA;AACA,0BAA0B,0BAA0B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yCAAyC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iMAAiM,GAAG;AACpM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA,+CAA+C,4BAA4B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4BAA4B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0MAA0M,GAAG;AAC7M;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gDAAgD;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,4CAA4C;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe;AACf;AACA,0CAA0C,oBAAoB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oCAAoC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,YAAY,oBAAoB,qCAAqC;AACrE;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iCAAiC;AACpE;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,+BAA+B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B,yBAAyB,IAAI;AAC7B;AACA;AACA;AACA,UAAU,oDAAoD;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+CAA+C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,4CAA4C;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sBAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0BAA0B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wCAAwC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,aAAa;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mCAAmC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAAsC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,kBAAkB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gCAAgC,8EAA8E,iBAAiB,gBAAgB,GAAG,aAAa;AAC9L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,eAAe,wBAAwB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,cAAc;AACd;AACA,+CAA+C;AAC/C,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,uBAAuB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,aAAa;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,2CAA2C;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iCAAiC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6MAA6M,0CAA0C,EAAE;AACzP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6KAA6K,0CAA0C,EAAE;AACzN;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,eAAe;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kBAAkB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oCAAoC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,4HAA4H,mBAAmB,WAAW,+BAA+B;AACzL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAkH,8BAA8B;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,oBAAoB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,mBAAmB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gDAAgD;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6HAA6H,KAAK,aAAa,KAAK;AACpJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iIAAiI,KAAK,aAAa,KAAK;AACxJ;AACA;AACA,0FAA0F,KAAK;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,OAAO;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+BAA+B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2CAA2C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAO,CAAC,oDAAW;AACvC,cAAc,mBAAO,CAAC,4CAAO;AAC7B,iBAAiB,mBAAO,CAAC,oDAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,oCAAoC;AACpC,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,2BAA2B;AAC3B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,kCAAkC,oBAAoB,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA,oCAAoC,yBAAyB,iBAAiB;AAC9E;AACA,qCAAqC,sBAAsB,kBAAkB;AAC7E;AACA,yCAAyC;AACzC;AACA;AACA;AACA,OAAO;AACP;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,2CAA2C,oBAAoB,SAAS;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,OAAO;AACP;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,sCAAsC;AACtC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB;AAClB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,2DAA2D;AAC3D,kDAAkD;AAClD,iDAAiD;AACjD;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kCAAkC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qCAAqC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,6BAA6B,gEAAgE,eAAe,oCAAoC;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+JAA+J,yBAAyB;AACxL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,mBAAmB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA;AACA;AACA,GAAG;;;;;;;;;;;ACx92BH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;AACb,KAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,oEAAoE;AACxE;AACA,IAAI,oBAAoB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,mBAAmB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,UAAU;AACV;AACA,IAAI,eAAe;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,IAAI,wBAAwB;AAC5B;AACA;AACA,IAAI,+BAA+B;AACnC;AACA;AACA,IAAI,oBAAoB;AACxB;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA;AACA;AACA,GAAG;;;;;;;;;;;ACvaU;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AAOC;AACH;;AAEA,IAAI,KAAqC,EAAE;AAAA,EAK1C,CAAC;AACF,EAAE,iJAAiE;AACnE;;;;;;;;;;;ACrCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AAOC;AACH;;AAEA,IAAI,KAAqC,EAAE;AAAA,EAK1C,CAAC;AACF,EAAE,mIAA0D;AAC5D;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;AACb,KAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,+CAA+C,6BAA6B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB,gDAAgD;AAChE,gBAAgB,aAAa;AAC7B;AACA;AACA,gCAAgC,kCAAkC,OAAO;AACzE;AACA,gGAAgG,SAAS,UAAU,sFAAsF,aAAa,UAAU,UAAU;AAC1O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gBAAgB;AACpB,IAAI,WAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;;;;;;;;;;AC/VH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;AACb,KAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oMAAoM;AACpM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,+CAA+C,6BAA6B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yCAAyC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,cAAc;AACd;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gBAAgB;AACpB,IAAI,gBAAgB;AACpB,IAAI,iBAAiB;AACrB,IAAI,gBAAgB;AACpB,IAAI,gBAAgB;AACpB,IAAI,qBAAqB;AACzB,IAAI,kBAAkB;AACtB,IAAI,gBAAgB;AACpB,IAAI,uEAAuE;AAC3E;AACA,IAAI,0BAA0B;AAC9B,IAAI,WAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gNAAgN;AAChN;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA;AACA,IAAI,mBAAmB;AACvB;AACA;AACA,IAAI,yBAAyB;AAC7B;AACA;AACA;AACA,IAAI,oBAAoB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qBAAqB;AACzB,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB,wBAAwB;AACxB;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kDAAkD;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA,OAAO;AACP;AACA;AACA,IAAI,sBAAsB;AAC1B,IAAI,YAAY;AAChB,eAAe;AACf;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mDAAmD,aAAa;AAChE;AACA;AACA,OAAO;AACP;AACA;AACA,IAAI,uBAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gCAAgC;AACpC;AACA;AACA,IAAI,WAAW;AACf;AACA;AACA,IAAI,sBAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,mBAAmB;AACvB;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA,IAAI,wBAAwB;AAC5B;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAsB;AAC1B;AACA;AACA,IAAI,aAAa;AACjB;AACA;AACA,IAAI,2BAA2B;AAC/B;AACA;AACA,IAAI,0BAA0B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uBAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA,IAAI,cAAc;AAClB;AACA;AACA,IAAI,gBAAgB;AACpB;AACA;AACA,IAAI,4BAA4B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA;AACA;AACA,GAAG;;;;;;;;;;;ACnwCU;;AAEb,IAAI,KAAqC,EAAE;AAAA,EAE1C,CAAC;AACF,EAAE,uHAAsD;AACxD;;;;;;;;;;;ACNa;;AAEb,IAAI,KAAqC,EAAE;AAAA,EAE1C,CAAC;AACF,EAAE,+IAAkE;AACpE;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;AACb,KAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI,oBAAoB;AACxB;AACA;AACA;AACA;AACA;AACA,MAAM,oBAAoB;AAC1B;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM,oBAAoB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI,6BAA6B;AACjC,IAAI,kCAAkC;AACtC,IAAI,4BAA4B;AAChC,IAAI,+BAA+B;AACnC,IAAI,0BAA0B;AAC9B,IAAI,qCAAqC;AACzC,IAAI,+BAA+B;AACnC;AACA;AACA,IAAI,+BAA+B;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wCAAwC;AAC5C;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,IAAI,6BAA6B;AACjC;AACA;AACA,IAAI,gCAAgC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,IAAI,iCAAiC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,4BAA4B;AAChC,IAAI,6BAA6B;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;;;;;;;;;AC3WU;;AAEb,IAAI,KAAqC,EAAE;AAAA,EAE1C,CAAC;AACF,EAAE,mIAA0D;AAC5D;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,2BAA2B;AAC3B,2BAA2B;;AAE3B;AACA;AACA;AACA,WAAW,mBAAO,CAAC,yDAAY;;AAE/B;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6DAAc;;AAEnC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6DAAc;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,mEAAiB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,+DAAe;;AAErC;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6DAAc;;AAEnC;AACA;AACA,SAAS,mBAAO,CAAC,6DAAc;;AAE/B;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,sEAAsE;AACtE;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,+CAA+C;AAC/C;;AAEA;AACA;;;AAGA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;;;AC/GA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;;;ACpGA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;AAC/C,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,WAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,sCAAsC;AACtC,sCAAsC;AACtC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;ACjJA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC,+BAA+B;;AAE/B;AACA;;AAEA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;;AC/FA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,aAAa,aAAa;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;;AAEA;AACA;AACA,EAAE,SAAS,wBAAM,IAAI,wBAAU;AAC/B,EAAE,mCAAO,aAAa,cAAc;AAAA,kGAAC;AACrC,EAAE;AACF;AACA;;AAEA,CAAC;AACD;AACA,EAAE,KAA2B;AAC7B,EAAE,wBAAuC;AACzC;;;;;;;;;;;;;ACnFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,gBAAgB,gBAAgB;;AAElE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;AACxC;AACA,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;AACxC;AACA,wCAAwC;AACxC;;AAEA,4BAA4B;AAC5B,4BAA4B;AAC5B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;AACA,4BAA4B,sBAAsB;;AAElD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8CAA8C;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI,KAA2B;AAC/B;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,qBAAQ;AACjC,IAAI;AACJ,EAAE,SAAS,IAA2C;AACtD,EAAE,mCAAO,aAAa,oBAAoB;AAAA,kGAAC;AAC3C,EAAE,KAAK;AAAA,EAGN;;;AAGD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC5PA;AACA,wCAAwC,0DAA0D;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,0BAA0B;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,4CAA4C,uBAAuB;AACnE,2DAA2D,SAAS;AACpE;AACA;AACA;AAKE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClDiE;AACa;AAC4I;AACuC;AACpK;AAC0F;AAC5F;AAClC;AACC;AACwD;AAC3B;AACmG;AAC3H;AACM;AACoC;AACrB;AACrB;AACJ;AACyB;AACqC;AACR;AACrC;AACJ;AAC1E;AACA;AACA;AACA,0BAA0B,qBAAqB,IAAI;AACnD,oBAAoB,2CAA2C;AAC/D;AACA;AACA,SAAS,6DAAC;AACV;AACA;AACA,SAAS,4DAAC;AACV;AACA;AACA,SAAS,2DAAC;AACV;AACA;AACA,SAAS,6EAAC;AACV;AACA;AACA,SAAS,iFAAC;AACV;AACA;AACA;AACA;AACA,EAAE,IAAI;AACN,SAAS,iEAAC,MAAM,iDAAiD;AACjE;AACA;AACA,SAAS,yDAAC;AACV;AACA;AACA;AACA,YAAY,qDAAC,CAAC,2DAAC;AACf,cAAc,qDAAC,CAAC,2DAAC;AACjB,cAAc,qDAAC,CAAC,2DAAC;AACjB,WAAW,qDAAC,CAAC,2DAAC;AACd,UAAU,qDAAC,CAAC,2DAAC;AACb;AACA;AACA;AACA,SAAS,qEAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,iEAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS,6DAAC;AACV;AACA;AACA,SAAS,oEAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,mEAAC,SAAS,uEAAuE;AAC1F;AACA,oBAAoB,8BAA8B,IAAI;AACtD,SAAS,iEAAC,SAAS,sBAAsB;AACzC;AACA;AACA,eAAe,4DAAC;AAChB;AACA;AACA;AACA,EAAE,IAAI;AACN,SAAS,2DAAC,MAAM,aAAa;AAC7B;AACA;AACA,SAAS,6DAAC;AACV;AACA;AACA;AACA,EAAE,IAAI;AACN,SAAS,4DAAC,MAAM,oBAAoB;AACpC;AACA;AACA,SAAS,oEAAC;AACV;AACA,uBAAuB,sBAAsB,IAAI;AACjD,eAAe,kEAAC,MAAM,gBAAgB;AACtC;AACA;AACA;AACA,UAAU,6DAAC,sBAAsB,6CAAC,EAAE,qDAAC;AACrC;AACA,mBAAmB,6CAAC,+CAA+C,iDAAC;AACpE,UAAU,iEAAC,GAAG,2BAA2B;AACzC,IAAI;AACJ,UAAU,uEAAC,GAAG,gBAAgB;AAC9B;AACA;AACA,EAAE,qDAAC,eAAe,qDAAC,eAAe,GAAG,qDAAC;AACtC;AACA;AACA;AACA,mBAAmB,qDAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B,IAAI;AAClD,EAAE,8DAAC,SAAS,oBAAoB;AAChC;AACA;AACA,QAAQ,+DAAC;AACT;AA8DE;;;;;;;;;;;;;;;AC7OF;AACA,wCAAwC,0DAA0D;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA,iCAAiC;AACjC,YAAY,4BAA4B;AACxC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAkH;AAClH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,2GAA2G,mCAAmC;AAC9I;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;;ACzHsB;AACxB,oBAAoB;AACpB;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,4BAA4B;AACtC,UAAU;AACV;AACA,KAAK;AACL,sCAAsC,qBAAqB;AAC3D;AACA,4HAA4H,+CAAC;AAC7H,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,yBAAyB,UAAU;AACnC,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4DAA4D,qBAAqB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;ACvPF;AACA,wCAAwC,0DAA0D;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChF8E;AACA;AAClB;AACf;AACa;AACL;AACK;AAC4C;AAatG;;;;;;;;;;;;;;;;ACpByC;AAC3C,oBAAoB;AACpB;AACA;AACA;AACA,qDAAqD,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,EAAE,sDAAsD,EAAE;AACxF;AACA;AACA;AACA,wBAAwB,EAAE;AAC1B,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA,cAAc,mDAAC,iBAAiB,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,kDAAkD,EAAE;AAChF;AACA;AACA,cAAc,mDAAC,+BAA+B,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA,cAAc,mDAAC,oBAAoB,MAAM;AACzC;AACA;AACA;AACA;AACA,kBAAkB,KAAK;AACvB,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mDAAC,iBAAiB,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,kDAAkD,EAAE;AAChF;AACA;AACA,cAAc,mDAAC,+BAA+B,OAAO;AACrD;AACA;AACA;AACA;AACA,cAAc,mDAAC,oBAAoB,MAAM;AACzC;AACA;AACA;AACA,kBAAkB,KAAK;AACvB,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;;;;;;;;AC9HF;AACA,0CAA0C,0DAA0D;AACpG;AAC+e;AAC9b;AACgB;AACoC;AAC6E;AAClG;AACd;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI;AACN;AACA;AACA;AACA;AACA,QAAQ,qGAAqG;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA,UAAU,+DAAE;AACZ;AACA;AACA;AACA;AACA;AACA,aAAa,gEAAC;AACd;AACA,aAAa,gEAAC;AACd;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,sCAAsC,gEAAC;AACvC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,qCAAqC,6DAAE,cAAc,6DAAE,kBAAkB,uCAAuC,MAAM,+DAAE;AACxH,uBAAuB,gEAAE,2IAA2I;;AAEpK,EAAE,cAAc;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0BAA0B,oEAAE,MAAM,OAAO,IAAI,MAAM,wBAAwB,mIAAmI;AAC9M;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,cAAc,8DAAC,IAAI,6CAAC,EAAE,6CAAC,OAAO,+DAAE;AAChC,mBAAmB,8DAAE;AACrB;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA,yCAAyC,OAAO,IAAI,MAAM;AAC1D;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,cAAc,yEAAE,IAAI,6CAAC,EAAE,6CAAC;AACxB;AACA,qEAAqE,8DAAC,YAAY,6CAAC,EAAE,6CAAC,WAAW,6EAAE;AACnG,4BAA4B,6CAAC,EAAE,6CAAC;AAChC;AACA;AACA;AACA;AACA;AACA,mEAAmE,yEAAE;AACrE;AACA;AACA,YAAY,6CAAC;AACb,YAAY,6CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,YAAY,gEAAE;AACd;AACA;AACA,KAAK;AACL,iBAAiB,gDAAgD;AACjE,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,MAAM,gEAAE,SAAS,uEAAE;AACxB;AACA,yBAAyB,oEAAE;AAC3B;AACA,iBAAiB,6CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA,+CAA+C,EAAE,uDAAuD,EAAE,kCAAkC;AAC5I,uFAAuF,iDAAC;AACxF;AACA,+DAA+D,EAAE,uEAAuE,EAAE,kCAAkC;AAC5K;AACA;AACA;AACA;AACA,iBAAiB,8DAAE,MAAM,uBAAuB;AAChD;AACA,OAAO;AACP;AACA;AACA,iBAAiB,8DAAE,MAAM,uBAAuB;AAChD;AACA;AACA;AACA,QAAQ,2DAA2D;AACnE,QAAQ,2DAA2D;AACnE,QAAQ;AACR;AACA,QAAQ,wDAAwD;AAChE,QAAQ;AACR;AACA;AACA;AACA,YAAY,4DAAC;AACb;AACA;AACA,gBAAgB,gEAAC;AACjB,KAAK;AACL;AACA;AACA,YAAY,4DAAC;AACb;AACA;AACA,gBAAgB,gEAAC;AACjB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,gEAAC;AACjB,KAAK;AACL;AACA;AACA,YAAY,4DAAC;AACb;AACA;AACA,gBAAgB,gEAAC;AACjB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,gEAAC;AACjB,KAAK,yGAAyG,yEAAE;AAChH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,8DAAC,gBAAgB,8DAAC;AAChF;AACA,cAAc,4DAAC;AACf;AACA;AACA,yBAAyB,8DAAC;AAC1B;AACA,8BAA8B,8DAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,4DAAC;AACb;AACA;AACA,KAAK;AACL;AACA;AACA,cAAc,mEAAE,CAAC,2DAAE,SAAS,iDAAC;AAC7B,QAAQ,2DAAE;AACV;AACA;AACA,uCAAuC,+BAA+B;AACtE,OAAO;AACP;AACA,gBAAgB,8DAAC;AACjB,mDAAmD,iDAAC;AACpD,QAAQ,6CAAC;AACT,QAAQ,6CAAC;AACT;AACA;AACA,kBAAkB,kEAAE,4CAA4C,iDAAC,oIAAoI,iEAAE;AACvM;AACA,gBAAgB,4DAAC;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAc,4DAAE;AAChB;AACA,iBAAiB,8DAAC,WAAW,6CAAC,EAAE,6CAAC;AACjC,kBAAkB,MAAM,4DAAC;AACzB;AACA,aAAa,8DAAC;AACd;AACA;AACA,aAAa,8DAAC;AACd;AACA;AACA,aAAa,8DAAC;AACd;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,IAAI,4CAA4C;AAChD,IAAI,MAAM;AACV;AAGE;;;;;;;;;;;;;;;;AC7XyB;AAC3B,oBAAoB;AACpB;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wFAAwF,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,6CAA6C;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6CAA6C;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,gBAAgB;AAChB,aAAa,YAAY;AACzB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,gBAAgB;AAChB,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ,kDAAC;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,KAAK;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,kHAAkH,YAAY;AAC9H;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;ACzOF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;;;;;;;;;;;;;;;;;;;ACnBmF;AACsC;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+DAAC,GAAG,uDAAC;AACrB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,6BAA6B,wDAAC;AAC9B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+DAAC,cAAc,sDAAC;AAC9B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mEAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKE;;;;;;;;;;;;;;;;;;AC9FF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,uBAAuB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,WAAW;AACvB,YAAY,WAAW;AACvB,YAAY,WAAW;AACvB,YAAY,eAAe;AAC3B,YAAY,sCAAsC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB,YAAY,sBAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,UAAU;AACtB,YAAY,sBAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,UAAU;AACtB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,mBAAmB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,wCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B;AACA;AACA;AACA,iEAAiE;AACjE;AACA,gBAAgB;AAChB,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gBAAgB;AAChB;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,MAAM;AACN,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,cAAc;AAC7B,eAAe;AACf;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,0BAA0B;AACtC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,4BAA4B;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,oCAAoC;AAChD;AACA;AACA,yEAAyE,aAAa;AACtF;AACA;AACA;AACA;AACA;AACA,qFAAqF;AACrF;AACA,uEAAuE;AACvE;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,aAAa;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,IAAI;AACJ,kCAAkC;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,sBAAsB,8BAA8B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe;AACf;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,YAAY,WAAW;AACvB,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA,iEAAe,QAAQ,EAAC;AAC8C;;;;;;;;;;;;;;;;;;ACjzGtE,+CAA+C;AAC/C,iDAAiD;AACjD,+CAA+C;AAIS;AAExD;;GAEG;AACI,SAAS,sBAAsB,CAAC,OAAkB;IACxD,OAAO,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AAChC,CAAC;AAED;;GAEG;AAC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","sources":["webpack://sillytavern-blazetracker/external module \"../../../../../lib/dialog-polyfill.esm.js\"","webpack://sillytavern-blazetracker/external module \"../../../../../script.js\"","webpack://sillytavern-blazetracker/external module \"../../../../authors-note.js\"","webpack://sillytavern-blazetracker/external module \"../../../../chats.js\"","webpack://sillytavern-blazetracker/external module \"../../../../group-chats.js\"","webpack://sillytavern-blazetracker/external module \"../../../../instruct-mode.js\"","webpack://sillytavern-blazetracker/external module \"../../../../openai.js\"","webpack://sillytavern-blazetracker/external module \"../../../../personas.js\"","webpack://sillytavern-blazetracker/external module \"../../../../popup.js\"","webpack://sillytavern-blazetracker/external module \"../../../../power-user.js\"","webpack://sillytavern-blazetracker/external module \"../../../../slash-commands.js\"","webpack://sillytavern-blazetracker/external module \"../../../../slash-commands/SlashCommandCommonEnumsProvider.js\"","webpack://sillytavern-blazetracker/external module \"../../../../slash-commands/SlashCommandEnumValue.js\"","webpack://sillytavern-blazetracker/external module \"../../../../utils.js\"","webpack://sillytavern-blazetracker/external module \"../../../../world-info.js\"","webpack://sillytavern-blazetracker/external module \"../../../regex/engine.js\"","webpack://sillytavern-blazetracker/./node_modules/fuse.js/dist/fuse.mjs","webpack://sillytavern-blazetracker/./node_modules/react-dom/cjs/react-dom-client.development.js","webpack://sillytavern-blazetracker/./node_modules/react-dom/cjs/react-dom.development.js","webpack://sillytavern-blazetracker/./node_modules/react-dom/client.js","webpack://sillytavern-blazetracker/./node_modules/react-dom/index.js","webpack://sillytavern-blazetracker/./node_modules/react/cjs/react-jsx-runtime.development.js","webpack://sillytavern-blazetracker/./node_modules/react/cjs/react.development.js","webpack://sillytavern-blazetracker/./node_modules/react/index.js","webpack://sillytavern-blazetracker/./node_modules/react/jsx-runtime.js","webpack://sillytavern-blazetracker/./node_modules/scheduler/cjs/scheduler.development.js","webpack://sillytavern-blazetracker/./node_modules/scheduler/index.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/index.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/alea.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/tychei.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/xor128.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/xor4096.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/xorshift7.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/lib/xorwow.js","webpack://sillytavern-blazetracker/./node_modules/seedrandom/seedrandom.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/character-utils.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/config.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/extension-settings-manager.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/fancy-dropdown.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/generate.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/index.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/preset-select.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/prompt-builder.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/sortable-list.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/tokenizer.js","webpack://sillytavern-blazetracker/./node_modules/sillytavern-utils-lib/dist/world-info-utils.js","webpack://sillytavern-blazetracker/./node_modules/sortablejs/modular/sortable.esm.js","webpack://sillytavern-blazetracker/./src/commands/helpers.ts","webpack://sillytavern-blazetracker/./src/commands/slashCommands.ts","webpack://sillytavern-blazetracker/./src/constants.ts","webpack://sillytavern-blazetracker/./src/extractors/extractChapter.ts","webpack://sillytavern-blazetracker/./src/extractors/extractCharacters.ts","webpack://sillytavern-blazetracker/./src/extractors/extractClimate.ts","webpack://sillytavern-blazetracker/./src/extractors/extractEvent.ts","webpack://sillytavern-blazetracker/./src/extractors/extractLocation.ts","webpack://sillytavern-blazetracker/./src/extractors/extractRelationships.ts","webpack://sillytavern-blazetracker/./src/extractors/extractScene.ts","webpack://sillytavern-blazetracker/./src/extractors/extractState.ts","webpack://sillytavern-blazetracker/./src/extractors/extractTime.ts","webpack://sillytavern-blazetracker/./src/extractors/extractionProgress.ts","webpack://sillytavern-blazetracker/./src/extractors/prompts.ts","webpack://sillytavern-blazetracker/./src/injectors/injectState.ts","webpack://sillytavern-blazetracker/./src/migrations/migrateOldTime.ts","webpack://sillytavern-blazetracker/./src/settings.ts","webpack://sillytavern-blazetracker/./src/state/chapters.ts","webpack://sillytavern-blazetracker/./src/state/events.ts","webpack://sillytavern-blazetracker/./src/state/narrativeState.ts","webpack://sillytavern-blazetracker/./src/state/relationships.ts","webpack://sillytavern-blazetracker/./src/types/state.ts","webpack://sillytavern-blazetracker/./src/ui/components/ChapterHistory.tsx","webpack://sillytavern-blazetracker/./src/ui/components/EventEditor.tsx","webpack://sillytavern-blazetracker/./src/ui/components/EventList.tsx","webpack://sillytavern-blazetracker/./src/ui/components/NarrativeModal.tsx","webpack://sillytavern-blazetracker/./src/ui/components/TensionGraph.tsx","webpack://sillytavern-blazetracker/./src/ui/components/display/CharacterCard.tsx","webpack://sillytavern-blazetracker/./src/ui/components/display/ClimateDisplay.tsx","webpack://sillytavern-blazetracker/./src/ui/components/display/LoadingIndicator.tsx","webpack://sillytavern-blazetracker/./src/ui/components/display/SceneDisplay.tsx","webpack://sillytavern-blazetracker/./src/ui/components/display/index.ts","webpack://sillytavern-blazetracker/./src/ui/components/form/CheckboxField.tsx","webpack://sillytavern-blazetracker/./src/ui/components/form/NumberField.tsx","webpack://sillytavern-blazetracker/./src/ui/components/form/OutfitEditor.tsx","webpack://sillytavern-blazetracker/./src/ui/components/form/SelectField.tsx","webpack://sillytavern-blazetracker/./src/ui/components/form/TagInput.tsx","webpack://sillytavern-blazetracker/./src/ui/components/form/index.ts","webpack://sillytavern-blazetracker/./src/ui/constants.ts","webpack://sillytavern-blazetracker/./src/ui/formatters.ts","webpack://sillytavern-blazetracker/./src/ui/icons.ts","webpack://sillytavern-blazetracker/./src/ui/settingsUI.tsx","webpack://sillytavern-blazetracker/./src/ui/stateDisplay.tsx","webpack://sillytavern-blazetracker/./src/ui/stateEditor.tsx","webpack://sillytavern-blazetracker/./src/ui/tabs/RelationshipsTab.tsx","webpack://sillytavern-blazetracker/./src/utils/clothingMatch.ts","webpack://sillytavern-blazetracker/./src/utils/generator.ts","webpack://sillytavern-blazetracker/./src/utils/json.ts","webpack://sillytavern-blazetracker/./src/utils/messageState.ts","webpack://sillytavern-blazetracker/./src/utils/temperatures.ts","webpack://sillytavern-blazetracker/./src/utils/tension.ts","webpack://sillytavern-blazetracker/./src/utils/timeFormat.ts","webpack://sillytavern-blazetracker/./src/weather/climateApi.ts","webpack://sillytavern-blazetracker/./src/weather/fallbackProfiles.ts","webpack://sillytavern-blazetracker/./src/weather/forecastCache.ts","webpack://sillytavern-blazetracker/./src/weather/forecastGenerator.ts","webpack://sillytavern-blazetracker/./src/weather/index.ts","webpack://sillytavern-blazetracker/./src/weather/indoorTemperature.ts","webpack://sillytavern-blazetracker/./src/weather/locationMapper.ts","webpack://sillytavern-blazetracker/./src/weather/weatherDeriver.ts","webpack://sillytavern-blazetracker/./src/weather/weatherTransitions.ts","webpack://sillytavern-blazetracker/ignored|/Users/invisietch/Code/SillyTavern/data/default-user/extensions/BlazeTracker/node_modules/seedrandom|crypto","webpack://sillytavern-blazetracker/webpack/bootstrap","webpack://sillytavern-blazetracker/webpack/runtime/amd define","webpack://sillytavern-blazetracker/webpack/runtime/amd options","webpack://sillytavern-blazetracker/webpack/runtime/compat get default export","webpack://sillytavern-blazetracker/webpack/runtime/define property getters","webpack://sillytavern-blazetracker/webpack/runtime/hasOwnProperty shorthand","webpack://sillytavern-blazetracker/webpack/runtime/make namespace object","webpack://sillytavern-blazetracker/webpack/runtime/node module decorator","webpack://sillytavern-blazetracker/webpack/runtime/publicPath","webpack://sillytavern-blazetracker/webpack/runtime/import chunk loading","webpack://sillytavern-blazetracker/./src/index.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__lib_dialog_polyfill_esm_js_9270c0ae__;","module.exports = __WEBPACK_EXTERNAL_MODULE__script_js_588e7203__;","module.exports = __WEBPACK_EXTERNAL_MODULE__authors_note_js_59167e8d__;","module.exports = __WEBPACK_EXTERNAL_MODULE__chats_js_c244506c__;","module.exports = __WEBPACK_EXTERNAL_MODULE__group_chats_js_678c16bd__;","module.exports = __WEBPACK_EXTERNAL_MODULE__instruct_mode_js_e7f3531a__;","module.exports = __WEBPACK_EXTERNAL_MODULE__openai_js_bf183548__;","module.exports = __WEBPACK_EXTERNAL_MODULE__personas_js_44397477__;","module.exports = __WEBPACK_EXTERNAL_MODULE__popup_js_755810aa__;","module.exports = __WEBPACK_EXTERNAL_MODULE__power_user_js_3c7cfb8b__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_js_f5742a84__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandCommonEnumsProvider_js_4453b111__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandEnumValue_js_20f1c506__;","module.exports = __WEBPACK_EXTERNAL_MODULE__utils_js_d605cabe__;","module.exports = __WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__;","module.exports = __WEBPACK_EXTERNAL_MODULE__regex_engine_js_683beba0__;","/**\n * Fuse.js v7.1.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2025 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When `true`, the algorithm will ignore diacritics (accents) in comparisons\n  ignoreDiacritics: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nconst stripDiacritics = String.prototype.normalize\n    ? ((str) => str.normalize('NFD').replace(/[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/g, ''))\n    : ((str) => str);\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, ignoreDiacritics, includeMatches } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      ignoreDiacritics,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive, ignoreDiacritics } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.1.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n","/**\n * @license React\n * react-dom-client.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function findHook(fiber, id) {\n      for (fiber = fiber.memoizedState; null !== fiber && 0 < id; )\n        (fiber = fiber.next), id--;\n      return fiber;\n    }\n    function copyWithSetImpl(obj, path, index, value) {\n      if (index >= path.length) return value;\n      var key = path[index],\n        updated = isArrayImpl(obj) ? obj.slice() : assign({}, obj);\n      updated[key] = copyWithSetImpl(obj[key], path, index + 1, value);\n      return updated;\n    }\n    function copyWithRename(obj, oldPath, newPath) {\n      if (oldPath.length !== newPath.length)\n        console.warn(\"copyWithRename() expects paths of the same length\");\n      else {\n        for (var i = 0; i < newPath.length - 1; i++)\n          if (oldPath[i] !== newPath[i]) {\n            console.warn(\n              \"copyWithRename() expects paths to be the same except for the deepest key\"\n            );\n            return;\n          }\n        return copyWithRenameImpl(obj, oldPath, newPath, 0);\n      }\n    }\n    function copyWithRenameImpl(obj, oldPath, newPath, index) {\n      var oldKey = oldPath[index],\n        updated = isArrayImpl(obj) ? obj.slice() : assign({}, obj);\n      index + 1 === oldPath.length\n        ? ((updated[newPath[index]] = updated[oldKey]),\n          isArrayImpl(updated)\n            ? updated.splice(oldKey, 1)\n            : delete updated[oldKey])\n        : (updated[oldKey] = copyWithRenameImpl(\n            obj[oldKey],\n            oldPath,\n            newPath,\n            index + 1\n          ));\n      return updated;\n    }\n    function copyWithDeleteImpl(obj, path, index) {\n      var key = path[index],\n        updated = isArrayImpl(obj) ? obj.slice() : assign({}, obj);\n      if (index + 1 === path.length)\n        return (\n          isArrayImpl(updated) ? updated.splice(key, 1) : delete updated[key],\n          updated\n        );\n      updated[key] = copyWithDeleteImpl(obj[key], path, index + 1);\n      return updated;\n    }\n    function shouldSuspendImpl() {\n      return !1;\n    }\n    function shouldErrorImpl() {\n      return null;\n    }\n    function warnInvalidHookAccess() {\n      console.error(\n        \"Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks\"\n      );\n    }\n    function warnInvalidContextAccess() {\n      console.error(\n        \"Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().\"\n      );\n    }\n    function noop() {}\n    function warnForMissingKey() {}\n    function setToSortedString(set) {\n      var array = [];\n      set.forEach(function (value) {\n        array.push(value);\n      });\n      return array.sort().join(\", \");\n    }\n    function createFiber(tag, pendingProps, key, mode) {\n      return new FiberNode(tag, pendingProps, key, mode);\n    }\n    function scheduleRoot(root, element) {\n      root.context === emptyContextObject &&\n        (updateContainerImpl(root.current, 2, element, root, null, null),\n        flushSyncWork$1());\n    }\n    function scheduleRefresh(root, update) {\n      if (null !== resolveFamily) {\n        var staleFamilies = update.staleFamilies;\n        update = update.updatedFamilies;\n        flushPendingEffects();\n        scheduleFibersWithFamiliesRecursively(\n          root.current,\n          update,\n          staleFamilies\n        );\n        flushSyncWork$1();\n      }\n    }\n    function setRefreshHandler(handler) {\n      resolveFamily = handler;\n    }\n    function isValidContainer(node) {\n      return !(\n        !node ||\n        (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n      );\n    }\n    function getNearestMountedFiber(fiber) {\n      var node = fiber,\n        nearestMounted = fiber;\n      if (fiber.alternate) for (; node.return; ) node = node.return;\n      else {\n        fiber = node;\n        do\n          (node = fiber),\n            0 !== (node.flags & 4098) && (nearestMounted = node.return),\n            (fiber = node.return);\n        while (fiber);\n      }\n      return 3 === node.tag ? nearestMounted : null;\n    }\n    function getSuspenseInstanceFromFiber(fiber) {\n      if (13 === fiber.tag) {\n        var suspenseState = fiber.memoizedState;\n        null === suspenseState &&\n          ((fiber = fiber.alternate),\n          null !== fiber && (suspenseState = fiber.memoizedState));\n        if (null !== suspenseState) return suspenseState.dehydrated;\n      }\n      return null;\n    }\n    function getActivityInstanceFromFiber(fiber) {\n      if (31 === fiber.tag) {\n        var activityState = fiber.memoizedState;\n        null === activityState &&\n          ((fiber = fiber.alternate),\n          null !== fiber && (activityState = fiber.memoizedState));\n        if (null !== activityState) return activityState.dehydrated;\n      }\n      return null;\n    }\n    function assertIsMounted(fiber) {\n      if (getNearestMountedFiber(fiber) !== fiber)\n        throw Error(\"Unable to find node on an unmounted component.\");\n    }\n    function findCurrentFiberUsingSlowPath(fiber) {\n      var alternate = fiber.alternate;\n      if (!alternate) {\n        alternate = getNearestMountedFiber(fiber);\n        if (null === alternate)\n          throw Error(\"Unable to find node on an unmounted component.\");\n        return alternate !== fiber ? null : fiber;\n      }\n      for (var a = fiber, b = alternate; ; ) {\n        var parentA = a.return;\n        if (null === parentA) break;\n        var parentB = parentA.alternate;\n        if (null === parentB) {\n          b = parentA.return;\n          if (null !== b) {\n            a = b;\n            continue;\n          }\n          break;\n        }\n        if (parentA.child === parentB.child) {\n          for (parentB = parentA.child; parentB; ) {\n            if (parentB === a) return assertIsMounted(parentA), fiber;\n            if (parentB === b) return assertIsMounted(parentA), alternate;\n            parentB = parentB.sibling;\n          }\n          throw Error(\"Unable to find node on an unmounted component.\");\n        }\n        if (a.return !== b.return) (a = parentA), (b = parentB);\n        else {\n          for (var didFindChild = !1, _child = parentA.child; _child; ) {\n            if (_child === a) {\n              didFindChild = !0;\n              a = parentA;\n              b = parentB;\n              break;\n            }\n            if (_child === b) {\n              didFindChild = !0;\n              b = parentA;\n              a = parentB;\n              break;\n            }\n            _child = _child.sibling;\n          }\n          if (!didFindChild) {\n            for (_child = parentB.child; _child; ) {\n              if (_child === a) {\n                didFindChild = !0;\n                a = parentB;\n                b = parentA;\n                break;\n              }\n              if (_child === b) {\n                didFindChild = !0;\n                b = parentB;\n                a = parentA;\n                break;\n              }\n              _child = _child.sibling;\n            }\n            if (!didFindChild)\n              throw Error(\n                \"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.\"\n              );\n          }\n        }\n        if (a.alternate !== b)\n          throw Error(\n            \"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n      }\n      if (3 !== a.tag)\n        throw Error(\"Unable to find node on an unmounted component.\");\n      return a.stateNode.current === a ? fiber : alternate;\n    }\n    function findCurrentHostFiberImpl(node) {\n      var tag = node.tag;\n      if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n      for (node = node.child; null !== node; ) {\n        tag = findCurrentHostFiberImpl(node);\n        if (null !== tag) return tag;\n        node = node.sibling;\n      }\n      return null;\n    }\n    function getIteratorFn(maybeIterable) {\n      if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n        return null;\n      maybeIterable =\n        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n        maybeIterable[\"@@iterator\"];\n      return \"function\" === typeof maybeIterable ? maybeIterable : null;\n    }\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function getComponentNameFromOwner(owner) {\n      return \"number\" === typeof owner.tag\n        ? getComponentNameFromFiber(owner)\n        : \"string\" === typeof owner.name\n          ? owner.name\n          : null;\n    }\n    function getComponentNameFromFiber(fiber) {\n      var type = fiber.type;\n      switch (fiber.tag) {\n        case 31:\n          return \"Activity\";\n        case 24:\n          return \"Cache\";\n        case 9:\n          return (type._context.displayName || \"Context\") + \".Consumer\";\n        case 10:\n          return type.displayName || \"Context\";\n        case 18:\n          return \"DehydratedFragment\";\n        case 11:\n          return (\n            (fiber = type.render),\n            (fiber = fiber.displayName || fiber.name || \"\"),\n            type.displayName ||\n              (\"\" !== fiber ? \"ForwardRef(\" + fiber + \")\" : \"ForwardRef\")\n          );\n        case 7:\n          return \"Fragment\";\n        case 26:\n        case 27:\n        case 5:\n          return type;\n        case 4:\n          return \"Portal\";\n        case 3:\n          return \"Root\";\n        case 6:\n          return \"Text\";\n        case 16:\n          return getComponentNameFromType(type);\n        case 8:\n          return type === REACT_STRICT_MODE_TYPE ? \"StrictMode\" : \"Mode\";\n        case 22:\n          return \"Offscreen\";\n        case 12:\n          return \"Profiler\";\n        case 21:\n          return \"Scope\";\n        case 13:\n          return \"Suspense\";\n        case 19:\n          return \"SuspenseList\";\n        case 25:\n          return \"TracingMarker\";\n        case 1:\n        case 0:\n        case 14:\n        case 15:\n          if (\"function\" === typeof type)\n            return type.displayName || type.name || null;\n          if (\"string\" === typeof type) return type;\n          break;\n        case 29:\n          type = fiber._debugInfo;\n          if (null != type)\n            for (var i = type.length - 1; 0 <= i; i--)\n              if (\"string\" === typeof type[i].name) return type[i].name;\n          if (null !== fiber.return)\n            return getComponentNameFromFiber(fiber.return);\n      }\n      return null;\n    }\n    function createCursor(defaultValue) {\n      return { current: defaultValue };\n    }\n    function pop(cursor, fiber) {\n      0 > index$jscomp$0\n        ? console.error(\"Unexpected pop.\")\n        : (fiber !== fiberStack[index$jscomp$0] &&\n            console.error(\"Unexpected Fiber popped.\"),\n          (cursor.current = valueStack[index$jscomp$0]),\n          (valueStack[index$jscomp$0] = null),\n          (fiberStack[index$jscomp$0] = null),\n          index$jscomp$0--);\n    }\n    function push(cursor, value, fiber) {\n      index$jscomp$0++;\n      valueStack[index$jscomp$0] = cursor.current;\n      fiberStack[index$jscomp$0] = fiber;\n      cursor.current = value;\n    }\n    function requiredContext(c) {\n      null === c &&\n        console.error(\n          \"Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.\"\n        );\n      return c;\n    }\n    function pushHostContainer(fiber, nextRootInstance) {\n      push(rootInstanceStackCursor, nextRootInstance, fiber);\n      push(contextFiberStackCursor, fiber, fiber);\n      push(contextStackCursor, null, fiber);\n      var nextRootContext = nextRootInstance.nodeType;\n      switch (nextRootContext) {\n        case 9:\n        case 11:\n          nextRootContext = 9 === nextRootContext ? \"#document\" : \"#fragment\";\n          nextRootInstance = (nextRootInstance =\n            nextRootInstance.documentElement)\n            ? (nextRootInstance = nextRootInstance.namespaceURI)\n              ? getOwnHostContext(nextRootInstance)\n              : HostContextNamespaceNone\n            : HostContextNamespaceNone;\n          break;\n        default:\n          if (\n            ((nextRootContext = nextRootInstance.tagName),\n            (nextRootInstance = nextRootInstance.namespaceURI))\n          )\n            (nextRootInstance = getOwnHostContext(nextRootInstance)),\n              (nextRootInstance = getChildHostContextProd(\n                nextRootInstance,\n                nextRootContext\n              ));\n          else\n            switch (nextRootContext) {\n              case \"svg\":\n                nextRootInstance = HostContextNamespaceSvg;\n                break;\n              case \"math\":\n                nextRootInstance = HostContextNamespaceMath;\n                break;\n              default:\n                nextRootInstance = HostContextNamespaceNone;\n            }\n      }\n      nextRootContext = nextRootContext.toLowerCase();\n      nextRootContext = updatedAncestorInfoDev(null, nextRootContext);\n      nextRootContext = {\n        context: nextRootInstance,\n        ancestorInfo: nextRootContext\n      };\n      pop(contextStackCursor, fiber);\n      push(contextStackCursor, nextRootContext, fiber);\n    }\n    function popHostContainer(fiber) {\n      pop(contextStackCursor, fiber);\n      pop(contextFiberStackCursor, fiber);\n      pop(rootInstanceStackCursor, fiber);\n    }\n    function getHostContext() {\n      return requiredContext(contextStackCursor.current);\n    }\n    function pushHostContext(fiber) {\n      null !== fiber.memoizedState &&\n        push(hostTransitionProviderCursor, fiber, fiber);\n      var context = requiredContext(contextStackCursor.current);\n      var type = fiber.type;\n      var nextContext = getChildHostContextProd(context.context, type);\n      type = updatedAncestorInfoDev(context.ancestorInfo, type);\n      nextContext = { context: nextContext, ancestorInfo: type };\n      context !== nextContext &&\n        (push(contextFiberStackCursor, fiber, fiber),\n        push(contextStackCursor, nextContext, fiber));\n    }\n    function popHostContext(fiber) {\n      contextFiberStackCursor.current === fiber &&\n        (pop(contextStackCursor, fiber), pop(contextFiberStackCursor, fiber));\n      hostTransitionProviderCursor.current === fiber &&\n        (pop(hostTransitionProviderCursor, fiber),\n        (HostTransitionContext._currentValue = NotPendingTransition));\n    }\n    function disabledLog() {}\n    function disableLogs() {\n      if (0 === disabledDepth) {\n        prevLog = console.log;\n        prevInfo = console.info;\n        prevWarn = console.warn;\n        prevError = console.error;\n        prevGroup = console.group;\n        prevGroupCollapsed = console.groupCollapsed;\n        prevGroupEnd = console.groupEnd;\n        var props = {\n          configurable: !0,\n          enumerable: !0,\n          value: disabledLog,\n          writable: !0\n        };\n        Object.defineProperties(console, {\n          info: props,\n          log: props,\n          warn: props,\n          error: props,\n          group: props,\n          groupCollapsed: props,\n          groupEnd: props\n        });\n      }\n      disabledDepth++;\n    }\n    function reenableLogs() {\n      disabledDepth--;\n      if (0 === disabledDepth) {\n        var props = { configurable: !0, enumerable: !0, writable: !0 };\n        Object.defineProperties(console, {\n          log: assign({}, props, { value: prevLog }),\n          info: assign({}, props, { value: prevInfo }),\n          warn: assign({}, props, { value: prevWarn }),\n          error: assign({}, props, { value: prevError }),\n          group: assign({}, props, { value: prevGroup }),\n          groupCollapsed: assign({}, props, { value: prevGroupCollapsed }),\n          groupEnd: assign({}, props, { value: prevGroupEnd })\n        });\n      }\n      0 > disabledDepth &&\n        console.error(\n          \"disabledDepth fell below zero. This is a bug in React. Please file an issue.\"\n        );\n    }\n    function formatOwnerStack(error) {\n      var prevPrepareStackTrace = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      error = error.stack;\n      Error.prepareStackTrace = prevPrepareStackTrace;\n      error.startsWith(\"Error: react-stack-top-frame\\n\") &&\n        (error = error.slice(29));\n      prevPrepareStackTrace = error.indexOf(\"\\n\");\n      -1 !== prevPrepareStackTrace &&\n        (error = error.slice(prevPrepareStackTrace + 1));\n      prevPrepareStackTrace = error.indexOf(\"react_stack_bottom_frame\");\n      -1 !== prevPrepareStackTrace &&\n        (prevPrepareStackTrace = error.lastIndexOf(\n          \"\\n\",\n          prevPrepareStackTrace\n        ));\n      if (-1 !== prevPrepareStackTrace)\n        error = error.slice(0, prevPrepareStackTrace);\n      else return \"\";\n      return error;\n    }\n    function describeBuiltInComponentFrame(name) {\n      if (void 0 === prefix)\n        try {\n          throw Error();\n        } catch (x) {\n          var match = x.stack.trim().match(/\\n( *(at )?)/);\n          prefix = (match && match[1]) || \"\";\n          suffix =\n            -1 < x.stack.indexOf(\"\\n    at\")\n              ? \" (<anonymous>)\"\n              : -1 < x.stack.indexOf(\"@\")\n                ? \"@unknown:0:0\"\n                : \"\";\n        }\n      return \"\\n\" + prefix + name + suffix;\n    }\n    function describeNativeComponentFrame(fn, construct) {\n      if (!fn || reentry) return \"\";\n      var frame = componentFrameCache.get(fn);\n      if (void 0 !== frame) return frame;\n      reentry = !0;\n      frame = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var previousDispatcher = null;\n      previousDispatcher = ReactSharedInternals.H;\n      ReactSharedInternals.H = null;\n      disableLogs();\n      try {\n        var RunInRootFrame = {\n          DetermineComponentFrameRoot: function () {\n            try {\n              if (construct) {\n                var Fake = function () {\n                  throw Error();\n                };\n                Object.defineProperty(Fake.prototype, \"props\", {\n                  set: function () {\n                    throw Error();\n                  }\n                });\n                if (\"object\" === typeof Reflect && Reflect.construct) {\n                  try {\n                    Reflect.construct(Fake, []);\n                  } catch (x) {\n                    var control = x;\n                  }\n                  Reflect.construct(fn, [], Fake);\n                } else {\n                  try {\n                    Fake.call();\n                  } catch (x$0) {\n                    control = x$0;\n                  }\n                  fn.call(Fake.prototype);\n                }\n              } else {\n                try {\n                  throw Error();\n                } catch (x$1) {\n                  control = x$1;\n                }\n                (Fake = fn()) &&\n                  \"function\" === typeof Fake.catch &&\n                  Fake.catch(function () {});\n              }\n            } catch (sample) {\n              if (sample && control && \"string\" === typeof sample.stack)\n                return [sample.stack, control.stack];\n            }\n            return [null, null];\n          }\n        };\n        RunInRootFrame.DetermineComponentFrameRoot.displayName =\n          \"DetermineComponentFrameRoot\";\n        var namePropDescriptor = Object.getOwnPropertyDescriptor(\n          RunInRootFrame.DetermineComponentFrameRoot,\n          \"name\"\n        );\n        namePropDescriptor &&\n          namePropDescriptor.configurable &&\n          Object.defineProperty(\n            RunInRootFrame.DetermineComponentFrameRoot,\n            \"name\",\n            { value: \"DetermineComponentFrameRoot\" }\n          );\n        var _RunInRootFrame$Deter =\n            RunInRootFrame.DetermineComponentFrameRoot(),\n          sampleStack = _RunInRootFrame$Deter[0],\n          controlStack = _RunInRootFrame$Deter[1];\n        if (sampleStack && controlStack) {\n          var sampleLines = sampleStack.split(\"\\n\"),\n            controlLines = controlStack.split(\"\\n\");\n          for (\n            _RunInRootFrame$Deter = namePropDescriptor = 0;\n            namePropDescriptor < sampleLines.length &&\n            !sampleLines[namePropDescriptor].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            namePropDescriptor++;\n          for (\n            ;\n            _RunInRootFrame$Deter < controlLines.length &&\n            !controlLines[_RunInRootFrame$Deter].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            _RunInRootFrame$Deter++;\n          if (\n            namePropDescriptor === sampleLines.length ||\n            _RunInRootFrame$Deter === controlLines.length\n          )\n            for (\n              namePropDescriptor = sampleLines.length - 1,\n                _RunInRootFrame$Deter = controlLines.length - 1;\n              1 <= namePropDescriptor &&\n              0 <= _RunInRootFrame$Deter &&\n              sampleLines[namePropDescriptor] !==\n                controlLines[_RunInRootFrame$Deter];\n\n            )\n              _RunInRootFrame$Deter--;\n          for (\n            ;\n            1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter;\n            namePropDescriptor--, _RunInRootFrame$Deter--\n          )\n            if (\n              sampleLines[namePropDescriptor] !==\n              controlLines[_RunInRootFrame$Deter]\n            ) {\n              if (1 !== namePropDescriptor || 1 !== _RunInRootFrame$Deter) {\n                do\n                  if (\n                    (namePropDescriptor--,\n                    _RunInRootFrame$Deter--,\n                    0 > _RunInRootFrame$Deter ||\n                      sampleLines[namePropDescriptor] !==\n                        controlLines[_RunInRootFrame$Deter])\n                  ) {\n                    var _frame =\n                      \"\\n\" +\n                      sampleLines[namePropDescriptor].replace(\n                        \" at new \",\n                        \" at \"\n                      );\n                    fn.displayName &&\n                      _frame.includes(\"<anonymous>\") &&\n                      (_frame = _frame.replace(\"<anonymous>\", fn.displayName));\n                    \"function\" === typeof fn &&\n                      componentFrameCache.set(fn, _frame);\n                    return _frame;\n                  }\n                while (1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter);\n              }\n              break;\n            }\n        }\n      } finally {\n        (reentry = !1),\n          (ReactSharedInternals.H = previousDispatcher),\n          reenableLogs(),\n          (Error.prepareStackTrace = frame);\n      }\n      sampleLines = (sampleLines = fn ? fn.displayName || fn.name : \"\")\n        ? describeBuiltInComponentFrame(sampleLines)\n        : \"\";\n      \"function\" === typeof fn && componentFrameCache.set(fn, sampleLines);\n      return sampleLines;\n    }\n    function describeFiber(fiber, childFiber) {\n      switch (fiber.tag) {\n        case 26:\n        case 27:\n        case 5:\n          return describeBuiltInComponentFrame(fiber.type);\n        case 16:\n          return describeBuiltInComponentFrame(\"Lazy\");\n        case 13:\n          return fiber.child !== childFiber && null !== childFiber\n            ? describeBuiltInComponentFrame(\"Suspense Fallback\")\n            : describeBuiltInComponentFrame(\"Suspense\");\n        case 19:\n          return describeBuiltInComponentFrame(\"SuspenseList\");\n        case 0:\n        case 15:\n          return describeNativeComponentFrame(fiber.type, !1);\n        case 11:\n          return describeNativeComponentFrame(fiber.type.render, !1);\n        case 1:\n          return describeNativeComponentFrame(fiber.type, !0);\n        case 31:\n          return describeBuiltInComponentFrame(\"Activity\");\n        default:\n          return \"\";\n      }\n    }\n    function getStackByFiberInDevAndProd(workInProgress) {\n      try {\n        var info = \"\",\n          previous = null;\n        do {\n          info += describeFiber(workInProgress, previous);\n          var debugInfo = workInProgress._debugInfo;\n          if (debugInfo)\n            for (var i = debugInfo.length - 1; 0 <= i; i--) {\n              var entry = debugInfo[i];\n              if (\"string\" === typeof entry.name) {\n                var JSCompiler_temp_const = info;\n                a: {\n                  var name = entry.name,\n                    env = entry.env,\n                    location = entry.debugLocation;\n                  if (null != location) {\n                    var childStack = formatOwnerStack(location),\n                      idx = childStack.lastIndexOf(\"\\n\"),\n                      lastLine =\n                        -1 === idx ? childStack : childStack.slice(idx + 1);\n                    if (-1 !== lastLine.indexOf(name)) {\n                      var JSCompiler_inline_result = \"\\n\" + lastLine;\n                      break a;\n                    }\n                  }\n                  JSCompiler_inline_result = describeBuiltInComponentFrame(\n                    name + (env ? \" [\" + env + \"]\" : \"\")\n                  );\n                }\n                info = JSCompiler_temp_const + JSCompiler_inline_result;\n              }\n            }\n          previous = workInProgress;\n          workInProgress = workInProgress.return;\n        } while (workInProgress);\n        return info;\n      } catch (x) {\n        return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n      }\n    }\n    function describeFunctionComponentFrameWithoutLineNumber(fn) {\n      return (fn = fn ? fn.displayName || fn.name : \"\")\n        ? describeBuiltInComponentFrame(fn)\n        : \"\";\n    }\n    function getCurrentFiberOwnerNameInDevOrNull() {\n      if (null === current) return null;\n      var owner = current._debugOwner;\n      return null != owner ? getComponentNameFromOwner(owner) : null;\n    }\n    function getCurrentFiberStackInDev() {\n      if (null === current) return \"\";\n      var workInProgress = current;\n      try {\n        var info = \"\";\n        6 === workInProgress.tag && (workInProgress = workInProgress.return);\n        switch (workInProgress.tag) {\n          case 26:\n          case 27:\n          case 5:\n            info += describeBuiltInComponentFrame(workInProgress.type);\n            break;\n          case 13:\n            info += describeBuiltInComponentFrame(\"Suspense\");\n            break;\n          case 19:\n            info += describeBuiltInComponentFrame(\"SuspenseList\");\n            break;\n          case 31:\n            info += describeBuiltInComponentFrame(\"Activity\");\n            break;\n          case 30:\n          case 0:\n          case 15:\n          case 1:\n            workInProgress._debugOwner ||\n              \"\" !== info ||\n              (info += describeFunctionComponentFrameWithoutLineNumber(\n                workInProgress.type\n              ));\n            break;\n          case 11:\n            workInProgress._debugOwner ||\n              \"\" !== info ||\n              (info += describeFunctionComponentFrameWithoutLineNumber(\n                workInProgress.type.render\n              ));\n        }\n        for (; workInProgress; )\n          if (\"number\" === typeof workInProgress.tag) {\n            var fiber = workInProgress;\n            workInProgress = fiber._debugOwner;\n            var debugStack = fiber._debugStack;\n            if (workInProgress && debugStack) {\n              var formattedStack = formatOwnerStack(debugStack);\n              \"\" !== formattedStack && (info += \"\\n\" + formattedStack);\n            }\n          } else if (null != workInProgress.debugStack) {\n            var ownerStack = workInProgress.debugStack;\n            (workInProgress = workInProgress.owner) &&\n              ownerStack &&\n              (info += \"\\n\" + formatOwnerStack(ownerStack));\n          } else break;\n        var JSCompiler_inline_result = info;\n      } catch (x) {\n        JSCompiler_inline_result =\n          \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n      }\n      return JSCompiler_inline_result;\n    }\n    function runWithFiberInDEV(fiber, callback, arg0, arg1, arg2, arg3, arg4) {\n      var previousFiber = current;\n      setCurrentFiber(fiber);\n      try {\n        return null !== fiber && fiber._debugTask\n          ? fiber._debugTask.run(\n              callback.bind(null, arg0, arg1, arg2, arg3, arg4)\n            )\n          : callback(arg0, arg1, arg2, arg3, arg4);\n      } finally {\n        setCurrentFiber(previousFiber);\n      }\n      throw Error(\n        \"runWithFiberInDEV should never be called in production. This is a bug in React.\"\n      );\n    }\n    function setCurrentFiber(fiber) {\n      ReactSharedInternals.getCurrentStack =\n        null === fiber ? null : getCurrentFiberStackInDev;\n      isRendering = !1;\n      current = fiber;\n    }\n    function typeName(value) {\n      return (\n        (\"function\" === typeof Symbol &&\n          Symbol.toStringTag &&\n          value[Symbol.toStringTag]) ||\n        value.constructor.name ||\n        \"Object\"\n      );\n    }\n    function willCoercionThrow(value) {\n      try {\n        return testStringCoercion(value), !1;\n      } catch (e) {\n        return !0;\n      }\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkAttributeStringCoercion(value, attributeName) {\n      if (willCoercionThrow(value))\n        return (\n          console.error(\n            \"The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.\",\n            attributeName,\n            typeName(value)\n          ),\n          testStringCoercion(value)\n        );\n    }\n    function checkCSSPropertyStringCoercion(value, propName) {\n      if (willCoercionThrow(value))\n        return (\n          console.error(\n            \"The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.\",\n            propName,\n            typeName(value)\n          ),\n          testStringCoercion(value)\n        );\n    }\n    function checkFormFieldValueStringCoercion(value) {\n      if (willCoercionThrow(value))\n        return (\n          console.error(\n            \"Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.\",\n            typeName(value)\n          ),\n          testStringCoercion(value)\n        );\n    }\n    function injectInternals(internals) {\n      if (\"undefined\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;\n      var hook = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n      if (hook.isDisabled) return !0;\n      if (!hook.supportsFiber)\n        return (\n          console.error(\n            \"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools\"\n          ),\n          !0\n        );\n      try {\n        (rendererID = hook.inject(internals)), (injectedHook = hook);\n      } catch (err) {\n        console.error(\"React instrumentation encountered an error: %o.\", err);\n      }\n      return hook.checkDCE ? !0 : !1;\n    }\n    function setIsStrictModeForDevtools(newIsStrictMode) {\n      \"function\" === typeof log$1 &&\n        unstable_setDisableYieldValue(newIsStrictMode);\n      if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n        try {\n          injectedHook.setStrictMode(rendererID, newIsStrictMode);\n        } catch (err) {\n          hasLoggedError ||\n            ((hasLoggedError = !0),\n            console.error(\n              \"React instrumentation encountered an error: %o\",\n              err\n            ));\n        }\n    }\n    function clz32Fallback(x) {\n      x >>>= 0;\n      return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n    }\n    function getHighestPriorityLanes(lanes) {\n      var pendingSyncLanes = lanes & 42;\n      if (0 !== pendingSyncLanes) return pendingSyncLanes;\n      switch (lanes & -lanes) {\n        case 1:\n          return 1;\n        case 2:\n          return 2;\n        case 4:\n          return 4;\n        case 8:\n          return 8;\n        case 16:\n          return 16;\n        case 32:\n          return 32;\n        case 64:\n          return 64;\n        case 128:\n          return 128;\n        case 256:\n        case 512:\n        case 1024:\n        case 2048:\n        case 4096:\n        case 8192:\n        case 16384:\n        case 32768:\n        case 65536:\n        case 131072:\n          return lanes & 261888;\n        case 262144:\n        case 524288:\n        case 1048576:\n        case 2097152:\n          return lanes & 3932160;\n        case 4194304:\n        case 8388608:\n        case 16777216:\n        case 33554432:\n          return lanes & 62914560;\n        case 67108864:\n          return 67108864;\n        case 134217728:\n          return 134217728;\n        case 268435456:\n          return 268435456;\n        case 536870912:\n          return 536870912;\n        case 1073741824:\n          return 0;\n        default:\n          return (\n            console.error(\n              \"Should have found matching lanes. This is a bug in React.\"\n            ),\n            lanes\n          );\n      }\n    }\n    function getNextLanes(root, wipLanes, rootHasPendingCommit) {\n      var pendingLanes = root.pendingLanes;\n      if (0 === pendingLanes) return 0;\n      var nextLanes = 0,\n        suspendedLanes = root.suspendedLanes,\n        pingedLanes = root.pingedLanes;\n      root = root.warmLanes;\n      var nonIdlePendingLanes = pendingLanes & 134217727;\n      0 !== nonIdlePendingLanes\n        ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n          0 !== pendingLanes\n            ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n            : ((pingedLanes &= nonIdlePendingLanes),\n              0 !== pingedLanes\n                ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n                : rootHasPendingCommit ||\n                  ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n                  0 !== rootHasPendingCommit &&\n                    (nextLanes =\n                      getHighestPriorityLanes(rootHasPendingCommit)))))\n        : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n          0 !== nonIdlePendingLanes\n            ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n            : 0 !== pingedLanes\n              ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n              : rootHasPendingCommit ||\n                ((rootHasPendingCommit = pendingLanes & ~root),\n                0 !== rootHasPendingCommit &&\n                  (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n      return 0 === nextLanes\n        ? 0\n        : 0 !== wipLanes &&\n            wipLanes !== nextLanes &&\n            0 === (wipLanes & suspendedLanes) &&\n            ((suspendedLanes = nextLanes & -nextLanes),\n            (rootHasPendingCommit = wipLanes & -wipLanes),\n            suspendedLanes >= rootHasPendingCommit ||\n              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n          ? wipLanes\n          : nextLanes;\n    }\n    function checkIfRootIsPrerendering(root, renderLanes) {\n      return (\n        0 ===\n        (root.pendingLanes &\n          ~(root.suspendedLanes & ~root.pingedLanes) &\n          renderLanes)\n      );\n    }\n    function computeExpirationTime(lane, currentTime) {\n      switch (lane) {\n        case 1:\n        case 2:\n        case 4:\n        case 8:\n        case 64:\n          return currentTime + 250;\n        case 16:\n        case 32:\n        case 128:\n        case 256:\n        case 512:\n        case 1024:\n        case 2048:\n        case 4096:\n        case 8192:\n        case 16384:\n        case 32768:\n        case 65536:\n        case 131072:\n        case 262144:\n        case 524288:\n        case 1048576:\n        case 2097152:\n          return currentTime + 5e3;\n        case 4194304:\n        case 8388608:\n        case 16777216:\n        case 33554432:\n          return -1;\n        case 67108864:\n        case 134217728:\n        case 268435456:\n        case 536870912:\n        case 1073741824:\n          return -1;\n        default:\n          return (\n            console.error(\n              \"Should have found matching lanes. This is a bug in React.\"\n            ),\n            -1\n          );\n      }\n    }\n    function claimNextRetryLane() {\n      var lane = nextRetryLane;\n      nextRetryLane <<= 1;\n      0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n      return lane;\n    }\n    function createLaneMap(initial) {\n      for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n      return laneMap;\n    }\n    function markRootUpdated$1(root, updateLane) {\n      root.pendingLanes |= updateLane;\n      268435456 !== updateLane &&\n        ((root.suspendedLanes = 0),\n        (root.pingedLanes = 0),\n        (root.warmLanes = 0));\n    }\n    function markRootFinished(\n      root,\n      finishedLanes,\n      remainingLanes,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    ) {\n      var previouslyPendingLanes = root.pendingLanes;\n      root.pendingLanes = remainingLanes;\n      root.suspendedLanes = 0;\n      root.pingedLanes = 0;\n      root.warmLanes = 0;\n      root.expiredLanes &= remainingLanes;\n      root.entangledLanes &= remainingLanes;\n      root.errorRecoveryDisabledLanes &= remainingLanes;\n      root.shellSuspendCounter = 0;\n      var entanglements = root.entanglements,\n        expirationTimes = root.expirationTimes,\n        hiddenUpdates = root.hiddenUpdates;\n      for (\n        remainingLanes = previouslyPendingLanes & ~remainingLanes;\n        0 < remainingLanes;\n\n      ) {\n        var index = 31 - clz32(remainingLanes),\n          lane = 1 << index;\n        entanglements[index] = 0;\n        expirationTimes[index] = -1;\n        var hiddenUpdatesForLane = hiddenUpdates[index];\n        if (null !== hiddenUpdatesForLane)\n          for (\n            hiddenUpdates[index] = null, index = 0;\n            index < hiddenUpdatesForLane.length;\n            index++\n          ) {\n            var update = hiddenUpdatesForLane[index];\n            null !== update && (update.lane &= -536870913);\n          }\n        remainingLanes &= ~lane;\n      }\n      0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n      0 !== suspendedRetryLanes &&\n        0 === updatedLanes &&\n        0 !== root.tag &&\n        (root.suspendedLanes |=\n          suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n    }\n    function markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n      root.pendingLanes |= spawnedLane;\n      root.suspendedLanes &= ~spawnedLane;\n      var spawnedLaneIndex = 31 - clz32(spawnedLane);\n      root.entangledLanes |= spawnedLane;\n      root.entanglements[spawnedLaneIndex] =\n        root.entanglements[spawnedLaneIndex] |\n        1073741824 |\n        (entangledLanes & 261930);\n    }\n    function markRootEntangled(root, entangledLanes) {\n      var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n      for (root = root.entanglements; rootEntangledLanes; ) {\n        var index = 31 - clz32(rootEntangledLanes),\n          lane = 1 << index;\n        (lane & entangledLanes) | (root[index] & entangledLanes) &&\n          (root[index] |= entangledLanes);\n        rootEntangledLanes &= ~lane;\n      }\n    }\n    function getBumpedLaneForHydration(root, renderLanes) {\n      var renderLane = renderLanes & -renderLanes;\n      renderLane =\n        0 !== (renderLane & 42)\n          ? 1\n          : getBumpedLaneForHydrationByLane(renderLane);\n      return 0 !== (renderLane & (root.suspendedLanes | renderLanes))\n        ? 0\n        : renderLane;\n    }\n    function getBumpedLaneForHydrationByLane(lane) {\n      switch (lane) {\n        case 2:\n          lane = 1;\n          break;\n        case 8:\n          lane = 4;\n          break;\n        case 32:\n          lane = 16;\n          break;\n        case 256:\n        case 512:\n        case 1024:\n        case 2048:\n        case 4096:\n        case 8192:\n        case 16384:\n        case 32768:\n        case 65536:\n        case 131072:\n        case 262144:\n        case 524288:\n        case 1048576:\n        case 2097152:\n        case 4194304:\n        case 8388608:\n        case 16777216:\n        case 33554432:\n          lane = 128;\n          break;\n        case 268435456:\n          lane = 134217728;\n          break;\n        default:\n          lane = 0;\n      }\n      return lane;\n    }\n    function addFiberToLanesMap(root, fiber, lanes) {\n      if (isDevToolsPresent)\n        for (root = root.pendingUpdatersLaneMap; 0 < lanes; ) {\n          var index = 31 - clz32(lanes),\n            lane = 1 << index;\n          root[index].add(fiber);\n          lanes &= ~lane;\n        }\n    }\n    function movePendingFibersToMemoized(root, lanes) {\n      if (isDevToolsPresent)\n        for (\n          var pendingUpdatersLaneMap = root.pendingUpdatersLaneMap,\n            memoizedUpdaters = root.memoizedUpdaters;\n          0 < lanes;\n\n        ) {\n          var index = 31 - clz32(lanes);\n          root = 1 << index;\n          index = pendingUpdatersLaneMap[index];\n          0 < index.size &&\n            (index.forEach(function (fiber) {\n              var alternate = fiber.alternate;\n              (null !== alternate && memoizedUpdaters.has(alternate)) ||\n                memoizedUpdaters.add(fiber);\n            }),\n            index.clear());\n          lanes &= ~root;\n        }\n    }\n    function lanesToEventPriority(lanes) {\n      lanes &= -lanes;\n      return 0 !== DiscreteEventPriority && DiscreteEventPriority < lanes\n        ? 0 !== ContinuousEventPriority && ContinuousEventPriority < lanes\n          ? 0 !== (lanes & 134217727)\n            ? DefaultEventPriority\n            : IdleEventPriority\n          : ContinuousEventPriority\n        : DiscreteEventPriority;\n    }\n    function resolveUpdatePriority() {\n      var updatePriority = ReactDOMSharedInternals.p;\n      if (0 !== updatePriority) return updatePriority;\n      updatePriority = window.event;\n      return void 0 === updatePriority\n        ? DefaultEventPriority\n        : getEventPriority(updatePriority.type);\n    }\n    function runWithPriority(priority, fn) {\n      var previousPriority = ReactDOMSharedInternals.p;\n      try {\n        return (ReactDOMSharedInternals.p = priority), fn();\n      } finally {\n        ReactDOMSharedInternals.p = previousPriority;\n      }\n    }\n    function detachDeletedInstance(node) {\n      delete node[internalInstanceKey];\n      delete node[internalPropsKey];\n      delete node[internalEventHandlersKey];\n      delete node[internalEventHandlerListenersKey];\n      delete node[internalEventHandlesSetKey];\n    }\n    function getClosestInstanceFromNode(targetNode) {\n      var targetInst = targetNode[internalInstanceKey];\n      if (targetInst) return targetInst;\n      for (var parentNode = targetNode.parentNode; parentNode; ) {\n        if (\n          (targetInst =\n            parentNode[internalContainerInstanceKey] ||\n            parentNode[internalInstanceKey])\n        ) {\n          parentNode = targetInst.alternate;\n          if (\n            null !== targetInst.child ||\n            (null !== parentNode && null !== parentNode.child)\n          )\n            for (\n              targetNode = getParentHydrationBoundary(targetNode);\n              null !== targetNode;\n\n            ) {\n              if ((parentNode = targetNode[internalInstanceKey]))\n                return parentNode;\n              targetNode = getParentHydrationBoundary(targetNode);\n            }\n          return targetInst;\n        }\n        targetNode = parentNode;\n        parentNode = targetNode.parentNode;\n      }\n      return null;\n    }\n    function getInstanceFromNode(node) {\n      if (\n        (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n      ) {\n        var tag = node.tag;\n        if (\n          5 === tag ||\n          6 === tag ||\n          13 === tag ||\n          31 === tag ||\n          26 === tag ||\n          27 === tag ||\n          3 === tag\n        )\n          return node;\n      }\n      return null;\n    }\n    function getNodeFromInstance(inst) {\n      var tag = inst.tag;\n      if (5 === tag || 26 === tag || 27 === tag || 6 === tag)\n        return inst.stateNode;\n      throw Error(\"getNodeFromInstance: Invalid argument.\");\n    }\n    function getResourcesFromRoot(root) {\n      var resources = root[internalRootNodeResourcesKey];\n      resources ||\n        (resources = root[internalRootNodeResourcesKey] =\n          { hoistableStyles: new Map(), hoistableScripts: new Map() });\n      return resources;\n    }\n    function markNodeAsHoistable(node) {\n      node[internalHoistableMarker] = !0;\n    }\n    function registerTwoPhaseEvent(registrationName, dependencies) {\n      registerDirectEvent(registrationName, dependencies);\n      registerDirectEvent(registrationName + \"Capture\", dependencies);\n    }\n    function registerDirectEvent(registrationName, dependencies) {\n      registrationNameDependencies[registrationName] &&\n        console.error(\n          \"EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.\",\n          registrationName\n        );\n      registrationNameDependencies[registrationName] = dependencies;\n      var lowerCasedName = registrationName.toLowerCase();\n      possibleRegistrationNames[lowerCasedName] = registrationName;\n      \"onDoubleClick\" === registrationName &&\n        (possibleRegistrationNames.ondblclick = registrationName);\n      for (\n        registrationName = 0;\n        registrationName < dependencies.length;\n        registrationName++\n      )\n        allNativeEvents.add(dependencies[registrationName]);\n    }\n    function checkControlledValueProps(tagName, props) {\n      hasReadOnlyValue[props.type] ||\n        props.onChange ||\n        props.onInput ||\n        props.readOnly ||\n        props.disabled ||\n        null == props.value ||\n        (\"select\" === tagName\n          ? console.error(\n              \"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.\"\n            )\n          : console.error(\n              \"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.\"\n            ));\n      props.onChange ||\n        props.readOnly ||\n        props.disabled ||\n        null == props.checked ||\n        console.error(\n          \"You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.\"\n        );\n    }\n    function isAttributeNameSafe(attributeName) {\n      if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n        return !0;\n      if (hasOwnProperty.call(illegalAttributeNameCache, attributeName))\n        return !1;\n      if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n        return (validatedAttributeNameCache[attributeName] = !0);\n      illegalAttributeNameCache[attributeName] = !0;\n      console.error(\"Invalid attribute name: `%s`\", attributeName);\n      return !1;\n    }\n    function getValueForAttributeOnCustomComponent(node, name, expected) {\n      if (isAttributeNameSafe(name)) {\n        if (!node.hasAttribute(name)) {\n          switch (typeof expected) {\n            case \"symbol\":\n            case \"object\":\n              return expected;\n            case \"function\":\n              return expected;\n            case \"boolean\":\n              if (!1 === expected) return expected;\n          }\n          return void 0 === expected ? void 0 : null;\n        }\n        node = node.getAttribute(name);\n        if (\"\" === node && !0 === expected) return !0;\n        checkAttributeStringCoercion(expected, name);\n        return node === \"\" + expected ? expected : node;\n      }\n    }\n    function setValueForAttribute(node, name, value) {\n      if (isAttributeNameSafe(name))\n        if (null === value) node.removeAttribute(name);\n        else {\n          switch (typeof value) {\n            case \"undefined\":\n            case \"function\":\n            case \"symbol\":\n              node.removeAttribute(name);\n              return;\n            case \"boolean\":\n              var prefix = name.toLowerCase().slice(0, 5);\n              if (\"data-\" !== prefix && \"aria-\" !== prefix) {\n                node.removeAttribute(name);\n                return;\n              }\n          }\n          checkAttributeStringCoercion(value, name);\n          node.setAttribute(name, \"\" + value);\n        }\n    }\n    function setValueForKnownAttribute(node, name, value) {\n      if (null === value) node.removeAttribute(name);\n      else {\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            node.removeAttribute(name);\n            return;\n        }\n        checkAttributeStringCoercion(value, name);\n        node.setAttribute(name, \"\" + value);\n      }\n    }\n    function setValueForNamespacedAttribute(node, namespace, name, value) {\n      if (null === value) node.removeAttribute(name);\n      else {\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            node.removeAttribute(name);\n            return;\n        }\n        checkAttributeStringCoercion(value, name);\n        node.setAttributeNS(namespace, name, \"\" + value);\n      }\n    }\n    function getToStringValue(value) {\n      switch (typeof value) {\n        case \"bigint\":\n        case \"boolean\":\n        case \"number\":\n        case \"string\":\n        case \"undefined\":\n          return value;\n        case \"object\":\n          return checkFormFieldValueStringCoercion(value), value;\n        default:\n          return \"\";\n      }\n    }\n    function isCheckable(elem) {\n      var type = elem.type;\n      return (\n        (elem = elem.nodeName) &&\n        \"input\" === elem.toLowerCase() &&\n        (\"checkbox\" === type || \"radio\" === type)\n      );\n    }\n    function trackValueOnNode(node, valueField, currentValue) {\n      var descriptor = Object.getOwnPropertyDescriptor(\n        node.constructor.prototype,\n        valueField\n      );\n      if (\n        !node.hasOwnProperty(valueField) &&\n        \"undefined\" !== typeof descriptor &&\n        \"function\" === typeof descriptor.get &&\n        \"function\" === typeof descriptor.set\n      ) {\n        var get = descriptor.get,\n          set = descriptor.set;\n        Object.defineProperty(node, valueField, {\n          configurable: !0,\n          get: function () {\n            return get.call(this);\n          },\n          set: function (value) {\n            checkFormFieldValueStringCoercion(value);\n            currentValue = \"\" + value;\n            set.call(this, value);\n          }\n        });\n        Object.defineProperty(node, valueField, {\n          enumerable: descriptor.enumerable\n        });\n        return {\n          getValue: function () {\n            return currentValue;\n          },\n          setValue: function (value) {\n            checkFormFieldValueStringCoercion(value);\n            currentValue = \"\" + value;\n          },\n          stopTracking: function () {\n            node._valueTracker = null;\n            delete node[valueField];\n          }\n        };\n      }\n    }\n    function track(node) {\n      if (!node._valueTracker) {\n        var valueField = isCheckable(node) ? \"checked\" : \"value\";\n        node._valueTracker = trackValueOnNode(\n          node,\n          valueField,\n          \"\" + node[valueField]\n        );\n      }\n    }\n    function updateValueIfChanged(node) {\n      if (!node) return !1;\n      var tracker = node._valueTracker;\n      if (!tracker) return !0;\n      var lastValue = tracker.getValue();\n      var value = \"\";\n      node &&\n        (value = isCheckable(node)\n          ? node.checked\n            ? \"true\"\n            : \"false\"\n          : node.value);\n      node = value;\n      return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n    }\n    function getActiveElement(doc) {\n      doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n      if (\"undefined\" === typeof doc) return null;\n      try {\n        return doc.activeElement || doc.body;\n      } catch (e) {\n        return doc.body;\n      }\n    }\n    function escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n      return value.replace(\n        escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n        function (ch) {\n          return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n        }\n      );\n    }\n    function validateInputProps(element, props) {\n      void 0 === props.checked ||\n        void 0 === props.defaultChecked ||\n        didWarnCheckedDefaultChecked ||\n        (console.error(\n          \"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components\",\n          getCurrentFiberOwnerNameInDevOrNull() || \"A component\",\n          props.type\n        ),\n        (didWarnCheckedDefaultChecked = !0));\n      void 0 === props.value ||\n        void 0 === props.defaultValue ||\n        didWarnValueDefaultValue$1 ||\n        (console.error(\n          \"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components\",\n          getCurrentFiberOwnerNameInDevOrNull() || \"A component\",\n          props.type\n        ),\n        (didWarnValueDefaultValue$1 = !0));\n    }\n    function updateInput(\n      element,\n      value,\n      defaultValue,\n      lastDefaultValue,\n      checked,\n      defaultChecked,\n      type,\n      name\n    ) {\n      element.name = \"\";\n      null != type &&\n      \"function\" !== typeof type &&\n      \"symbol\" !== typeof type &&\n      \"boolean\" !== typeof type\n        ? (checkAttributeStringCoercion(type, \"type\"), (element.type = type))\n        : element.removeAttribute(\"type\");\n      if (null != value)\n        if (\"number\" === type) {\n          if ((0 === value && \"\" === element.value) || element.value != value)\n            element.value = \"\" + getToStringValue(value);\n        } else\n          element.value !== \"\" + getToStringValue(value) &&\n            (element.value = \"\" + getToStringValue(value));\n      else\n        (\"submit\" !== type && \"reset\" !== type) ||\n          element.removeAttribute(\"value\");\n      null != value\n        ? setDefaultValue(element, type, getToStringValue(value))\n        : null != defaultValue\n          ? setDefaultValue(element, type, getToStringValue(defaultValue))\n          : null != lastDefaultValue && element.removeAttribute(\"value\");\n      null == checked &&\n        null != defaultChecked &&\n        (element.defaultChecked = !!defaultChecked);\n      null != checked &&\n        (element.checked =\n          checked &&\n          \"function\" !== typeof checked &&\n          \"symbol\" !== typeof checked);\n      null != name &&\n      \"function\" !== typeof name &&\n      \"symbol\" !== typeof name &&\n      \"boolean\" !== typeof name\n        ? (checkAttributeStringCoercion(name, \"name\"),\n          (element.name = \"\" + getToStringValue(name)))\n        : element.removeAttribute(\"name\");\n    }\n    function initInput(\n      element,\n      value,\n      defaultValue,\n      checked,\n      defaultChecked,\n      type,\n      name,\n      isHydrating\n    ) {\n      null != type &&\n        \"function\" !== typeof type &&\n        \"symbol\" !== typeof type &&\n        \"boolean\" !== typeof type &&\n        (checkAttributeStringCoercion(type, \"type\"), (element.type = type));\n      if (null != value || null != defaultValue) {\n        if (\n          !(\n            (\"submit\" !== type && \"reset\" !== type) ||\n            (void 0 !== value && null !== value)\n          )\n        ) {\n          track(element);\n          return;\n        }\n        defaultValue =\n          null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n        value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n        isHydrating || value === element.value || (element.value = value);\n        element.defaultValue = value;\n      }\n      checked = null != checked ? checked : defaultChecked;\n      checked =\n        \"function\" !== typeof checked &&\n        \"symbol\" !== typeof checked &&\n        !!checked;\n      element.checked = isHydrating ? element.checked : !!checked;\n      element.defaultChecked = !!checked;\n      null != name &&\n        \"function\" !== typeof name &&\n        \"symbol\" !== typeof name &&\n        \"boolean\" !== typeof name &&\n        (checkAttributeStringCoercion(name, \"name\"), (element.name = name));\n      track(element);\n    }\n    function setDefaultValue(node, type, value) {\n      (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n        node.defaultValue === \"\" + value ||\n        (node.defaultValue = \"\" + value);\n    }\n    function validateOptionProps(element, props) {\n      null == props.value &&\n        (\"object\" === typeof props.children && null !== props.children\n          ? React.Children.forEach(props.children, function (child) {\n              null == child ||\n                \"string\" === typeof child ||\n                \"number\" === typeof child ||\n                \"bigint\" === typeof child ||\n                didWarnInvalidChild ||\n                ((didWarnInvalidChild = !0),\n                console.error(\n                  \"Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.\"\n                ));\n            })\n          : null == props.dangerouslySetInnerHTML ||\n            didWarnInvalidInnerHTML ||\n            ((didWarnInvalidInnerHTML = !0),\n            console.error(\n              \"Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.\"\n            )));\n      null == props.selected ||\n        didWarnSelectedSetOnOption ||\n        (console.error(\n          \"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.\"\n        ),\n        (didWarnSelectedSetOnOption = !0));\n    }\n    function getDeclarationErrorAddendum() {\n      var ownerName = getCurrentFiberOwnerNameInDevOrNull();\n      return ownerName\n        ? \"\\n\\nCheck the render method of `\" + ownerName + \"`.\"\n        : \"\";\n    }\n    function updateOptions(node, multiple, propValue, setDefaultSelected) {\n      node = node.options;\n      if (multiple) {\n        multiple = {};\n        for (var i = 0; i < propValue.length; i++)\n          multiple[\"$\" + propValue[i]] = !0;\n        for (propValue = 0; propValue < node.length; propValue++)\n          (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n            node[propValue].selected !== i && (node[propValue].selected = i),\n            i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n      } else {\n        propValue = \"\" + getToStringValue(propValue);\n        multiple = null;\n        for (i = 0; i < node.length; i++) {\n          if (node[i].value === propValue) {\n            node[i].selected = !0;\n            setDefaultSelected && (node[i].defaultSelected = !0);\n            return;\n          }\n          null !== multiple || node[i].disabled || (multiple = node[i]);\n        }\n        null !== multiple && (multiple.selected = !0);\n      }\n    }\n    function validateSelectProps(element, props) {\n      for (element = 0; element < valuePropNames.length; element++) {\n        var propName = valuePropNames[element];\n        if (null != props[propName]) {\n          var propNameIsArray = isArrayImpl(props[propName]);\n          props.multiple && !propNameIsArray\n            ? console.error(\n                \"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s\",\n                propName,\n                getDeclarationErrorAddendum()\n              )\n            : !props.multiple &&\n              propNameIsArray &&\n              console.error(\n                \"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s\",\n                propName,\n                getDeclarationErrorAddendum()\n              );\n        }\n      }\n      void 0 === props.value ||\n        void 0 === props.defaultValue ||\n        didWarnValueDefaultValue ||\n        (console.error(\n          \"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components\"\n        ),\n        (didWarnValueDefaultValue = !0));\n    }\n    function validateTextareaProps(element, props) {\n      void 0 === props.value ||\n        void 0 === props.defaultValue ||\n        didWarnValDefaultVal ||\n        (console.error(\n          \"%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components\",\n          getCurrentFiberOwnerNameInDevOrNull() || \"A component\"\n        ),\n        (didWarnValDefaultVal = !0));\n      null != props.children &&\n        null == props.value &&\n        console.error(\n          \"Use the `defaultValue` or `value` props instead of setting children on <textarea>.\"\n        );\n    }\n    function updateTextarea(element, value, defaultValue) {\n      if (\n        null != value &&\n        ((value = \"\" + getToStringValue(value)),\n        value !== element.value && (element.value = value),\n        null == defaultValue)\n      ) {\n        element.defaultValue !== value && (element.defaultValue = value);\n        return;\n      }\n      element.defaultValue =\n        null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    }\n    function initTextarea(element, value, defaultValue, children) {\n      if (null == value) {\n        if (null != children) {\n          if (null != defaultValue)\n            throw Error(\n              \"If you supply `defaultValue` on a <textarea>, do not pass children.\"\n            );\n          if (isArrayImpl(children)) {\n            if (1 < children.length)\n              throw Error(\"<textarea> can only have at most one child.\");\n            children = children[0];\n          }\n          defaultValue = children;\n        }\n        null == defaultValue && (defaultValue = \"\");\n        value = defaultValue;\n      }\n      defaultValue = getToStringValue(value);\n      element.defaultValue = defaultValue;\n      children = element.textContent;\n      children === defaultValue &&\n        \"\" !== children &&\n        null !== children &&\n        (element.value = children);\n      track(element);\n    }\n    function findNotableNode(node, indent) {\n      return void 0 === node.serverProps &&\n        0 === node.serverTail.length &&\n        1 === node.children.length &&\n        3 < node.distanceFromLeaf &&\n        node.distanceFromLeaf > 15 - indent\n        ? findNotableNode(node.children[0], indent)\n        : node;\n    }\n    function indentation(indent) {\n      return \"  \" + \"  \".repeat(indent);\n    }\n    function added(indent) {\n      return \"+ \" + \"  \".repeat(indent);\n    }\n    function removed(indent) {\n      return \"- \" + \"  \".repeat(indent);\n    }\n    function describeFiberType(fiber) {\n      switch (fiber.tag) {\n        case 26:\n        case 27:\n        case 5:\n          return fiber.type;\n        case 16:\n          return \"Lazy\";\n        case 31:\n          return \"Activity\";\n        case 13:\n          return \"Suspense\";\n        case 19:\n          return \"SuspenseList\";\n        case 0:\n        case 15:\n          return (fiber = fiber.type), fiber.displayName || fiber.name || null;\n        case 11:\n          return (\n            (fiber = fiber.type.render), fiber.displayName || fiber.name || null\n          );\n        case 1:\n          return (fiber = fiber.type), fiber.displayName || fiber.name || null;\n        default:\n          return null;\n      }\n    }\n    function describeTextNode(content, maxLength) {\n      return needsEscaping.test(content)\n        ? ((content = JSON.stringify(content)),\n          content.length > maxLength - 2\n            ? 8 > maxLength\n              ? '{\"...\"}'\n              : \"{\" + content.slice(0, maxLength - 7) + '...\"}'\n            : \"{\" + content + \"}\")\n        : content.length > maxLength\n          ? 5 > maxLength\n            ? '{\"...\"}'\n            : content.slice(0, maxLength - 3) + \"...\"\n          : content;\n    }\n    function describeTextDiff(clientText, serverProps, indent) {\n      var maxLength = 120 - 2 * indent;\n      if (null === serverProps)\n        return added(indent) + describeTextNode(clientText, maxLength) + \"\\n\";\n      if (\"string\" === typeof serverProps) {\n        for (\n          var firstDiff = 0;\n          firstDiff < serverProps.length &&\n          firstDiff < clientText.length &&\n          serverProps.charCodeAt(firstDiff) ===\n            clientText.charCodeAt(firstDiff);\n          firstDiff++\n        );\n        firstDiff > maxLength - 8 &&\n          10 < firstDiff &&\n          ((clientText = \"...\" + clientText.slice(firstDiff - 8)),\n          (serverProps = \"...\" + serverProps.slice(firstDiff - 8)));\n        return (\n          added(indent) +\n          describeTextNode(clientText, maxLength) +\n          \"\\n\" +\n          removed(indent) +\n          describeTextNode(serverProps, maxLength) +\n          \"\\n\"\n        );\n      }\n      return (\n        indentation(indent) + describeTextNode(clientText, maxLength) + \"\\n\"\n      );\n    }\n    function objectName(object) {\n      return Object.prototype.toString\n        .call(object)\n        .replace(/^\\[object (.*)\\]$/, function (m, p0) {\n          return p0;\n        });\n    }\n    function describeValue(value, maxLength) {\n      switch (typeof value) {\n        case \"string\":\n          return (\n            (value = JSON.stringify(value)),\n            value.length > maxLength\n              ? 5 > maxLength\n                ? '\"...\"'\n                : value.slice(0, maxLength - 4) + '...\"'\n              : value\n          );\n        case \"object\":\n          if (null === value) return \"null\";\n          if (isArrayImpl(value)) return \"[...]\";\n          if (value.$$typeof === REACT_ELEMENT_TYPE)\n            return (maxLength = getComponentNameFromType(value.type))\n              ? \"<\" + maxLength + \">\"\n              : \"<...>\";\n          var name = objectName(value);\n          if (\"Object\" === name) {\n            name = \"\";\n            maxLength -= 2;\n            for (var propName in value)\n              if (value.hasOwnProperty(propName)) {\n                var jsonPropName = JSON.stringify(propName);\n                jsonPropName !== '\"' + propName + '\"' &&\n                  (propName = jsonPropName);\n                maxLength -= propName.length - 2;\n                jsonPropName = describeValue(\n                  value[propName],\n                  15 > maxLength ? maxLength : 15\n                );\n                maxLength -= jsonPropName.length;\n                if (0 > maxLength) {\n                  name += \"\" === name ? \"...\" : \", ...\";\n                  break;\n                }\n                name +=\n                  (\"\" === name ? \"\" : \",\") + propName + \":\" + jsonPropName;\n              }\n            return \"{\" + name + \"}\";\n          }\n          return name;\n        case \"function\":\n          return (maxLength = value.displayName || value.name)\n            ? \"function \" + maxLength\n            : \"function\";\n        default:\n          return String(value);\n      }\n    }\n    function describePropValue(value, maxLength) {\n      return \"string\" !== typeof value || needsEscaping.test(value)\n        ? \"{\" + describeValue(value, maxLength - 2) + \"}\"\n        : value.length > maxLength - 2\n          ? 5 > maxLength\n            ? '\"...\"'\n            : '\"' + value.slice(0, maxLength - 5) + '...\"'\n          : '\"' + value + '\"';\n    }\n    function describeExpandedElement(type, props, rowPrefix) {\n      var remainingRowLength = 120 - rowPrefix.length - type.length,\n        properties = [],\n        propName;\n      for (propName in props)\n        if (props.hasOwnProperty(propName) && \"children\" !== propName) {\n          var propValue = describePropValue(\n            props[propName],\n            120 - rowPrefix.length - propName.length - 1\n          );\n          remainingRowLength -= propName.length + propValue.length + 2;\n          properties.push(propName + \"=\" + propValue);\n        }\n      return 0 === properties.length\n        ? rowPrefix + \"<\" + type + \">\\n\"\n        : 0 < remainingRowLength\n          ? rowPrefix + \"<\" + type + \" \" + properties.join(\" \") + \">\\n\"\n          : rowPrefix +\n            \"<\" +\n            type +\n            \"\\n\" +\n            rowPrefix +\n            \"  \" +\n            properties.join(\"\\n\" + rowPrefix + \"  \") +\n            \"\\n\" +\n            rowPrefix +\n            \">\\n\";\n    }\n    function describePropertiesDiff(clientObject, serverObject, indent) {\n      var properties = \"\",\n        remainingServerProperties = assign({}, serverObject),\n        propName;\n      for (propName in clientObject)\n        if (clientObject.hasOwnProperty(propName)) {\n          delete remainingServerProperties[propName];\n          var maxLength = 120 - 2 * indent - propName.length - 2,\n            clientPropValue = describeValue(clientObject[propName], maxLength);\n          serverObject.hasOwnProperty(propName)\n            ? ((maxLength = describeValue(serverObject[propName], maxLength)),\n              (properties +=\n                added(indent) + propName + \": \" + clientPropValue + \"\\n\"),\n              (properties +=\n                removed(indent) + propName + \": \" + maxLength + \"\\n\"))\n            : (properties +=\n                added(indent) + propName + \": \" + clientPropValue + \"\\n\");\n        }\n      for (var _propName in remainingServerProperties)\n        remainingServerProperties.hasOwnProperty(_propName) &&\n          ((clientObject = describeValue(\n            remainingServerProperties[_propName],\n            120 - 2 * indent - _propName.length - 2\n          )),\n          (properties +=\n            removed(indent) + _propName + \": \" + clientObject + \"\\n\"));\n      return properties;\n    }\n    function describeElementDiff(type, clientProps, serverProps, indent) {\n      var content = \"\",\n        serverPropNames = new Map();\n      for (propName$jscomp$0 in serverProps)\n        serverProps.hasOwnProperty(propName$jscomp$0) &&\n          serverPropNames.set(\n            propName$jscomp$0.toLowerCase(),\n            propName$jscomp$0\n          );\n      if (1 === serverPropNames.size && serverPropNames.has(\"children\"))\n        content += describeExpandedElement(\n          type,\n          clientProps,\n          indentation(indent)\n        );\n      else {\n        for (var _propName2 in clientProps)\n          if (\n            clientProps.hasOwnProperty(_propName2) &&\n            \"children\" !== _propName2\n          ) {\n            var maxLength$jscomp$0 =\n                120 - 2 * (indent + 1) - _propName2.length - 1,\n              serverPropName = serverPropNames.get(_propName2.toLowerCase());\n            if (void 0 !== serverPropName) {\n              serverPropNames.delete(_propName2.toLowerCase());\n              var propName$jscomp$0 = clientProps[_propName2];\n              serverPropName = serverProps[serverPropName];\n              var clientPropValue = describePropValue(\n                propName$jscomp$0,\n                maxLength$jscomp$0\n              );\n              maxLength$jscomp$0 = describePropValue(\n                serverPropName,\n                maxLength$jscomp$0\n              );\n              \"object\" === typeof propName$jscomp$0 &&\n              null !== propName$jscomp$0 &&\n              \"object\" === typeof serverPropName &&\n              null !== serverPropName &&\n              \"Object\" === objectName(propName$jscomp$0) &&\n              \"Object\" === objectName(serverPropName) &&\n              (2 < Object.keys(propName$jscomp$0).length ||\n                2 < Object.keys(serverPropName).length ||\n                -1 < clientPropValue.indexOf(\"...\") ||\n                -1 < maxLength$jscomp$0.indexOf(\"...\"))\n                ? (content +=\n                    indentation(indent + 1) +\n                    _propName2 +\n                    \"={{\\n\" +\n                    describePropertiesDiff(\n                      propName$jscomp$0,\n                      serverPropName,\n                      indent + 2\n                    ) +\n                    indentation(indent + 1) +\n                    \"}}\\n\")\n                : ((content +=\n                    added(indent + 1) +\n                    _propName2 +\n                    \"=\" +\n                    clientPropValue +\n                    \"\\n\"),\n                  (content +=\n                    removed(indent + 1) +\n                    _propName2 +\n                    \"=\" +\n                    maxLength$jscomp$0 +\n                    \"\\n\"));\n            } else\n              content +=\n                indentation(indent + 1) +\n                _propName2 +\n                \"=\" +\n                describePropValue(clientProps[_propName2], maxLength$jscomp$0) +\n                \"\\n\";\n          }\n        serverPropNames.forEach(function (propName) {\n          if (\"children\" !== propName) {\n            var maxLength = 120 - 2 * (indent + 1) - propName.length - 1;\n            content +=\n              removed(indent + 1) +\n              propName +\n              \"=\" +\n              describePropValue(serverProps[propName], maxLength) +\n              \"\\n\";\n          }\n        });\n        content =\n          \"\" === content\n            ? indentation(indent) + \"<\" + type + \">\\n\"\n            : indentation(indent) +\n              \"<\" +\n              type +\n              \"\\n\" +\n              content +\n              indentation(indent) +\n              \">\\n\";\n      }\n      type = serverProps.children;\n      clientProps = clientProps.children;\n      if (\n        \"string\" === typeof type ||\n        \"number\" === typeof type ||\n        \"bigint\" === typeof type\n      ) {\n        serverPropNames = \"\";\n        if (\n          \"string\" === typeof clientProps ||\n          \"number\" === typeof clientProps ||\n          \"bigint\" === typeof clientProps\n        )\n          serverPropNames = \"\" + clientProps;\n        content += describeTextDiff(serverPropNames, \"\" + type, indent + 1);\n      } else if (\n        \"string\" === typeof clientProps ||\n        \"number\" === typeof clientProps ||\n        \"bigint\" === typeof clientProps\n      )\n        content =\n          null == type\n            ? content + describeTextDiff(\"\" + clientProps, null, indent + 1)\n            : content + describeTextDiff(\"\" + clientProps, void 0, indent + 1);\n      return content;\n    }\n    function describeSiblingFiber(fiber, indent) {\n      var type = describeFiberType(fiber);\n      if (null === type) {\n        type = \"\";\n        for (fiber = fiber.child; fiber; )\n          (type += describeSiblingFiber(fiber, indent)),\n            (fiber = fiber.sibling);\n        return type;\n      }\n      return indentation(indent) + \"<\" + type + \">\\n\";\n    }\n    function describeNode(node, indent) {\n      var skipToNode = findNotableNode(node, indent);\n      if (\n        skipToNode !== node &&\n        (1 !== node.children.length || node.children[0] !== skipToNode)\n      )\n        return (\n          indentation(indent) + \"...\\n\" + describeNode(skipToNode, indent + 1)\n        );\n      skipToNode = \"\";\n      var debugInfo = node.fiber._debugInfo;\n      if (debugInfo)\n        for (var i = 0; i < debugInfo.length; i++) {\n          var serverComponentName = debugInfo[i].name;\n          \"string\" === typeof serverComponentName &&\n            ((skipToNode +=\n              indentation(indent) + \"<\" + serverComponentName + \">\\n\"),\n            indent++);\n        }\n      debugInfo = \"\";\n      i = node.fiber.pendingProps;\n      if (6 === node.fiber.tag)\n        (debugInfo = describeTextDiff(i, node.serverProps, indent)), indent++;\n      else if (\n        ((serverComponentName = describeFiberType(node.fiber)),\n        null !== serverComponentName)\n      )\n        if (void 0 === node.serverProps) {\n          debugInfo = indent;\n          var maxLength = 120 - 2 * debugInfo - serverComponentName.length - 2,\n            content = \"\";\n          for (propName in i)\n            if (i.hasOwnProperty(propName) && \"children\" !== propName) {\n              var propValue = describePropValue(i[propName], 15);\n              maxLength -= propName.length + propValue.length + 2;\n              if (0 > maxLength) {\n                content += \" ...\";\n                break;\n              }\n              content += \" \" + propName + \"=\" + propValue;\n            }\n          debugInfo =\n            indentation(debugInfo) +\n            \"<\" +\n            serverComponentName +\n            content +\n            \">\\n\";\n          indent++;\n        } else\n          null === node.serverProps\n            ? ((debugInfo = describeExpandedElement(\n                serverComponentName,\n                i,\n                added(indent)\n              )),\n              indent++)\n            : \"string\" === typeof node.serverProps\n              ? console.error(\n                  \"Should not have matched a non HostText fiber to a Text node. This is a bug in React.\"\n                )\n              : ((debugInfo = describeElementDiff(\n                  serverComponentName,\n                  i,\n                  node.serverProps,\n                  indent\n                )),\n                indent++);\n      var propName = \"\";\n      i = node.fiber.child;\n      for (\n        serverComponentName = 0;\n        i && serverComponentName < node.children.length;\n\n      )\n        (maxLength = node.children[serverComponentName]),\n          maxLength.fiber === i\n            ? ((propName += describeNode(maxLength, indent)),\n              serverComponentName++)\n            : (propName += describeSiblingFiber(i, indent)),\n          (i = i.sibling);\n      i &&\n        0 < node.children.length &&\n        (propName += indentation(indent) + \"...\\n\");\n      i = node.serverTail;\n      null === node.serverProps && indent--;\n      for (node = 0; node < i.length; node++)\n        (serverComponentName = i[node]),\n          (propName =\n            \"string\" === typeof serverComponentName\n              ? propName +\n                (removed(indent) +\n                  describeTextNode(serverComponentName, 120 - 2 * indent) +\n                  \"\\n\")\n              : propName +\n                describeExpandedElement(\n                  serverComponentName.type,\n                  serverComponentName.props,\n                  removed(indent)\n                ));\n      return skipToNode + debugInfo + propName;\n    }\n    function describeDiff(rootNode) {\n      try {\n        return \"\\n\\n\" + describeNode(rootNode, 0);\n      } catch (x) {\n        return \"\";\n      }\n    }\n    function describeAncestors(ancestor, child, props) {\n      for (var fiber = child, node = null, distanceFromLeaf = 0; fiber; )\n        fiber === ancestor && (distanceFromLeaf = 0),\n          (node = {\n            fiber: fiber,\n            children: null !== node ? [node] : [],\n            serverProps:\n              fiber === child ? props : fiber === ancestor ? null : void 0,\n            serverTail: [],\n            distanceFromLeaf: distanceFromLeaf\n          }),\n          distanceFromLeaf++,\n          (fiber = fiber.return);\n      return null !== node ? describeDiff(node).replaceAll(/^[+-]/gm, \">\") : \"\";\n    }\n    function updatedAncestorInfoDev(oldInfo, tag) {\n      var ancestorInfo = assign({}, oldInfo || emptyAncestorInfoDev),\n        info = { tag: tag };\n      -1 !== inScopeTags.indexOf(tag) &&\n        ((ancestorInfo.aTagInScope = null),\n        (ancestorInfo.buttonTagInScope = null),\n        (ancestorInfo.nobrTagInScope = null));\n      -1 !== buttonScopeTags.indexOf(tag) &&\n        (ancestorInfo.pTagInButtonScope = null);\n      -1 !== specialTags.indexOf(tag) &&\n        \"address\" !== tag &&\n        \"div\" !== tag &&\n        \"p\" !== tag &&\n        ((ancestorInfo.listItemTagAutoclosing = null),\n        (ancestorInfo.dlItemTagAutoclosing = null));\n      ancestorInfo.current = info;\n      \"form\" === tag && (ancestorInfo.formTag = info);\n      \"a\" === tag && (ancestorInfo.aTagInScope = info);\n      \"button\" === tag && (ancestorInfo.buttonTagInScope = info);\n      \"nobr\" === tag && (ancestorInfo.nobrTagInScope = info);\n      \"p\" === tag && (ancestorInfo.pTagInButtonScope = info);\n      \"li\" === tag && (ancestorInfo.listItemTagAutoclosing = info);\n      if (\"dd\" === tag || \"dt\" === tag)\n        ancestorInfo.dlItemTagAutoclosing = info;\n      \"#document\" === tag || \"html\" === tag\n        ? (ancestorInfo.containerTagInScope = null)\n        : ancestorInfo.containerTagInScope ||\n          (ancestorInfo.containerTagInScope = info);\n      null !== oldInfo ||\n      (\"#document\" !== tag && \"html\" !== tag && \"body\" !== tag)\n        ? !0 === ancestorInfo.implicitRootScope &&\n          (ancestorInfo.implicitRootScope = !1)\n        : (ancestorInfo.implicitRootScope = !0);\n      return ancestorInfo;\n    }\n    function isTagValidWithParent(tag, parentTag, implicitRootScope) {\n      switch (parentTag) {\n        case \"select\":\n          return (\n            \"hr\" === tag ||\n            \"option\" === tag ||\n            \"optgroup\" === tag ||\n            \"script\" === tag ||\n            \"template\" === tag ||\n            \"#text\" === tag\n          );\n        case \"optgroup\":\n          return \"option\" === tag || \"#text\" === tag;\n        case \"option\":\n          return \"#text\" === tag;\n        case \"tr\":\n          return (\n            \"th\" === tag ||\n            \"td\" === tag ||\n            \"style\" === tag ||\n            \"script\" === tag ||\n            \"template\" === tag\n          );\n        case \"tbody\":\n        case \"thead\":\n        case \"tfoot\":\n          return (\n            \"tr\" === tag ||\n            \"style\" === tag ||\n            \"script\" === tag ||\n            \"template\" === tag\n          );\n        case \"colgroup\":\n          return \"col\" === tag || \"template\" === tag;\n        case \"table\":\n          return (\n            \"caption\" === tag ||\n            \"colgroup\" === tag ||\n            \"tbody\" === tag ||\n            \"tfoot\" === tag ||\n            \"thead\" === tag ||\n            \"style\" === tag ||\n            \"script\" === tag ||\n            \"template\" === tag\n          );\n        case \"head\":\n          return (\n            \"base\" === tag ||\n            \"basefont\" === tag ||\n            \"bgsound\" === tag ||\n            \"link\" === tag ||\n            \"meta\" === tag ||\n            \"title\" === tag ||\n            \"noscript\" === tag ||\n            \"noframes\" === tag ||\n            \"style\" === tag ||\n            \"script\" === tag ||\n            \"template\" === tag\n          );\n        case \"html\":\n          if (implicitRootScope) break;\n          return \"head\" === tag || \"body\" === tag || \"frameset\" === tag;\n        case \"frameset\":\n          return \"frame\" === tag;\n        case \"#document\":\n          if (!implicitRootScope) return \"html\" === tag;\n      }\n      switch (tag) {\n        case \"h1\":\n        case \"h2\":\n        case \"h3\":\n        case \"h4\":\n        case \"h5\":\n        case \"h6\":\n          return (\n            \"h1\" !== parentTag &&\n            \"h2\" !== parentTag &&\n            \"h3\" !== parentTag &&\n            \"h4\" !== parentTag &&\n            \"h5\" !== parentTag &&\n            \"h6\" !== parentTag\n          );\n        case \"rp\":\n        case \"rt\":\n          return -1 === impliedEndTags.indexOf(parentTag);\n        case \"caption\":\n        case \"col\":\n        case \"colgroup\":\n        case \"frameset\":\n        case \"frame\":\n        case \"tbody\":\n        case \"td\":\n        case \"tfoot\":\n        case \"th\":\n        case \"thead\":\n        case \"tr\":\n          return null == parentTag;\n        case \"head\":\n          return implicitRootScope || null === parentTag;\n        case \"html\":\n          return (\n            (implicitRootScope && \"#document\" === parentTag) ||\n            null === parentTag\n          );\n        case \"body\":\n          return (\n            (implicitRootScope &&\n              (\"#document\" === parentTag || \"html\" === parentTag)) ||\n            null === parentTag\n          );\n      }\n      return !0;\n    }\n    function findInvalidAncestorForTag(tag, ancestorInfo) {\n      switch (tag) {\n        case \"address\":\n        case \"article\":\n        case \"aside\":\n        case \"blockquote\":\n        case \"center\":\n        case \"details\":\n        case \"dialog\":\n        case \"dir\":\n        case \"div\":\n        case \"dl\":\n        case \"fieldset\":\n        case \"figcaption\":\n        case \"figure\":\n        case \"footer\":\n        case \"header\":\n        case \"hgroup\":\n        case \"main\":\n        case \"menu\":\n        case \"nav\":\n        case \"ol\":\n        case \"p\":\n        case \"section\":\n        case \"summary\":\n        case \"ul\":\n        case \"pre\":\n        case \"listing\":\n        case \"table\":\n        case \"hr\":\n        case \"xmp\":\n        case \"h1\":\n        case \"h2\":\n        case \"h3\":\n        case \"h4\":\n        case \"h5\":\n        case \"h6\":\n          return ancestorInfo.pTagInButtonScope;\n        case \"form\":\n          return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope;\n        case \"li\":\n          return ancestorInfo.listItemTagAutoclosing;\n        case \"dd\":\n        case \"dt\":\n          return ancestorInfo.dlItemTagAutoclosing;\n        case \"button\":\n          return ancestorInfo.buttonTagInScope;\n        case \"a\":\n          return ancestorInfo.aTagInScope;\n        case \"nobr\":\n          return ancestorInfo.nobrTagInScope;\n      }\n      return null;\n    }\n    function findAncestor(parent, tagName) {\n      for (; parent; ) {\n        switch (parent.tag) {\n          case 5:\n          case 26:\n          case 27:\n            if (parent.type === tagName) return parent;\n        }\n        parent = parent.return;\n      }\n      return null;\n    }\n    function validateDOMNesting(childTag, ancestorInfo) {\n      ancestorInfo = ancestorInfo || emptyAncestorInfoDev;\n      var parentInfo = ancestorInfo.current;\n      ancestorInfo = (parentInfo = isTagValidWithParent(\n        childTag,\n        parentInfo && parentInfo.tag,\n        ancestorInfo.implicitRootScope\n      )\n        ? null\n        : parentInfo)\n        ? null\n        : findInvalidAncestorForTag(childTag, ancestorInfo);\n      ancestorInfo = parentInfo || ancestorInfo;\n      if (!ancestorInfo) return !0;\n      var ancestorTag = ancestorInfo.tag;\n      ancestorInfo = String(!!parentInfo) + \"|\" + childTag + \"|\" + ancestorTag;\n      if (didWarn[ancestorInfo]) return !1;\n      didWarn[ancestorInfo] = !0;\n      var ancestor = (ancestorInfo = current)\n          ? findAncestor(ancestorInfo.return, ancestorTag)\n          : null,\n        ancestorDescription =\n          null !== ancestorInfo && null !== ancestor\n            ? describeAncestors(ancestor, ancestorInfo, null)\n            : \"\",\n        tagDisplayName = \"<\" + childTag + \">\";\n      parentInfo\n        ? ((parentInfo = \"\"),\n          \"table\" === ancestorTag &&\n            \"tr\" === childTag &&\n            (parentInfo +=\n              \" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser.\"),\n          console.error(\n            \"In HTML, %s cannot be a child of <%s>.%s\\nThis will cause a hydration error.%s\",\n            tagDisplayName,\n            ancestorTag,\n            parentInfo,\n            ancestorDescription\n          ))\n        : console.error(\n            \"In HTML, %s cannot be a descendant of <%s>.\\nThis will cause a hydration error.%s\",\n            tagDisplayName,\n            ancestorTag,\n            ancestorDescription\n          );\n      ancestorInfo &&\n        ((childTag = ancestorInfo.return),\n        null === ancestor ||\n          null === childTag ||\n          (ancestor === childTag &&\n            childTag._debugOwner === ancestorInfo._debugOwner) ||\n          runWithFiberInDEV(ancestor, function () {\n            console.error(\n              \"<%s> cannot contain a nested %s.\\nSee this log for the ancestor stack trace.\",\n              ancestorTag,\n              tagDisplayName\n            );\n          }));\n      return !1;\n    }\n    function validateTextNesting(childText, parentTag, implicitRootScope) {\n      if (implicitRootScope || isTagValidWithParent(\"#text\", parentTag, !1))\n        return !0;\n      implicitRootScope = \"#text|\" + parentTag;\n      if (didWarn[implicitRootScope]) return !1;\n      didWarn[implicitRootScope] = !0;\n      var ancestor = (implicitRootScope = current)\n        ? findAncestor(implicitRootScope, parentTag)\n        : null;\n      implicitRootScope =\n        null !== implicitRootScope && null !== ancestor\n          ? describeAncestors(\n              ancestor,\n              implicitRootScope,\n              6 !== implicitRootScope.tag ? { children: null } : null\n            )\n          : \"\";\n      /\\S/.test(childText)\n        ? console.error(\n            \"In HTML, text nodes cannot be a child of <%s>.\\nThis will cause a hydration error.%s\",\n            parentTag,\n            implicitRootScope\n          )\n        : console.error(\n            \"In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.\\nThis will cause a hydration error.%s\",\n            parentTag,\n            implicitRootScope\n          );\n      return !1;\n    }\n    function setTextContent(node, text) {\n      if (text) {\n        var firstChild = node.firstChild;\n        if (\n          firstChild &&\n          firstChild === node.lastChild &&\n          3 === firstChild.nodeType\n        ) {\n          firstChild.nodeValue = text;\n          return;\n        }\n      }\n      node.textContent = text;\n    }\n    function camelize(string) {\n      return string.replace(hyphenPattern, function (_, character) {\n        return character.toUpperCase();\n      });\n    }\n    function setValueForStyle(style, styleName, value) {\n      var isCustomProperty = 0 === styleName.indexOf(\"--\");\n      isCustomProperty ||\n        (-1 < styleName.indexOf(\"-\")\n          ? (warnedStyleNames.hasOwnProperty(styleName) &&\n              warnedStyleNames[styleName]) ||\n            ((warnedStyleNames[styleName] = !0),\n            console.error(\n              \"Unsupported style property %s. Did you mean %s?\",\n              styleName,\n              camelize(styleName.replace(msPattern, \"ms-\"))\n            ))\n          : badVendoredStyleNamePattern.test(styleName)\n            ? (warnedStyleNames.hasOwnProperty(styleName) &&\n                warnedStyleNames[styleName]) ||\n              ((warnedStyleNames[styleName] = !0),\n              console.error(\n                \"Unsupported vendor-prefixed style property %s. Did you mean %s?\",\n                styleName,\n                styleName.charAt(0).toUpperCase() + styleName.slice(1)\n              ))\n            : !badStyleValueWithSemicolonPattern.test(value) ||\n              (warnedStyleValues.hasOwnProperty(value) &&\n                warnedStyleValues[value]) ||\n              ((warnedStyleValues[value] = !0),\n              console.error(\n                'Style property values shouldn\\'t contain a semicolon. Try \"%s: %s\" instead.',\n                styleName,\n                value.replace(badStyleValueWithSemicolonPattern, \"\")\n              )),\n        \"number\" === typeof value &&\n          (isNaN(value)\n            ? warnedForNaNValue ||\n              ((warnedForNaNValue = !0),\n              console.error(\n                \"`NaN` is an invalid value for the `%s` css style property.\",\n                styleName\n              ))\n            : isFinite(value) ||\n              warnedForInfinityValue ||\n              ((warnedForInfinityValue = !0),\n              console.error(\n                \"`Infinity` is an invalid value for the `%s` css style property.\",\n                styleName\n              ))));\n      null == value || \"boolean\" === typeof value || \"\" === value\n        ? isCustomProperty\n          ? style.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (style.cssFloat = \"\")\n            : (style[styleName] = \"\")\n        : isCustomProperty\n          ? style.setProperty(styleName, value)\n          : \"number\" !== typeof value ||\n              0 === value ||\n              unitlessNumbers.has(styleName)\n            ? \"float\" === styleName\n              ? (style.cssFloat = value)\n              : (checkCSSPropertyStringCoercion(value, styleName),\n                (style[styleName] = (\"\" + value).trim()))\n            : (style[styleName] = value + \"px\");\n    }\n    function setValueForStyles(node, styles, prevStyles) {\n      if (null != styles && \"object\" !== typeof styles)\n        throw Error(\n          \"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.\"\n        );\n      styles && Object.freeze(styles);\n      node = node.style;\n      if (null != prevStyles) {\n        if (styles) {\n          var expandedUpdates = {};\n          if (prevStyles)\n            for (var key in prevStyles)\n              if (prevStyles.hasOwnProperty(key) && !styles.hasOwnProperty(key))\n                for (\n                  var longhands = shorthandToLonghand[key] || [key], i = 0;\n                  i < longhands.length;\n                  i++\n                )\n                  expandedUpdates[longhands[i]] = key;\n          for (var _key in styles)\n            if (\n              styles.hasOwnProperty(_key) &&\n              (!prevStyles || prevStyles[_key] !== styles[_key])\n            )\n              for (\n                key = shorthandToLonghand[_key] || [_key], longhands = 0;\n                longhands < key.length;\n                longhands++\n              )\n                expandedUpdates[key[longhands]] = _key;\n          _key = {};\n          for (var key$jscomp$0 in styles)\n            for (\n              key = shorthandToLonghand[key$jscomp$0] || [key$jscomp$0],\n                longhands = 0;\n              longhands < key.length;\n              longhands++\n            )\n              _key[key[longhands]] = key$jscomp$0;\n          key$jscomp$0 = {};\n          for (var _key2 in expandedUpdates)\n            if (\n              ((key = expandedUpdates[_key2]),\n              (longhands = _key[_key2]) &&\n                key !== longhands &&\n                ((i = key + \",\" + longhands), !key$jscomp$0[i]))\n            ) {\n              key$jscomp$0[i] = !0;\n              i = console;\n              var value = styles[key];\n              i.error.call(\n                i,\n                \"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.\",\n                null == value || \"boolean\" === typeof value || \"\" === value\n                  ? \"Removing\"\n                  : \"Updating\",\n                key,\n                longhands\n              );\n            }\n        }\n        for (var styleName in prevStyles)\n          !prevStyles.hasOwnProperty(styleName) ||\n            (null != styles && styles.hasOwnProperty(styleName)) ||\n            (0 === styleName.indexOf(\"--\")\n              ? node.setProperty(styleName, \"\")\n              : \"float\" === styleName\n                ? (node.cssFloat = \"\")\n                : (node[styleName] = \"\"));\n        for (var _styleName in styles)\n          (_key2 = styles[_styleName]),\n            styles.hasOwnProperty(_styleName) &&\n              prevStyles[_styleName] !== _key2 &&\n              setValueForStyle(node, _styleName, _key2);\n      } else\n        for (expandedUpdates in styles)\n          styles.hasOwnProperty(expandedUpdates) &&\n            setValueForStyle(node, expandedUpdates, styles[expandedUpdates]);\n    }\n    function isCustomElement(tagName) {\n      if (-1 === tagName.indexOf(\"-\")) return !1;\n      switch (tagName) {\n        case \"annotation-xml\":\n        case \"color-profile\":\n        case \"font-face\":\n        case \"font-face-src\":\n        case \"font-face-uri\":\n        case \"font-face-format\":\n        case \"font-face-name\":\n        case \"missing-glyph\":\n          return !1;\n        default:\n          return !0;\n      }\n    }\n    function getAttributeAlias(name) {\n      return aliases.get(name) || name;\n    }\n    function validateProperty$1(tagName, name) {\n      if (\n        hasOwnProperty.call(warnedProperties$1, name) &&\n        warnedProperties$1[name]\n      )\n        return !0;\n      if (rARIACamel$1.test(name)) {\n        tagName = \"aria-\" + name.slice(4).toLowerCase();\n        tagName = ariaProperties.hasOwnProperty(tagName) ? tagName : null;\n        if (null == tagName)\n          return (\n            console.error(\n              \"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.\",\n              name\n            ),\n            (warnedProperties$1[name] = !0)\n          );\n        if (name !== tagName)\n          return (\n            console.error(\n              \"Invalid ARIA attribute `%s`. Did you mean `%s`?\",\n              name,\n              tagName\n            ),\n            (warnedProperties$1[name] = !0)\n          );\n      }\n      if (rARIA$1.test(name)) {\n        tagName = name.toLowerCase();\n        tagName = ariaProperties.hasOwnProperty(tagName) ? tagName : null;\n        if (null == tagName) return (warnedProperties$1[name] = !0), !1;\n        name !== tagName &&\n          (console.error(\n            \"Unknown ARIA attribute `%s`. Did you mean `%s`?\",\n            name,\n            tagName\n          ),\n          (warnedProperties$1[name] = !0));\n      }\n      return !0;\n    }\n    function validateProperties$2(type, props) {\n      var invalidProps = [],\n        key;\n      for (key in props)\n        validateProperty$1(type, key) || invalidProps.push(key);\n      props = invalidProps\n        .map(function (prop) {\n          return \"`\" + prop + \"`\";\n        })\n        .join(\", \");\n      1 === invalidProps.length\n        ? console.error(\n            \"Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props\",\n            props,\n            type\n          )\n        : 1 < invalidProps.length &&\n          console.error(\n            \"Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props\",\n            props,\n            type\n          );\n    }\n    function validateProperty(tagName, name, value, eventRegistry) {\n      if (hasOwnProperty.call(warnedProperties, name) && warnedProperties[name])\n        return !0;\n      var lowerCasedName = name.toLowerCase();\n      if (\"onfocusin\" === lowerCasedName || \"onfocusout\" === lowerCasedName)\n        return (\n          console.error(\n            \"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React.\"\n          ),\n          (warnedProperties[name] = !0)\n        );\n      if (\n        \"function\" === typeof value &&\n        ((\"form\" === tagName && \"action\" === name) ||\n          (\"input\" === tagName && \"formAction\" === name) ||\n          (\"button\" === tagName && \"formAction\" === name))\n      )\n        return !0;\n      if (null != eventRegistry) {\n        tagName = eventRegistry.possibleRegistrationNames;\n        if (eventRegistry.registrationNameDependencies.hasOwnProperty(name))\n          return !0;\n        eventRegistry = tagName.hasOwnProperty(lowerCasedName)\n          ? tagName[lowerCasedName]\n          : null;\n        if (null != eventRegistry)\n          return (\n            console.error(\n              \"Invalid event handler property `%s`. Did you mean `%s`?\",\n              name,\n              eventRegistry\n            ),\n            (warnedProperties[name] = !0)\n          );\n        if (EVENT_NAME_REGEX.test(name))\n          return (\n            console.error(\n              \"Unknown event handler property `%s`. It will be ignored.\",\n              name\n            ),\n            (warnedProperties[name] = !0)\n          );\n      } else if (EVENT_NAME_REGEX.test(name))\n        return (\n          INVALID_EVENT_NAME_REGEX.test(name) &&\n            console.error(\n              \"Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.\",\n              name\n            ),\n          (warnedProperties[name] = !0)\n        );\n      if (rARIA.test(name) || rARIACamel.test(name)) return !0;\n      if (\"innerhtml\" === lowerCasedName)\n        return (\n          console.error(\n            \"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`.\"\n          ),\n          (warnedProperties[name] = !0)\n        );\n      if (\"aria\" === lowerCasedName)\n        return (\n          console.error(\n            \"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead.\"\n          ),\n          (warnedProperties[name] = !0)\n        );\n      if (\n        \"is\" === lowerCasedName &&\n        null !== value &&\n        void 0 !== value &&\n        \"string\" !== typeof value\n      )\n        return (\n          console.error(\n            \"Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.\",\n            typeof value\n          ),\n          (warnedProperties[name] = !0)\n        );\n      if (\"number\" === typeof value && isNaN(value))\n        return (\n          console.error(\n            \"Received NaN for the `%s` attribute. If this is expected, cast the value to a string.\",\n            name\n          ),\n          (warnedProperties[name] = !0)\n        );\n      if (possibleStandardNames.hasOwnProperty(lowerCasedName)) {\n        if (\n          ((lowerCasedName = possibleStandardNames[lowerCasedName]),\n          lowerCasedName !== name)\n        )\n          return (\n            console.error(\n              \"Invalid DOM property `%s`. Did you mean `%s`?\",\n              name,\n              lowerCasedName\n            ),\n            (warnedProperties[name] = !0)\n          );\n      } else if (name !== lowerCasedName)\n        return (\n          console.error(\n            \"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.\",\n            name,\n            lowerCasedName\n          ),\n          (warnedProperties[name] = !0)\n        );\n      switch (name) {\n        case \"dangerouslySetInnerHTML\":\n        case \"children\":\n        case \"style\":\n        case \"suppressContentEditableWarning\":\n        case \"suppressHydrationWarning\":\n        case \"defaultValue\":\n        case \"defaultChecked\":\n        case \"innerHTML\":\n        case \"ref\":\n          return !0;\n        case \"innerText\":\n        case \"textContent\":\n          return !0;\n      }\n      switch (typeof value) {\n        case \"boolean\":\n          switch (name) {\n            case \"autoFocus\":\n            case \"checked\":\n            case \"multiple\":\n            case \"muted\":\n            case \"selected\":\n            case \"contentEditable\":\n            case \"spellCheck\":\n            case \"draggable\":\n            case \"value\":\n            case \"autoReverse\":\n            case \"externalResourcesRequired\":\n            case \"focusable\":\n            case \"preserveAlpha\":\n            case \"allowFullScreen\":\n            case \"async\":\n            case \"autoPlay\":\n            case \"controls\":\n            case \"default\":\n            case \"defer\":\n            case \"disabled\":\n            case \"disablePictureInPicture\":\n            case \"disableRemotePlayback\":\n            case \"formNoValidate\":\n            case \"hidden\":\n            case \"loop\":\n            case \"noModule\":\n            case \"noValidate\":\n            case \"open\":\n            case \"playsInline\":\n            case \"readOnly\":\n            case \"required\":\n            case \"reversed\":\n            case \"scoped\":\n            case \"seamless\":\n            case \"itemScope\":\n            case \"capture\":\n            case \"download\":\n            case \"inert\":\n              return !0;\n            default:\n              lowerCasedName = name.toLowerCase().slice(0, 5);\n              if (\"data-\" === lowerCasedName || \"aria-\" === lowerCasedName)\n                return !0;\n              value\n                ? console.error(\n                    'Received `%s` for a non-boolean attribute `%s`.\\n\\nIf you want to write it to the DOM, pass a string instead: %s=\"%s\" or %s={value.toString()}.',\n                    value,\n                    name,\n                    name,\n                    value,\n                    name\n                  )\n                : console.error(\n                    'Received `%s` for a non-boolean attribute `%s`.\\n\\nIf you want to write it to the DOM, pass a string instead: %s=\"%s\" or %s={value.toString()}.\\n\\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',\n                    value,\n                    name,\n                    name,\n                    value,\n                    name,\n                    name,\n                    name\n                  );\n              return (warnedProperties[name] = !0);\n          }\n        case \"function\":\n        case \"symbol\":\n          return (warnedProperties[name] = !0), !1;\n        case \"string\":\n          if (\"false\" === value || \"true\" === value) {\n            switch (name) {\n              case \"checked\":\n              case \"selected\":\n              case \"multiple\":\n              case \"muted\":\n              case \"allowFullScreen\":\n              case \"async\":\n              case \"autoPlay\":\n              case \"controls\":\n              case \"default\":\n              case \"defer\":\n              case \"disabled\":\n              case \"disablePictureInPicture\":\n              case \"disableRemotePlayback\":\n              case \"formNoValidate\":\n              case \"hidden\":\n              case \"loop\":\n              case \"noModule\":\n              case \"noValidate\":\n              case \"open\":\n              case \"playsInline\":\n              case \"readOnly\":\n              case \"required\":\n              case \"reversed\":\n              case \"scoped\":\n              case \"seamless\":\n              case \"itemScope\":\n              case \"inert\":\n                break;\n              default:\n                return !0;\n            }\n            console.error(\n              \"Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?\",\n              value,\n              name,\n              \"false\" === value\n                ? \"The browser will interpret it as a truthy value.\"\n                : 'Although this works, it will not work as expected if you pass the string \"false\".',\n              name,\n              value\n            );\n            warnedProperties[name] = !0;\n          }\n      }\n      return !0;\n    }\n    function warnUnknownProperties(type, props, eventRegistry) {\n      var unknownProps = [],\n        key;\n      for (key in props)\n        validateProperty(type, key, props[key], eventRegistry) ||\n          unknownProps.push(key);\n      props = unknownProps\n        .map(function (prop) {\n          return \"`\" + prop + \"`\";\n        })\n        .join(\", \");\n      1 === unknownProps.length\n        ? console.error(\n            \"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior \",\n            props,\n            type\n          )\n        : 1 < unknownProps.length &&\n          console.error(\n            \"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior \",\n            props,\n            type\n          );\n    }\n    function sanitizeURL(url) {\n      return isJavaScriptProtocol.test(\"\" + url)\n        ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n        : url;\n    }\n    function noop$1() {}\n    function getEventTarget(nativeEvent) {\n      nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n      nativeEvent.correspondingUseElement &&\n        (nativeEvent = nativeEvent.correspondingUseElement);\n      return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n    }\n    function restoreStateOfTarget(target) {\n      var internalInstance = getInstanceFromNode(target);\n      if (internalInstance && (target = internalInstance.stateNode)) {\n        var props = target[internalPropsKey] || null;\n        a: switch (\n          ((target = internalInstance.stateNode), internalInstance.type)\n        ) {\n          case \"input\":\n            updateInput(\n              target,\n              props.value,\n              props.defaultValue,\n              props.defaultValue,\n              props.checked,\n              props.defaultChecked,\n              props.type,\n              props.name\n            );\n            internalInstance = props.name;\n            if (\"radio\" === props.type && null != internalInstance) {\n              for (props = target; props.parentNode; ) props = props.parentNode;\n              checkAttributeStringCoercion(internalInstance, \"name\");\n              props = props.querySelectorAll(\n                'input[name=\"' +\n                  escapeSelectorAttributeValueInsideDoubleQuotes(\n                    \"\" + internalInstance\n                  ) +\n                  '\"][type=\"radio\"]'\n              );\n              for (\n                internalInstance = 0;\n                internalInstance < props.length;\n                internalInstance++\n              ) {\n                var otherNode = props[internalInstance];\n                if (otherNode !== target && otherNode.form === target.form) {\n                  var otherProps = otherNode[internalPropsKey] || null;\n                  if (!otherProps)\n                    throw Error(\n                      \"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.\"\n                    );\n                  updateInput(\n                    otherNode,\n                    otherProps.value,\n                    otherProps.defaultValue,\n                    otherProps.defaultValue,\n                    otherProps.checked,\n                    otherProps.defaultChecked,\n                    otherProps.type,\n                    otherProps.name\n                  );\n                }\n              }\n              for (\n                internalInstance = 0;\n                internalInstance < props.length;\n                internalInstance++\n              )\n                (otherNode = props[internalInstance]),\n                  otherNode.form === target.form &&\n                    updateValueIfChanged(otherNode);\n            }\n            break a;\n          case \"textarea\":\n            updateTextarea(target, props.value, props.defaultValue);\n            break a;\n          case \"select\":\n            (internalInstance = props.value),\n              null != internalInstance &&\n                updateOptions(target, !!props.multiple, internalInstance, !1);\n        }\n      }\n    }\n    function batchedUpdates$1(fn, a, b) {\n      if (isInsideEventHandler) return fn(a, b);\n      isInsideEventHandler = !0;\n      try {\n        var JSCompiler_inline_result = fn(a);\n        return JSCompiler_inline_result;\n      } finally {\n        if (\n          ((isInsideEventHandler = !1),\n          null !== restoreTarget || null !== restoreQueue)\n        )\n          if (\n            (flushSyncWork$1(),\n            restoreTarget &&\n              ((a = restoreTarget),\n              (fn = restoreQueue),\n              (restoreQueue = restoreTarget = null),\n              restoreStateOfTarget(a),\n              fn))\n          )\n            for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n      }\n    }\n    function getListener(inst, registrationName) {\n      var stateNode = inst.stateNode;\n      if (null === stateNode) return null;\n      var props = stateNode[internalPropsKey] || null;\n      if (null === props) return null;\n      stateNode = props[registrationName];\n      a: switch (registrationName) {\n        case \"onClick\":\n        case \"onClickCapture\":\n        case \"onDoubleClick\":\n        case \"onDoubleClickCapture\":\n        case \"onMouseDown\":\n        case \"onMouseDownCapture\":\n        case \"onMouseMove\":\n        case \"onMouseMoveCapture\":\n        case \"onMouseUp\":\n        case \"onMouseUpCapture\":\n        case \"onMouseEnter\":\n          (props = !props.disabled) ||\n            ((inst = inst.type),\n            (props = !(\n              \"button\" === inst ||\n              \"input\" === inst ||\n              \"select\" === inst ||\n              \"textarea\" === inst\n            )));\n          inst = !props;\n          break a;\n        default:\n          inst = !1;\n      }\n      if (inst) return null;\n      if (stateNode && \"function\" !== typeof stateNode)\n        throw Error(\n          \"Expected `\" +\n            registrationName +\n            \"` listener to be a function, instead got a value of `\" +\n            typeof stateNode +\n            \"` type.\"\n        );\n      return stateNode;\n    }\n    function getData() {\n      if (fallbackText) return fallbackText;\n      var start,\n        startValue = startText,\n        startLength = startValue.length,\n        end,\n        endValue = \"value\" in root ? root.value : root.textContent,\n        endLength = endValue.length;\n      for (\n        start = 0;\n        start < startLength && startValue[start] === endValue[start];\n        start++\n      );\n      var minEnd = startLength - start;\n      for (\n        end = 1;\n        end <= minEnd &&\n        startValue[startLength - end] === endValue[endLength - end];\n        end++\n      );\n      return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n    }\n    function getEventCharCode(nativeEvent) {\n      var keyCode = nativeEvent.keyCode;\n      \"charCode\" in nativeEvent\n        ? ((nativeEvent = nativeEvent.charCode),\n          0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n        : (nativeEvent = keyCode);\n      10 === nativeEvent && (nativeEvent = 13);\n      return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n    }\n    function functionThatReturnsTrue() {\n      return !0;\n    }\n    function functionThatReturnsFalse() {\n      return !1;\n    }\n    function createSyntheticEvent(Interface) {\n      function SyntheticBaseEvent(\n        reactName,\n        reactEventType,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      ) {\n        this._reactName = reactName;\n        this._targetInst = targetInst;\n        this.type = reactEventType;\n        this.nativeEvent = nativeEvent;\n        this.target = nativeEventTarget;\n        this.currentTarget = null;\n        for (var propName in Interface)\n          Interface.hasOwnProperty(propName) &&\n            ((reactName = Interface[propName]),\n            (this[propName] = reactName\n              ? reactName(nativeEvent)\n              : nativeEvent[propName]));\n        this.isDefaultPrevented = (\n          null != nativeEvent.defaultPrevented\n            ? nativeEvent.defaultPrevented\n            : !1 === nativeEvent.returnValue\n        )\n          ? functionThatReturnsTrue\n          : functionThatReturnsFalse;\n        this.isPropagationStopped = functionThatReturnsFalse;\n        return this;\n      }\n      assign(SyntheticBaseEvent.prototype, {\n        preventDefault: function () {\n          this.defaultPrevented = !0;\n          var event = this.nativeEvent;\n          event &&\n            (event.preventDefault\n              ? event.preventDefault()\n              : \"unknown\" !== typeof event.returnValue &&\n                (event.returnValue = !1),\n            (this.isDefaultPrevented = functionThatReturnsTrue));\n        },\n        stopPropagation: function () {\n          var event = this.nativeEvent;\n          event &&\n            (event.stopPropagation\n              ? event.stopPropagation()\n              : \"unknown\" !== typeof event.cancelBubble &&\n                (event.cancelBubble = !0),\n            (this.isPropagationStopped = functionThatReturnsTrue));\n        },\n        persist: function () {},\n        isPersistent: functionThatReturnsTrue\n      });\n      return SyntheticBaseEvent;\n    }\n    function modifierStateGetter(keyArg) {\n      var nativeEvent = this.nativeEvent;\n      return nativeEvent.getModifierState\n        ? nativeEvent.getModifierState(keyArg)\n        : (keyArg = modifierKeyToProp[keyArg])\n          ? !!nativeEvent[keyArg]\n          : !1;\n    }\n    function getEventModifierState() {\n      return modifierStateGetter;\n    }\n    function isFallbackCompositionEnd(domEventName, nativeEvent) {\n      switch (domEventName) {\n        case \"keyup\":\n          return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n        case \"keydown\":\n          return nativeEvent.keyCode !== START_KEYCODE;\n        case \"keypress\":\n        case \"mousedown\":\n        case \"focusout\":\n          return !0;\n        default:\n          return !1;\n      }\n    }\n    function getDataFromCustomEvent(nativeEvent) {\n      nativeEvent = nativeEvent.detail;\n      return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n        ? nativeEvent.data\n        : null;\n    }\n    function getNativeBeforeInputChars(domEventName, nativeEvent) {\n      switch (domEventName) {\n        case \"compositionend\":\n          return getDataFromCustomEvent(nativeEvent);\n        case \"keypress\":\n          if (nativeEvent.which !== SPACEBAR_CODE) return null;\n          hasSpaceKeypress = !0;\n          return SPACEBAR_CHAR;\n        case \"textInput\":\n          return (\n            (domEventName = nativeEvent.data),\n            domEventName === SPACEBAR_CHAR && hasSpaceKeypress\n              ? null\n              : domEventName\n          );\n        default:\n          return null;\n      }\n    }\n    function getFallbackBeforeInputChars(domEventName, nativeEvent) {\n      if (isComposing)\n        return \"compositionend\" === domEventName ||\n          (!canUseCompositionEvent &&\n            isFallbackCompositionEnd(domEventName, nativeEvent))\n          ? ((domEventName = getData()),\n            (fallbackText = startText = root = null),\n            (isComposing = !1),\n            domEventName)\n          : null;\n      switch (domEventName) {\n        case \"paste\":\n          return null;\n        case \"keypress\":\n          if (\n            !(\n              nativeEvent.ctrlKey ||\n              nativeEvent.altKey ||\n              nativeEvent.metaKey\n            ) ||\n            (nativeEvent.ctrlKey && nativeEvent.altKey)\n          ) {\n            if (nativeEvent.char && 1 < nativeEvent.char.length)\n              return nativeEvent.char;\n            if (nativeEvent.which)\n              return String.fromCharCode(nativeEvent.which);\n          }\n          return null;\n        case \"compositionend\":\n          return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n            ? null\n            : nativeEvent.data;\n        default:\n          return null;\n      }\n    }\n    function isTextInputElement(elem) {\n      var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n      return \"input\" === nodeName\n        ? !!supportedInputTypes[elem.type]\n        : \"textarea\" === nodeName\n          ? !0\n          : !1;\n    }\n    function isEventSupported(eventNameSuffix) {\n      if (!canUseDOM) return !1;\n      eventNameSuffix = \"on\" + eventNameSuffix;\n      var isSupported = eventNameSuffix in document;\n      isSupported ||\n        ((isSupported = document.createElement(\"div\")),\n        isSupported.setAttribute(eventNameSuffix, \"return;\"),\n        (isSupported = \"function\" === typeof isSupported[eventNameSuffix]));\n      return isSupported;\n    }\n    function createAndAccumulateChangeEvent(\n      dispatchQueue,\n      inst,\n      nativeEvent,\n      target\n    ) {\n      restoreTarget\n        ? restoreQueue\n          ? restoreQueue.push(target)\n          : (restoreQueue = [target])\n        : (restoreTarget = target);\n      inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n      0 < inst.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onChange\",\n          \"change\",\n          null,\n          nativeEvent,\n          target\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n    }\n    function runEventInBatch(dispatchQueue) {\n      processDispatchQueue(dispatchQueue, 0);\n    }\n    function getInstIfValueChanged(targetInst) {\n      var targetNode = getNodeFromInstance(targetInst);\n      if (updateValueIfChanged(targetNode)) return targetInst;\n    }\n    function getTargetInstForChangeEvent(domEventName, targetInst) {\n      if (\"change\" === domEventName) return targetInst;\n    }\n    function stopWatchingForValueChange() {\n      activeElement$1 &&\n        (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n        (activeElementInst$1 = activeElement$1 = null));\n    }\n    function handlePropertyChange(nativeEvent) {\n      if (\n        \"value\" === nativeEvent.propertyName &&\n        getInstIfValueChanged(activeElementInst$1)\n      ) {\n        var dispatchQueue = [];\n        createAndAccumulateChangeEvent(\n          dispatchQueue,\n          activeElementInst$1,\n          nativeEvent,\n          getEventTarget(nativeEvent)\n        );\n        batchedUpdates$1(runEventInBatch, dispatchQueue);\n      }\n    }\n    function handleEventsForInputEventPolyfill(\n      domEventName,\n      target,\n      targetInst\n    ) {\n      \"focusin\" === domEventName\n        ? (stopWatchingForValueChange(),\n          (activeElement$1 = target),\n          (activeElementInst$1 = targetInst),\n          activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n        : \"focusout\" === domEventName && stopWatchingForValueChange();\n    }\n    function getTargetInstForInputEventPolyfill(domEventName) {\n      if (\n        \"selectionchange\" === domEventName ||\n        \"keyup\" === domEventName ||\n        \"keydown\" === domEventName\n      )\n        return getInstIfValueChanged(activeElementInst$1);\n    }\n    function getTargetInstForClickEvent(domEventName, targetInst) {\n      if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n    }\n    function getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n      if (\"input\" === domEventName || \"change\" === domEventName)\n        return getInstIfValueChanged(targetInst);\n    }\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    function shallowEqual(objA, objB) {\n      if (objectIs(objA, objB)) return !0;\n      if (\n        \"object\" !== typeof objA ||\n        null === objA ||\n        \"object\" !== typeof objB ||\n        null === objB\n      )\n        return !1;\n      var keysA = Object.keys(objA),\n        keysB = Object.keys(objB);\n      if (keysA.length !== keysB.length) return !1;\n      for (keysB = 0; keysB < keysA.length; keysB++) {\n        var currentKey = keysA[keysB];\n        if (\n          !hasOwnProperty.call(objB, currentKey) ||\n          !objectIs(objA[currentKey], objB[currentKey])\n        )\n          return !1;\n      }\n      return !0;\n    }\n    function getLeafNode(node) {\n      for (; node && node.firstChild; ) node = node.firstChild;\n      return node;\n    }\n    function getNodeForCharacterOffset(root, offset) {\n      var node = getLeafNode(root);\n      root = 0;\n      for (var nodeEnd; node; ) {\n        if (3 === node.nodeType) {\n          nodeEnd = root + node.textContent.length;\n          if (root <= offset && nodeEnd >= offset)\n            return { node: node, offset: offset - root };\n          root = nodeEnd;\n        }\n        a: {\n          for (; node; ) {\n            if (node.nextSibling) {\n              node = node.nextSibling;\n              break a;\n            }\n            node = node.parentNode;\n          }\n          node = void 0;\n        }\n        node = getLeafNode(node);\n      }\n    }\n    function containsNode(outerNode, innerNode) {\n      return outerNode && innerNode\n        ? outerNode === innerNode\n          ? !0\n          : outerNode && 3 === outerNode.nodeType\n            ? !1\n            : innerNode && 3 === innerNode.nodeType\n              ? containsNode(outerNode, innerNode.parentNode)\n              : \"contains\" in outerNode\n                ? outerNode.contains(innerNode)\n                : outerNode.compareDocumentPosition\n                  ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n                  : !1\n        : !1;\n    }\n    function getActiveElementDeep(containerInfo) {\n      containerInfo =\n        null != containerInfo &&\n        null != containerInfo.ownerDocument &&\n        null != containerInfo.ownerDocument.defaultView\n          ? containerInfo.ownerDocument.defaultView\n          : window;\n      for (\n        var element = getActiveElement(containerInfo.document);\n        element instanceof containerInfo.HTMLIFrameElement;\n\n      ) {\n        try {\n          var JSCompiler_inline_result =\n            \"string\" === typeof element.contentWindow.location.href;\n        } catch (err) {\n          JSCompiler_inline_result = !1;\n        }\n        if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n        else break;\n        element = getActiveElement(containerInfo.document);\n      }\n      return element;\n    }\n    function hasSelectionCapabilities(elem) {\n      var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n      return (\n        nodeName &&\n        ((\"input\" === nodeName &&\n          (\"text\" === elem.type ||\n            \"search\" === elem.type ||\n            \"tel\" === elem.type ||\n            \"url\" === elem.type ||\n            \"password\" === elem.type)) ||\n          \"textarea\" === nodeName ||\n          \"true\" === elem.contentEditable)\n      );\n    }\n    function constructSelectEvent(\n      dispatchQueue,\n      nativeEvent,\n      nativeEventTarget\n    ) {\n      var doc =\n        nativeEventTarget.window === nativeEventTarget\n          ? nativeEventTarget.document\n          : 9 === nativeEventTarget.nodeType\n            ? nativeEventTarget\n            : nativeEventTarget.ownerDocument;\n      mouseDown ||\n        null == activeElement ||\n        activeElement !== getActiveElement(doc) ||\n        ((doc = activeElement),\n        \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n          ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n          : ((doc = (\n              (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n              window\n            ).getSelection()),\n            (doc = {\n              anchorNode: doc.anchorNode,\n              anchorOffset: doc.anchorOffset,\n              focusNode: doc.focusNode,\n              focusOffset: doc.focusOffset\n            })),\n        (lastSelection && shallowEqual(lastSelection, doc)) ||\n          ((lastSelection = doc),\n          (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n          0 < doc.length &&\n            ((nativeEvent = new SyntheticEvent(\n              \"onSelect\",\n              \"select\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n            (nativeEvent.target = activeElement))));\n    }\n    function makePrefixMap(styleProp, eventName) {\n      var prefixes = {};\n      prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n      prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n      prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n      return prefixes;\n    }\n    function getVendorPrefixedEventName(eventName) {\n      if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n      if (!vendorPrefixes[eventName]) return eventName;\n      var prefixMap = vendorPrefixes[eventName],\n        styleProp;\n      for (styleProp in prefixMap)\n        if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n          return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n      return eventName;\n    }\n    function registerSimpleEvent(domEventName, reactName) {\n      topLevelEventsToReactNames.set(domEventName, reactName);\n      registerTwoPhaseEvent(reactName, [domEventName]);\n    }\n    function getArrayKind(array) {\n      for (var kind = EMPTY_ARRAY, i = 0; i < array.length; i++) {\n        var value = array[i];\n        if (\"object\" === typeof value && null !== value)\n          if (\n            isArrayImpl(value) &&\n            2 === value.length &&\n            \"string\" === typeof value[0]\n          ) {\n            if (kind !== EMPTY_ARRAY && kind !== ENTRIES_ARRAY)\n              return COMPLEX_ARRAY;\n            kind = ENTRIES_ARRAY;\n          } else return COMPLEX_ARRAY;\n        else {\n          if (\n            \"function\" === typeof value ||\n            (\"string\" === typeof value && 50 < value.length) ||\n            (kind !== EMPTY_ARRAY && kind !== PRIMITIVE_ARRAY)\n          )\n            return COMPLEX_ARRAY;\n          kind = PRIMITIVE_ARRAY;\n        }\n      }\n      return kind;\n    }\n    function addObjectToProperties(object, properties, indent, prefix) {\n      for (var key in object)\n        hasOwnProperty.call(object, key) &&\n          \"_\" !== key[0] &&\n          addValueToProperties(key, object[key], properties, indent, prefix);\n    }\n    function addValueToProperties(\n      propertyName,\n      value,\n      properties,\n      indent,\n      prefix\n    ) {\n      switch (typeof value) {\n        case \"object\":\n          if (null === value) {\n            value = \"null\";\n            break;\n          } else {\n            if (value.$$typeof === REACT_ELEMENT_TYPE) {\n              var typeName = getComponentNameFromType(value.type) || \"\\u2026\",\n                key = value.key;\n              value = value.props;\n              var propsKeys = Object.keys(value),\n                propsLength = propsKeys.length;\n              if (null == key && 0 === propsLength) {\n                value = \"<\" + typeName + \" />\";\n                break;\n              }\n              if (\n                3 > indent ||\n                (1 === propsLength &&\n                  \"children\" === propsKeys[0] &&\n                  null == key)\n              ) {\n                value = \"<\" + typeName + \" \\u2026 />\";\n                break;\n              }\n              properties.push([\n                prefix + \"\\u00a0\\u00a0\".repeat(indent) + propertyName,\n                \"<\" + typeName\n              ]);\n              null !== key &&\n                addValueToProperties(\n                  \"key\",\n                  key,\n                  properties,\n                  indent + 1,\n                  prefix\n                );\n              propertyName = !1;\n              for (var propKey in value)\n                \"children\" === propKey\n                  ? null != value.children &&\n                    (!isArrayImpl(value.children) ||\n                      0 < value.children.length) &&\n                    (propertyName = !0)\n                  : hasOwnProperty.call(value, propKey) &&\n                    \"_\" !== propKey[0] &&\n                    addValueToProperties(\n                      propKey,\n                      value[propKey],\n                      properties,\n                      indent + 1,\n                      prefix\n                    );\n              properties.push([\n                \"\",\n                propertyName ? \">\\u2026</\" + typeName + \">\" : \"/>\"\n              ]);\n              return;\n            }\n            typeName = Object.prototype.toString.call(value);\n            typeName = typeName.slice(8, typeName.length - 1);\n            if (\"Array\" === typeName)\n              if (\n                ((propKey = getArrayKind(value)),\n                propKey === PRIMITIVE_ARRAY || propKey === EMPTY_ARRAY)\n              ) {\n                value = JSON.stringify(value);\n                break;\n              } else if (propKey === ENTRIES_ARRAY) {\n                properties.push([\n                  prefix + \"\\u00a0\\u00a0\".repeat(indent) + propertyName,\n                  \"\"\n                ]);\n                for (\n                  propertyName = 0;\n                  propertyName < value.length;\n                  propertyName++\n                )\n                  (typeName = value[propertyName]),\n                    addValueToProperties(\n                      typeName[0],\n                      typeName[1],\n                      properties,\n                      indent + 1,\n                      prefix\n                    );\n                return;\n              }\n            if (\"Promise\" === typeName) {\n              if (\"fulfilled\" === value.status) {\n                if (\n                  ((typeName = properties.length),\n                  addValueToProperties(\n                    propertyName,\n                    value.value,\n                    properties,\n                    indent,\n                    prefix\n                  ),\n                  properties.length > typeName)\n                ) {\n                  properties = properties[typeName];\n                  properties[1] =\n                    \"Promise<\" + (properties[1] || \"Object\") + \">\";\n                  return;\n                }\n              } else if (\n                \"rejected\" === value.status &&\n                ((typeName = properties.length),\n                addValueToProperties(\n                  propertyName,\n                  value.reason,\n                  properties,\n                  indent,\n                  prefix\n                ),\n                properties.length > typeName)\n              ) {\n                properties = properties[typeName];\n                properties[1] = \"Rejected Promise<\" + properties[1] + \">\";\n                return;\n              }\n              properties.push([\n                \"\\u00a0\\u00a0\".repeat(indent) + propertyName,\n                \"Promise\"\n              ]);\n              return;\n            }\n            \"Object\" === typeName &&\n              (propKey = Object.getPrototypeOf(value)) &&\n              \"function\" === typeof propKey.constructor &&\n              (typeName = propKey.constructor.name);\n            properties.push([\n              prefix + \"\\u00a0\\u00a0\".repeat(indent) + propertyName,\n              \"Object\" === typeName ? (3 > indent ? \"\" : \"\\u2026\") : typeName\n            ]);\n            3 > indent &&\n              addObjectToProperties(value, properties, indent + 1, prefix);\n            return;\n          }\n        case \"function\":\n          value = \"\" === value.name ? \"() => {}\" : value.name + \"() {}\";\n          break;\n        case \"string\":\n          value =\n            value === OMITTED_PROP_ERROR ? \"\\u2026\" : JSON.stringify(value);\n          break;\n        case \"undefined\":\n          value = \"undefined\";\n          break;\n        case \"boolean\":\n          value = value ? \"true\" : \"false\";\n          break;\n        default:\n          value = String(value);\n      }\n      properties.push([\n        prefix + \"\\u00a0\\u00a0\".repeat(indent) + propertyName,\n        value\n      ]);\n    }\n    function addObjectDiffToProperties(prev, next, properties, indent) {\n      var isDeeplyEqual = !0;\n      for (key in prev)\n        key in next ||\n          (properties.push([\n            REMOVED + \"\\u00a0\\u00a0\".repeat(indent) + key,\n            \"\\u2026\"\n          ]),\n          (isDeeplyEqual = !1));\n      for (var _key in next)\n        if (_key in prev) {\n          var key = prev[_key];\n          var nextValue = next[_key];\n          if (key !== nextValue) {\n            if (0 === indent && \"children\" === _key)\n              (isDeeplyEqual = \"\\u00a0\\u00a0\".repeat(indent) + _key),\n                properties.push(\n                  [REMOVED + isDeeplyEqual, \"\\u2026\"],\n                  [ADDED + isDeeplyEqual, \"\\u2026\"]\n                );\n            else {\n              if (!(3 <= indent))\n                if (\n                  \"object\" === typeof key &&\n                  \"object\" === typeof nextValue &&\n                  null !== key &&\n                  null !== nextValue &&\n                  key.$$typeof === nextValue.$$typeof\n                )\n                  if (nextValue.$$typeof === REACT_ELEMENT_TYPE) {\n                    if (\n                      key.type === nextValue.type &&\n                      key.key === nextValue.key\n                    ) {\n                      key =\n                        getComponentNameFromType(nextValue.type) || \"\\u2026\";\n                      isDeeplyEqual = \"\\u00a0\\u00a0\".repeat(indent) + _key;\n                      key = \"<\" + key + \" \\u2026 />\";\n                      properties.push(\n                        [REMOVED + isDeeplyEqual, key],\n                        [ADDED + isDeeplyEqual, key]\n                      );\n                      isDeeplyEqual = !1;\n                      continue;\n                    }\n                  } else {\n                    var prevKind = Object.prototype.toString.call(key),\n                      nextKind = Object.prototype.toString.call(nextValue);\n                    if (\n                      prevKind === nextKind &&\n                      (\"[object Object]\" === nextKind ||\n                        \"[object Array]\" === nextKind)\n                    ) {\n                      prevKind = [\n                        UNCHANGED + \"\\u00a0\\u00a0\".repeat(indent) + _key,\n                        \"[object Array]\" === nextKind ? \"Array\" : \"\"\n                      ];\n                      properties.push(prevKind);\n                      nextKind = properties.length;\n                      addObjectDiffToProperties(\n                        key,\n                        nextValue,\n                        properties,\n                        indent + 1\n                      )\n                        ? nextKind === properties.length &&\n                          (prevKind[1] =\n                            \"Referentially unequal but deeply equal objects. Consider memoization.\")\n                        : (isDeeplyEqual = !1);\n                      continue;\n                    }\n                  }\n                else if (\n                  \"function\" === typeof key &&\n                  \"function\" === typeof nextValue &&\n                  key.name === nextValue.name &&\n                  key.length === nextValue.length &&\n                  ((prevKind = Function.prototype.toString.call(key)),\n                  (nextKind = Function.prototype.toString.call(nextValue)),\n                  prevKind === nextKind)\n                ) {\n                  key =\n                    \"\" === nextValue.name\n                      ? \"() => {}\"\n                      : nextValue.name + \"() {}\";\n                  properties.push([\n                    UNCHANGED + \"\\u00a0\\u00a0\".repeat(indent) + _key,\n                    key +\n                      \" Referentially unequal function closure. Consider memoization.\"\n                  ]);\n                  continue;\n                }\n              addValueToProperties(_key, key, properties, indent, REMOVED);\n              addValueToProperties(_key, nextValue, properties, indent, ADDED);\n            }\n            isDeeplyEqual = !1;\n          }\n        } else\n          properties.push([\n            ADDED + \"\\u00a0\\u00a0\".repeat(indent) + _key,\n            \"\\u2026\"\n          ]),\n            (isDeeplyEqual = !1);\n      return isDeeplyEqual;\n    }\n    function setCurrentTrackFromLanes(lanes) {\n      currentTrack =\n        lanes & 63\n          ? \"Blocking\"\n          : lanes & 64\n            ? \"Gesture\"\n            : lanes & 4194176\n              ? \"Transition\"\n              : lanes & 62914560\n                ? \"Suspense\"\n                : lanes & 2080374784\n                  ? \"Idle\"\n                  : \"Other\";\n    }\n    function logComponentTrigger(fiber, startTime, endTime, trigger) {\n      supportsUserTiming &&\n        ((reusableComponentOptions.start = startTime),\n        (reusableComponentOptions.end = endTime),\n        (reusableComponentDevToolDetails.color = \"warning\"),\n        (reusableComponentDevToolDetails.tooltipText = trigger),\n        (reusableComponentDevToolDetails.properties = null),\n        (fiber = fiber._debugTask)\n          ? fiber.run(\n              performance.measure.bind(\n                performance,\n                trigger,\n                reusableComponentOptions\n              )\n            )\n          : performance.measure(trigger, reusableComponentOptions));\n    }\n    function logComponentReappeared(fiber, startTime, endTime) {\n      logComponentTrigger(fiber, startTime, endTime, \"Reconnect\");\n    }\n    function logComponentRender(\n      fiber,\n      startTime,\n      endTime,\n      wasHydrated,\n      committedLanes\n    ) {\n      var name = getComponentNameFromFiber(fiber);\n      if (null !== name && supportsUserTiming) {\n        var alternate = fiber.alternate,\n          selfTime = fiber.actualDuration;\n        if (null === alternate || alternate.child !== fiber.child)\n          for (var child = fiber.child; null !== child; child = child.sibling)\n            selfTime -= child.actualDuration;\n        wasHydrated =\n          0.5 > selfTime\n            ? wasHydrated\n              ? \"tertiary-light\"\n              : \"primary-light\"\n            : 10 > selfTime\n              ? wasHydrated\n                ? \"tertiary\"\n                : \"primary\"\n              : 100 > selfTime\n                ? wasHydrated\n                  ? \"tertiary-dark\"\n                  : \"primary-dark\"\n                : \"error\";\n        var props = fiber.memoizedProps;\n        selfTime = fiber._debugTask;\n        null !== props &&\n        null !== alternate &&\n        alternate.memoizedProps !== props\n          ? ((child = [resuableChangedPropsEntry]),\n            (props = addObjectDiffToProperties(\n              alternate.memoizedProps,\n              props,\n              child,\n              0\n            )),\n            1 < child.length &&\n              (props &&\n              !alreadyWarnedForDeepEquality &&\n              0 === (alternate.lanes & committedLanes) &&\n              100 < fiber.actualDuration\n                ? ((alreadyWarnedForDeepEquality = !0),\n                  (child[0] = reusableDeeplyEqualPropsEntry),\n                  (reusableComponentDevToolDetails.color = \"warning\"),\n                  (reusableComponentDevToolDetails.tooltipText =\n                    DEEP_EQUALITY_WARNING))\n                : ((reusableComponentDevToolDetails.color = wasHydrated),\n                  (reusableComponentDevToolDetails.tooltipText = name)),\n              (reusableComponentDevToolDetails.properties = child),\n              (reusableComponentOptions.start = startTime),\n              (reusableComponentOptions.end = endTime),\n              null != selfTime\n                ? selfTime.run(\n                    performance.measure.bind(\n                      performance,\n                      \"\\u200b\" + name,\n                      reusableComponentOptions\n                    )\n                  )\n                : performance.measure(\n                    \"\\u200b\" + name,\n                    reusableComponentOptions\n                  )))\n          : null != selfTime\n            ? selfTime.run(\n                console.timeStamp.bind(\n                  console,\n                  name,\n                  startTime,\n                  endTime,\n                  COMPONENTS_TRACK,\n                  void 0,\n                  wasHydrated\n                )\n              )\n            : console.timeStamp(\n                name,\n                startTime,\n                endTime,\n                COMPONENTS_TRACK,\n                void 0,\n                wasHydrated\n              );\n      }\n    }\n    function logComponentErrored(fiber, startTime, endTime, errors) {\n      if (supportsUserTiming) {\n        var name = getComponentNameFromFiber(fiber);\n        if (null !== name) {\n          for (\n            var debugTask = null, properties = [], i = 0;\n            i < errors.length;\n            i++\n          ) {\n            var capturedValue = errors[i];\n            null == debugTask &&\n              null !== capturedValue.source &&\n              (debugTask = capturedValue.source._debugTask);\n            capturedValue = capturedValue.value;\n            properties.push([\n              \"Error\",\n              \"object\" === typeof capturedValue &&\n              null !== capturedValue &&\n              \"string\" === typeof capturedValue.message\n                ? String(capturedValue.message)\n                : String(capturedValue)\n            ]);\n          }\n          null !== fiber.key &&\n            addValueToProperties(\"key\", fiber.key, properties, 0, \"\");\n          null !== fiber.memoizedProps &&\n            addObjectToProperties(fiber.memoizedProps, properties, 0, \"\");\n          null == debugTask && (debugTask = fiber._debugTask);\n          fiber = {\n            start: startTime,\n            end: endTime,\n            detail: {\n              devtools: {\n                color: \"error\",\n                track: COMPONENTS_TRACK,\n                tooltipText:\n                  13 === fiber.tag\n                    ? \"Hydration failed\"\n                    : \"Error boundary caught an error\",\n                properties: properties\n              }\n            }\n          };\n          debugTask\n            ? debugTask.run(\n                performance.measure.bind(performance, \"\\u200b\" + name, fiber)\n              )\n            : performance.measure(\"\\u200b\" + name, fiber);\n        }\n      }\n    }\n    function logComponentEffect(fiber, startTime, endTime, selfTime, errors) {\n      if (null !== errors) {\n        if (supportsUserTiming) {\n          var name = getComponentNameFromFiber(fiber);\n          if (null !== name) {\n            selfTime = [];\n            for (var i = 0; i < errors.length; i++) {\n              var error = errors[i].value;\n              selfTime.push([\n                \"Error\",\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error)\n              ]);\n            }\n            null !== fiber.key &&\n              addValueToProperties(\"key\", fiber.key, selfTime, 0, \"\");\n            null !== fiber.memoizedProps &&\n              addObjectToProperties(fiber.memoizedProps, selfTime, 0, \"\");\n            startTime = {\n              start: startTime,\n              end: endTime,\n              detail: {\n                devtools: {\n                  color: \"error\",\n                  track: COMPONENTS_TRACK,\n                  tooltipText: \"A lifecycle or effect errored\",\n                  properties: selfTime\n                }\n              }\n            };\n            (fiber = fiber._debugTask)\n              ? fiber.run(\n                  performance.measure.bind(\n                    performance,\n                    \"\\u200b\" + name,\n                    startTime\n                  )\n                )\n              : performance.measure(\"\\u200b\" + name, startTime);\n          }\n        }\n      } else\n        (name = getComponentNameFromFiber(fiber)),\n          null !== name &&\n            supportsUserTiming &&\n            ((errors =\n              1 > selfTime\n                ? \"secondary-light\"\n                : 100 > selfTime\n                  ? \"secondary\"\n                  : 500 > selfTime\n                    ? \"secondary-dark\"\n                    : \"error\"),\n            (fiber = fiber._debugTask)\n              ? fiber.run(\n                  console.timeStamp.bind(\n                    console,\n                    name,\n                    startTime,\n                    endTime,\n                    COMPONENTS_TRACK,\n                    void 0,\n                    errors\n                  )\n                )\n              : console.timeStamp(\n                  name,\n                  startTime,\n                  endTime,\n                  COMPONENTS_TRACK,\n                  void 0,\n                  errors\n                ));\n    }\n    function logRenderPhase(startTime, endTime, lanes, debugTask) {\n      if (supportsUserTiming && !(endTime <= startTime)) {\n        var color =\n          (lanes & 738197653) === lanes ? \"tertiary-dark\" : \"primary-dark\";\n        lanes =\n          (lanes & 536870912) === lanes\n            ? \"Prepared\"\n            : (lanes & 201326741) === lanes\n              ? \"Hydrated\"\n              : \"Render\";\n        debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                lanes,\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                color\n              )\n            )\n          : console.timeStamp(\n              lanes,\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              color\n            );\n      }\n    }\n    function logSuspendedRenderPhase(startTime, endTime, lanes, debugTask) {\n      !supportsUserTiming ||\n        endTime <= startTime ||\n        ((lanes =\n          (lanes & 738197653) === lanes ? \"tertiary-dark\" : \"primary-dark\"),\n        debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                \"Prewarm\",\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                lanes\n              )\n            )\n          : console.timeStamp(\n              \"Prewarm\",\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              lanes\n            ));\n    }\n    function logSuspendedWithDelayPhase(startTime, endTime, lanes, debugTask) {\n      !supportsUserTiming ||\n        endTime <= startTime ||\n        ((lanes =\n          (lanes & 738197653) === lanes ? \"tertiary-dark\" : \"primary-dark\"),\n        debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                \"Suspended\",\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                lanes\n              )\n            )\n          : console.timeStamp(\n              \"Suspended\",\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              lanes\n            ));\n    }\n    function logRecoveredRenderPhase(\n      startTime,\n      endTime,\n      lanes,\n      recoverableErrors,\n      hydrationFailed,\n      debugTask\n    ) {\n      if (supportsUserTiming && !(endTime <= startTime)) {\n        lanes = [];\n        for (var i = 0; i < recoverableErrors.length; i++) {\n          var error = recoverableErrors[i].value;\n          lanes.push([\n            \"Recoverable Error\",\n            \"object\" === typeof error &&\n            null !== error &&\n            \"string\" === typeof error.message\n              ? String(error.message)\n              : String(error)\n          ]);\n        }\n        startTime = {\n          start: startTime,\n          end: endTime,\n          detail: {\n            devtools: {\n              color: \"primary-dark\",\n              track: currentTrack,\n              trackGroup: LANES_TRACK_GROUP,\n              tooltipText: hydrationFailed\n                ? \"Hydration Failed\"\n                : \"Recovered after Error\",\n              properties: lanes\n            }\n          }\n        };\n        debugTask\n          ? debugTask.run(\n              performance.measure.bind(performance, \"Recovered\", startTime)\n            )\n          : performance.measure(\"Recovered\", startTime);\n      }\n    }\n    function logErroredRenderPhase(startTime, endTime, lanes, debugTask) {\n      !supportsUserTiming ||\n        endTime <= startTime ||\n        (debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                \"Errored\",\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                \"error\"\n              )\n            )\n          : console.timeStamp(\n              \"Errored\",\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              \"error\"\n            ));\n    }\n    function logSuspendedCommitPhase(startTime, endTime, reason, debugTask) {\n      !supportsUserTiming ||\n        endTime <= startTime ||\n        (debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                reason,\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                \"secondary-light\"\n              )\n            )\n          : console.timeStamp(\n              reason,\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              \"secondary-light\"\n            ));\n    }\n    function logCommitErrored(startTime, endTime, errors, passive, debugTask) {\n      if (supportsUserTiming && !(endTime <= startTime)) {\n        for (var properties = [], i = 0; i < errors.length; i++) {\n          var error = errors[i].value;\n          properties.push([\n            \"Error\",\n            \"object\" === typeof error &&\n            null !== error &&\n            \"string\" === typeof error.message\n              ? String(error.message)\n              : String(error)\n          ]);\n        }\n        startTime = {\n          start: startTime,\n          end: endTime,\n          detail: {\n            devtools: {\n              color: \"error\",\n              track: currentTrack,\n              trackGroup: LANES_TRACK_GROUP,\n              tooltipText: passive\n                ? \"Remaining Effects Errored\"\n                : \"Commit Errored\",\n              properties: properties\n            }\n          }\n        };\n        debugTask\n          ? debugTask.run(\n              performance.measure.bind(performance, \"Errored\", startTime)\n            )\n          : performance.measure(\"Errored\", startTime);\n      }\n    }\n    function logAnimatingPhase(startTime, endTime, debugTask) {\n      !supportsUserTiming ||\n        endTime <= startTime ||\n        (debugTask\n          ? debugTask.run(\n              console.timeStamp.bind(\n                console,\n                \"Animating\",\n                startTime,\n                endTime,\n                currentTrack,\n                LANES_TRACK_GROUP,\n                \"secondary-dark\"\n              )\n            )\n          : console.timeStamp(\n              \"Animating\",\n              startTime,\n              endTime,\n              currentTrack,\n              LANES_TRACK_GROUP,\n              \"secondary-dark\"\n            ));\n    }\n    function finishQueueingConcurrentUpdates() {\n      for (\n        var endIndex = concurrentQueuesIndex,\n          i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n        i < endIndex;\n\n      ) {\n        var fiber = concurrentQueues[i];\n        concurrentQueues[i++] = null;\n        var queue = concurrentQueues[i];\n        concurrentQueues[i++] = null;\n        var update = concurrentQueues[i];\n        concurrentQueues[i++] = null;\n        var lane = concurrentQueues[i];\n        concurrentQueues[i++] = null;\n        if (null !== queue && null !== update) {\n          var pending = queue.pending;\n          null === pending\n            ? (update.next = update)\n            : ((update.next = pending.next), (pending.next = update));\n          queue.pending = update;\n        }\n        0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n      }\n    }\n    function enqueueUpdate$1(fiber, queue, update, lane) {\n      concurrentQueues[concurrentQueuesIndex++] = fiber;\n      concurrentQueues[concurrentQueuesIndex++] = queue;\n      concurrentQueues[concurrentQueuesIndex++] = update;\n      concurrentQueues[concurrentQueuesIndex++] = lane;\n      concurrentlyUpdatedLanes |= lane;\n      fiber.lanes |= lane;\n      fiber = fiber.alternate;\n      null !== fiber && (fiber.lanes |= lane);\n    }\n    function enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n      enqueueUpdate$1(fiber, queue, update, lane);\n      return getRootForUpdatedFiber(fiber);\n    }\n    function enqueueConcurrentRenderForLane(fiber, lane) {\n      enqueueUpdate$1(fiber, null, null, lane);\n      return getRootForUpdatedFiber(fiber);\n    }\n    function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n      sourceFiber.lanes |= lane;\n      var alternate = sourceFiber.alternate;\n      null !== alternate && (alternate.lanes |= lane);\n      for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n        (parent.childLanes |= lane),\n          (alternate = parent.alternate),\n          null !== alternate && (alternate.childLanes |= lane),\n          22 === parent.tag &&\n            ((sourceFiber = parent.stateNode),\n            null === sourceFiber ||\n              sourceFiber._visibility & OffscreenVisible ||\n              (isHidden = !0)),\n          (sourceFiber = parent),\n          (parent = parent.return);\n      return 3 === sourceFiber.tag\n        ? ((parent = sourceFiber.stateNode),\n          isHidden &&\n            null !== update &&\n            ((isHidden = 31 - clz32(lane)),\n            (sourceFiber = parent.hiddenUpdates),\n            (alternate = sourceFiber[isHidden]),\n            null === alternate\n              ? (sourceFiber[isHidden] = [update])\n              : alternate.push(update),\n            (update.lane = lane | 536870912)),\n          parent)\n        : null;\n    }\n    function getRootForUpdatedFiber(sourceFiber) {\n      if (nestedUpdateCount > NESTED_UPDATE_LIMIT)\n        throw (\n          ((nestedPassiveUpdateCount = nestedUpdateCount = 0),\n          (rootWithPassiveNestedUpdates = rootWithNestedUpdates = null),\n          Error(\n            \"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.\"\n          ))\n        );\n      nestedPassiveUpdateCount > NESTED_PASSIVE_UPDATE_LIMIT &&\n        ((nestedPassiveUpdateCount = 0),\n        (rootWithPassiveNestedUpdates = null),\n        console.error(\n          \"Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.\"\n        ));\n      null === sourceFiber.alternate &&\n        0 !== (sourceFiber.flags & 4098) &&\n        warnAboutUpdateOnNotYetMountedFiberInDEV(sourceFiber);\n      for (var node = sourceFiber, parent = node.return; null !== parent; )\n        null === node.alternate &&\n          0 !== (node.flags & 4098) &&\n          warnAboutUpdateOnNotYetMountedFiberInDEV(sourceFiber),\n          (node = parent),\n          (parent = node.return);\n      return 3 === node.tag ? node.stateNode : null;\n    }\n    function resolveFunctionForHotReloading(type) {\n      if (null === resolveFamily) return type;\n      var family = resolveFamily(type);\n      return void 0 === family ? type : family.current;\n    }\n    function resolveForwardRefForHotReloading(type) {\n      if (null === resolveFamily) return type;\n      var family = resolveFamily(type);\n      return void 0 === family\n        ? null !== type &&\n          void 0 !== type &&\n          \"function\" === typeof type.render &&\n          ((family = resolveFunctionForHotReloading(type.render)),\n          type.render !== family)\n          ? ((family = { $$typeof: REACT_FORWARD_REF_TYPE, render: family }),\n            void 0 !== type.displayName &&\n              (family.displayName = type.displayName),\n            family)\n          : type\n        : family.current;\n    }\n    function isCompatibleFamilyForHotReloading(fiber, element) {\n      if (null === resolveFamily) return !1;\n      var prevType = fiber.elementType;\n      element = element.type;\n      var needsCompareFamilies = !1,\n        $$typeofNextType =\n          \"object\" === typeof element && null !== element\n            ? element.$$typeof\n            : null;\n      switch (fiber.tag) {\n        case 1:\n          \"function\" === typeof element && (needsCompareFamilies = !0);\n          break;\n        case 0:\n          \"function\" === typeof element\n            ? (needsCompareFamilies = !0)\n            : $$typeofNextType === REACT_LAZY_TYPE &&\n              (needsCompareFamilies = !0);\n          break;\n        case 11:\n          $$typeofNextType === REACT_FORWARD_REF_TYPE\n            ? (needsCompareFamilies = !0)\n            : $$typeofNextType === REACT_LAZY_TYPE &&\n              (needsCompareFamilies = !0);\n          break;\n        case 14:\n        case 15:\n          $$typeofNextType === REACT_MEMO_TYPE\n            ? (needsCompareFamilies = !0)\n            : $$typeofNextType === REACT_LAZY_TYPE &&\n              (needsCompareFamilies = !0);\n          break;\n        default:\n          return !1;\n      }\n      return needsCompareFamilies &&\n        ((fiber = resolveFamily(prevType)),\n        void 0 !== fiber && fiber === resolveFamily(element))\n        ? !0\n        : !1;\n    }\n    function markFailedErrorBoundaryForHotReloading(fiber) {\n      null !== resolveFamily &&\n        \"function\" === typeof WeakSet &&\n        (null === failedBoundaries && (failedBoundaries = new WeakSet()),\n        failedBoundaries.add(fiber));\n    }\n    function scheduleFibersWithFamiliesRecursively(\n      fiber,\n      updatedFamilies,\n      staleFamilies\n    ) {\n      do {\n        var _fiber = fiber,\n          alternate = _fiber.alternate,\n          child = _fiber.child,\n          sibling = _fiber.sibling,\n          tag = _fiber.tag;\n        _fiber = _fiber.type;\n        var candidateType = null;\n        switch (tag) {\n          case 0:\n          case 15:\n          case 1:\n            candidateType = _fiber;\n            break;\n          case 11:\n            candidateType = _fiber.render;\n        }\n        if (null === resolveFamily)\n          throw Error(\"Expected resolveFamily to be set during hot reload.\");\n        var needsRender = !1;\n        _fiber = !1;\n        null !== candidateType &&\n          ((candidateType = resolveFamily(candidateType)),\n          void 0 !== candidateType &&\n            (staleFamilies.has(candidateType)\n              ? (_fiber = !0)\n              : updatedFamilies.has(candidateType) &&\n                (1 === tag ? (_fiber = !0) : (needsRender = !0))));\n        null !== failedBoundaries &&\n          (failedBoundaries.has(fiber) ||\n            (null !== alternate && failedBoundaries.has(alternate))) &&\n          (_fiber = !0);\n        _fiber && (fiber._debugNeedsRemount = !0);\n        if (_fiber || needsRender)\n          (alternate = enqueueConcurrentRenderForLane(fiber, 2)),\n            null !== alternate && scheduleUpdateOnFiber(alternate, fiber, 2);\n        null === child ||\n          _fiber ||\n          scheduleFibersWithFamiliesRecursively(\n            child,\n            updatedFamilies,\n            staleFamilies\n          );\n        if (null === sibling) break;\n        fiber = sibling;\n      } while (1);\n    }\n    function FiberNode(tag, pendingProps, key, mode) {\n      this.tag = tag;\n      this.key = key;\n      this.sibling =\n        this.child =\n        this.return =\n        this.stateNode =\n        this.type =\n        this.elementType =\n          null;\n      this.index = 0;\n      this.refCleanup = this.ref = null;\n      this.pendingProps = pendingProps;\n      this.dependencies =\n        this.memoizedState =\n        this.updateQueue =\n        this.memoizedProps =\n          null;\n      this.mode = mode;\n      this.subtreeFlags = this.flags = 0;\n      this.deletions = null;\n      this.childLanes = this.lanes = 0;\n      this.alternate = null;\n      this.actualDuration = -0;\n      this.actualStartTime = -1.1;\n      this.treeBaseDuration = this.selfBaseDuration = -0;\n      this._debugTask =\n        this._debugStack =\n        this._debugOwner =\n        this._debugInfo =\n          null;\n      this._debugNeedsRemount = !1;\n      this._debugHookTypes = null;\n      hasBadMapPolyfill ||\n        \"function\" !== typeof Object.preventExtensions ||\n        Object.preventExtensions(this);\n    }\n    function shouldConstruct(Component) {\n      Component = Component.prototype;\n      return !(!Component || !Component.isReactComponent);\n    }\n    function createWorkInProgress(current, pendingProps) {\n      var workInProgress = current.alternate;\n      null === workInProgress\n        ? ((workInProgress = createFiber(\n            current.tag,\n            pendingProps,\n            current.key,\n            current.mode\n          )),\n          (workInProgress.elementType = current.elementType),\n          (workInProgress.type = current.type),\n          (workInProgress.stateNode = current.stateNode),\n          (workInProgress._debugOwner = current._debugOwner),\n          (workInProgress._debugStack = current._debugStack),\n          (workInProgress._debugTask = current._debugTask),\n          (workInProgress._debugHookTypes = current._debugHookTypes),\n          (workInProgress.alternate = current),\n          (current.alternate = workInProgress))\n        : ((workInProgress.pendingProps = pendingProps),\n          (workInProgress.type = current.type),\n          (workInProgress.flags = 0),\n          (workInProgress.subtreeFlags = 0),\n          (workInProgress.deletions = null),\n          (workInProgress.actualDuration = -0),\n          (workInProgress.actualStartTime = -1.1));\n      workInProgress.flags = current.flags & 65011712;\n      workInProgress.childLanes = current.childLanes;\n      workInProgress.lanes = current.lanes;\n      workInProgress.child = current.child;\n      workInProgress.memoizedProps = current.memoizedProps;\n      workInProgress.memoizedState = current.memoizedState;\n      workInProgress.updateQueue = current.updateQueue;\n      pendingProps = current.dependencies;\n      workInProgress.dependencies =\n        null === pendingProps\n          ? null\n          : {\n              lanes: pendingProps.lanes,\n              firstContext: pendingProps.firstContext,\n              _debugThenableState: pendingProps._debugThenableState\n            };\n      workInProgress.sibling = current.sibling;\n      workInProgress.index = current.index;\n      workInProgress.ref = current.ref;\n      workInProgress.refCleanup = current.refCleanup;\n      workInProgress.selfBaseDuration = current.selfBaseDuration;\n      workInProgress.treeBaseDuration = current.treeBaseDuration;\n      workInProgress._debugInfo = current._debugInfo;\n      workInProgress._debugNeedsRemount = current._debugNeedsRemount;\n      switch (workInProgress.tag) {\n        case 0:\n        case 15:\n          workInProgress.type = resolveFunctionForHotReloading(current.type);\n          break;\n        case 1:\n          workInProgress.type = resolveFunctionForHotReloading(current.type);\n          break;\n        case 11:\n          workInProgress.type = resolveForwardRefForHotReloading(current.type);\n      }\n      return workInProgress;\n    }\n    function resetWorkInProgress(workInProgress, renderLanes) {\n      workInProgress.flags &= 65011714;\n      var current = workInProgress.alternate;\n      null === current\n        ? ((workInProgress.childLanes = 0),\n          (workInProgress.lanes = renderLanes),\n          (workInProgress.child = null),\n          (workInProgress.subtreeFlags = 0),\n          (workInProgress.memoizedProps = null),\n          (workInProgress.memoizedState = null),\n          (workInProgress.updateQueue = null),\n          (workInProgress.dependencies = null),\n          (workInProgress.stateNode = null),\n          (workInProgress.selfBaseDuration = 0),\n          (workInProgress.treeBaseDuration = 0))\n        : ((workInProgress.childLanes = current.childLanes),\n          (workInProgress.lanes = current.lanes),\n          (workInProgress.child = current.child),\n          (workInProgress.subtreeFlags = 0),\n          (workInProgress.deletions = null),\n          (workInProgress.memoizedProps = current.memoizedProps),\n          (workInProgress.memoizedState = current.memoizedState),\n          (workInProgress.updateQueue = current.updateQueue),\n          (workInProgress.type = current.type),\n          (renderLanes = current.dependencies),\n          (workInProgress.dependencies =\n            null === renderLanes\n              ? null\n              : {\n                  lanes: renderLanes.lanes,\n                  firstContext: renderLanes.firstContext,\n                  _debugThenableState: renderLanes._debugThenableState\n                }),\n          (workInProgress.selfBaseDuration = current.selfBaseDuration),\n          (workInProgress.treeBaseDuration = current.treeBaseDuration));\n      return workInProgress;\n    }\n    function createFiberFromTypeAndProps(\n      type,\n      key,\n      pendingProps,\n      owner,\n      mode,\n      lanes\n    ) {\n      var fiberTag = 0,\n        resolvedType = type;\n      if (\"function\" === typeof type)\n        shouldConstruct(type) && (fiberTag = 1),\n          (resolvedType = resolveFunctionForHotReloading(resolvedType));\n      else if (\"string\" === typeof type)\n        (fiberTag = getHostContext()),\n          (fiberTag = isHostHoistableType(type, pendingProps, fiberTag)\n            ? 26\n            : \"html\" === type || \"head\" === type || \"body\" === type\n              ? 27\n              : 5);\n      else\n        a: switch (type) {\n          case REACT_ACTIVITY_TYPE:\n            return (\n              (key = createFiber(31, pendingProps, key, mode)),\n              (key.elementType = REACT_ACTIVITY_TYPE),\n              (key.lanes = lanes),\n              key\n            );\n          case REACT_FRAGMENT_TYPE:\n            return createFiberFromFragment(\n              pendingProps.children,\n              mode,\n              lanes,\n              key\n            );\n          case REACT_STRICT_MODE_TYPE:\n            fiberTag = 8;\n            mode |= StrictLegacyMode;\n            mode |= StrictEffectsMode;\n            break;\n          case REACT_PROFILER_TYPE:\n            return (\n              (type = pendingProps),\n              (owner = mode),\n              \"string\" !== typeof type.id &&\n                console.error(\n                  'Profiler must specify an \"id\" of type `string` as a prop. Received the type `%s` instead.',\n                  typeof type.id\n                ),\n              (key = createFiber(12, type, key, owner | ProfileMode)),\n              (key.elementType = REACT_PROFILER_TYPE),\n              (key.lanes = lanes),\n              (key.stateNode = { effectDuration: 0, passiveEffectDuration: 0 }),\n              key\n            );\n          case REACT_SUSPENSE_TYPE:\n            return (\n              (key = createFiber(13, pendingProps, key, mode)),\n              (key.elementType = REACT_SUSPENSE_TYPE),\n              (key.lanes = lanes),\n              key\n            );\n          case REACT_SUSPENSE_LIST_TYPE:\n            return (\n              (key = createFiber(19, pendingProps, key, mode)),\n              (key.elementType = REACT_SUSPENSE_LIST_TYPE),\n              (key.lanes = lanes),\n              key\n            );\n          default:\n            if (\"object\" === typeof type && null !== type)\n              switch (type.$$typeof) {\n                case REACT_CONTEXT_TYPE:\n                  fiberTag = 10;\n                  break a;\n                case REACT_CONSUMER_TYPE:\n                  fiberTag = 9;\n                  break a;\n                case REACT_FORWARD_REF_TYPE:\n                  fiberTag = 11;\n                  resolvedType = resolveForwardRefForHotReloading(resolvedType);\n                  break a;\n                case REACT_MEMO_TYPE:\n                  fiberTag = 14;\n                  break a;\n                case REACT_LAZY_TYPE:\n                  fiberTag = 16;\n                  resolvedType = null;\n                  break a;\n              }\n            resolvedType = \"\";\n            if (\n              void 0 === type ||\n              (\"object\" === typeof type &&\n                null !== type &&\n                0 === Object.keys(type).length)\n            )\n              resolvedType +=\n                \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\";\n            null === type\n              ? (pendingProps = \"null\")\n              : isArrayImpl(type)\n                ? (pendingProps = \"array\")\n                : void 0 !== type && type.$$typeof === REACT_ELEMENT_TYPE\n                  ? ((pendingProps =\n                      \"<\" +\n                      (getComponentNameFromType(type.type) || \"Unknown\") +\n                      \" />\"),\n                    (resolvedType =\n                      \" Did you accidentally export a JSX literal instead of a component?\"))\n                  : (pendingProps = typeof type);\n            (fiberTag = owner ? getComponentNameFromOwner(owner) : null) &&\n              (resolvedType +=\n                \"\\n\\nCheck the render method of `\" + fiberTag + \"`.\");\n            fiberTag = 29;\n            pendingProps = Error(\n              \"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: \" +\n                (pendingProps + \".\" + resolvedType)\n            );\n            resolvedType = null;\n        }\n      key = createFiber(fiberTag, pendingProps, key, mode);\n      key.elementType = type;\n      key.type = resolvedType;\n      key.lanes = lanes;\n      key._debugOwner = owner;\n      return key;\n    }\n    function createFiberFromElement(element, mode, lanes) {\n      mode = createFiberFromTypeAndProps(\n        element.type,\n        element.key,\n        element.props,\n        element._owner,\n        mode,\n        lanes\n      );\n      mode._debugOwner = element._owner;\n      mode._debugStack = element._debugStack;\n      mode._debugTask = element._debugTask;\n      return mode;\n    }\n    function createFiberFromFragment(elements, mode, lanes, key) {\n      elements = createFiber(7, elements, key, mode);\n      elements.lanes = lanes;\n      return elements;\n    }\n    function createFiberFromText(content, mode, lanes) {\n      content = createFiber(6, content, null, mode);\n      content.lanes = lanes;\n      return content;\n    }\n    function createFiberFromDehydratedFragment(dehydratedNode) {\n      var fiber = createFiber(18, null, null, NoMode);\n      fiber.stateNode = dehydratedNode;\n      return fiber;\n    }\n    function createFiberFromPortal(portal, mode, lanes) {\n      mode = createFiber(\n        4,\n        null !== portal.children ? portal.children : [],\n        portal.key,\n        mode\n      );\n      mode.lanes = lanes;\n      mode.stateNode = {\n        containerInfo: portal.containerInfo,\n        pendingChildren: null,\n        implementation: portal.implementation\n      };\n      return mode;\n    }\n    function createCapturedValueAtFiber(value, source) {\n      if (\"object\" === typeof value && null !== value) {\n        var existing = CapturedStacks.get(value);\n        if (void 0 !== existing) return existing;\n        source = {\n          value: value,\n          source: source,\n          stack: getStackByFiberInDevAndProd(source)\n        };\n        CapturedStacks.set(value, source);\n        return source;\n      }\n      return {\n        value: value,\n        source: source,\n        stack: getStackByFiberInDevAndProd(source)\n      };\n    }\n    function pushTreeFork(workInProgress, totalChildren) {\n      warnIfNotHydrating();\n      forkStack[forkStackIndex++] = treeForkCount;\n      forkStack[forkStackIndex++] = treeForkProvider;\n      treeForkProvider = workInProgress;\n      treeForkCount = totalChildren;\n    }\n    function pushTreeId(workInProgress, totalChildren, index) {\n      warnIfNotHydrating();\n      idStack[idStackIndex++] = treeContextId;\n      idStack[idStackIndex++] = treeContextOverflow;\n      idStack[idStackIndex++] = treeContextProvider;\n      treeContextProvider = workInProgress;\n      var baseIdWithLeadingBit = treeContextId;\n      workInProgress = treeContextOverflow;\n      var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n      baseIdWithLeadingBit &= ~(1 << baseLength);\n      index += 1;\n      var length = 32 - clz32(totalChildren) + baseLength;\n      if (30 < length) {\n        var numberOfOverflowBits = baseLength - (baseLength % 5);\n        length = (\n          baseIdWithLeadingBit &\n          ((1 << numberOfOverflowBits) - 1)\n        ).toString(32);\n        baseIdWithLeadingBit >>= numberOfOverflowBits;\n        baseLength -= numberOfOverflowBits;\n        treeContextId =\n          (1 << (32 - clz32(totalChildren) + baseLength)) |\n          (index << baseLength) |\n          baseIdWithLeadingBit;\n        treeContextOverflow = length + workInProgress;\n      } else\n        (treeContextId =\n          (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n          (treeContextOverflow = workInProgress);\n    }\n    function pushMaterializedTreeId(workInProgress) {\n      warnIfNotHydrating();\n      null !== workInProgress.return &&\n        (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n    }\n    function popTreeContext(workInProgress) {\n      for (; workInProgress === treeForkProvider; )\n        (treeForkProvider = forkStack[--forkStackIndex]),\n          (forkStack[forkStackIndex] = null),\n          (treeForkCount = forkStack[--forkStackIndex]),\n          (forkStack[forkStackIndex] = null);\n      for (; workInProgress === treeContextProvider; )\n        (treeContextProvider = idStack[--idStackIndex]),\n          (idStack[idStackIndex] = null),\n          (treeContextOverflow = idStack[--idStackIndex]),\n          (idStack[idStackIndex] = null),\n          (treeContextId = idStack[--idStackIndex]),\n          (idStack[idStackIndex] = null);\n    }\n    function getSuspendedTreeContext() {\n      warnIfNotHydrating();\n      return null !== treeContextProvider\n        ? { id: treeContextId, overflow: treeContextOverflow }\n        : null;\n    }\n    function restoreSuspendedTreeContext(workInProgress, suspendedContext) {\n      warnIfNotHydrating();\n      idStack[idStackIndex++] = treeContextId;\n      idStack[idStackIndex++] = treeContextOverflow;\n      idStack[idStackIndex++] = treeContextProvider;\n      treeContextId = suspendedContext.id;\n      treeContextOverflow = suspendedContext.overflow;\n      treeContextProvider = workInProgress;\n    }\n    function warnIfNotHydrating() {\n      isHydrating ||\n        console.error(\n          \"Expected to be hydrating. This is a bug in React. Please file an issue.\"\n        );\n    }\n    function buildHydrationDiffNode(fiber, distanceFromLeaf) {\n      if (null === fiber.return) {\n        if (null === hydrationDiffRootDEV)\n          hydrationDiffRootDEV = {\n            fiber: fiber,\n            children: [],\n            serverProps: void 0,\n            serverTail: [],\n            distanceFromLeaf: distanceFromLeaf\n          };\n        else {\n          if (hydrationDiffRootDEV.fiber !== fiber)\n            throw Error(\n              \"Saw multiple hydration diff roots in a pass. This is a bug in React.\"\n            );\n          hydrationDiffRootDEV.distanceFromLeaf > distanceFromLeaf &&\n            (hydrationDiffRootDEV.distanceFromLeaf = distanceFromLeaf);\n        }\n        return hydrationDiffRootDEV;\n      }\n      var siblings = buildHydrationDiffNode(\n        fiber.return,\n        distanceFromLeaf + 1\n      ).children;\n      if (0 < siblings.length && siblings[siblings.length - 1].fiber === fiber)\n        return (\n          (siblings = siblings[siblings.length - 1]),\n          siblings.distanceFromLeaf > distanceFromLeaf &&\n            (siblings.distanceFromLeaf = distanceFromLeaf),\n          siblings\n        );\n      distanceFromLeaf = {\n        fiber: fiber,\n        children: [],\n        serverProps: void 0,\n        serverTail: [],\n        distanceFromLeaf: distanceFromLeaf\n      };\n      siblings.push(distanceFromLeaf);\n      return distanceFromLeaf;\n    }\n    function warnIfHydrating() {\n      isHydrating &&\n        console.error(\n          \"We should not be hydrating here. This is a bug in React. Please file a bug.\"\n        );\n    }\n    function warnNonHydratedInstance(fiber, rejectedCandidate) {\n      didSuspendOrErrorDEV ||\n        ((fiber = buildHydrationDiffNode(fiber, 0)),\n        (fiber.serverProps = null),\n        null !== rejectedCandidate &&\n          ((rejectedCandidate =\n            describeHydratableInstanceForDevWarnings(rejectedCandidate)),\n          fiber.serverTail.push(rejectedCandidate)));\n    }\n    function throwOnHydrationMismatch(fiber) {\n      var fromText =\n          1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1,\n        diff = \"\",\n        diffRoot = hydrationDiffRootDEV;\n      null !== diffRoot &&\n        ((hydrationDiffRootDEV = null), (diff = describeDiff(diffRoot)));\n      queueHydrationError(\n        createCapturedValueAtFiber(\n          Error(\n            \"Hydration failed because the server rendered \" +\n              (fromText ? \"text\" : \"HTML\") +\n              \" didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\\n\\n- A server/client branch `if (typeof window !== 'undefined')`.\\n- Variable input such as `Date.now()` or `Math.random()` which changes each time it's called.\\n- Date formatting in a user's locale which doesn't match the server.\\n- External changing data without sending a snapshot of it along with the HTML.\\n- Invalid HTML tag nesting.\\n\\nIt can also happen if the client has a browser extension installed which messes with the HTML before React loaded.\\n\\nhttps://react.dev/link/hydration-mismatch\" +\n              diff\n          ),\n          fiber\n        )\n      );\n      throw HydrationMismatchException;\n    }\n    function prepareToHydrateHostInstance(fiber) {\n      var didHydrate = fiber.stateNode;\n      var type = fiber.type,\n        props = fiber.memoizedProps;\n      didHydrate[internalInstanceKey] = fiber;\n      didHydrate[internalPropsKey] = props;\n      validatePropertiesInDevelopment(type, props);\n      switch (type) {\n        case \"dialog\":\n          listenToNonDelegatedEvent(\"cancel\", didHydrate);\n          listenToNonDelegatedEvent(\"close\", didHydrate);\n          break;\n        case \"iframe\":\n        case \"object\":\n        case \"embed\":\n          listenToNonDelegatedEvent(\"load\", didHydrate);\n          break;\n        case \"video\":\n        case \"audio\":\n          for (type = 0; type < mediaEventTypes.length; type++)\n            listenToNonDelegatedEvent(mediaEventTypes[type], didHydrate);\n          break;\n        case \"source\":\n          listenToNonDelegatedEvent(\"error\", didHydrate);\n          break;\n        case \"img\":\n        case \"image\":\n        case \"link\":\n          listenToNonDelegatedEvent(\"error\", didHydrate);\n          listenToNonDelegatedEvent(\"load\", didHydrate);\n          break;\n        case \"details\":\n          listenToNonDelegatedEvent(\"toggle\", didHydrate);\n          break;\n        case \"input\":\n          checkControlledValueProps(\"input\", props);\n          listenToNonDelegatedEvent(\"invalid\", didHydrate);\n          validateInputProps(didHydrate, props);\n          initInput(\n            didHydrate,\n            props.value,\n            props.defaultValue,\n            props.checked,\n            props.defaultChecked,\n            props.type,\n            props.name,\n            !0\n          );\n          break;\n        case \"option\":\n          validateOptionProps(didHydrate, props);\n          break;\n        case \"select\":\n          checkControlledValueProps(\"select\", props);\n          listenToNonDelegatedEvent(\"invalid\", didHydrate);\n          validateSelectProps(didHydrate, props);\n          break;\n        case \"textarea\":\n          checkControlledValueProps(\"textarea\", props),\n            listenToNonDelegatedEvent(\"invalid\", didHydrate),\n            validateTextareaProps(didHydrate, props),\n            initTextarea(\n              didHydrate,\n              props.value,\n              props.defaultValue,\n              props.children\n            );\n      }\n      type = props.children;\n      (\"string\" !== typeof type &&\n        \"number\" !== typeof type &&\n        \"bigint\" !== typeof type) ||\n      didHydrate.textContent === \"\" + type ||\n      !0 === props.suppressHydrationWarning ||\n      checkForUnmatchedText(didHydrate.textContent, type)\n        ? (null != props.popover &&\n            (listenToNonDelegatedEvent(\"beforetoggle\", didHydrate),\n            listenToNonDelegatedEvent(\"toggle\", didHydrate)),\n          null != props.onScroll &&\n            listenToNonDelegatedEvent(\"scroll\", didHydrate),\n          null != props.onScrollEnd &&\n            listenToNonDelegatedEvent(\"scrollend\", didHydrate),\n          null != props.onClick && (didHydrate.onclick = noop$1),\n          (didHydrate = !0))\n        : (didHydrate = !1);\n      didHydrate || throwOnHydrationMismatch(fiber, !0);\n    }\n    function popToNextHostParent(fiber) {\n      for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n        switch (hydrationParentFiber.tag) {\n          case 5:\n          case 31:\n          case 13:\n            rootOrSingletonContext = !1;\n            return;\n          case 27:\n          case 3:\n            rootOrSingletonContext = !0;\n            return;\n          default:\n            hydrationParentFiber = hydrationParentFiber.return;\n        }\n    }\n    function popHydrationState(fiber) {\n      if (fiber !== hydrationParentFiber) return !1;\n      if (!isHydrating)\n        return popToNextHostParent(fiber), (isHydrating = !0), !1;\n      var tag = fiber.tag,\n        JSCompiler_temp;\n      if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n        if ((JSCompiler_temp = 5 === tag))\n          (JSCompiler_temp = fiber.type),\n            (JSCompiler_temp =\n              !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n              shouldSetTextContent(fiber.type, fiber.memoizedProps));\n        JSCompiler_temp = !JSCompiler_temp;\n      }\n      if (JSCompiler_temp && nextHydratableInstance) {\n        for (JSCompiler_temp = nextHydratableInstance; JSCompiler_temp; ) {\n          var diffNode = buildHydrationDiffNode(fiber, 0),\n            description =\n              describeHydratableInstanceForDevWarnings(JSCompiler_temp);\n          diffNode.serverTail.push(description);\n          JSCompiler_temp =\n            \"Suspense\" === description.type\n              ? getNextHydratableInstanceAfterHydrationBoundary(JSCompiler_temp)\n              : getNextHydratable(JSCompiler_temp.nextSibling);\n        }\n        throwOnHydrationMismatch(fiber);\n      }\n      popToNextHostParent(fiber);\n      if (13 === tag) {\n        fiber = fiber.memoizedState;\n        fiber = null !== fiber ? fiber.dehydrated : null;\n        if (!fiber)\n          throw Error(\n            \"Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n        nextHydratableInstance =\n          getNextHydratableInstanceAfterHydrationBoundary(fiber);\n      } else if (31 === tag) {\n        fiber = fiber.memoizedState;\n        fiber = null !== fiber ? fiber.dehydrated : null;\n        if (!fiber)\n          throw Error(\n            \"Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n        nextHydratableInstance =\n          getNextHydratableInstanceAfterHydrationBoundary(fiber);\n      } else\n        27 === tag\n          ? ((tag = nextHydratableInstance),\n            isSingletonScope(fiber.type)\n              ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n                (previousHydratableOnEnteringScopedSingleton = null),\n                (nextHydratableInstance = fiber))\n              : (nextHydratableInstance = tag))\n          : (nextHydratableInstance = hydrationParentFiber\n              ? getNextHydratable(fiber.stateNode.nextSibling)\n              : null);\n      return !0;\n    }\n    function resetHydrationState() {\n      nextHydratableInstance = hydrationParentFiber = null;\n      didSuspendOrErrorDEV = isHydrating = !1;\n    }\n    function upgradeHydrationErrorsToRecoverable() {\n      var queuedErrors = hydrationErrors;\n      null !== queuedErrors &&\n        (null === workInProgressRootRecoverableErrors\n          ? (workInProgressRootRecoverableErrors = queuedErrors)\n          : workInProgressRootRecoverableErrors.push.apply(\n              workInProgressRootRecoverableErrors,\n              queuedErrors\n            ),\n        (hydrationErrors = null));\n      return queuedErrors;\n    }\n    function queueHydrationError(error) {\n      null === hydrationErrors\n        ? (hydrationErrors = [error])\n        : hydrationErrors.push(error);\n    }\n    function emitPendingHydrationWarnings() {\n      var diffRoot = hydrationDiffRootDEV;\n      if (null !== diffRoot) {\n        hydrationDiffRootDEV = null;\n        for (var diff = describeDiff(diffRoot); 0 < diffRoot.children.length; )\n          diffRoot = diffRoot.children[0];\n        runWithFiberInDEV(diffRoot.fiber, function () {\n          console.error(\n            \"A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:\\n\\n- A server/client branch `if (typeof window !== 'undefined')`.\\n- Variable input such as `Date.now()` or `Math.random()` which changes each time it's called.\\n- Date formatting in a user's locale which doesn't match the server.\\n- External changing data without sending a snapshot of it along with the HTML.\\n- Invalid HTML tag nesting.\\n\\nIt can also happen if the client has a browser extension installed which messes with the HTML before React loaded.\\n\\n%s%s\",\n            \"https://react.dev/link/hydration-mismatch\",\n            diff\n          );\n        });\n      }\n    }\n    function resetContextDependencies() {\n      lastContextDependency = currentlyRenderingFiber$1 = null;\n      isDisallowedContextReadInDEV = !1;\n    }\n    function pushProvider(providerFiber, context, nextValue) {\n      push(valueCursor, context._currentValue, providerFiber);\n      context._currentValue = nextValue;\n      push(rendererCursorDEV, context._currentRenderer, providerFiber);\n      void 0 !== context._currentRenderer &&\n        null !== context._currentRenderer &&\n        context._currentRenderer !== rendererSigil &&\n        console.error(\n          \"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported.\"\n        );\n      context._currentRenderer = rendererSigil;\n    }\n    function popProvider(context, providerFiber) {\n      context._currentValue = valueCursor.current;\n      var currentRenderer = rendererCursorDEV.current;\n      pop(rendererCursorDEV, providerFiber);\n      context._currentRenderer = currentRenderer;\n      pop(valueCursor, providerFiber);\n    }\n    function scheduleContextWorkOnParentPath(\n      parent,\n      renderLanes,\n      propagationRoot\n    ) {\n      for (; null !== parent; ) {\n        var alternate = parent.alternate;\n        (parent.childLanes & renderLanes) !== renderLanes\n          ? ((parent.childLanes |= renderLanes),\n            null !== alternate && (alternate.childLanes |= renderLanes))\n          : null !== alternate &&\n            (alternate.childLanes & renderLanes) !== renderLanes &&\n            (alternate.childLanes |= renderLanes);\n        if (parent === propagationRoot) break;\n        parent = parent.return;\n      }\n      parent !== propagationRoot &&\n        console.error(\n          \"Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.\"\n        );\n    }\n    function propagateContextChanges(\n      workInProgress,\n      contexts,\n      renderLanes,\n      forcePropagateEntireTree\n    ) {\n      var fiber = workInProgress.child;\n      null !== fiber && (fiber.return = workInProgress);\n      for (; null !== fiber; ) {\n        var list = fiber.dependencies;\n        if (null !== list) {\n          var nextFiber = fiber.child;\n          list = list.firstContext;\n          a: for (; null !== list; ) {\n            var dependency = list;\n            list = fiber;\n            for (var i = 0; i < contexts.length; i++)\n              if (dependency.context === contexts[i]) {\n                list.lanes |= renderLanes;\n                dependency = list.alternate;\n                null !== dependency && (dependency.lanes |= renderLanes);\n                scheduleContextWorkOnParentPath(\n                  list.return,\n                  renderLanes,\n                  workInProgress\n                );\n                forcePropagateEntireTree || (nextFiber = null);\n                break a;\n              }\n            list = dependency.next;\n          }\n        } else if (18 === fiber.tag) {\n          nextFiber = fiber.return;\n          if (null === nextFiber)\n            throw Error(\n              \"We just came from a parent so we must have had a parent. This is a bug in React.\"\n            );\n          nextFiber.lanes |= renderLanes;\n          list = nextFiber.alternate;\n          null !== list && (list.lanes |= renderLanes);\n          scheduleContextWorkOnParentPath(\n            nextFiber,\n            renderLanes,\n            workInProgress\n          );\n          nextFiber = null;\n        } else nextFiber = fiber.child;\n        if (null !== nextFiber) nextFiber.return = fiber;\n        else\n          for (nextFiber = fiber; null !== nextFiber; ) {\n            if (nextFiber === workInProgress) {\n              nextFiber = null;\n              break;\n            }\n            fiber = nextFiber.sibling;\n            if (null !== fiber) {\n              fiber.return = nextFiber.return;\n              nextFiber = fiber;\n              break;\n            }\n            nextFiber = nextFiber.return;\n          }\n        fiber = nextFiber;\n      }\n    }\n    function propagateParentContextChanges(\n      current,\n      workInProgress,\n      renderLanes,\n      forcePropagateEntireTree\n    ) {\n      current = null;\n      for (\n        var parent = workInProgress, isInsidePropagationBailout = !1;\n        null !== parent;\n\n      ) {\n        if (!isInsidePropagationBailout)\n          if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n          else if (0 !== (parent.flags & 262144)) break;\n        if (10 === parent.tag) {\n          var currentParent = parent.alternate;\n          if (null === currentParent)\n            throw Error(\"Should have a current fiber. This is a bug in React.\");\n          currentParent = currentParent.memoizedProps;\n          if (null !== currentParent) {\n            var context = parent.type;\n            objectIs(parent.pendingProps.value, currentParent.value) ||\n              (null !== current\n                ? current.push(context)\n                : (current = [context]));\n          }\n        } else if (parent === hostTransitionProviderCursor.current) {\n          currentParent = parent.alternate;\n          if (null === currentParent)\n            throw Error(\"Should have a current fiber. This is a bug in React.\");\n          currentParent.memoizedState.memoizedState !==\n            parent.memoizedState.memoizedState &&\n            (null !== current\n              ? current.push(HostTransitionContext)\n              : (current = [HostTransitionContext]));\n        }\n        parent = parent.return;\n      }\n      null !== current &&\n        propagateContextChanges(\n          workInProgress,\n          current,\n          renderLanes,\n          forcePropagateEntireTree\n        );\n      workInProgress.flags |= 262144;\n    }\n    function checkIfContextChanged(currentDependencies) {\n      for (\n        currentDependencies = currentDependencies.firstContext;\n        null !== currentDependencies;\n\n      ) {\n        if (\n          !objectIs(\n            currentDependencies.context._currentValue,\n            currentDependencies.memoizedValue\n          )\n        )\n          return !0;\n        currentDependencies = currentDependencies.next;\n      }\n      return !1;\n    }\n    function prepareToReadContext(workInProgress) {\n      currentlyRenderingFiber$1 = workInProgress;\n      lastContextDependency = null;\n      workInProgress = workInProgress.dependencies;\n      null !== workInProgress && (workInProgress.firstContext = null);\n    }\n    function readContext(context) {\n      isDisallowedContextReadInDEV &&\n        console.error(\n          \"Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().\"\n        );\n      return readContextForConsumer(currentlyRenderingFiber$1, context);\n    }\n    function readContextDuringReconciliation(consumer, context) {\n      null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n      return readContextForConsumer(consumer, context);\n    }\n    function readContextForConsumer(consumer, context) {\n      var value = context._currentValue;\n      context = { context: context, memoizedValue: value, next: null };\n      if (null === lastContextDependency) {\n        if (null === consumer)\n          throw Error(\n            \"Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().\"\n          );\n        lastContextDependency = context;\n        consumer.dependencies = {\n          lanes: 0,\n          firstContext: context,\n          _debugThenableState: null\n        };\n        consumer.flags |= 524288;\n      } else lastContextDependency = lastContextDependency.next = context;\n      return value;\n    }\n    function createCache() {\n      return {\n        controller: new AbortControllerLocal(),\n        data: new Map(),\n        refCount: 0\n      };\n    }\n    function retainCache(cache) {\n      cache.controller.signal.aborted &&\n        console.warn(\n          \"A cache instance was retained after it was already freed. This likely indicates a bug in React.\"\n        );\n      cache.refCount++;\n    }\n    function releaseCache(cache) {\n      cache.refCount--;\n      0 > cache.refCount &&\n        console.warn(\n          \"A cache instance was released after it was already freed. This likely indicates a bug in React.\"\n        );\n      0 === cache.refCount &&\n        scheduleCallback$2(NormalPriority, function () {\n          cache.controller.abort();\n        });\n    }\n    function startUpdateTimerByLane(lane, method, fiber) {\n      if (0 !== (lane & 127))\n        0 > blockingUpdateTime &&\n          ((blockingUpdateTime = now()),\n          (blockingUpdateTask = createTask(method)),\n          (blockingUpdateMethodName = method),\n          null != fiber &&\n            (blockingUpdateComponentName = getComponentNameFromFiber(fiber)),\n          (executionContext & (RenderContext | CommitContext)) !== NoContext &&\n            ((componentEffectSpawnedUpdate = !0),\n            (blockingUpdateType = SPAWNED_UPDATE)),\n          (lane = resolveEventTimeStamp()),\n          (method = resolveEventType()),\n          lane !== blockingEventRepeatTime || method !== blockingEventType\n            ? (blockingEventRepeatTime = -1.1)\n            : null !== method && (blockingUpdateType = SPAWNED_UPDATE),\n          (blockingEventTime = lane),\n          (blockingEventType = method));\n      else if (\n        0 !== (lane & 4194048) &&\n        0 > transitionUpdateTime &&\n        ((transitionUpdateTime = now()),\n        (transitionUpdateTask = createTask(method)),\n        (transitionUpdateMethodName = method),\n        null != fiber &&\n          (transitionUpdateComponentName = getComponentNameFromFiber(fiber)),\n        0 > transitionStartTime)\n      ) {\n        lane = resolveEventTimeStamp();\n        method = resolveEventType();\n        if (\n          lane !== transitionEventRepeatTime ||\n          method !== transitionEventType\n        )\n          transitionEventRepeatTime = -1.1;\n        transitionEventTime = lane;\n        transitionEventType = method;\n      }\n    }\n    function startHostActionTimer(fiber) {\n      if (0 > blockingUpdateTime) {\n        blockingUpdateTime = now();\n        blockingUpdateTask = null != fiber._debugTask ? fiber._debugTask : null;\n        (executionContext & (RenderContext | CommitContext)) !== NoContext &&\n          (blockingUpdateType = SPAWNED_UPDATE);\n        var newEventTime = resolveEventTimeStamp(),\n          newEventType = resolveEventType();\n        newEventTime !== blockingEventRepeatTime ||\n        newEventType !== blockingEventType\n          ? (blockingEventRepeatTime = -1.1)\n          : null !== newEventType && (blockingUpdateType = SPAWNED_UPDATE);\n        blockingEventTime = newEventTime;\n        blockingEventType = newEventType;\n      }\n      if (\n        0 > transitionUpdateTime &&\n        ((transitionUpdateTime = now()),\n        (transitionUpdateTask =\n          null != fiber._debugTask ? fiber._debugTask : null),\n        0 > transitionStartTime)\n      ) {\n        fiber = resolveEventTimeStamp();\n        newEventTime = resolveEventType();\n        if (\n          fiber !== transitionEventRepeatTime ||\n          newEventTime !== transitionEventType\n        )\n          transitionEventRepeatTime = -1.1;\n        transitionEventTime = fiber;\n        transitionEventType = newEventTime;\n      }\n    }\n    function pushNestedEffectDurations() {\n      var prevEffectDuration = profilerEffectDuration;\n      profilerEffectDuration = 0;\n      return prevEffectDuration;\n    }\n    function popNestedEffectDurations(prevEffectDuration) {\n      var elapsedTime = profilerEffectDuration;\n      profilerEffectDuration = prevEffectDuration;\n      return elapsedTime;\n    }\n    function bubbleNestedEffectDurations(prevEffectDuration) {\n      var elapsedTime = profilerEffectDuration;\n      profilerEffectDuration += prevEffectDuration;\n      return elapsedTime;\n    }\n    function resetComponentEffectTimers() {\n      componentEffectEndTime = componentEffectStartTime = -1.1;\n    }\n    function pushComponentEffectStart() {\n      var prevEffectStart = componentEffectStartTime;\n      componentEffectStartTime = -1.1;\n      return prevEffectStart;\n    }\n    function popComponentEffectStart(prevEffectStart) {\n      0 <= prevEffectStart && (componentEffectStartTime = prevEffectStart);\n    }\n    function pushComponentEffectDuration() {\n      var prevEffectDuration = componentEffectDuration;\n      componentEffectDuration = -0;\n      return prevEffectDuration;\n    }\n    function popComponentEffectDuration(prevEffectDuration) {\n      0 <= prevEffectDuration && (componentEffectDuration = prevEffectDuration);\n    }\n    function pushComponentEffectErrors() {\n      var prevErrors = componentEffectErrors;\n      componentEffectErrors = null;\n      return prevErrors;\n    }\n    function pushComponentEffectDidSpawnUpdate() {\n      var prev = componentEffectSpawnedUpdate;\n      componentEffectSpawnedUpdate = !1;\n      return prev;\n    }\n    function startProfilerTimer(fiber) {\n      profilerStartTime = now();\n      0 > fiber.actualStartTime && (fiber.actualStartTime = profilerStartTime);\n    }\n    function stopProfilerTimerIfRunningAndRecordDuration(fiber) {\n      if (0 <= profilerStartTime) {\n        var elapsedTime = now() - profilerStartTime;\n        fiber.actualDuration += elapsedTime;\n        fiber.selfBaseDuration = elapsedTime;\n        profilerStartTime = -1;\n      }\n    }\n    function stopProfilerTimerIfRunningAndRecordIncompleteDuration(fiber) {\n      if (0 <= profilerStartTime) {\n        var elapsedTime = now() - profilerStartTime;\n        fiber.actualDuration += elapsedTime;\n        profilerStartTime = -1;\n      }\n    }\n    function recordEffectDuration() {\n      if (0 <= profilerStartTime) {\n        var endTime = now(),\n          elapsedTime = endTime - profilerStartTime;\n        profilerStartTime = -1;\n        profilerEffectDuration += elapsedTime;\n        componentEffectDuration += elapsedTime;\n        componentEffectEndTime = endTime;\n      }\n    }\n    function recordEffectError(errorInfo) {\n      null === componentEffectErrors && (componentEffectErrors = []);\n      componentEffectErrors.push(errorInfo);\n      null === commitErrors && (commitErrors = []);\n      commitErrors.push(errorInfo);\n    }\n    function startEffectTimer() {\n      profilerStartTime = now();\n      0 > componentEffectStartTime &&\n        (componentEffectStartTime = profilerStartTime);\n    }\n    function transferActualDuration(fiber) {\n      for (var child = fiber.child; child; )\n        (fiber.actualDuration += child.actualDuration), (child = child.sibling);\n    }\n    function entangleAsyncAction(transition, thenable) {\n      if (null === currentEntangledListeners) {\n        var entangledListeners = (currentEntangledListeners = []);\n        currentEntangledPendingCount = 0;\n        currentEntangledLane = requestTransitionLane();\n        currentEntangledActionThenable = {\n          status: \"pending\",\n          value: void 0,\n          then: function (resolve) {\n            entangledListeners.push(resolve);\n          }\n        };\n      }\n      currentEntangledPendingCount++;\n      thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n      return thenable;\n    }\n    function pingEngtangledActionScope() {\n      if (\n        0 === --currentEntangledPendingCount &&\n        (-1 < transitionUpdateTime || (transitionStartTime = -1.1),\n        null !== currentEntangledListeners)\n      ) {\n        null !== currentEntangledActionThenable &&\n          (currentEntangledActionThenable.status = \"fulfilled\");\n        var listeners = currentEntangledListeners;\n        currentEntangledListeners = null;\n        currentEntangledLane = 0;\n        currentEntangledActionThenable = null;\n        for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n      }\n    }\n    function chainThenableValue(thenable, result) {\n      var listeners = [],\n        thenableWithOverride = {\n          status: \"pending\",\n          value: null,\n          reason: null,\n          then: function (resolve) {\n            listeners.push(resolve);\n          }\n        };\n      thenable.then(\n        function () {\n          thenableWithOverride.status = \"fulfilled\";\n          thenableWithOverride.value = result;\n          for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n        },\n        function (error) {\n          thenableWithOverride.status = \"rejected\";\n          thenableWithOverride.reason = error;\n          for (error = 0; error < listeners.length; error++)\n            (0, listeners[error])(void 0);\n        }\n      );\n      return thenableWithOverride;\n    }\n    function peekCacheFromPool() {\n      var cacheResumedFromPreviousRender = resumedCache.current;\n      return null !== cacheResumedFromPreviousRender\n        ? cacheResumedFromPreviousRender\n        : workInProgressRoot.pooledCache;\n    }\n    function pushTransition(offscreenWorkInProgress, prevCachePool) {\n      null === prevCachePool\n        ? push(resumedCache, resumedCache.current, offscreenWorkInProgress)\n        : push(resumedCache, prevCachePool.pool, offscreenWorkInProgress);\n    }\n    function getSuspendedCache() {\n      var cacheFromPool = peekCacheFromPool();\n      return null === cacheFromPool\n        ? null\n        : { parent: CacheContext._currentValue, pool: cacheFromPool };\n    }\n    function createThenableState() {\n      return { didWarnAboutUncachedPromise: !1, thenables: [] };\n    }\n    function isThenableResolved(thenable) {\n      thenable = thenable.status;\n      return \"fulfilled\" === thenable || \"rejected\" === thenable;\n    }\n    function trackUsedThenable(thenableState, thenable, index) {\n      null !== ReactSharedInternals.actQueue &&\n        (ReactSharedInternals.didUsePromise = !0);\n      var trackedThenables = thenableState.thenables;\n      index = trackedThenables[index];\n      void 0 === index\n        ? trackedThenables.push(thenable)\n        : index !== thenable &&\n          (thenableState.didWarnAboutUncachedPromise ||\n            ((thenableState.didWarnAboutUncachedPromise = !0),\n            console.error(\n              \"A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.\"\n            )),\n          thenable.then(noop$1, noop$1),\n          (thenable = index));\n      if (void 0 === thenable._debugInfo) {\n        thenableState = performance.now();\n        trackedThenables = thenable.displayName;\n        var ioInfo = {\n          name:\n            \"string\" === typeof trackedThenables ? trackedThenables : \"Promise\",\n          start: thenableState,\n          end: thenableState,\n          value: thenable\n        };\n        thenable._debugInfo = [{ awaited: ioInfo }];\n        \"fulfilled\" !== thenable.status &&\n          \"rejected\" !== thenable.status &&\n          ((thenableState = function () {\n            ioInfo.end = performance.now();\n          }),\n          thenable.then(thenableState, thenableState));\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n        default:\n          if (\"string\" === typeof thenable.status)\n            thenable.then(noop$1, noop$1);\n          else {\n            thenableState = workInProgressRoot;\n            if (\n              null !== thenableState &&\n              100 < thenableState.shellSuspendCounter\n            )\n              throw Error(\n                \"An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.\"\n              );\n            thenableState = thenable;\n            thenableState.status = \"pending\";\n            thenableState.then(\n              function (fulfilledValue) {\n                if (\"pending\" === thenable.status) {\n                  var fulfilledThenable = thenable;\n                  fulfilledThenable.status = \"fulfilled\";\n                  fulfilledThenable.value = fulfilledValue;\n                }\n              },\n              function (error) {\n                if (\"pending\" === thenable.status) {\n                  var rejectedThenable = thenable;\n                  rejectedThenable.status = \"rejected\";\n                  rejectedThenable.reason = error;\n                }\n              }\n            );\n          }\n          switch (thenable.status) {\n            case \"fulfilled\":\n              return thenable.value;\n            case \"rejected\":\n              throw (\n                ((thenableState = thenable.reason),\n                checkIfUseWrappedInAsyncCatch(thenableState),\n                thenableState)\n              );\n          }\n          suspendedThenable = thenable;\n          needsToResetSuspendedThenableDEV = !0;\n          throw SuspenseException;\n      }\n    }\n    function resolveLazy(lazyType) {\n      try {\n        return callLazyInitInDEV(lazyType);\n      } catch (x) {\n        if (null !== x && \"object\" === typeof x && \"function\" === typeof x.then)\n          throw (\n            ((suspendedThenable = x),\n            (needsToResetSuspendedThenableDEV = !0),\n            SuspenseException)\n          );\n        throw x;\n      }\n    }\n    function getSuspendedThenable() {\n      if (null === suspendedThenable)\n        throw Error(\n          \"Expected a suspended thenable. This is a bug in React. Please file an issue.\"\n        );\n      var thenable = suspendedThenable;\n      suspendedThenable = null;\n      needsToResetSuspendedThenableDEV = !1;\n      return thenable;\n    }\n    function checkIfUseWrappedInAsyncCatch(rejectedReason) {\n      if (\n        rejectedReason === SuspenseException ||\n        rejectedReason === SuspenseActionException\n      )\n        throw Error(\n          \"Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.\"\n        );\n    }\n    function pushDebugInfo(debugInfo) {\n      var previousDebugInfo = currentDebugInfo;\n      null != debugInfo &&\n        (currentDebugInfo =\n          null === previousDebugInfo\n            ? debugInfo\n            : previousDebugInfo.concat(debugInfo));\n      return previousDebugInfo;\n    }\n    function getCurrentDebugTask() {\n      var debugInfo = currentDebugInfo;\n      if (null != debugInfo)\n        for (var i = debugInfo.length - 1; 0 <= i; i--)\n          if (null != debugInfo[i].name) {\n            var debugTask = debugInfo[i].debugTask;\n            if (null != debugTask) return debugTask;\n          }\n      return null;\n    }\n    function validateFragmentProps(element, fiber, returnFiber) {\n      for (var keys = Object.keys(element.props), i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (\"children\" !== key && \"key\" !== key) {\n          null === fiber &&\n            ((fiber = createFiberFromElement(element, returnFiber.mode, 0)),\n            (fiber._debugInfo = currentDebugInfo),\n            (fiber.return = returnFiber));\n          runWithFiberInDEV(\n            fiber,\n            function (erroredKey) {\n              console.error(\n                \"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",\n                erroredKey\n              );\n            },\n            key\n          );\n          break;\n        }\n      }\n    }\n    function unwrapThenable(thenable) {\n      var index = thenableIndexCounter$1;\n      thenableIndexCounter$1 += 1;\n      null === thenableState$1 && (thenableState$1 = createThenableState());\n      return trackUsedThenable(thenableState$1, thenable, index);\n    }\n    function coerceRef(workInProgress, element) {\n      element = element.props.ref;\n      workInProgress.ref = void 0 !== element ? element : null;\n    }\n    function throwOnInvalidObjectTypeImpl(returnFiber, newChild) {\n      if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n        throw Error(\n          'A React Element from an older version of React was rendered. This is not supported. It can happen if:\\n- Multiple copies of the \"react\" package is used.\\n- A library pre-bundled an old copy of \"react\" or \"react/jsx-runtime\".\\n- A compiler tries to \"inline\" JSX instead of using the runtime.'\n        );\n      returnFiber = Object.prototype.toString.call(newChild);\n      throw Error(\n        \"Objects are not valid as a React child (found: \" +\n          (\"[object Object]\" === returnFiber\n            ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n            : returnFiber) +\n          \"). If you meant to render a collection of children, use an array instead.\"\n      );\n    }\n    function throwOnInvalidObjectType(returnFiber, newChild) {\n      var debugTask = getCurrentDebugTask();\n      null !== debugTask\n        ? debugTask.run(\n            throwOnInvalidObjectTypeImpl.bind(null, returnFiber, newChild)\n          )\n        : throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    function warnOnFunctionTypeImpl(returnFiber, invalidChild) {\n      var parentName = getComponentNameFromFiber(returnFiber) || \"Component\";\n      ownerHasFunctionTypeWarning[parentName] ||\n        ((ownerHasFunctionTypeWarning[parentName] = !0),\n        (invalidChild =\n          invalidChild.displayName || invalidChild.name || \"Component\"),\n        3 === returnFiber.tag\n          ? console.error(\n              \"Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.\\n  root.render(%s)\",\n              invalidChild,\n              invalidChild,\n              invalidChild\n            )\n          : console.error(\n              \"Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.\\n  <%s>{%s}</%s>\",\n              invalidChild,\n              invalidChild,\n              parentName,\n              invalidChild,\n              parentName\n            ));\n    }\n    function warnOnFunctionType(returnFiber, invalidChild) {\n      var debugTask = getCurrentDebugTask();\n      null !== debugTask\n        ? debugTask.run(\n            warnOnFunctionTypeImpl.bind(null, returnFiber, invalidChild)\n          )\n        : warnOnFunctionTypeImpl(returnFiber, invalidChild);\n    }\n    function warnOnSymbolTypeImpl(returnFiber, invalidChild) {\n      var parentName = getComponentNameFromFiber(returnFiber) || \"Component\";\n      ownerHasSymbolTypeWarning[parentName] ||\n        ((ownerHasSymbolTypeWarning[parentName] = !0),\n        (invalidChild = String(invalidChild)),\n        3 === returnFiber.tag\n          ? console.error(\n              \"Symbols are not valid as a React child.\\n  root.render(%s)\",\n              invalidChild\n            )\n          : console.error(\n              \"Symbols are not valid as a React child.\\n  <%s>%s</%s>\",\n              parentName,\n              invalidChild,\n              parentName\n            ));\n    }\n    function warnOnSymbolType(returnFiber, invalidChild) {\n      var debugTask = getCurrentDebugTask();\n      null !== debugTask\n        ? debugTask.run(\n            warnOnSymbolTypeImpl.bind(null, returnFiber, invalidChild)\n          )\n        : warnOnSymbolTypeImpl(returnFiber, invalidChild);\n    }\n    function createChildReconciler(shouldTrackSideEffects) {\n      function deleteChild(returnFiber, childToDelete) {\n        if (shouldTrackSideEffects) {\n          var deletions = returnFiber.deletions;\n          null === deletions\n            ? ((returnFiber.deletions = [childToDelete]),\n              (returnFiber.flags |= 16))\n            : deletions.push(childToDelete);\n        }\n      }\n      function deleteRemainingChildren(returnFiber, currentFirstChild) {\n        if (!shouldTrackSideEffects) return null;\n        for (; null !== currentFirstChild; )\n          deleteChild(returnFiber, currentFirstChild),\n            (currentFirstChild = currentFirstChild.sibling);\n        return null;\n      }\n      function mapRemainingChildren(currentFirstChild) {\n        for (var existingChildren = new Map(); null !== currentFirstChild; )\n          null !== currentFirstChild.key\n            ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n            : existingChildren.set(currentFirstChild.index, currentFirstChild),\n            (currentFirstChild = currentFirstChild.sibling);\n        return existingChildren;\n      }\n      function useFiber(fiber, pendingProps) {\n        fiber = createWorkInProgress(fiber, pendingProps);\n        fiber.index = 0;\n        fiber.sibling = null;\n        return fiber;\n      }\n      function placeChild(newFiber, lastPlacedIndex, newIndex) {\n        newFiber.index = newIndex;\n        if (!shouldTrackSideEffects)\n          return (newFiber.flags |= 1048576), lastPlacedIndex;\n        newIndex = newFiber.alternate;\n        if (null !== newIndex)\n          return (\n            (newIndex = newIndex.index),\n            newIndex < lastPlacedIndex\n              ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n              : newIndex\n          );\n        newFiber.flags |= 67108866;\n        return lastPlacedIndex;\n      }\n      function placeSingleChild(newFiber) {\n        shouldTrackSideEffects &&\n          null === newFiber.alternate &&\n          (newFiber.flags |= 67108866);\n        return newFiber;\n      }\n      function updateTextNode(returnFiber, current, textContent, lanes) {\n        if (null === current || 6 !== current.tag)\n          return (\n            (current = createFiberFromText(\n              textContent,\n              returnFiber.mode,\n              lanes\n            )),\n            (current.return = returnFiber),\n            (current._debugOwner = returnFiber),\n            (current._debugTask = returnFiber._debugTask),\n            (current._debugInfo = currentDebugInfo),\n            current\n          );\n        current = useFiber(current, textContent);\n        current.return = returnFiber;\n        current._debugInfo = currentDebugInfo;\n        return current;\n      }\n      function updateElement(returnFiber, current, element, lanes) {\n        var elementType = element.type;\n        if (elementType === REACT_FRAGMENT_TYPE)\n          return (\n            (current = updateFragment(\n              returnFiber,\n              current,\n              element.props.children,\n              lanes,\n              element.key\n            )),\n            validateFragmentProps(element, current, returnFiber),\n            current\n          );\n        if (\n          null !== current &&\n          (current.elementType === elementType ||\n            isCompatibleFamilyForHotReloading(current, element) ||\n            (\"object\" === typeof elementType &&\n              null !== elementType &&\n              elementType.$$typeof === REACT_LAZY_TYPE &&\n              resolveLazy(elementType) === current.type))\n        )\n          return (\n            (current = useFiber(current, element.props)),\n            coerceRef(current, element),\n            (current.return = returnFiber),\n            (current._debugOwner = element._owner),\n            (current._debugInfo = currentDebugInfo),\n            current\n          );\n        current = createFiberFromElement(element, returnFiber.mode, lanes);\n        coerceRef(current, element);\n        current.return = returnFiber;\n        current._debugInfo = currentDebugInfo;\n        return current;\n      }\n      function updatePortal(returnFiber, current, portal, lanes) {\n        if (\n          null === current ||\n          4 !== current.tag ||\n          current.stateNode.containerInfo !== portal.containerInfo ||\n          current.stateNode.implementation !== portal.implementation\n        )\n          return (\n            (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n            (current.return = returnFiber),\n            (current._debugInfo = currentDebugInfo),\n            current\n          );\n        current = useFiber(current, portal.children || []);\n        current.return = returnFiber;\n        current._debugInfo = currentDebugInfo;\n        return current;\n      }\n      function updateFragment(returnFiber, current, fragment, lanes, key) {\n        if (null === current || 7 !== current.tag)\n          return (\n            (current = createFiberFromFragment(\n              fragment,\n              returnFiber.mode,\n              lanes,\n              key\n            )),\n            (current.return = returnFiber),\n            (current._debugOwner = returnFiber),\n            (current._debugTask = returnFiber._debugTask),\n            (current._debugInfo = currentDebugInfo),\n            current\n          );\n        current = useFiber(current, fragment);\n        current.return = returnFiber;\n        current._debugInfo = currentDebugInfo;\n        return current;\n      }\n      function createChild(returnFiber, newChild, lanes) {\n        if (\n          (\"string\" === typeof newChild && \"\" !== newChild) ||\n          \"number\" === typeof newChild ||\n          \"bigint\" === typeof newChild\n        )\n          return (\n            (newChild = createFiberFromText(\n              \"\" + newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            (newChild._debugOwner = returnFiber),\n            (newChild._debugTask = returnFiber._debugTask),\n            (newChild._debugInfo = currentDebugInfo),\n            newChild\n          );\n        if (\"object\" === typeof newChild && null !== newChild) {\n          switch (newChild.$$typeof) {\n            case REACT_ELEMENT_TYPE:\n              return (\n                (lanes = createFiberFromElement(\n                  newChild,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = pushDebugInfo(newChild._debugInfo)),\n                (lanes._debugInfo = currentDebugInfo),\n                (currentDebugInfo = returnFiber),\n                lanes\n              );\n            case REACT_PORTAL_TYPE:\n              return (\n                (newChild = createFiberFromPortal(\n                  newChild,\n                  returnFiber.mode,\n                  lanes\n                )),\n                (newChild.return = returnFiber),\n                (newChild._debugInfo = currentDebugInfo),\n                newChild\n              );\n            case REACT_LAZY_TYPE:\n              var _prevDebugInfo = pushDebugInfo(newChild._debugInfo);\n              newChild = resolveLazy(newChild);\n              returnFiber = createChild(returnFiber, newChild, lanes);\n              currentDebugInfo = _prevDebugInfo;\n              return returnFiber;\n          }\n          if (isArrayImpl(newChild) || getIteratorFn(newChild))\n            return (\n              (lanes = createFiberFromFragment(\n                newChild,\n                returnFiber.mode,\n                lanes,\n                null\n              )),\n              (lanes.return = returnFiber),\n              (lanes._debugOwner = returnFiber),\n              (lanes._debugTask = returnFiber._debugTask),\n              (returnFiber = pushDebugInfo(newChild._debugInfo)),\n              (lanes._debugInfo = currentDebugInfo),\n              (currentDebugInfo = returnFiber),\n              lanes\n            );\n          if (\"function\" === typeof newChild.then)\n            return (\n              (_prevDebugInfo = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = createChild(\n                returnFiber,\n                unwrapThenable(newChild),\n                lanes\n              )),\n              (currentDebugInfo = _prevDebugInfo),\n              returnFiber\n            );\n          if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n            return createChild(\n              returnFiber,\n              readContextDuringReconciliation(returnFiber, newChild),\n              lanes\n            );\n          throwOnInvalidObjectType(returnFiber, newChild);\n        }\n        \"function\" === typeof newChild &&\n          warnOnFunctionType(returnFiber, newChild);\n        \"symbol\" === typeof newChild && warnOnSymbolType(returnFiber, newChild);\n        return null;\n      }\n      function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n        var key = null !== oldFiber ? oldFiber.key : null;\n        if (\n          (\"string\" === typeof newChild && \"\" !== newChild) ||\n          \"number\" === typeof newChild ||\n          \"bigint\" === typeof newChild\n        )\n          return null !== key\n            ? null\n            : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n        if (\"object\" === typeof newChild && null !== newChild) {\n          switch (newChild.$$typeof) {\n            case REACT_ELEMENT_TYPE:\n              return newChild.key === key\n                ? ((key = pushDebugInfo(newChild._debugInfo)),\n                  (returnFiber = updateElement(\n                    returnFiber,\n                    oldFiber,\n                    newChild,\n                    lanes\n                  )),\n                  (currentDebugInfo = key),\n                  returnFiber)\n                : null;\n            case REACT_PORTAL_TYPE:\n              return newChild.key === key\n                ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n                : null;\n            case REACT_LAZY_TYPE:\n              return (\n                (key = pushDebugInfo(newChild._debugInfo)),\n                (newChild = resolveLazy(newChild)),\n                (returnFiber = updateSlot(\n                  returnFiber,\n                  oldFiber,\n                  newChild,\n                  lanes\n                )),\n                (currentDebugInfo = key),\n                returnFiber\n              );\n          }\n          if (isArrayImpl(newChild) || getIteratorFn(newChild)) {\n            if (null !== key) return null;\n            key = pushDebugInfo(newChild._debugInfo);\n            returnFiber = updateFragment(\n              returnFiber,\n              oldFiber,\n              newChild,\n              lanes,\n              null\n            );\n            currentDebugInfo = key;\n            return returnFiber;\n          }\n          if (\"function\" === typeof newChild.then)\n            return (\n              (key = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = updateSlot(\n                returnFiber,\n                oldFiber,\n                unwrapThenable(newChild),\n                lanes\n              )),\n              (currentDebugInfo = key),\n              returnFiber\n            );\n          if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n            return updateSlot(\n              returnFiber,\n              oldFiber,\n              readContextDuringReconciliation(returnFiber, newChild),\n              lanes\n            );\n          throwOnInvalidObjectType(returnFiber, newChild);\n        }\n        \"function\" === typeof newChild &&\n          warnOnFunctionType(returnFiber, newChild);\n        \"symbol\" === typeof newChild && warnOnSymbolType(returnFiber, newChild);\n        return null;\n      }\n      function updateFromMap(\n        existingChildren,\n        returnFiber,\n        newIdx,\n        newChild,\n        lanes\n      ) {\n        if (\n          (\"string\" === typeof newChild && \"\" !== newChild) ||\n          \"number\" === typeof newChild ||\n          \"bigint\" === typeof newChild\n        )\n          return (\n            (existingChildren = existingChildren.get(newIdx) || null),\n            updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n          );\n        if (\"object\" === typeof newChild && null !== newChild) {\n          switch (newChild.$$typeof) {\n            case REACT_ELEMENT_TYPE:\n              return (\n                (newIdx =\n                  existingChildren.get(\n                    null === newChild.key ? newIdx : newChild.key\n                  ) || null),\n                (existingChildren = pushDebugInfo(newChild._debugInfo)),\n                (returnFiber = updateElement(\n                  returnFiber,\n                  newIdx,\n                  newChild,\n                  lanes\n                )),\n                (currentDebugInfo = existingChildren),\n                returnFiber\n              );\n            case REACT_PORTAL_TYPE:\n              return (\n                (existingChildren =\n                  existingChildren.get(\n                    null === newChild.key ? newIdx : newChild.key\n                  ) || null),\n                updatePortal(returnFiber, existingChildren, newChild, lanes)\n              );\n            case REACT_LAZY_TYPE:\n              var _prevDebugInfo7 = pushDebugInfo(newChild._debugInfo);\n              newChild = resolveLazy(newChild);\n              returnFiber = updateFromMap(\n                existingChildren,\n                returnFiber,\n                newIdx,\n                newChild,\n                lanes\n              );\n              currentDebugInfo = _prevDebugInfo7;\n              return returnFiber;\n          }\n          if (isArrayImpl(newChild) || getIteratorFn(newChild))\n            return (\n              (newIdx = existingChildren.get(newIdx) || null),\n              (existingChildren = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = updateFragment(\n                returnFiber,\n                newIdx,\n                newChild,\n                lanes,\n                null\n              )),\n              (currentDebugInfo = existingChildren),\n              returnFiber\n            );\n          if (\"function\" === typeof newChild.then)\n            return (\n              (_prevDebugInfo7 = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = updateFromMap(\n                existingChildren,\n                returnFiber,\n                newIdx,\n                unwrapThenable(newChild),\n                lanes\n              )),\n              (currentDebugInfo = _prevDebugInfo7),\n              returnFiber\n            );\n          if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n            return updateFromMap(\n              existingChildren,\n              returnFiber,\n              newIdx,\n              readContextDuringReconciliation(returnFiber, newChild),\n              lanes\n            );\n          throwOnInvalidObjectType(returnFiber, newChild);\n        }\n        \"function\" === typeof newChild &&\n          warnOnFunctionType(returnFiber, newChild);\n        \"symbol\" === typeof newChild && warnOnSymbolType(returnFiber, newChild);\n        return null;\n      }\n      function warnOnInvalidKey(returnFiber, workInProgress, child, knownKeys) {\n        if (\"object\" !== typeof child || null === child) return knownKeys;\n        switch (child.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            warnForMissingKey(returnFiber, workInProgress, child);\n            var key = child.key;\n            if (\"string\" !== typeof key) break;\n            if (null === knownKeys) {\n              knownKeys = new Set();\n              knownKeys.add(key);\n              break;\n            }\n            if (!knownKeys.has(key)) {\n              knownKeys.add(key);\n              break;\n            }\n            runWithFiberInDEV(workInProgress, function () {\n              console.error(\n                \"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted \\u2014 the behavior is unsupported and could change in a future version.\",\n                key\n              );\n            });\n            break;\n          case REACT_LAZY_TYPE:\n            (child = resolveLazy(child)),\n              warnOnInvalidKey(returnFiber, workInProgress, child, knownKeys);\n        }\n        return knownKeys;\n      }\n      function reconcileChildrenArray(\n        returnFiber,\n        currentFirstChild,\n        newChildren,\n        lanes\n      ) {\n        for (\n          var knownKeys = null,\n            resultingFirstChild = null,\n            previousNewFiber = null,\n            oldFiber = currentFirstChild,\n            newIdx = (currentFirstChild = 0),\n            nextOldFiber = null;\n          null !== oldFiber && newIdx < newChildren.length;\n          newIdx++\n        ) {\n          oldFiber.index > newIdx\n            ? ((nextOldFiber = oldFiber), (oldFiber = null))\n            : (nextOldFiber = oldFiber.sibling);\n          var newFiber = updateSlot(\n            returnFiber,\n            oldFiber,\n            newChildren[newIdx],\n            lanes\n          );\n          if (null === newFiber) {\n            null === oldFiber && (oldFiber = nextOldFiber);\n            break;\n          }\n          knownKeys = warnOnInvalidKey(\n            returnFiber,\n            newFiber,\n            newChildren[newIdx],\n            knownKeys\n          );\n          shouldTrackSideEffects &&\n            oldFiber &&\n            null === newFiber.alternate &&\n            deleteChild(returnFiber, oldFiber);\n          currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n          null === previousNewFiber\n            ? (resultingFirstChild = newFiber)\n            : (previousNewFiber.sibling = newFiber);\n          previousNewFiber = newFiber;\n          oldFiber = nextOldFiber;\n        }\n        if (newIdx === newChildren.length)\n          return (\n            deleteRemainingChildren(returnFiber, oldFiber),\n            isHydrating && pushTreeFork(returnFiber, newIdx),\n            resultingFirstChild\n          );\n        if (null === oldFiber) {\n          for (; newIdx < newChildren.length; newIdx++)\n            (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n              null !== oldFiber &&\n                ((knownKeys = warnOnInvalidKey(\n                  returnFiber,\n                  oldFiber,\n                  newChildren[newIdx],\n                  knownKeys\n                )),\n                (currentFirstChild = placeChild(\n                  oldFiber,\n                  currentFirstChild,\n                  newIdx\n                )),\n                null === previousNewFiber\n                  ? (resultingFirstChild = oldFiber)\n                  : (previousNewFiber.sibling = oldFiber),\n                (previousNewFiber = oldFiber));\n          isHydrating && pushTreeFork(returnFiber, newIdx);\n          return resultingFirstChild;\n        }\n        for (\n          oldFiber = mapRemainingChildren(oldFiber);\n          newIdx < newChildren.length;\n          newIdx++\n        )\n          (nextOldFiber = updateFromMap(\n            oldFiber,\n            returnFiber,\n            newIdx,\n            newChildren[newIdx],\n            lanes\n          )),\n            null !== nextOldFiber &&\n              ((knownKeys = warnOnInvalidKey(\n                returnFiber,\n                nextOldFiber,\n                newChildren[newIdx],\n                knownKeys\n              )),\n              shouldTrackSideEffects &&\n                null !== nextOldFiber.alternate &&\n                oldFiber.delete(\n                  null === nextOldFiber.key ? newIdx : nextOldFiber.key\n                ),\n              (currentFirstChild = placeChild(\n                nextOldFiber,\n                currentFirstChild,\n                newIdx\n              )),\n              null === previousNewFiber\n                ? (resultingFirstChild = nextOldFiber)\n                : (previousNewFiber.sibling = nextOldFiber),\n              (previousNewFiber = nextOldFiber));\n        shouldTrackSideEffects &&\n          oldFiber.forEach(function (child) {\n            return deleteChild(returnFiber, child);\n          });\n        isHydrating && pushTreeFork(returnFiber, newIdx);\n        return resultingFirstChild;\n      }\n      function reconcileChildrenIterator(\n        returnFiber,\n        currentFirstChild,\n        newChildren,\n        lanes\n      ) {\n        if (null == newChildren)\n          throw Error(\"An iterable object provided no iterator.\");\n        for (\n          var resultingFirstChild = null,\n            previousNewFiber = null,\n            oldFiber = currentFirstChild,\n            newIdx = (currentFirstChild = 0),\n            nextOldFiber = null,\n            knownKeys = null,\n            step = newChildren.next();\n          null !== oldFiber && !step.done;\n          newIdx++, step = newChildren.next()\n        ) {\n          oldFiber.index > newIdx\n            ? ((nextOldFiber = oldFiber), (oldFiber = null))\n            : (nextOldFiber = oldFiber.sibling);\n          var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n          if (null === newFiber) {\n            null === oldFiber && (oldFiber = nextOldFiber);\n            break;\n          }\n          knownKeys = warnOnInvalidKey(\n            returnFiber,\n            newFiber,\n            step.value,\n            knownKeys\n          );\n          shouldTrackSideEffects &&\n            oldFiber &&\n            null === newFiber.alternate &&\n            deleteChild(returnFiber, oldFiber);\n          currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n          null === previousNewFiber\n            ? (resultingFirstChild = newFiber)\n            : (previousNewFiber.sibling = newFiber);\n          previousNewFiber = newFiber;\n          oldFiber = nextOldFiber;\n        }\n        if (step.done)\n          return (\n            deleteRemainingChildren(returnFiber, oldFiber),\n            isHydrating && pushTreeFork(returnFiber, newIdx),\n            resultingFirstChild\n          );\n        if (null === oldFiber) {\n          for (; !step.done; newIdx++, step = newChildren.next())\n            (oldFiber = createChild(returnFiber, step.value, lanes)),\n              null !== oldFiber &&\n                ((knownKeys = warnOnInvalidKey(\n                  returnFiber,\n                  oldFiber,\n                  step.value,\n                  knownKeys\n                )),\n                (currentFirstChild = placeChild(\n                  oldFiber,\n                  currentFirstChild,\n                  newIdx\n                )),\n                null === previousNewFiber\n                  ? (resultingFirstChild = oldFiber)\n                  : (previousNewFiber.sibling = oldFiber),\n                (previousNewFiber = oldFiber));\n          isHydrating && pushTreeFork(returnFiber, newIdx);\n          return resultingFirstChild;\n        }\n        for (\n          oldFiber = mapRemainingChildren(oldFiber);\n          !step.done;\n          newIdx++, step = newChildren.next()\n        )\n          (nextOldFiber = updateFromMap(\n            oldFiber,\n            returnFiber,\n            newIdx,\n            step.value,\n            lanes\n          )),\n            null !== nextOldFiber &&\n              ((knownKeys = warnOnInvalidKey(\n                returnFiber,\n                nextOldFiber,\n                step.value,\n                knownKeys\n              )),\n              shouldTrackSideEffects &&\n                null !== nextOldFiber.alternate &&\n                oldFiber.delete(\n                  null === nextOldFiber.key ? newIdx : nextOldFiber.key\n                ),\n              (currentFirstChild = placeChild(\n                nextOldFiber,\n                currentFirstChild,\n                newIdx\n              )),\n              null === previousNewFiber\n                ? (resultingFirstChild = nextOldFiber)\n                : (previousNewFiber.sibling = nextOldFiber),\n              (previousNewFiber = nextOldFiber));\n        shouldTrackSideEffects &&\n          oldFiber.forEach(function (child) {\n            return deleteChild(returnFiber, child);\n          });\n        isHydrating && pushTreeFork(returnFiber, newIdx);\n        return resultingFirstChild;\n      }\n      function reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      ) {\n        \"object\" === typeof newChild &&\n          null !== newChild &&\n          newChild.type === REACT_FRAGMENT_TYPE &&\n          null === newChild.key &&\n          (validateFragmentProps(newChild, null, returnFiber),\n          (newChild = newChild.props.children));\n        if (\"object\" === typeof newChild && null !== newChild) {\n          switch (newChild.$$typeof) {\n            case REACT_ELEMENT_TYPE:\n              var prevDebugInfo = pushDebugInfo(newChild._debugInfo);\n              a: {\n                for (var key = newChild.key; null !== currentFirstChild; ) {\n                  if (currentFirstChild.key === key) {\n                    key = newChild.type;\n                    if (key === REACT_FRAGMENT_TYPE) {\n                      if (7 === currentFirstChild.tag) {\n                        deleteRemainingChildren(\n                          returnFiber,\n                          currentFirstChild.sibling\n                        );\n                        lanes = useFiber(\n                          currentFirstChild,\n                          newChild.props.children\n                        );\n                        lanes.return = returnFiber;\n                        lanes._debugOwner = newChild._owner;\n                        lanes._debugInfo = currentDebugInfo;\n                        validateFragmentProps(newChild, lanes, returnFiber);\n                        returnFiber = lanes;\n                        break a;\n                      }\n                    } else if (\n                      currentFirstChild.elementType === key ||\n                      isCompatibleFamilyForHotReloading(\n                        currentFirstChild,\n                        newChild\n                      ) ||\n                      (\"object\" === typeof key &&\n                        null !== key &&\n                        key.$$typeof === REACT_LAZY_TYPE &&\n                        resolveLazy(key) === currentFirstChild.type)\n                    ) {\n                      deleteRemainingChildren(\n                        returnFiber,\n                        currentFirstChild.sibling\n                      );\n                      lanes = useFiber(currentFirstChild, newChild.props);\n                      coerceRef(lanes, newChild);\n                      lanes.return = returnFiber;\n                      lanes._debugOwner = newChild._owner;\n                      lanes._debugInfo = currentDebugInfo;\n                      returnFiber = lanes;\n                      break a;\n                    }\n                    deleteRemainingChildren(returnFiber, currentFirstChild);\n                    break;\n                  } else deleteChild(returnFiber, currentFirstChild);\n                  currentFirstChild = currentFirstChild.sibling;\n                }\n                newChild.type === REACT_FRAGMENT_TYPE\n                  ? ((lanes = createFiberFromFragment(\n                      newChild.props.children,\n                      returnFiber.mode,\n                      lanes,\n                      newChild.key\n                    )),\n                    (lanes.return = returnFiber),\n                    (lanes._debugOwner = returnFiber),\n                    (lanes._debugTask = returnFiber._debugTask),\n                    (lanes._debugInfo = currentDebugInfo),\n                    validateFragmentProps(newChild, lanes, returnFiber),\n                    (returnFiber = lanes))\n                  : ((lanes = createFiberFromElement(\n                      newChild,\n                      returnFiber.mode,\n                      lanes\n                    )),\n                    coerceRef(lanes, newChild),\n                    (lanes.return = returnFiber),\n                    (lanes._debugInfo = currentDebugInfo),\n                    (returnFiber = lanes));\n              }\n              returnFiber = placeSingleChild(returnFiber);\n              currentDebugInfo = prevDebugInfo;\n              return returnFiber;\n            case REACT_PORTAL_TYPE:\n              a: {\n                prevDebugInfo = newChild;\n                for (\n                  newChild = prevDebugInfo.key;\n                  null !== currentFirstChild;\n\n                ) {\n                  if (currentFirstChild.key === newChild)\n                    if (\n                      4 === currentFirstChild.tag &&\n                      currentFirstChild.stateNode.containerInfo ===\n                        prevDebugInfo.containerInfo &&\n                      currentFirstChild.stateNode.implementation ===\n                        prevDebugInfo.implementation\n                    ) {\n                      deleteRemainingChildren(\n                        returnFiber,\n                        currentFirstChild.sibling\n                      );\n                      lanes = useFiber(\n                        currentFirstChild,\n                        prevDebugInfo.children || []\n                      );\n                      lanes.return = returnFiber;\n                      returnFiber = lanes;\n                      break a;\n                    } else {\n                      deleteRemainingChildren(returnFiber, currentFirstChild);\n                      break;\n                    }\n                  else deleteChild(returnFiber, currentFirstChild);\n                  currentFirstChild = currentFirstChild.sibling;\n                }\n                lanes = createFiberFromPortal(\n                  prevDebugInfo,\n                  returnFiber.mode,\n                  lanes\n                );\n                lanes.return = returnFiber;\n                returnFiber = lanes;\n              }\n              return placeSingleChild(returnFiber);\n            case REACT_LAZY_TYPE:\n              return (\n                (prevDebugInfo = pushDebugInfo(newChild._debugInfo)),\n                (newChild = resolveLazy(newChild)),\n                (returnFiber = reconcileChildFibersImpl(\n                  returnFiber,\n                  currentFirstChild,\n                  newChild,\n                  lanes\n                )),\n                (currentDebugInfo = prevDebugInfo),\n                returnFiber\n              );\n          }\n          if (isArrayImpl(newChild))\n            return (\n              (prevDebugInfo = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = reconcileChildrenArray(\n                returnFiber,\n                currentFirstChild,\n                newChild,\n                lanes\n              )),\n              (currentDebugInfo = prevDebugInfo),\n              returnFiber\n            );\n          if (getIteratorFn(newChild)) {\n            prevDebugInfo = pushDebugInfo(newChild._debugInfo);\n            key = getIteratorFn(newChild);\n            if (\"function\" !== typeof key)\n              throw Error(\n                \"An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.\"\n              );\n            var newChildren = key.call(newChild);\n            if (newChildren === newChild) {\n              if (\n                0 !== returnFiber.tag ||\n                \"[object GeneratorFunction]\" !==\n                  Object.prototype.toString.call(returnFiber.type) ||\n                \"[object Generator]\" !==\n                  Object.prototype.toString.call(newChildren)\n              )\n                didWarnAboutGenerators ||\n                  console.error(\n                    \"Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items.\"\n                  ),\n                  (didWarnAboutGenerators = !0);\n            } else\n              newChild.entries !== key ||\n                didWarnAboutMaps ||\n                (console.error(\n                  \"Using Maps as children is not supported. Use an array of keyed ReactElements instead.\"\n                ),\n                (didWarnAboutMaps = !0));\n            returnFiber = reconcileChildrenIterator(\n              returnFiber,\n              currentFirstChild,\n              newChildren,\n              lanes\n            );\n            currentDebugInfo = prevDebugInfo;\n            return returnFiber;\n          }\n          if (\"function\" === typeof newChild.then)\n            return (\n              (prevDebugInfo = pushDebugInfo(newChild._debugInfo)),\n              (returnFiber = reconcileChildFibersImpl(\n                returnFiber,\n                currentFirstChild,\n                unwrapThenable(newChild),\n                lanes\n              )),\n              (currentDebugInfo = prevDebugInfo),\n              returnFiber\n            );\n          if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n            return reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              readContextDuringReconciliation(returnFiber, newChild),\n              lanes\n            );\n          throwOnInvalidObjectType(returnFiber, newChild);\n        }\n        if (\n          (\"string\" === typeof newChild && \"\" !== newChild) ||\n          \"number\" === typeof newChild ||\n          \"bigint\" === typeof newChild\n        )\n          return (\n            (prevDebugInfo = \"\" + newChild),\n            null !== currentFirstChild && 6 === currentFirstChild.tag\n              ? (deleteRemainingChildren(\n                  returnFiber,\n                  currentFirstChild.sibling\n                ),\n                (lanes = useFiber(currentFirstChild, prevDebugInfo)),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : (deleteRemainingChildren(returnFiber, currentFirstChild),\n                (lanes = createFiberFromText(\n                  prevDebugInfo,\n                  returnFiber.mode,\n                  lanes\n                )),\n                (lanes.return = returnFiber),\n                (lanes._debugOwner = returnFiber),\n                (lanes._debugTask = returnFiber._debugTask),\n                (lanes._debugInfo = currentDebugInfo),\n                (returnFiber = lanes)),\n            placeSingleChild(returnFiber)\n          );\n        \"function\" === typeof newChild &&\n          warnOnFunctionType(returnFiber, newChild);\n        \"symbol\" === typeof newChild && warnOnSymbolType(returnFiber, newChild);\n        return deleteRemainingChildren(returnFiber, currentFirstChild);\n      }\n      return function (returnFiber, currentFirstChild, newChild, lanes) {\n        var prevDebugInfo = currentDebugInfo;\n        currentDebugInfo = null;\n        try {\n          thenableIndexCounter$1 = 0;\n          var firstChildFiber = reconcileChildFibersImpl(\n            returnFiber,\n            currentFirstChild,\n            newChild,\n            lanes\n          );\n          thenableState$1 = null;\n          return firstChildFiber;\n        } catch (x) {\n          if (x === SuspenseException || x === SuspenseActionException) throw x;\n          var fiber = createFiber(29, x, null, returnFiber.mode);\n          fiber.lanes = lanes;\n          fiber.return = returnFiber;\n          var debugInfo = (fiber._debugInfo = currentDebugInfo);\n          fiber._debugOwner = returnFiber._debugOwner;\n          fiber._debugTask = returnFiber._debugTask;\n          if (null != debugInfo)\n            for (var i = debugInfo.length - 1; 0 <= i; i--)\n              if (\"string\" === typeof debugInfo[i].stack) {\n                fiber._debugOwner = debugInfo[i];\n                fiber._debugTask = debugInfo[i].debugTask;\n                break;\n              }\n          return fiber;\n        } finally {\n          currentDebugInfo = prevDebugInfo;\n        }\n      };\n    }\n    function validateSuspenseListNestedChild(childSlot, index) {\n      var isAnArray = isArrayImpl(childSlot);\n      childSlot = !isAnArray && \"function\" === typeof getIteratorFn(childSlot);\n      return isAnArray || childSlot\n        ? ((isAnArray = isAnArray ? \"array\" : \"iterable\"),\n          console.error(\n            \"A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>\",\n            isAnArray,\n            index,\n            isAnArray\n          ),\n          !1)\n        : !0;\n    }\n    function initializeUpdateQueue(fiber) {\n      fiber.updateQueue = {\n        baseState: fiber.memoizedState,\n        firstBaseUpdate: null,\n        lastBaseUpdate: null,\n        shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n        callbacks: null\n      };\n    }\n    function cloneUpdateQueue(current, workInProgress) {\n      current = current.updateQueue;\n      workInProgress.updateQueue === current &&\n        (workInProgress.updateQueue = {\n          baseState: current.baseState,\n          firstBaseUpdate: current.firstBaseUpdate,\n          lastBaseUpdate: current.lastBaseUpdate,\n          shared: current.shared,\n          callbacks: null\n        });\n    }\n    function createUpdate(lane) {\n      return {\n        lane: lane,\n        tag: UpdateState,\n        payload: null,\n        callback: null,\n        next: null\n      };\n    }\n    function enqueueUpdate(fiber, update, lane) {\n      var updateQueue = fiber.updateQueue;\n      if (null === updateQueue) return null;\n      updateQueue = updateQueue.shared;\n      if (\n        currentlyProcessingQueue === updateQueue &&\n        !didWarnUpdateInsideUpdate\n      ) {\n        var componentName = getComponentNameFromFiber(fiber);\n        console.error(\n          \"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.\\n\\nPlease update the following component: %s\",\n          componentName\n        );\n        didWarnUpdateInsideUpdate = !0;\n      }\n      if ((executionContext & RenderContext) !== NoContext)\n        return (\n          (componentName = updateQueue.pending),\n          null === componentName\n            ? (update.next = update)\n            : ((update.next = componentName.next),\n              (componentName.next = update)),\n          (updateQueue.pending = update),\n          (update = getRootForUpdatedFiber(fiber)),\n          markUpdateLaneFromFiberToRoot(fiber, null, lane),\n          update\n        );\n      enqueueUpdate$1(fiber, updateQueue, update, lane);\n      return getRootForUpdatedFiber(fiber);\n    }\n    function entangleTransitions(root, fiber, lane) {\n      fiber = fiber.updateQueue;\n      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n        var queueLanes = fiber.lanes;\n        queueLanes &= root.pendingLanes;\n        lane |= queueLanes;\n        fiber.lanes = lane;\n        markRootEntangled(root, lane);\n      }\n    }\n    function enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n      var queue = workInProgress.updateQueue,\n        current = workInProgress.alternate;\n      if (\n        null !== current &&\n        ((current = current.updateQueue), queue === current)\n      ) {\n        var newFirst = null,\n          newLast = null;\n        queue = queue.firstBaseUpdate;\n        if (null !== queue) {\n          do {\n            var clone = {\n              lane: queue.lane,\n              tag: queue.tag,\n              payload: queue.payload,\n              callback: null,\n              next: null\n            };\n            null === newLast\n              ? (newFirst = newLast = clone)\n              : (newLast = newLast.next = clone);\n            queue = queue.next;\n          } while (null !== queue);\n          null === newLast\n            ? (newFirst = newLast = capturedUpdate)\n            : (newLast = newLast.next = capturedUpdate);\n        } else newFirst = newLast = capturedUpdate;\n        queue = {\n          baseState: current.baseState,\n          firstBaseUpdate: newFirst,\n          lastBaseUpdate: newLast,\n          shared: current.shared,\n          callbacks: current.callbacks\n        };\n        workInProgress.updateQueue = queue;\n        return;\n      }\n      workInProgress = queue.lastBaseUpdate;\n      null === workInProgress\n        ? (queue.firstBaseUpdate = capturedUpdate)\n        : (workInProgress.next = capturedUpdate);\n      queue.lastBaseUpdate = capturedUpdate;\n    }\n    function suspendIfUpdateReadFromEntangledAsyncAction() {\n      if (didReadFromEntangledAsyncAction) {\n        var entangledActionThenable = currentEntangledActionThenable;\n        if (null !== entangledActionThenable) throw entangledActionThenable;\n      }\n    }\n    function processUpdateQueue(\n      workInProgress,\n      props,\n      instance$jscomp$0,\n      renderLanes\n    ) {\n      didReadFromEntangledAsyncAction = !1;\n      var queue = workInProgress.updateQueue;\n      hasForceUpdate = !1;\n      currentlyProcessingQueue = queue.shared;\n      var firstBaseUpdate = queue.firstBaseUpdate,\n        lastBaseUpdate = queue.lastBaseUpdate,\n        pendingQueue = queue.shared.pending;\n      if (null !== pendingQueue) {\n        queue.shared.pending = null;\n        var lastPendingUpdate = pendingQueue,\n          firstPendingUpdate = lastPendingUpdate.next;\n        lastPendingUpdate.next = null;\n        null === lastBaseUpdate\n          ? (firstBaseUpdate = firstPendingUpdate)\n          : (lastBaseUpdate.next = firstPendingUpdate);\n        lastBaseUpdate = lastPendingUpdate;\n        var current = workInProgress.alternate;\n        null !== current &&\n          ((current = current.updateQueue),\n          (pendingQueue = current.lastBaseUpdate),\n          pendingQueue !== lastBaseUpdate &&\n            (null === pendingQueue\n              ? (current.firstBaseUpdate = firstPendingUpdate)\n              : (pendingQueue.next = firstPendingUpdate),\n            (current.lastBaseUpdate = lastPendingUpdate)));\n      }\n      if (null !== firstBaseUpdate) {\n        var newState = queue.baseState;\n        lastBaseUpdate = 0;\n        current = firstPendingUpdate = lastPendingUpdate = null;\n        pendingQueue = firstBaseUpdate;\n        do {\n          var updateLane = pendingQueue.lane & -536870913,\n            isHiddenUpdate = updateLane !== pendingQueue.lane;\n          if (\n            isHiddenUpdate\n              ? (workInProgressRootRenderLanes & updateLane) === updateLane\n              : (renderLanes & updateLane) === updateLane\n          ) {\n            0 !== updateLane &&\n              updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction = !0);\n            null !== current &&\n              (current = current.next =\n                {\n                  lane: 0,\n                  tag: pendingQueue.tag,\n                  payload: pendingQueue.payload,\n                  callback: null,\n                  next: null\n                });\n            a: {\n              updateLane = workInProgress;\n              var partialState = pendingQueue;\n              var nextProps = props,\n                instance = instance$jscomp$0;\n              switch (partialState.tag) {\n                case ReplaceState:\n                  partialState = partialState.payload;\n                  if (\"function\" === typeof partialState) {\n                    isDisallowedContextReadInDEV = !0;\n                    var nextState = partialState.call(\n                      instance,\n                      newState,\n                      nextProps\n                    );\n                    if (updateLane.mode & StrictLegacyMode) {\n                      setIsStrictModeForDevtools(!0);\n                      try {\n                        partialState.call(instance, newState, nextProps);\n                      } finally {\n                        setIsStrictModeForDevtools(!1);\n                      }\n                    }\n                    isDisallowedContextReadInDEV = !1;\n                    newState = nextState;\n                    break a;\n                  }\n                  newState = partialState;\n                  break a;\n                case CaptureUpdate:\n                  updateLane.flags = (updateLane.flags & -65537) | 128;\n                case UpdateState:\n                  nextState = partialState.payload;\n                  if (\"function\" === typeof nextState) {\n                    isDisallowedContextReadInDEV = !0;\n                    partialState = nextState.call(\n                      instance,\n                      newState,\n                      nextProps\n                    );\n                    if (updateLane.mode & StrictLegacyMode) {\n                      setIsStrictModeForDevtools(!0);\n                      try {\n                        nextState.call(instance, newState, nextProps);\n                      } finally {\n                        setIsStrictModeForDevtools(!1);\n                      }\n                    }\n                    isDisallowedContextReadInDEV = !1;\n                  } else partialState = nextState;\n                  if (null === partialState || void 0 === partialState) break a;\n                  newState = assign({}, newState, partialState);\n                  break a;\n                case ForceUpdate:\n                  hasForceUpdate = !0;\n              }\n            }\n            updateLane = pendingQueue.callback;\n            null !== updateLane &&\n              ((workInProgress.flags |= 64),\n              isHiddenUpdate && (workInProgress.flags |= 8192),\n              (isHiddenUpdate = queue.callbacks),\n              null === isHiddenUpdate\n                ? (queue.callbacks = [updateLane])\n                : isHiddenUpdate.push(updateLane));\n          } else\n            (isHiddenUpdate = {\n              lane: updateLane,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: pendingQueue.callback,\n              next: null\n            }),\n              null === current\n                ? ((firstPendingUpdate = current = isHiddenUpdate),\n                  (lastPendingUpdate = newState))\n                : (current = current.next = isHiddenUpdate),\n              (lastBaseUpdate |= updateLane);\n          pendingQueue = pendingQueue.next;\n          if (null === pendingQueue)\n            if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n              break;\n            else\n              (isHiddenUpdate = pendingQueue),\n                (pendingQueue = isHiddenUpdate.next),\n                (isHiddenUpdate.next = null),\n                (queue.lastBaseUpdate = isHiddenUpdate),\n                (queue.shared.pending = null);\n        } while (1);\n        null === current && (lastPendingUpdate = newState);\n        queue.baseState = lastPendingUpdate;\n        queue.firstBaseUpdate = firstPendingUpdate;\n        queue.lastBaseUpdate = current;\n        null === firstBaseUpdate && (queue.shared.lanes = 0);\n        workInProgressRootSkippedLanes |= lastBaseUpdate;\n        workInProgress.lanes = lastBaseUpdate;\n        workInProgress.memoizedState = newState;\n      }\n      currentlyProcessingQueue = null;\n    }\n    function callCallback(callback, context) {\n      if (\"function\" !== typeof callback)\n        throw Error(\n          \"Invalid argument passed as callback. Expected a function. Instead received: \" +\n            callback\n        );\n      callback.call(context);\n    }\n    function commitHiddenCallbacks(updateQueue, context) {\n      var hiddenCallbacks = updateQueue.shared.hiddenCallbacks;\n      if (null !== hiddenCallbacks)\n        for (\n          updateQueue.shared.hiddenCallbacks = null, updateQueue = 0;\n          updateQueue < hiddenCallbacks.length;\n          updateQueue++\n        )\n          callCallback(hiddenCallbacks[updateQueue], context);\n    }\n    function commitCallbacks(updateQueue, context) {\n      var callbacks = updateQueue.callbacks;\n      if (null !== callbacks)\n        for (\n          updateQueue.callbacks = null, updateQueue = 0;\n          updateQueue < callbacks.length;\n          updateQueue++\n        )\n          callCallback(callbacks[updateQueue], context);\n    }\n    function pushHiddenContext(fiber, context) {\n      var prevEntangledRenderLanes = entangledRenderLanes;\n      push(prevEntangledRenderLanesCursor, prevEntangledRenderLanes, fiber);\n      push(currentTreeHiddenStackCursor, context, fiber);\n      entangledRenderLanes = prevEntangledRenderLanes | context.baseLanes;\n    }\n    function reuseHiddenContextOnStack(fiber) {\n      push(prevEntangledRenderLanesCursor, entangledRenderLanes, fiber);\n      push(\n        currentTreeHiddenStackCursor,\n        currentTreeHiddenStackCursor.current,\n        fiber\n      );\n    }\n    function popHiddenContext(fiber) {\n      entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n      pop(currentTreeHiddenStackCursor, fiber);\n      pop(prevEntangledRenderLanesCursor, fiber);\n    }\n    function pushPrimaryTreeSuspenseHandler(handler) {\n      var current = handler.alternate;\n      push(\n        suspenseStackCursor,\n        suspenseStackCursor.current & SubtreeSuspenseContextMask,\n        handler\n      );\n      push(suspenseHandlerStackCursor, handler, handler);\n      null === shellBoundary &&\n        (null === current || null !== currentTreeHiddenStackCursor.current\n          ? (shellBoundary = handler)\n          : null !== current.memoizedState && (shellBoundary = handler));\n    }\n    function pushDehydratedActivitySuspenseHandler(fiber) {\n      push(suspenseStackCursor, suspenseStackCursor.current, fiber);\n      push(suspenseHandlerStackCursor, fiber, fiber);\n      null === shellBoundary && (shellBoundary = fiber);\n    }\n    function pushOffscreenSuspenseHandler(fiber) {\n      22 === fiber.tag\n        ? (push(suspenseStackCursor, suspenseStackCursor.current, fiber),\n          push(suspenseHandlerStackCursor, fiber, fiber),\n          null === shellBoundary && (shellBoundary = fiber))\n        : reuseSuspenseHandlerOnStack(fiber);\n    }\n    function reuseSuspenseHandlerOnStack(fiber) {\n      push(suspenseStackCursor, suspenseStackCursor.current, fiber);\n      push(\n        suspenseHandlerStackCursor,\n        suspenseHandlerStackCursor.current,\n        fiber\n      );\n    }\n    function popSuspenseHandler(fiber) {\n      pop(suspenseHandlerStackCursor, fiber);\n      shellBoundary === fiber && (shellBoundary = null);\n      pop(suspenseStackCursor, fiber);\n    }\n    function findFirstSuspended(row) {\n      for (var node = row; null !== node; ) {\n        if (13 === node.tag) {\n          var state = node.memoizedState;\n          if (\n            null !== state &&\n            ((state = state.dehydrated),\n            null === state ||\n              isSuspenseInstancePending(state) ||\n              isSuspenseInstanceFallback(state))\n          )\n            return node;\n        } else if (\n          19 === node.tag &&\n          (\"forwards\" === node.memoizedProps.revealOrder ||\n            \"backwards\" === node.memoizedProps.revealOrder ||\n            \"unstable_legacy-backwards\" === node.memoizedProps.revealOrder ||\n            \"together\" === node.memoizedProps.revealOrder)\n        ) {\n          if (0 !== (node.flags & 128)) return node;\n        } else if (null !== node.child) {\n          node.child.return = node;\n          node = node.child;\n          continue;\n        }\n        if (node === row) break;\n        for (; null === node.sibling; ) {\n          if (null === node.return || node.return === row) return null;\n          node = node.return;\n        }\n        node.sibling.return = node.return;\n        node = node.sibling;\n      }\n      return null;\n    }\n    function mountHookTypesDev() {\n      var hookName = currentHookNameInDev;\n      null === hookTypesDev\n        ? (hookTypesDev = [hookName])\n        : hookTypesDev.push(hookName);\n    }\n    function updateHookTypesDev() {\n      var hookName = currentHookNameInDev;\n      if (\n        null !== hookTypesDev &&\n        (hookTypesUpdateIndexDev++,\n        hookTypesDev[hookTypesUpdateIndexDev] !== hookName)\n      ) {\n        var componentName = getComponentNameFromFiber(currentlyRenderingFiber);\n        if (\n          !didWarnAboutMismatchedHooksForComponent.has(componentName) &&\n          (didWarnAboutMismatchedHooksForComponent.add(componentName),\n          null !== hookTypesDev)\n        ) {\n          for (var table = \"\", i = 0; i <= hookTypesUpdateIndexDev; i++) {\n            var oldHookName = hookTypesDev[i],\n              newHookName =\n                i === hookTypesUpdateIndexDev ? hookName : oldHookName;\n            for (\n              oldHookName = i + 1 + \". \" + oldHookName;\n              30 > oldHookName.length;\n\n            )\n              oldHookName += \" \";\n            oldHookName += newHookName + \"\\n\";\n            table += oldHookName;\n          }\n          console.error(\n            \"React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks\\n\\n   Previous render            Next render\\n   ------------------------------------------------------\\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\",\n            componentName,\n            table\n          );\n        }\n      }\n    }\n    function checkDepsAreArrayDev(deps) {\n      void 0 === deps ||\n        null === deps ||\n        isArrayImpl(deps) ||\n        console.error(\n          \"%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.\",\n          currentHookNameInDev,\n          typeof deps\n        );\n    }\n    function warnOnUseFormStateInDev() {\n      var componentName = getComponentNameFromFiber(currentlyRenderingFiber);\n      didWarnAboutUseFormState.has(componentName) ||\n        (didWarnAboutUseFormState.add(componentName),\n        console.error(\n          \"ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.\",\n          componentName\n        ));\n    }\n    function throwInvalidHookError() {\n      throw Error(\n        \"Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\\n1. You might have mismatching versions of React and the renderer (such as React DOM)\\n2. You might be breaking the Rules of Hooks\\n3. You might have more than one copy of React in the same app\\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.\"\n      );\n    }\n    function areHookInputsEqual(nextDeps, prevDeps) {\n      if (ignorePreviousDependencies) return !1;\n      if (null === prevDeps)\n        return (\n          console.error(\n            \"%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.\",\n            currentHookNameInDev\n          ),\n          !1\n        );\n      nextDeps.length !== prevDeps.length &&\n        console.error(\n          \"The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\\n\\nPrevious: %s\\nIncoming: %s\",\n          currentHookNameInDev,\n          \"[\" + prevDeps.join(\", \") + \"]\",\n          \"[\" + nextDeps.join(\", \") + \"]\"\n        );\n      for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n        if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n      return !0;\n    }\n    function renderWithHooks(\n      current,\n      workInProgress,\n      Component,\n      props,\n      secondArg,\n      nextRenderLanes\n    ) {\n      renderLanes = nextRenderLanes;\n      currentlyRenderingFiber = workInProgress;\n      hookTypesDev = null !== current ? current._debugHookTypes : null;\n      hookTypesUpdateIndexDev = -1;\n      ignorePreviousDependencies =\n        null !== current && current.type !== workInProgress.type;\n      if (\n        \"[object AsyncFunction]\" ===\n          Object.prototype.toString.call(Component) ||\n        \"[object AsyncGeneratorFunction]\" ===\n          Object.prototype.toString.call(Component)\n      )\n        (nextRenderLanes = getComponentNameFromFiber(currentlyRenderingFiber)),\n          didWarnAboutAsyncClientComponent.has(nextRenderLanes) ||\n            (didWarnAboutAsyncClientComponent.add(nextRenderLanes),\n            console.error(\n              \"%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.\",\n              null === nextRenderLanes\n                ? \"An unknown Component\"\n                : \"<\" + nextRenderLanes + \">\"\n            ));\n      workInProgress.memoizedState = null;\n      workInProgress.updateQueue = null;\n      workInProgress.lanes = 0;\n      ReactSharedInternals.H =\n        null !== current && null !== current.memoizedState\n          ? HooksDispatcherOnUpdateInDEV\n          : null !== hookTypesDev\n            ? HooksDispatcherOnMountWithHookTypesInDEV\n            : HooksDispatcherOnMountInDEV;\n      shouldDoubleInvokeUserFnsInHooksDEV = nextRenderLanes =\n        (workInProgress.mode & StrictLegacyMode) !== NoMode;\n      var children = callComponentInDEV(Component, props, secondArg);\n      shouldDoubleInvokeUserFnsInHooksDEV = !1;\n      didScheduleRenderPhaseUpdateDuringThisPass &&\n        (children = renderWithHooksAgain(\n          workInProgress,\n          Component,\n          props,\n          secondArg\n        ));\n      if (nextRenderLanes) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          children = renderWithHooksAgain(\n            workInProgress,\n            Component,\n            props,\n            secondArg\n          );\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      finishRenderingHooks(current, workInProgress);\n      return children;\n    }\n    function finishRenderingHooks(current, workInProgress) {\n      workInProgress._debugHookTypes = hookTypesDev;\n      null === workInProgress.dependencies\n        ? null !== thenableState &&\n          (workInProgress.dependencies = {\n            lanes: 0,\n            firstContext: null,\n            _debugThenableState: thenableState\n          })\n        : (workInProgress.dependencies._debugThenableState = thenableState);\n      ReactSharedInternals.H = ContextOnlyDispatcher;\n      var didRenderTooFewHooks =\n        null !== currentHook && null !== currentHook.next;\n      renderLanes = 0;\n      hookTypesDev =\n        currentHookNameInDev =\n        workInProgressHook =\n        currentHook =\n        currentlyRenderingFiber =\n          null;\n      hookTypesUpdateIndexDev = -1;\n      null !== current &&\n        (current.flags & 65011712) !== (workInProgress.flags & 65011712) &&\n        console.error(\n          \"Internal React error: Expected static flag was missing. Please notify the React team.\"\n        );\n      didScheduleRenderPhaseUpdate = !1;\n      thenableIndexCounter = 0;\n      thenableState = null;\n      if (didRenderTooFewHooks)\n        throw Error(\n          \"Rendered fewer hooks than expected. This may be caused by an accidental early return statement.\"\n        );\n      null === current ||\n        didReceiveUpdate ||\n        ((current = current.dependencies),\n        null !== current &&\n          checkIfContextChanged(current) &&\n          (didReceiveUpdate = !0));\n      needsToResetSuspendedThenableDEV\n        ? ((needsToResetSuspendedThenableDEV = !1), (current = !0))\n        : (current = !1);\n      current &&\n        ((workInProgress =\n          getComponentNameFromFiber(workInProgress) || \"Unknown\"),\n        didWarnAboutUseWrappedInTryCatch.has(workInProgress) ||\n          didWarnAboutAsyncClientComponent.has(workInProgress) ||\n          (didWarnAboutUseWrappedInTryCatch.add(workInProgress),\n          console.error(\n            \"`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.\"\n          )));\n    }\n    function renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n      currentlyRenderingFiber = workInProgress;\n      var numberOfReRenders = 0;\n      do {\n        didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n        thenableIndexCounter = 0;\n        didScheduleRenderPhaseUpdateDuringThisPass = !1;\n        if (numberOfReRenders >= RE_RENDER_LIMIT)\n          throw Error(\n            \"Too many re-renders. React limits the number of renders to prevent an infinite loop.\"\n          );\n        numberOfReRenders += 1;\n        ignorePreviousDependencies = !1;\n        workInProgressHook = currentHook = null;\n        if (null != workInProgress.updateQueue) {\n          var children = workInProgress.updateQueue;\n          children.lastEffect = null;\n          children.events = null;\n          children.stores = null;\n          null != children.memoCache && (children.memoCache.index = 0);\n        }\n        hookTypesUpdateIndexDev = -1;\n        ReactSharedInternals.H = HooksDispatcherOnRerenderInDEV;\n        children = callComponentInDEV(Component, props, secondArg);\n      } while (didScheduleRenderPhaseUpdateDuringThisPass);\n      return children;\n    }\n    function TransitionAwareHostComponent() {\n      var dispatcher = ReactSharedInternals.H,\n        maybeThenable = dispatcher.useState()[0];\n      maybeThenable =\n        \"function\" === typeof maybeThenable.then\n          ? useThenable(maybeThenable)\n          : maybeThenable;\n      dispatcher = dispatcher.useState()[0];\n      (null !== currentHook ? currentHook.memoizedState : null) !==\n        dispatcher && (currentlyRenderingFiber.flags |= 1024);\n      return maybeThenable;\n    }\n    function checkDidRenderIdHook() {\n      var didRenderIdHook = 0 !== localIdCounter;\n      localIdCounter = 0;\n      return didRenderIdHook;\n    }\n    function bailoutHooks(current, workInProgress, lanes) {\n      workInProgress.updateQueue = current.updateQueue;\n      workInProgress.flags =\n        (workInProgress.mode & StrictEffectsMode) !== NoMode\n          ? workInProgress.flags & -402655237\n          : workInProgress.flags & -2053;\n      current.lanes &= ~lanes;\n    }\n    function resetHooksOnUnwind(workInProgress) {\n      if (didScheduleRenderPhaseUpdate) {\n        for (\n          workInProgress = workInProgress.memoizedState;\n          null !== workInProgress;\n\n        ) {\n          var queue = workInProgress.queue;\n          null !== queue && (queue.pending = null);\n          workInProgress = workInProgress.next;\n        }\n        didScheduleRenderPhaseUpdate = !1;\n      }\n      renderLanes = 0;\n      hookTypesDev =\n        workInProgressHook =\n        currentHook =\n        currentlyRenderingFiber =\n          null;\n      hookTypesUpdateIndexDev = -1;\n      currentHookNameInDev = null;\n      didScheduleRenderPhaseUpdateDuringThisPass = !1;\n      thenableIndexCounter = localIdCounter = 0;\n      thenableState = null;\n    }\n    function mountWorkInProgressHook() {\n      var hook = {\n        memoizedState: null,\n        baseState: null,\n        baseQueue: null,\n        queue: null,\n        next: null\n      };\n      null === workInProgressHook\n        ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n        : (workInProgressHook = workInProgressHook.next = hook);\n      return workInProgressHook;\n    }\n    function updateWorkInProgressHook() {\n      if (null === currentHook) {\n        var nextCurrentHook = currentlyRenderingFiber.alternate;\n        nextCurrentHook =\n          null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n      } else nextCurrentHook = currentHook.next;\n      var nextWorkInProgressHook =\n        null === workInProgressHook\n          ? currentlyRenderingFiber.memoizedState\n          : workInProgressHook.next;\n      if (null !== nextWorkInProgressHook)\n        (workInProgressHook = nextWorkInProgressHook),\n          (currentHook = nextCurrentHook);\n      else {\n        if (null === nextCurrentHook) {\n          if (null === currentlyRenderingFiber.alternate)\n            throw Error(\n              \"Update hook called on initial render. This is likely a bug in React. Please file an issue.\"\n            );\n          throw Error(\"Rendered more hooks than during the previous render.\");\n        }\n        currentHook = nextCurrentHook;\n        nextCurrentHook = {\n          memoizedState: currentHook.memoizedState,\n          baseState: currentHook.baseState,\n          baseQueue: currentHook.baseQueue,\n          queue: currentHook.queue,\n          next: null\n        };\n        null === workInProgressHook\n          ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n              nextCurrentHook)\n          : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n      }\n      return workInProgressHook;\n    }\n    function createFunctionComponentUpdateQueue() {\n      return { lastEffect: null, events: null, stores: null, memoCache: null };\n    }\n    function useThenable(thenable) {\n      var index = thenableIndexCounter;\n      thenableIndexCounter += 1;\n      null === thenableState && (thenableState = createThenableState());\n      thenable = trackUsedThenable(thenableState, thenable, index);\n      index = currentlyRenderingFiber;\n      null ===\n        (null === workInProgressHook\n          ? index.memoizedState\n          : workInProgressHook.next) &&\n        ((index = index.alternate),\n        (ReactSharedInternals.H =\n          null !== index && null !== index.memoizedState\n            ? HooksDispatcherOnUpdateInDEV\n            : HooksDispatcherOnMountInDEV));\n      return thenable;\n    }\n    function use(usable) {\n      if (null !== usable && \"object\" === typeof usable) {\n        if (\"function\" === typeof usable.then) return useThenable(usable);\n        if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n      }\n      throw Error(\"An unsupported type was passed to use(): \" + String(usable));\n    }\n    function useMemoCache(size) {\n      var memoCache = null,\n        updateQueue = currentlyRenderingFiber.updateQueue;\n      null !== updateQueue && (memoCache = updateQueue.memoCache);\n      if (null == memoCache) {\n        var current = currentlyRenderingFiber.alternate;\n        null !== current &&\n          ((current = current.updateQueue),\n          null !== current &&\n            ((current = current.memoCache),\n            null != current &&\n              (memoCache = {\n                data: current.data.map(function (array) {\n                  return array.slice();\n                }),\n                index: 0\n              })));\n      }\n      null == memoCache && (memoCache = { data: [], index: 0 });\n      null === updateQueue &&\n        ((updateQueue = createFunctionComponentUpdateQueue()),\n        (currentlyRenderingFiber.updateQueue = updateQueue));\n      updateQueue.memoCache = memoCache;\n      updateQueue = memoCache.data[memoCache.index];\n      if (void 0 === updateQueue || ignorePreviousDependencies)\n        for (\n          updateQueue = memoCache.data[memoCache.index] = Array(size),\n            current = 0;\n          current < size;\n          current++\n        )\n          updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n      else\n        updateQueue.length !== size &&\n          console.error(\n            \"Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.\",\n            updateQueue.length,\n            size\n          );\n      memoCache.index++;\n      return updateQueue;\n    }\n    function basicStateReducer(state, action) {\n      return \"function\" === typeof action ? action(state) : action;\n    }\n    function mountReducer(reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    }\n    function updateReducer(reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateReducerImpl(hook, currentHook, reducer);\n    }\n    function updateReducerImpl(hook, current, reducer) {\n      var queue = hook.queue;\n      if (null === queue)\n        throw Error(\n          \"Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)\"\n        );\n      queue.lastRenderedReducer = reducer;\n      var baseQueue = hook.baseQueue,\n        pendingQueue = queue.pending;\n      if (null !== pendingQueue) {\n        if (null !== baseQueue) {\n          var baseFirst = baseQueue.next;\n          baseQueue.next = pendingQueue.next;\n          pendingQueue.next = baseFirst;\n        }\n        current.baseQueue !== baseQueue &&\n          console.error(\n            \"Internal error: Expected work-in-progress queue to be a clone. This is a bug in React.\"\n          );\n        current.baseQueue = baseQueue = pendingQueue;\n        queue.pending = null;\n      }\n      pendingQueue = hook.baseState;\n      if (null === baseQueue) hook.memoizedState = pendingQueue;\n      else {\n        current = baseQueue.next;\n        var newBaseQueueFirst = (baseFirst = null),\n          newBaseQueueLast = null,\n          update = current,\n          didReadFromEntangledAsyncAction = !1;\n        do {\n          var updateLane = update.lane & -536870913;\n          if (\n            updateLane !== update.lane\n              ? (workInProgressRootRenderLanes & updateLane) === updateLane\n              : (renderLanes & updateLane) === updateLane\n          ) {\n            var revertLane = update.revertLane;\n            if (0 === revertLane)\n              null !== newBaseQueueLast &&\n                (newBaseQueueLast = newBaseQueueLast.next =\n                  {\n                    lane: 0,\n                    revertLane: 0,\n                    gesture: null,\n                    action: update.action,\n                    hasEagerState: update.hasEagerState,\n                    eagerState: update.eagerState,\n                    next: null\n                  }),\n                updateLane === currentEntangledLane &&\n                  (didReadFromEntangledAsyncAction = !0);\n            else if ((renderLanes & revertLane) === revertLane) {\n              update = update.next;\n              revertLane === currentEntangledLane &&\n                (didReadFromEntangledAsyncAction = !0);\n              continue;\n            } else\n              (updateLane = {\n                lane: 0,\n                revertLane: update.revertLane,\n                gesture: null,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n                null === newBaseQueueLast\n                  ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                    (baseFirst = pendingQueue))\n                  : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n                (currentlyRenderingFiber.lanes |= revertLane),\n                (workInProgressRootSkippedLanes |= revertLane);\n            updateLane = update.action;\n            shouldDoubleInvokeUserFnsInHooksDEV &&\n              reducer(pendingQueue, updateLane);\n            pendingQueue = update.hasEagerState\n              ? update.eagerState\n              : reducer(pendingQueue, updateLane);\n          } else\n            (revertLane = {\n              lane: updateLane,\n              revertLane: update.revertLane,\n              gesture: update.gesture,\n              action: update.action,\n              hasEagerState: update.hasEagerState,\n              eagerState: update.eagerState,\n              next: null\n            }),\n              null === newBaseQueueLast\n                ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n                  (baseFirst = pendingQueue))\n                : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n              (currentlyRenderingFiber.lanes |= updateLane),\n              (workInProgressRootSkippedLanes |= updateLane);\n          update = update.next;\n        } while (null !== update && update !== current);\n        null === newBaseQueueLast\n          ? (baseFirst = pendingQueue)\n          : (newBaseQueueLast.next = newBaseQueueFirst);\n        if (\n          !objectIs(pendingQueue, hook.memoizedState) &&\n          ((didReceiveUpdate = !0),\n          didReadFromEntangledAsyncAction &&\n            ((reducer = currentEntangledActionThenable), null !== reducer))\n        )\n          throw reducer;\n        hook.memoizedState = pendingQueue;\n        hook.baseState = baseFirst;\n        hook.baseQueue = newBaseQueueLast;\n        queue.lastRenderedState = pendingQueue;\n      }\n      null === baseQueue && (queue.lanes = 0);\n      return [hook.memoizedState, queue.dispatch];\n    }\n    function rerenderReducer(reducer) {\n      var hook = updateWorkInProgressHook(),\n        queue = hook.queue;\n      if (null === queue)\n        throw Error(\n          \"Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)\"\n        );\n      queue.lastRenderedReducer = reducer;\n      var dispatch = queue.dispatch,\n        lastRenderPhaseUpdate = queue.pending,\n        newState = hook.memoizedState;\n      if (null !== lastRenderPhaseUpdate) {\n        queue.pending = null;\n        var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n        do\n          (newState = reducer(newState, update.action)), (update = update.next);\n        while (update !== lastRenderPhaseUpdate);\n        objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n        hook.memoizedState = newState;\n        null === hook.baseQueue && (hook.baseState = newState);\n        queue.lastRenderedState = newState;\n      }\n      return [newState, dispatch];\n    }\n    function mountSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(\n            \"Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.\"\n          );\n        var nextSnapshot = getServerSnapshot();\n        didWarnUncachedGetSnapshot ||\n          nextSnapshot === getServerSnapshot() ||\n          (console.error(\n            \"The result of getServerSnapshot should be cached to avoid an infinite loop\"\n          ),\n          (didWarnUncachedGetSnapshot = !0));\n      } else {\n        nextSnapshot = getSnapshot();\n        didWarnUncachedGetSnapshot ||\n          ((getServerSnapshot = getSnapshot()),\n          objectIs(nextSnapshot, getServerSnapshot) ||\n            (console.error(\n              \"The result of getSnapshot should be cached to avoid an infinite loop\"\n            ),\n            (didWarnUncachedGetSnapshot = !0)));\n        if (null === workInProgressRoot)\n          throw Error(\n            \"Expected a work-in-progress root. This is a bug in React. Please file an issue.\"\n          );\n        0 !== (workInProgressRootRenderLanes & 127) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, nextSnapshot);\n      }\n      hook.memoizedState = nextSnapshot;\n      getServerSnapshot = { value: nextSnapshot, getSnapshot: getSnapshot };\n      hook.queue = getServerSnapshot;\n      mountEffect(\n        subscribeToStore.bind(null, fiber, getServerSnapshot, subscribe),\n        [subscribe]\n      );\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        HasEffect | Passive,\n        { destroy: void 0 },\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          getServerSnapshot,\n          nextSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return nextSnapshot;\n    }\n    function updateSyncExternalStore(\n      subscribe,\n      getSnapshot,\n      getServerSnapshot\n    ) {\n      var fiber = currentlyRenderingFiber,\n        hook = updateWorkInProgressHook(),\n        isHydrating$jscomp$0 = isHydrating;\n      if (isHydrating$jscomp$0) {\n        if (void 0 === getServerSnapshot)\n          throw Error(\n            \"Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.\"\n          );\n        getServerSnapshot = getServerSnapshot();\n      } else if (\n        ((getServerSnapshot = getSnapshot()), !didWarnUncachedGetSnapshot)\n      ) {\n        var cachedSnapshot = getSnapshot();\n        objectIs(getServerSnapshot, cachedSnapshot) ||\n          (console.error(\n            \"The result of getSnapshot should be cached to avoid an infinite loop\"\n          ),\n          (didWarnUncachedGetSnapshot = !0));\n      }\n      if (\n        (cachedSnapshot = !objectIs(\n          (currentHook || hook).memoizedState,\n          getServerSnapshot\n        ))\n      )\n        (hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0);\n      hook = hook.queue;\n      var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n      updateEffectImpl(2048, Passive, create, [subscribe]);\n      if (\n        hook.getSnapshot !== getSnapshot ||\n        cachedSnapshot ||\n        (null !== workInProgressHook &&\n          workInProgressHook.memoizedState.tag & HasEffect)\n      ) {\n        fiber.flags |= 2048;\n        pushSimpleEffect(\n          HasEffect | Passive,\n          { destroy: void 0 },\n          updateStoreInstance.bind(\n            null,\n            fiber,\n            hook,\n            getServerSnapshot,\n            getSnapshot\n          ),\n          null\n        );\n        if (null === workInProgressRoot)\n          throw Error(\n            \"Expected a work-in-progress root. This is a bug in React. Please file an issue.\"\n          );\n        isHydrating$jscomp$0 ||\n          0 !== (renderLanes & 127) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      return getServerSnapshot;\n    }\n    function pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n      fiber.flags |= 16384;\n      fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n      getSnapshot = currentlyRenderingFiber.updateQueue;\n      null === getSnapshot\n        ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n          (currentlyRenderingFiber.updateQueue = getSnapshot),\n          (getSnapshot.stores = [fiber]))\n        : ((renderedSnapshot = getSnapshot.stores),\n          null === renderedSnapshot\n            ? (getSnapshot.stores = [fiber])\n            : renderedSnapshot.push(fiber));\n    }\n    function updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n      inst.value = nextSnapshot;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n    }\n    function subscribeToStore(fiber, inst, subscribe) {\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) &&\n          (startUpdateTimerByLane(2, \"updateSyncExternalStore()\", fiber),\n          forceStoreRerender(fiber));\n      });\n    }\n    function checkIfSnapshotChanged(inst) {\n      var latestGetSnapshot = inst.getSnapshot;\n      inst = inst.value;\n      try {\n        var nextValue = latestGetSnapshot();\n        return !objectIs(inst, nextValue);\n      } catch (error) {\n        return !0;\n      }\n    }\n    function forceStoreRerender(fiber) {\n      var root = enqueueConcurrentRenderForLane(fiber, 2);\n      null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n    }\n    function mountStateImpl(initialState) {\n      var hook = mountWorkInProgressHook();\n      if (\"function\" === typeof initialState) {\n        var initialStateInitializer = initialState;\n        initialState = initialStateInitializer();\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            initialStateInitializer();\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      }\n      hook.memoizedState = hook.baseState = initialState;\n      hook.queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: basicStateReducer,\n        lastRenderedState: initialState\n      };\n      return hook;\n    }\n    function mountState(initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    }\n    function mountOptimistic(passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    }\n    function updateOptimistic(passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    }\n    function updateOptimisticImpl(hook, current, passthrough, reducer) {\n      hook.baseState = passthrough;\n      return updateReducerImpl(\n        hook,\n        currentHook,\n        \"function\" === typeof reducer ? reducer : basicStateReducer\n      );\n    }\n    function rerenderOptimistic(passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    }\n    function dispatchActionState(\n      fiber,\n      actionQueue,\n      setPendingState,\n      setState,\n      payload\n    ) {\n      if (isRenderPhaseUpdate(fiber))\n        throw Error(\"Cannot update form state while rendering.\");\n      fiber = actionQueue.action;\n      if (null !== fiber) {\n        var actionNode = {\n          payload: payload,\n          action: fiber,\n          next: null,\n          isTransition: !0,\n          status: \"pending\",\n          value: null,\n          reason: null,\n          listeners: [],\n          then: function (listener) {\n            actionNode.listeners.push(listener);\n          }\n        };\n        null !== ReactSharedInternals.T\n          ? setPendingState(!0)\n          : (actionNode.isTransition = !1);\n        setState(actionNode);\n        setPendingState = actionQueue.pending;\n        null === setPendingState\n          ? ((actionNode.next = actionQueue.pending = actionNode),\n            runActionStateAction(actionQueue, actionNode))\n          : ((actionNode.next = setPendingState.next),\n            (actionQueue.pending = setPendingState.next = actionNode));\n      }\n    }\n    function runActionStateAction(actionQueue, node) {\n      var action = node.action,\n        payload = node.payload,\n        prevState = actionQueue.state;\n      if (node.isTransition) {\n        var prevTransition = ReactSharedInternals.T,\n          currentTransition = {};\n        currentTransition._updatedFibers = new Set();\n        ReactSharedInternals.T = currentTransition;\n        try {\n          var returnValue = action(prevState, payload),\n            onStartTransitionFinish = ReactSharedInternals.S;\n          null !== onStartTransitionFinish &&\n            onStartTransitionFinish(currentTransition, returnValue);\n          handleActionReturnValue(actionQueue, node, returnValue);\n        } catch (error) {\n          onActionError(actionQueue, node, error);\n        } finally {\n          null !== prevTransition &&\n            null !== currentTransition.types &&\n            (null !== prevTransition.types &&\n              prevTransition.types !== currentTransition.types &&\n              console.error(\n                \"We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React.\"\n              ),\n            (prevTransition.types = currentTransition.types)),\n            (ReactSharedInternals.T = prevTransition),\n            null === prevTransition &&\n              currentTransition._updatedFibers &&\n              ((actionQueue = currentTransition._updatedFibers.size),\n              currentTransition._updatedFibers.clear(),\n              10 < actionQueue &&\n                console.warn(\n                  \"Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.\"\n                ));\n        }\n      } else\n        try {\n          (currentTransition = action(prevState, payload)),\n            handleActionReturnValue(actionQueue, node, currentTransition);\n        } catch (error$4) {\n          onActionError(actionQueue, node, error$4);\n        }\n    }\n    function handleActionReturnValue(actionQueue, node, returnValue) {\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n        ? (ReactSharedInternals.asyncTransitions++,\n          returnValue.then(releaseAsyncTransition, releaseAsyncTransition),\n          returnValue.then(\n            function (nextState) {\n              onActionSuccess(actionQueue, node, nextState);\n            },\n            function (error) {\n              return onActionError(actionQueue, node, error);\n            }\n          ),\n          node.isTransition ||\n            console.error(\n              \"An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.\"\n            ))\n        : onActionSuccess(actionQueue, node, returnValue);\n    }\n    function onActionSuccess(actionQueue, actionNode, nextState) {\n      actionNode.status = \"fulfilled\";\n      actionNode.value = nextState;\n      notifyActionListeners(actionNode);\n      actionQueue.state = nextState;\n      actionNode = actionQueue.pending;\n      null !== actionNode &&\n        ((nextState = actionNode.next),\n        nextState === actionNode\n          ? (actionQueue.pending = null)\n          : ((nextState = nextState.next),\n            (actionNode.next = nextState),\n            runActionStateAction(actionQueue, nextState)));\n    }\n    function onActionError(actionQueue, actionNode, error) {\n      var last = actionQueue.pending;\n      actionQueue.pending = null;\n      if (null !== last) {\n        last = last.next;\n        do\n          (actionNode.status = \"rejected\"),\n            (actionNode.reason = error),\n            notifyActionListeners(actionNode),\n            (actionNode = actionNode.next);\n        while (actionNode !== last);\n      }\n      actionQueue.action = null;\n    }\n    function notifyActionListeners(actionNode) {\n      actionNode = actionNode.listeners;\n      for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n    }\n    function actionStateReducer(oldState, newState) {\n      return newState;\n    }\n    function mountActionState(action, initialStateProp) {\n      if (isHydrating) {\n        var ssrFormState = workInProgressRoot.formState;\n        if (null !== ssrFormState) {\n          a: {\n            var isMatching = currentlyRenderingFiber;\n            if (isHydrating) {\n              if (nextHydratableInstance) {\n                b: {\n                  var markerInstance = nextHydratableInstance;\n                  for (\n                    var inRootOrSingleton = rootOrSingletonContext;\n                    8 !== markerInstance.nodeType;\n\n                  ) {\n                    if (!inRootOrSingleton) {\n                      markerInstance = null;\n                      break b;\n                    }\n                    markerInstance = getNextHydratable(\n                      markerInstance.nextSibling\n                    );\n                    if (null === markerInstance) {\n                      markerInstance = null;\n                      break b;\n                    }\n                  }\n                  inRootOrSingleton = markerInstance.data;\n                  markerInstance =\n                    inRootOrSingleton === FORM_STATE_IS_MATCHING ||\n                    inRootOrSingleton === FORM_STATE_IS_NOT_MATCHING\n                      ? markerInstance\n                      : null;\n                }\n                if (markerInstance) {\n                  nextHydratableInstance = getNextHydratable(\n                    markerInstance.nextSibling\n                  );\n                  isMatching = markerInstance.data === FORM_STATE_IS_MATCHING;\n                  break a;\n                }\n              }\n              throwOnHydrationMismatch(isMatching);\n            }\n            isMatching = !1;\n          }\n          isMatching && (initialStateProp = ssrFormState[0]);\n        }\n      }\n      ssrFormState = mountWorkInProgressHook();\n      ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n      isMatching = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: actionStateReducer,\n        lastRenderedState: initialStateProp\n      };\n      ssrFormState.queue = isMatching;\n      ssrFormState = dispatchSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        isMatching\n      );\n      isMatching.dispatch = ssrFormState;\n      isMatching = mountStateImpl(!1);\n      inRootOrSingleton = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !1,\n        isMatching.queue\n      );\n      isMatching = mountWorkInProgressHook();\n      markerInstance = {\n        state: initialStateProp,\n        dispatch: null,\n        action: action,\n        pending: null\n      };\n      isMatching.queue = markerInstance;\n      ssrFormState = dispatchActionState.bind(\n        null,\n        currentlyRenderingFiber,\n        markerInstance,\n        inRootOrSingleton,\n        ssrFormState\n      );\n      markerInstance.dispatch = ssrFormState;\n      isMatching.memoizedState = action;\n      return [initialStateProp, ssrFormState, !1];\n    }\n    function updateActionState(action) {\n      var stateHook = updateWorkInProgressHook();\n      return updateActionStateImpl(stateHook, currentHook, action);\n    }\n    function updateActionStateImpl(stateHook, currentStateHook, action) {\n      currentStateHook = updateReducerImpl(\n        stateHook,\n        currentStateHook,\n        actionStateReducer\n      )[0];\n      stateHook = updateReducer(basicStateReducer)[0];\n      if (\n        \"object\" === typeof currentStateHook &&\n        null !== currentStateHook &&\n        \"function\" === typeof currentStateHook.then\n      )\n        try {\n          var state = useThenable(currentStateHook);\n        } catch (x) {\n          if (x === SuspenseException) throw SuspenseActionException;\n          throw x;\n        }\n      else state = currentStateHook;\n      currentStateHook = updateWorkInProgressHook();\n      var actionQueue = currentStateHook.queue,\n        dispatch = actionQueue.dispatch;\n      action !== currentStateHook.memoizedState &&\n        ((currentlyRenderingFiber.flags |= 2048),\n        pushSimpleEffect(\n          HasEffect | Passive,\n          { destroy: void 0 },\n          actionStateActionEffect.bind(null, actionQueue, action),\n          null\n        ));\n      return [state, dispatch, stateHook];\n    }\n    function actionStateActionEffect(actionQueue, action) {\n      actionQueue.action = action;\n    }\n    function rerenderActionState(action) {\n      var stateHook = updateWorkInProgressHook(),\n        currentStateHook = currentHook;\n      if (null !== currentStateHook)\n        return updateActionStateImpl(stateHook, currentStateHook, action);\n      updateWorkInProgressHook();\n      stateHook = stateHook.memoizedState;\n      currentStateHook = updateWorkInProgressHook();\n      var dispatch = currentStateHook.queue.dispatch;\n      currentStateHook.memoizedState = action;\n      return [stateHook, dispatch, !1];\n    }\n    function pushSimpleEffect(tag, inst, create, deps) {\n      tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };\n      inst = currentlyRenderingFiber.updateQueue;\n      null === inst &&\n        ((inst = createFunctionComponentUpdateQueue()),\n        (currentlyRenderingFiber.updateQueue = inst));\n      create = inst.lastEffect;\n      null === create\n        ? (inst.lastEffect = tag.next = tag)\n        : ((deps = create.next),\n          (create.next = tag),\n          (tag.next = deps),\n          (inst.lastEffect = tag));\n      return tag;\n    }\n    function mountRef(initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    }\n    function mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n      var hook = mountWorkInProgressHook();\n      currentlyRenderingFiber.flags |= fiberFlags;\n      hook.memoizedState = pushSimpleEffect(\n        HasEffect | hookFlags,\n        { destroy: void 0 },\n        create,\n        void 0 === deps ? null : deps\n      );\n    }\n    function updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n      var hook = updateWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var inst = hook.memoizedState.inst;\n      null !== currentHook &&\n      null !== deps &&\n      areHookInputsEqual(deps, currentHook.memoizedState.deps)\n        ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n        : ((currentlyRenderingFiber.flags |= fiberFlags),\n          (hook.memoizedState = pushSimpleEffect(\n            HasEffect | hookFlags,\n            inst,\n            create,\n            deps\n          )));\n    }\n    function mountEffect(create, deps) {\n      (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode\n        ? mountEffectImpl(276826112, Passive, create, deps)\n        : mountEffectImpl(8390656, Passive, create, deps);\n    }\n    function useEffectEventImpl(payload) {\n      currentlyRenderingFiber.flags |= 4;\n      var componentUpdateQueue = currentlyRenderingFiber.updateQueue;\n      if (null === componentUpdateQueue)\n        (componentUpdateQueue = createFunctionComponentUpdateQueue()),\n          (currentlyRenderingFiber.updateQueue = componentUpdateQueue),\n          (componentUpdateQueue.events = [payload]);\n      else {\n        var events = componentUpdateQueue.events;\n        null === events\n          ? (componentUpdateQueue.events = [payload])\n          : events.push(payload);\n      }\n    }\n    function mountEvent(callback) {\n      var hook = mountWorkInProgressHook(),\n        ref = { impl: callback };\n      hook.memoizedState = ref;\n      return function () {\n        if ((executionContext & RenderContext) !== NoContext)\n          throw Error(\n            \"A function wrapped in useEffectEvent can't be called during rendering.\"\n          );\n        return ref.impl.apply(void 0, arguments);\n      };\n    }\n    function updateEvent(callback) {\n      var ref = updateWorkInProgressHook().memoizedState;\n      useEffectEventImpl({ ref: ref, nextImpl: callback });\n      return function () {\n        if ((executionContext & RenderContext) !== NoContext)\n          throw Error(\n            \"A function wrapped in useEffectEvent can't be called during rendering.\"\n          );\n        return ref.impl.apply(void 0, arguments);\n      };\n    }\n    function mountLayoutEffect(create, deps) {\n      var fiberFlags = 4194308;\n      (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode &&\n        (fiberFlags |= 134217728);\n      return mountEffectImpl(fiberFlags, Layout, create, deps);\n    }\n    function imperativeHandleEffect(create, ref) {\n      if (\"function\" === typeof ref) {\n        create = create();\n        var refCleanup = ref(create);\n        return function () {\n          \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n        };\n      }\n      if (null !== ref && void 0 !== ref)\n        return (\n          ref.hasOwnProperty(\"current\") ||\n            console.error(\n              \"Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.\",\n              \"an object with keys {\" + Object.keys(ref).join(\", \") + \"}\"\n            ),\n          (create = create()),\n          (ref.current = create),\n          function () {\n            ref.current = null;\n          }\n        );\n    }\n    function mountImperativeHandle(ref, create, deps) {\n      \"function\" !== typeof create &&\n        console.error(\n          \"Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.\",\n          null !== create ? typeof create : \"null\"\n        );\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      var fiberFlags = 4194308;\n      (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode &&\n        (fiberFlags |= 134217728);\n      mountEffectImpl(\n        fiberFlags,\n        Layout,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    }\n    function updateImperativeHandle(ref, create, deps) {\n      \"function\" !== typeof create &&\n        console.error(\n          \"Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.\",\n          null !== create ? typeof create : \"null\"\n        );\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      updateEffectImpl(\n        4,\n        Layout,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    }\n    function mountCallback(callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    }\n    function updateCallback(callback, deps) {\n      var hook = updateWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var prevState = hook.memoizedState;\n      if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n        return prevState[0];\n      hook.memoizedState = [callback, deps];\n      return callback;\n    }\n    function mountMemo(nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    }\n    function updateMemo(nextCreate, deps) {\n      var hook = updateWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var prevState = hook.memoizedState;\n      if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n        return prevState[0];\n      prevState = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [prevState, deps];\n      return prevState;\n    }\n    function mountDeferredValue(value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    }\n    function updateDeferredValue(value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    }\n    function rerenderDeferredValue(value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    }\n    function mountDeferredValueImpl(hook, value, initialValue) {\n      if (\n        void 0 === initialValue ||\n        (0 !== (renderLanes & 1073741824) &&\n          0 === (workInProgressRootRenderLanes & 261930))\n      )\n        return (hook.memoizedState = value);\n      hook.memoizedState = initialValue;\n      hook = requestDeferredLane();\n      currentlyRenderingFiber.lanes |= hook;\n      workInProgressRootSkippedLanes |= hook;\n      return initialValue;\n    }\n    function updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n      if (objectIs(value, prevValue)) return value;\n      if (null !== currentTreeHiddenStackCursor.current)\n        return (\n          (hook = mountDeferredValueImpl(hook, value, initialValue)),\n          objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n          hook\n        );\n      if (\n        0 === (renderLanes & 42) ||\n        (0 !== (renderLanes & 1073741824) &&\n          0 === (workInProgressRootRenderLanes & 261930))\n      )\n        return (didReceiveUpdate = !0), (hook.memoizedState = value);\n      hook = requestDeferredLane();\n      currentlyRenderingFiber.lanes |= hook;\n      workInProgressRootSkippedLanes |= hook;\n      return prevValue;\n    }\n    function releaseAsyncTransition() {\n      ReactSharedInternals.asyncTransitions--;\n    }\n    function startTransition(\n      fiber,\n      queue,\n      pendingState,\n      finishedState,\n      callback\n    ) {\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p =\n        0 !== previousPriority && previousPriority < ContinuousEventPriority\n          ? previousPriority\n          : ContinuousEventPriority;\n      var prevTransition = ReactSharedInternals.T,\n        currentTransition = {};\n      currentTransition._updatedFibers = new Set();\n      ReactSharedInternals.T = currentTransition;\n      dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n      try {\n        var returnValue = callback(),\n          onStartTransitionFinish = ReactSharedInternals.S;\n        null !== onStartTransitionFinish &&\n          onStartTransitionFinish(currentTransition, returnValue);\n        if (\n          null !== returnValue &&\n          \"object\" === typeof returnValue &&\n          \"function\" === typeof returnValue.then\n        ) {\n          ReactSharedInternals.asyncTransitions++;\n          returnValue.then(releaseAsyncTransition, releaseAsyncTransition);\n          var thenableForFinishedState = chainThenableValue(\n            returnValue,\n            finishedState\n          );\n          dispatchSetStateInternal(\n            fiber,\n            queue,\n            thenableForFinishedState,\n            requestUpdateLane(fiber)\n          );\n        } else\n          dispatchSetStateInternal(\n            fiber,\n            queue,\n            finishedState,\n            requestUpdateLane(fiber)\n          );\n      } catch (error) {\n        dispatchSetStateInternal(\n          fiber,\n          queue,\n          { then: function () {}, status: \"rejected\", reason: error },\n          requestUpdateLane(fiber)\n        );\n      } finally {\n        (ReactDOMSharedInternals.p = previousPriority),\n          null !== prevTransition &&\n            null !== currentTransition.types &&\n            (null !== prevTransition.types &&\n              prevTransition.types !== currentTransition.types &&\n              console.error(\n                \"We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React.\"\n              ),\n            (prevTransition.types = currentTransition.types)),\n          (ReactSharedInternals.T = prevTransition),\n          null === prevTransition &&\n            currentTransition._updatedFibers &&\n            ((fiber = currentTransition._updatedFibers.size),\n            currentTransition._updatedFibers.clear(),\n            10 < fiber &&\n              console.warn(\n                \"Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.\"\n              ));\n      }\n    }\n    function startHostTransition(formFiber, pendingState, action, formData) {\n      if (5 !== formFiber.tag)\n        throw Error(\n          \"Expected the form instance to be a HostComponent. This is a bug in React.\"\n        );\n      var queue = ensureFormComponentIsStateful(formFiber).queue;\n      startHostActionTimer(formFiber);\n      startTransition(\n        formFiber,\n        queue,\n        pendingState,\n        NotPendingTransition,\n        null === action\n          ? noop\n          : function () {\n              requestFormReset$1(formFiber);\n              return action(formData);\n            }\n      );\n    }\n    function ensureFormComponentIsStateful(formFiber) {\n      var existingStateHook = formFiber.memoizedState;\n      if (null !== existingStateHook) return existingStateHook;\n      existingStateHook = {\n        memoizedState: NotPendingTransition,\n        baseState: NotPendingTransition,\n        baseQueue: null,\n        queue: {\n          pending: null,\n          lanes: 0,\n          dispatch: null,\n          lastRenderedReducer: basicStateReducer,\n          lastRenderedState: NotPendingTransition\n        },\n        next: null\n      };\n      var initialResetState = {};\n      existingStateHook.next = {\n        memoizedState: initialResetState,\n        baseState: initialResetState,\n        baseQueue: null,\n        queue: {\n          pending: null,\n          lanes: 0,\n          dispatch: null,\n          lastRenderedReducer: basicStateReducer,\n          lastRenderedState: initialResetState\n        },\n        next: null\n      };\n      formFiber.memoizedState = existingStateHook;\n      formFiber = formFiber.alternate;\n      null !== formFiber && (formFiber.memoizedState = existingStateHook);\n      return existingStateHook;\n    }\n    function requestFormReset$1(formFiber) {\n      null === ReactSharedInternals.T &&\n        console.error(\n          \"requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.\"\n        );\n      var stateHook = ensureFormComponentIsStateful(formFiber);\n      null === stateHook.next &&\n        (stateHook = formFiber.alternate.memoizedState);\n      dispatchSetStateInternal(\n        formFiber,\n        stateHook.next.queue,\n        {},\n        requestUpdateLane(formFiber)\n      );\n    }\n    function mountTransition() {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    }\n    function updateTransition() {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    }\n    function rerenderTransition() {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    }\n    function useHostTransitionStatus() {\n      return readContext(HostTransitionContext);\n    }\n    function mountId() {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var treeId = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        treeId =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + treeId;\n        identifierPrefix = \"_\" + identifierPrefix + \"R_\" + treeId;\n        treeId = localIdCounter++;\n        0 < treeId && (identifierPrefix += \"H\" + treeId.toString(32));\n        identifierPrefix += \"_\";\n      } else\n        (treeId = globalClientIdCounter++),\n          (identifierPrefix =\n            \"_\" + identifierPrefix + \"r_\" + treeId.toString(32) + \"_\");\n      return (hook.memoizedState = identifierPrefix);\n    }\n    function mountRefresh() {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n    function refreshCache(fiber, seedKey) {\n      for (var provider = fiber.return; null !== provider; ) {\n        switch (provider.tag) {\n          case 24:\n          case 3:\n            var lane = requestUpdateLane(provider),\n              refreshUpdate = createUpdate(lane),\n              root = enqueueUpdate(provider, refreshUpdate, lane);\n            null !== root &&\n              (startUpdateTimerByLane(lane, \"refresh()\", fiber),\n              scheduleUpdateOnFiber(root, provider, lane),\n              entangleTransitions(root, provider, lane));\n            fiber = createCache();\n            null !== seedKey &&\n              void 0 !== seedKey &&\n              null !== root &&\n              console.error(\n                \"The seed argument is not enabled outside experimental channels.\"\n              );\n            refreshUpdate.payload = { cache: fiber };\n            return;\n        }\n        provider = provider.return;\n      }\n    }\n    function dispatchReducerAction(fiber, queue, action) {\n      var args = arguments;\n      \"function\" === typeof args[3] &&\n        console.error(\n          \"State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().\"\n        );\n      args = requestUpdateLane(fiber);\n      var update = {\n        lane: args,\n        revertLane: 0,\n        gesture: null,\n        action: action,\n        hasEagerState: !1,\n        eagerState: null,\n        next: null\n      };\n      isRenderPhaseUpdate(fiber)\n        ? enqueueRenderPhaseUpdate(queue, update)\n        : ((update = enqueueConcurrentHookUpdate(fiber, queue, update, args)),\n          null !== update &&\n            (startUpdateTimerByLane(args, \"dispatch()\", fiber),\n            scheduleUpdateOnFiber(update, fiber, args),\n            entangleTransitionUpdate(update, queue, args)));\n    }\n    function dispatchSetState(fiber, queue, action) {\n      var args = arguments;\n      \"function\" === typeof args[3] &&\n        console.error(\n          \"State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().\"\n        );\n      args = requestUpdateLane(fiber);\n      dispatchSetStateInternal(fiber, queue, action, args) &&\n        startUpdateTimerByLane(args, \"setState()\", fiber);\n    }\n    function dispatchSetStateInternal(fiber, queue, action, lane) {\n      var update = {\n        lane: lane,\n        revertLane: 0,\n        gesture: null,\n        action: action,\n        hasEagerState: !1,\n        eagerState: null,\n        next: null\n      };\n      if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n      else {\n        var alternate = fiber.alternate;\n        if (\n          0 === fiber.lanes &&\n          (null === alternate || 0 === alternate.lanes) &&\n          ((alternate = queue.lastRenderedReducer), null !== alternate)\n        ) {\n          var prevDispatcher = ReactSharedInternals.H;\n          ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n          try {\n            var currentState = queue.lastRenderedState,\n              eagerState = alternate(currentState, action);\n            update.hasEagerState = !0;\n            update.eagerState = eagerState;\n            if (objectIs(eagerState, currentState))\n              return (\n                enqueueUpdate$1(fiber, queue, update, 0),\n                null === workInProgressRoot &&\n                  finishQueueingConcurrentUpdates(),\n                !1\n              );\n          } catch (error) {\n          } finally {\n            ReactSharedInternals.H = prevDispatcher;\n          }\n        }\n        action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n        if (null !== action)\n          return (\n            scheduleUpdateOnFiber(action, fiber, lane),\n            entangleTransitionUpdate(action, queue, lane),\n            !0\n          );\n      }\n      return !1;\n    }\n    function dispatchOptimisticSetState(\n      fiber,\n      throwIfDuringRender,\n      queue,\n      action\n    ) {\n      null === ReactSharedInternals.T &&\n        0 === currentEntangledLane &&\n        console.error(\n          \"An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition.\"\n        );\n      action = {\n        lane: 2,\n        revertLane: requestTransitionLane(),\n        gesture: null,\n        action: action,\n        hasEagerState: !1,\n        eagerState: null,\n        next: null\n      };\n      if (isRenderPhaseUpdate(fiber)) {\n        if (throwIfDuringRender)\n          throw Error(\"Cannot update optimistic state while rendering.\");\n        console.error(\"Cannot call startTransition while rendering.\");\n      } else\n        (throwIfDuringRender = enqueueConcurrentHookUpdate(\n          fiber,\n          queue,\n          action,\n          2\n        )),\n          null !== throwIfDuringRender &&\n            (startUpdateTimerByLane(2, \"setOptimistic()\", fiber),\n            scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2));\n    }\n    function isRenderPhaseUpdate(fiber) {\n      var alternate = fiber.alternate;\n      return (\n        fiber === currentlyRenderingFiber ||\n        (null !== alternate && alternate === currentlyRenderingFiber)\n      );\n    }\n    function enqueueRenderPhaseUpdate(queue, update) {\n      didScheduleRenderPhaseUpdateDuringThisPass =\n        didScheduleRenderPhaseUpdate = !0;\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    function entangleTransitionUpdate(root, queue, lane) {\n      if (0 !== (lane & 4194048)) {\n        var queueLanes = queue.lanes;\n        queueLanes &= root.pendingLanes;\n        lane |= queueLanes;\n        queue.lanes = lane;\n        markRootEntangled(root, lane);\n      }\n    }\n    function warnOnInvalidCallback(callback) {\n      if (null !== callback && \"function\" !== typeof callback) {\n        var key = String(callback);\n        didWarnOnInvalidCallback.has(key) ||\n          (didWarnOnInvalidCallback.add(key),\n          console.error(\n            \"Expected the last optional `callback` argument to be a function. Instead received: %s.\",\n            callback\n          ));\n      }\n    }\n    function applyDerivedStateFromProps(\n      workInProgress,\n      ctor,\n      getDerivedStateFromProps,\n      nextProps\n    ) {\n      var prevState = workInProgress.memoizedState,\n        partialState = getDerivedStateFromProps(nextProps, prevState);\n      if (workInProgress.mode & StrictLegacyMode) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          partialState = getDerivedStateFromProps(nextProps, prevState);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      void 0 === partialState &&\n        ((ctor = getComponentNameFromType(ctor) || \"Component\"),\n        didWarnAboutUndefinedDerivedState.has(ctor) ||\n          (didWarnAboutUndefinedDerivedState.add(ctor),\n          console.error(\n            \"%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.\",\n            ctor\n          )));\n      prevState =\n        null === partialState || void 0 === partialState\n          ? prevState\n          : assign({}, prevState, partialState);\n      workInProgress.memoizedState = prevState;\n      0 === workInProgress.lanes &&\n        (workInProgress.updateQueue.baseState = prevState);\n    }\n    function checkShouldComponentUpdate(\n      workInProgress,\n      ctor,\n      oldProps,\n      newProps,\n      oldState,\n      newState,\n      nextContext\n    ) {\n      var instance = workInProgress.stateNode;\n      if (\"function\" === typeof instance.shouldComponentUpdate) {\n        oldProps = instance.shouldComponentUpdate(\n          newProps,\n          newState,\n          nextContext\n        );\n        if (workInProgress.mode & StrictLegacyMode) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            oldProps = instance.shouldComponentUpdate(\n              newProps,\n              newState,\n              nextContext\n            );\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n        void 0 === oldProps &&\n          console.error(\n            \"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.\",\n            getComponentNameFromType(ctor) || \"Component\"\n          );\n        return oldProps;\n      }\n      return ctor.prototype && ctor.prototype.isPureReactComponent\n        ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n        : !0;\n    }\n    function callComponentWillReceiveProps(\n      workInProgress,\n      instance,\n      newProps,\n      nextContext\n    ) {\n      var oldState = instance.state;\n      \"function\" === typeof instance.componentWillReceiveProps &&\n        instance.componentWillReceiveProps(newProps, nextContext);\n      \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n        instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n      instance.state !== oldState &&\n        ((workInProgress =\n          getComponentNameFromFiber(workInProgress) || \"Component\"),\n        didWarnAboutStateAssignmentForComponent.has(workInProgress) ||\n          (didWarnAboutStateAssignmentForComponent.add(workInProgress),\n          console.error(\n            \"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.\",\n            workInProgress\n          )),\n        classComponentUpdater.enqueueReplaceState(\n          instance,\n          instance.state,\n          null\n        ));\n    }\n    function resolveClassComponentProps(Component, baseProps) {\n      var newProps = baseProps;\n      if (\"ref\" in baseProps) {\n        newProps = {};\n        for (var propName in baseProps)\n          \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n      }\n      if ((Component = Component.defaultProps)) {\n        newProps === baseProps && (newProps = assign({}, newProps));\n        for (var _propName in Component)\n          void 0 === newProps[_propName] &&\n            (newProps[_propName] = Component[_propName]);\n      }\n      return newProps;\n    }\n    function defaultOnUncaughtError(error) {\n      reportGlobalError(error);\n      console.warn(\n        \"%s\\n\\n%s\\n\",\n        componentName\n          ? \"An error occurred in the <\" + componentName + \"> component.\"\n          : \"An error occurred in one of your React components.\",\n        \"Consider adding an error boundary to your tree to customize error handling behavior.\\nVisit https://react.dev/link/error-boundaries to learn more about error boundaries.\"\n      );\n    }\n    function defaultOnCaughtError(error) {\n      var componentNameMessage = componentName\n          ? \"The above error occurred in the <\" + componentName + \"> component.\"\n          : \"The above error occurred in one of your React components.\",\n        recreateMessage =\n          \"React will try to recreate this component tree from scratch using the error boundary you provided, \" +\n          ((errorBoundaryName || \"Anonymous\") + \".\");\n      if (\n        \"object\" === typeof error &&\n        null !== error &&\n        \"string\" === typeof error.environmentName\n      ) {\n        var JSCompiler_inline_result = error.environmentName;\n        error = [\n          \"%o\\n\\n%s\\n\\n%s\\n\",\n          error,\n          componentNameMessage,\n          recreateMessage\n        ].slice(0);\n        \"string\" === typeof error[0]\n          ? error.splice(\n              0,\n              1,\n              badgeFormat + \" \" + error[0],\n              badgeStyle,\n              pad + JSCompiler_inline_result + pad,\n              resetStyle\n            )\n          : error.splice(\n              0,\n              0,\n              badgeFormat,\n              badgeStyle,\n              pad + JSCompiler_inline_result + pad,\n              resetStyle\n            );\n        error.unshift(console);\n        JSCompiler_inline_result = bind.apply(console.error, error);\n        JSCompiler_inline_result();\n      } else\n        console.error(\n          \"%o\\n\\n%s\\n\\n%s\\n\",\n          error,\n          componentNameMessage,\n          recreateMessage\n        );\n    }\n    function defaultOnRecoverableError(error) {\n      reportGlobalError(error);\n    }\n    function logUncaughtError(root, errorInfo) {\n      try {\n        componentName = errorInfo.source\n          ? getComponentNameFromFiber(errorInfo.source)\n          : null;\n        errorBoundaryName = null;\n        var error = errorInfo.value;\n        if (null !== ReactSharedInternals.actQueue)\n          ReactSharedInternals.thrownErrors.push(error);\n        else {\n          var onUncaughtError = root.onUncaughtError;\n          onUncaughtError(error, { componentStack: errorInfo.stack });\n        }\n      } catch (e$5) {\n        setTimeout(function () {\n          throw e$5;\n        });\n      }\n    }\n    function logCaughtError(root, boundary, errorInfo) {\n      try {\n        componentName = errorInfo.source\n          ? getComponentNameFromFiber(errorInfo.source)\n          : null;\n        errorBoundaryName = getComponentNameFromFiber(boundary);\n        var onCaughtError = root.onCaughtError;\n        onCaughtError(errorInfo.value, {\n          componentStack: errorInfo.stack,\n          errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n        });\n      } catch (e$6) {\n        setTimeout(function () {\n          throw e$6;\n        });\n      }\n    }\n    function createRootErrorUpdate(root, errorInfo, lane) {\n      lane = createUpdate(lane);\n      lane.tag = CaptureUpdate;\n      lane.payload = { element: null };\n      lane.callback = function () {\n        runWithFiberInDEV(errorInfo.source, logUncaughtError, root, errorInfo);\n      };\n      return lane;\n    }\n    function createClassErrorUpdate(lane) {\n      lane = createUpdate(lane);\n      lane.tag = CaptureUpdate;\n      return lane;\n    }\n    function initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n      var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n      if (\"function\" === typeof getDerivedStateFromError) {\n        var error = errorInfo.value;\n        update.payload = function () {\n          return getDerivedStateFromError(error);\n        };\n        update.callback = function () {\n          markFailedErrorBoundaryForHotReloading(fiber);\n          runWithFiberInDEV(\n            errorInfo.source,\n            logCaughtError,\n            root,\n            fiber,\n            errorInfo\n          );\n        };\n      }\n      var inst = fiber.stateNode;\n      null !== inst &&\n        \"function\" === typeof inst.componentDidCatch &&\n        (update.callback = function () {\n          markFailedErrorBoundaryForHotReloading(fiber);\n          runWithFiberInDEV(\n            errorInfo.source,\n            logCaughtError,\n            root,\n            fiber,\n            errorInfo\n          );\n          \"function\" !== typeof getDerivedStateFromError &&\n            (null === legacyErrorBoundariesThatAlreadyFailed\n              ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n              : legacyErrorBoundariesThatAlreadyFailed.add(this));\n          callComponentDidCatchInDEV(this, errorInfo);\n          \"function\" === typeof getDerivedStateFromError ||\n            (0 === (fiber.lanes & 2) &&\n              console.error(\n                \"%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.\",\n                getComponentNameFromFiber(fiber) || \"Unknown\"\n              ));\n        });\n    }\n    function throwException(\n      root,\n      returnFiber,\n      sourceFiber,\n      value,\n      rootRenderLanes\n    ) {\n      sourceFiber.flags |= 32768;\n      isDevToolsPresent && restorePendingUpdaters(root, rootRenderLanes);\n      if (\n        null !== value &&\n        \"object\" === typeof value &&\n        \"function\" === typeof value.then\n      ) {\n        returnFiber = sourceFiber.alternate;\n        null !== returnFiber &&\n          propagateParentContextChanges(\n            returnFiber,\n            sourceFiber,\n            rootRenderLanes,\n            !0\n          );\n        isHydrating && (didSuspendOrErrorDEV = !0);\n        sourceFiber = suspenseHandlerStackCursor.current;\n        if (null !== sourceFiber) {\n          switch (sourceFiber.tag) {\n            case 31:\n            case 13:\n              return (\n                null === shellBoundary\n                  ? renderDidSuspendDelayIfPossible()\n                  : null === sourceFiber.alternate &&\n                    workInProgressRootExitStatus === RootInProgress &&\n                    (workInProgressRootExitStatus = RootSuspended),\n                (sourceFiber.flags &= -257),\n                (sourceFiber.flags |= 65536),\n                (sourceFiber.lanes = rootRenderLanes),\n                value === noopSuspenseyCommitThenable\n                  ? (sourceFiber.flags |= 16384)\n                  : ((returnFiber = sourceFiber.updateQueue),\n                    null === returnFiber\n                      ? (sourceFiber.updateQueue = new Set([value]))\n                      : returnFiber.add(value),\n                    attachPingListener(root, value, rootRenderLanes)),\n                !1\n              );\n            case 22:\n              return (\n                (sourceFiber.flags |= 65536),\n                value === noopSuspenseyCommitThenable\n                  ? (sourceFiber.flags |= 16384)\n                  : ((returnFiber = sourceFiber.updateQueue),\n                    null === returnFiber\n                      ? ((returnFiber = {\n                          transitions: null,\n                          markerInstances: null,\n                          retryQueue: new Set([value])\n                        }),\n                        (sourceFiber.updateQueue = returnFiber))\n                      : ((sourceFiber = returnFiber.retryQueue),\n                        null === sourceFiber\n                          ? (returnFiber.retryQueue = new Set([value]))\n                          : sourceFiber.add(value)),\n                    attachPingListener(root, value, rootRenderLanes)),\n                !1\n              );\n          }\n          throw Error(\n            \"Unexpected Suspense handler tag (\" +\n              sourceFiber.tag +\n              \"). This is a bug in React.\"\n          );\n        }\n        attachPingListener(root, value, rootRenderLanes);\n        renderDidSuspendDelayIfPossible();\n        return !1;\n      }\n      if (isHydrating)\n        return (\n          (didSuspendOrErrorDEV = !0),\n          (returnFiber = suspenseHandlerStackCursor.current),\n          null !== returnFiber\n            ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n              (returnFiber.flags |= 65536),\n              (returnFiber.lanes = rootRenderLanes),\n              value !== HydrationMismatchException &&\n                queueHydrationError(\n                  createCapturedValueAtFiber(\n                    Error(\n                      \"There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.\",\n                      { cause: value }\n                    ),\n                    sourceFiber\n                  )\n                ))\n            : (value !== HydrationMismatchException &&\n                queueHydrationError(\n                  createCapturedValueAtFiber(\n                    Error(\n                      \"There was an error while hydrating but React was able to recover by instead client rendering the entire root.\",\n                      { cause: value }\n                    ),\n                    sourceFiber\n                  )\n                ),\n              (root = root.current.alternate),\n              (root.flags |= 65536),\n              (rootRenderLanes &= -rootRenderLanes),\n              (root.lanes |= rootRenderLanes),\n              (value = createCapturedValueAtFiber(value, sourceFiber)),\n              (rootRenderLanes = createRootErrorUpdate(\n                root.stateNode,\n                value,\n                rootRenderLanes\n              )),\n              enqueueCapturedUpdate(root, rootRenderLanes),\n              workInProgressRootExitStatus !== RootSuspendedWithDelay &&\n                (workInProgressRootExitStatus = RootErrored)),\n          !1\n        );\n      var error = createCapturedValueAtFiber(\n        Error(\n          \"There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.\",\n          { cause: value }\n        ),\n        sourceFiber\n      );\n      null === workInProgressRootConcurrentErrors\n        ? (workInProgressRootConcurrentErrors = [error])\n        : workInProgressRootConcurrentErrors.push(error);\n      workInProgressRootExitStatus !== RootSuspendedWithDelay &&\n        (workInProgressRootExitStatus = RootErrored);\n      if (null === returnFiber) return !0;\n      value = createCapturedValueAtFiber(value, sourceFiber);\n      sourceFiber = returnFiber;\n      do {\n        switch (sourceFiber.tag) {\n          case 3:\n            return (\n              (sourceFiber.flags |= 65536),\n              (root = rootRenderLanes & -rootRenderLanes),\n              (sourceFiber.lanes |= root),\n              (root = createRootErrorUpdate(\n                sourceFiber.stateNode,\n                value,\n                root\n              )),\n              enqueueCapturedUpdate(sourceFiber, root),\n              !1\n            );\n          case 1:\n            if (\n              ((returnFiber = sourceFiber.type),\n              (error = sourceFiber.stateNode),\n              0 === (sourceFiber.flags & 128) &&\n                (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n                  (null !== error &&\n                    \"function\" === typeof error.componentDidCatch &&\n                    (null === legacyErrorBoundariesThatAlreadyFailed ||\n                      !legacyErrorBoundariesThatAlreadyFailed.has(error)))))\n            )\n              return (\n                (sourceFiber.flags |= 65536),\n                (rootRenderLanes &= -rootRenderLanes),\n                (sourceFiber.lanes |= rootRenderLanes),\n                (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n                initializeClassErrorUpdate(\n                  rootRenderLanes,\n                  root,\n                  sourceFiber,\n                  value\n                ),\n                enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n                !1\n              );\n        }\n        sourceFiber = sourceFiber.return;\n      } while (null !== sourceFiber);\n      return !1;\n    }\n    function reconcileChildren(\n      current,\n      workInProgress,\n      nextChildren,\n      renderLanes\n    ) {\n      workInProgress.child =\n        null === current\n          ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n          : reconcileChildFibers(\n              workInProgress,\n              current.child,\n              nextChildren,\n              renderLanes\n            );\n    }\n    function updateForwardRef(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderLanes\n    ) {\n      Component = Component.render;\n      var ref = workInProgress.ref;\n      if (\"ref\" in nextProps) {\n        var propsWithoutRef = {};\n        for (var key in nextProps)\n          \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n      } else propsWithoutRef = nextProps;\n      prepareToReadContext(workInProgress);\n      nextProps = renderWithHooks(\n        current,\n        workInProgress,\n        Component,\n        propsWithoutRef,\n        ref,\n        renderLanes\n      );\n      key = checkDidRenderIdHook();\n      if (null !== current && !didReceiveUpdate)\n        return (\n          bailoutHooks(current, workInProgress, renderLanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n      isHydrating && key && pushMaterializedTreeId(workInProgress);\n      workInProgress.flags |= 1;\n      reconcileChildren(current, workInProgress, nextProps, renderLanes);\n      return workInProgress.child;\n    }\n    function updateMemoComponent(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderLanes\n    ) {\n      if (null === current) {\n        var type = Component.type;\n        if (\n          \"function\" === typeof type &&\n          !shouldConstruct(type) &&\n          void 0 === type.defaultProps &&\n          null === Component.compare\n        )\n          return (\n            (Component = resolveFunctionForHotReloading(type)),\n            (workInProgress.tag = 15),\n            (workInProgress.type = Component),\n            validateFunctionComponentInDev(workInProgress, type),\n            updateSimpleMemoComponent(\n              current,\n              workInProgress,\n              Component,\n              nextProps,\n              renderLanes\n            )\n          );\n        current = createFiberFromTypeAndProps(\n          Component.type,\n          null,\n          nextProps,\n          workInProgress,\n          workInProgress.mode,\n          renderLanes\n        );\n        current.ref = workInProgress.ref;\n        current.return = workInProgress;\n        return (workInProgress.child = current);\n      }\n      type = current.child;\n      if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n        var prevProps = type.memoizedProps;\n        Component = Component.compare;\n        Component = null !== Component ? Component : shallowEqual;\n        if (\n          Component(prevProps, nextProps) &&\n          current.ref === workInProgress.ref\n        )\n          return bailoutOnAlreadyFinishedWork(\n            current,\n            workInProgress,\n            renderLanes\n          );\n      }\n      workInProgress.flags |= 1;\n      current = createWorkInProgress(type, nextProps);\n      current.ref = workInProgress.ref;\n      current.return = workInProgress;\n      return (workInProgress.child = current);\n    }\n    function updateSimpleMemoComponent(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderLanes\n    ) {\n      if (null !== current) {\n        var prevProps = current.memoizedProps;\n        if (\n          shallowEqual(prevProps, nextProps) &&\n          current.ref === workInProgress.ref &&\n          workInProgress.type === current.type\n        )\n          if (\n            ((didReceiveUpdate = !1),\n            (workInProgress.pendingProps = nextProps = prevProps),\n            checkScheduledUpdateOrContext(current, renderLanes))\n          )\n            0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n          else\n            return (\n              (workInProgress.lanes = current.lanes),\n              bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n            );\n      }\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        Component,\n        nextProps,\n        renderLanes\n      );\n    }\n    function updateOffscreenComponent(\n      current,\n      workInProgress,\n      renderLanes,\n      nextProps\n    ) {\n      var nextChildren = nextProps.children,\n        prevState = null !== current ? current.memoizedState : null;\n      null === current &&\n        null === workInProgress.stateNode &&\n        (workInProgress.stateNode = {\n          _visibility: OffscreenVisible,\n          _pendingMarkers: null,\n          _retryCache: null,\n          _transitions: null\n        });\n      if (\"hidden\" === nextProps.mode) {\n        if (0 !== (workInProgress.flags & 128)) {\n          prevState =\n            null !== prevState\n              ? prevState.baseLanes | renderLanes\n              : renderLanes;\n          if (null !== current) {\n            nextProps = workInProgress.child = current.child;\n            for (nextChildren = 0; null !== nextProps; )\n              (nextChildren =\n                nextChildren | nextProps.lanes | nextProps.childLanes),\n                (nextProps = nextProps.sibling);\n            nextProps = nextChildren & ~prevState;\n          } else (nextProps = 0), (workInProgress.child = null);\n          return deferHiddenOffscreenComponent(\n            current,\n            workInProgress,\n            prevState,\n            renderLanes,\n            nextProps\n          );\n        }\n        if (0 !== (renderLanes & 536870912))\n          (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n            null !== current &&\n              pushTransition(\n                workInProgress,\n                null !== prevState ? prevState.cachePool : null\n              ),\n            null !== prevState\n              ? pushHiddenContext(workInProgress, prevState)\n              : reuseHiddenContextOnStack(workInProgress),\n            pushOffscreenSuspenseHandler(workInProgress);\n        else\n          return (\n            (nextProps = workInProgress.lanes = 536870912),\n            deferHiddenOffscreenComponent(\n              current,\n              workInProgress,\n              null !== prevState\n                ? prevState.baseLanes | renderLanes\n                : renderLanes,\n              renderLanes,\n              nextProps\n            )\n          );\n      } else\n        null !== prevState\n          ? (pushTransition(workInProgress, prevState.cachePool),\n            pushHiddenContext(workInProgress, prevState),\n            reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.memoizedState = null))\n          : (null !== current && pushTransition(workInProgress, null),\n            reuseHiddenContextOnStack(workInProgress),\n            reuseSuspenseHandlerOnStack(workInProgress));\n      reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n      return workInProgress.child;\n    }\n    function bailoutOffscreenComponent(current, workInProgress) {\n      (null !== current && 22 === current.tag) ||\n        null !== workInProgress.stateNode ||\n        (workInProgress.stateNode = {\n          _visibility: OffscreenVisible,\n          _pendingMarkers: null,\n          _retryCache: null,\n          _transitions: null\n        });\n      return workInProgress.sibling;\n    }\n    function deferHiddenOffscreenComponent(\n      current,\n      workInProgress,\n      nextBaseLanes,\n      renderLanes,\n      remainingChildLanes\n    ) {\n      var JSCompiler_inline_result = peekCacheFromPool();\n      JSCompiler_inline_result =\n        null === JSCompiler_inline_result\n          ? null\n          : {\n              parent: CacheContext._currentValue,\n              pool: JSCompiler_inline_result\n            };\n      workInProgress.memoizedState = {\n        baseLanes: nextBaseLanes,\n        cachePool: JSCompiler_inline_result\n      };\n      null !== current && pushTransition(workInProgress, null);\n      reuseHiddenContextOnStack(workInProgress);\n      pushOffscreenSuspenseHandler(workInProgress);\n      null !== current &&\n        propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n      workInProgress.childLanes = remainingChildLanes;\n      return null;\n    }\n    function mountActivityChildren(workInProgress, nextProps) {\n      var hiddenProp = nextProps.hidden;\n      void 0 !== hiddenProp &&\n        console.error(\n          '<Activity> doesn\\'t accept a hidden prop. Use mode=\"hidden\" instead.\\n- <Activity %s>\\n+ <Activity %s>',\n          !0 === hiddenProp\n            ? \"hidden\"\n            : !1 === hiddenProp\n              ? \"hidden={false}\"\n              : \"hidden={...}\",\n          hiddenProp ? 'mode=\"hidden\"' : 'mode=\"visible\"'\n        );\n      nextProps = mountWorkInProgressOffscreenFiber(\n        { mode: nextProps.mode, children: nextProps.children },\n        workInProgress.mode\n      );\n      nextProps.ref = workInProgress.ref;\n      workInProgress.child = nextProps;\n      nextProps.return = workInProgress;\n      return nextProps;\n    }\n    function retryActivityComponentWithoutHydrating(\n      current,\n      workInProgress,\n      renderLanes\n    ) {\n      reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n      current = mountActivityChildren(\n        workInProgress,\n        workInProgress.pendingProps\n      );\n      current.flags |= 2;\n      popSuspenseHandler(workInProgress);\n      workInProgress.memoizedState = null;\n      return current;\n    }\n    function updateActivityComponent(current, workInProgress, renderLanes) {\n      var nextProps = workInProgress.pendingProps,\n        didSuspend = 0 !== (workInProgress.flags & 128);\n      workInProgress.flags &= -129;\n      if (null === current) {\n        if (isHydrating) {\n          if (\"hidden\" === nextProps.mode)\n            return (\n              (current = mountActivityChildren(workInProgress, nextProps)),\n              (workInProgress.lanes = 536870912),\n              bailoutOffscreenComponent(null, current)\n            );\n          pushDehydratedActivitySuspenseHandler(workInProgress);\n          (current = nextHydratableInstance)\n            ? ((renderLanes = canHydrateHydrationBoundary(\n                current,\n                rootOrSingletonContext\n              )),\n              (renderLanes =\n                null !== renderLanes && renderLanes.data === ACTIVITY_START_DATA\n                  ? renderLanes\n                  : null),\n              null !== renderLanes &&\n                ((nextProps = {\n                  dehydrated: renderLanes,\n                  treeContext: getSuspendedTreeContext(),\n                  retryLane: 536870912,\n                  hydrationErrors: null\n                }),\n                (workInProgress.memoizedState = nextProps),\n                (nextProps = createFiberFromDehydratedFragment(renderLanes)),\n                (nextProps.return = workInProgress),\n                (workInProgress.child = nextProps),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null)))\n            : (renderLanes = null);\n          if (null === renderLanes)\n            throw (\n              (warnNonHydratedInstance(workInProgress, current),\n              throwOnHydrationMismatch(workInProgress))\n            );\n          workInProgress.lanes = 536870912;\n          return null;\n        }\n        return mountActivityChildren(workInProgress, nextProps);\n      }\n      var prevState = current.memoizedState;\n      if (null !== prevState) {\n        var activityInstance = prevState.dehydrated;\n        pushDehydratedActivitySuspenseHandler(workInProgress);\n        if (didSuspend)\n          if (workInProgress.flags & 256)\n            (workInProgress.flags &= -257),\n              (workInProgress = retryActivityComponentWithoutHydrating(\n                current,\n                workInProgress,\n                renderLanes\n              ));\n          else if (null !== workInProgress.memoizedState)\n            (workInProgress.child = current.child),\n              (workInProgress.flags |= 128),\n              (workInProgress = null);\n          else\n            throw Error(\n              \"Client rendering an Activity suspended it again. This is a bug in React.\"\n            );\n        else if (\n          (warnIfHydrating(),\n          0 !== (renderLanes & 536870912) &&\n            markRenderDerivedCause(workInProgress),\n          didReceiveUpdate ||\n            propagateParentContextChanges(\n              current,\n              workInProgress,\n              renderLanes,\n              !1\n            ),\n          (didSuspend = 0 !== (renderLanes & current.childLanes)),\n          didReceiveUpdate || didSuspend)\n        ) {\n          nextProps = workInProgressRoot;\n          if (\n            null !== nextProps &&\n            ((activityInstance = getBumpedLaneForHydration(\n              nextProps,\n              renderLanes\n            )),\n            0 !== activityInstance && activityInstance !== prevState.retryLane)\n          )\n            throw (\n              ((prevState.retryLane = activityInstance),\n              enqueueConcurrentRenderForLane(current, activityInstance),\n              scheduleUpdateOnFiber(nextProps, current, activityInstance),\n              SelectiveHydrationException)\n            );\n          renderDidSuspendDelayIfPossible();\n          workInProgress = retryActivityComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        } else\n          (current = prevState.treeContext),\n            (nextHydratableInstance = getNextHydratable(\n              activityInstance.nextSibling\n            )),\n            (hydrationParentFiber = workInProgress),\n            (isHydrating = !0),\n            (hydrationErrors = null),\n            (didSuspendOrErrorDEV = !1),\n            (hydrationDiffRootDEV = null),\n            (rootOrSingletonContext = !1),\n            null !== current &&\n              restoreSuspendedTreeContext(workInProgress, current),\n            (workInProgress = mountActivityChildren(workInProgress, nextProps)),\n            (workInProgress.flags |= 4096);\n        return workInProgress;\n      }\n      prevState = current.child;\n      nextProps = { mode: nextProps.mode, children: nextProps.children };\n      0 !== (renderLanes & 536870912) &&\n        0 !== (renderLanes & current.lanes) &&\n        markRenderDerivedCause(workInProgress);\n      current = createWorkInProgress(prevState, nextProps);\n      current.ref = workInProgress.ref;\n      workInProgress.child = current;\n      current.return = workInProgress;\n      return current;\n    }\n    function markRef(current, workInProgress) {\n      var ref = workInProgress.ref;\n      if (null === ref)\n        null !== current &&\n          null !== current.ref &&\n          (workInProgress.flags |= 4194816);\n      else {\n        if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n          throw Error(\n            \"Expected ref to be a function, an object returned by React.createRef(), or undefined/null.\"\n          );\n        if (null === current || current.ref !== ref)\n          workInProgress.flags |= 4194816;\n      }\n    }\n    function updateFunctionComponent(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderLanes\n    ) {\n      if (\n        Component.prototype &&\n        \"function\" === typeof Component.prototype.render\n      ) {\n        var componentName = getComponentNameFromType(Component) || \"Unknown\";\n        didWarnAboutBadClass[componentName] ||\n          (console.error(\n            \"The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.\",\n            componentName,\n            componentName\n          ),\n          (didWarnAboutBadClass[componentName] = !0));\n      }\n      workInProgress.mode & StrictLegacyMode &&\n        ReactStrictModeWarnings.recordLegacyContextWarning(\n          workInProgress,\n          null\n        );\n      null === current &&\n        (validateFunctionComponentInDev(workInProgress, workInProgress.type),\n        Component.contextTypes &&\n          ((componentName = getComponentNameFromType(Component) || \"Unknown\"),\n          didWarnAboutContextTypes[componentName] ||\n            ((didWarnAboutContextTypes[componentName] = !0),\n            console.error(\n              \"%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)\",\n              componentName\n            ))));\n      prepareToReadContext(workInProgress);\n      Component = renderWithHooks(\n        current,\n        workInProgress,\n        Component,\n        nextProps,\n        void 0,\n        renderLanes\n      );\n      nextProps = checkDidRenderIdHook();\n      if (null !== current && !didReceiveUpdate)\n        return (\n          bailoutHooks(current, workInProgress, renderLanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n      isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n      workInProgress.flags |= 1;\n      reconcileChildren(current, workInProgress, Component, renderLanes);\n      return workInProgress.child;\n    }\n    function replayFunctionComponent(\n      current,\n      workInProgress,\n      nextProps,\n      Component,\n      secondArg,\n      renderLanes\n    ) {\n      prepareToReadContext(workInProgress);\n      hookTypesUpdateIndexDev = -1;\n      ignorePreviousDependencies =\n        null !== current && current.type !== workInProgress.type;\n      workInProgress.updateQueue = null;\n      nextProps = renderWithHooksAgain(\n        workInProgress,\n        Component,\n        nextProps,\n        secondArg\n      );\n      finishRenderingHooks(current, workInProgress);\n      Component = checkDidRenderIdHook();\n      if (null !== current && !didReceiveUpdate)\n        return (\n          bailoutHooks(current, workInProgress, renderLanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n      isHydrating && Component && pushMaterializedTreeId(workInProgress);\n      workInProgress.flags |= 1;\n      reconcileChildren(current, workInProgress, nextProps, renderLanes);\n      return workInProgress.child;\n    }\n    function updateClassComponent(\n      current,\n      workInProgress,\n      Component,\n      nextProps,\n      renderLanes\n    ) {\n      switch (shouldErrorImpl(workInProgress)) {\n        case !1:\n          var _instance = workInProgress.stateNode,\n            state = new workInProgress.type(\n              workInProgress.memoizedProps,\n              _instance.context\n            ).state;\n          _instance.updater.enqueueSetState(_instance, state, null);\n          break;\n        case !0:\n          workInProgress.flags |= 128;\n          workInProgress.flags |= 65536;\n          _instance = Error(\"Simulated error coming from DevTools\");\n          var lane = renderLanes & -renderLanes;\n          workInProgress.lanes |= lane;\n          state = workInProgressRoot;\n          if (null === state)\n            throw Error(\n              \"Expected a work-in-progress root. This is a bug in React. Please file an issue.\"\n            );\n          lane = createClassErrorUpdate(lane);\n          initializeClassErrorUpdate(\n            lane,\n            state,\n            workInProgress,\n            createCapturedValueAtFiber(_instance, workInProgress)\n          );\n          enqueueCapturedUpdate(workInProgress, lane);\n      }\n      prepareToReadContext(workInProgress);\n      if (null === workInProgress.stateNode) {\n        state = emptyContextObject;\n        _instance = Component.contextType;\n        \"contextType\" in Component &&\n          null !== _instance &&\n          (void 0 === _instance || _instance.$$typeof !== REACT_CONTEXT_TYPE) &&\n          !didWarnAboutInvalidateContextType.has(Component) &&\n          (didWarnAboutInvalidateContextType.add(Component),\n          (lane =\n            void 0 === _instance\n              ? \" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.\"\n              : \"object\" !== typeof _instance\n                ? \" However, it is set to a \" + typeof _instance + \".\"\n                : _instance.$$typeof === REACT_CONSUMER_TYPE\n                  ? \" Did you accidentally pass the Context.Consumer instead?\"\n                  : \" However, it is set to an object with keys {\" +\n                    Object.keys(_instance).join(\", \") +\n                    \"}.\"),\n          console.error(\n            \"%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s\",\n            getComponentNameFromType(Component) || \"Component\",\n            lane\n          ));\n        \"object\" === typeof _instance &&\n          null !== _instance &&\n          (state = readContext(_instance));\n        _instance = new Component(nextProps, state);\n        if (workInProgress.mode & StrictLegacyMode) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            _instance = new Component(nextProps, state);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n        state = workInProgress.memoizedState =\n          null !== _instance.state && void 0 !== _instance.state\n            ? _instance.state\n            : null;\n        _instance.updater = classComponentUpdater;\n        workInProgress.stateNode = _instance;\n        _instance._reactInternals = workInProgress;\n        _instance._reactInternalInstance = fakeInternalInstance;\n        \"function\" === typeof Component.getDerivedStateFromProps &&\n          null === state &&\n          ((state = getComponentNameFromType(Component) || \"Component\"),\n          didWarnAboutUninitializedState.has(state) ||\n            (didWarnAboutUninitializedState.add(state),\n            console.error(\n              \"`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.\",\n              state,\n              null === _instance.state ? \"null\" : \"undefined\",\n              state\n            )));\n        if (\n          \"function\" === typeof Component.getDerivedStateFromProps ||\n          \"function\" === typeof _instance.getSnapshotBeforeUpdate\n        ) {\n          var foundWillUpdateName = (lane = state = null);\n          \"function\" === typeof _instance.componentWillMount &&\n          !0 !== _instance.componentWillMount.__suppressDeprecationWarning\n            ? (state = \"componentWillMount\")\n            : \"function\" === typeof _instance.UNSAFE_componentWillMount &&\n              (state = \"UNSAFE_componentWillMount\");\n          \"function\" === typeof _instance.componentWillReceiveProps &&\n          !0 !==\n            _instance.componentWillReceiveProps.__suppressDeprecationWarning\n            ? (lane = \"componentWillReceiveProps\")\n            : \"function\" ===\n                typeof _instance.UNSAFE_componentWillReceiveProps &&\n              (lane = \"UNSAFE_componentWillReceiveProps\");\n          \"function\" === typeof _instance.componentWillUpdate &&\n          !0 !== _instance.componentWillUpdate.__suppressDeprecationWarning\n            ? (foundWillUpdateName = \"componentWillUpdate\")\n            : \"function\" === typeof _instance.UNSAFE_componentWillUpdate &&\n              (foundWillUpdateName = \"UNSAFE_componentWillUpdate\");\n          if (null !== state || null !== lane || null !== foundWillUpdateName) {\n            _instance = getComponentNameFromType(Component) || \"Component\";\n            var newApiName =\n              \"function\" === typeof Component.getDerivedStateFromProps\n                ? \"getDerivedStateFromProps()\"\n                : \"getSnapshotBeforeUpdate()\";\n            didWarnAboutLegacyLifecyclesAndDerivedState.has(_instance) ||\n              (didWarnAboutLegacyLifecyclesAndDerivedState.add(_instance),\n              console.error(\n                \"Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\nhttps://react.dev/link/unsafe-component-lifecycles\",\n                _instance,\n                newApiName,\n                null !== state ? \"\\n  \" + state : \"\",\n                null !== lane ? \"\\n  \" + lane : \"\",\n                null !== foundWillUpdateName ? \"\\n  \" + foundWillUpdateName : \"\"\n              ));\n          }\n        }\n        _instance = workInProgress.stateNode;\n        state = getComponentNameFromType(Component) || \"Component\";\n        _instance.render ||\n          (Component.prototype &&\n          \"function\" === typeof Component.prototype.render\n            ? console.error(\n                \"No `render` method found on the %s instance: did you accidentally return an object from the constructor?\",\n                state\n              )\n            : console.error(\n                \"No `render` method found on the %s instance: you may have forgotten to define `render`.\",\n                state\n              ));\n        !_instance.getInitialState ||\n          _instance.getInitialState.isReactClassApproved ||\n          _instance.state ||\n          console.error(\n            \"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?\",\n            state\n          );\n        _instance.getDefaultProps &&\n          !_instance.getDefaultProps.isReactClassApproved &&\n          console.error(\n            \"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.\",\n            state\n          );\n        _instance.contextType &&\n          console.error(\n            \"contextType was defined as an instance property on %s. Use a static property to define contextType instead.\",\n            state\n          );\n        Component.childContextTypes &&\n          !didWarnAboutChildContextTypes.has(Component) &&\n          (didWarnAboutChildContextTypes.add(Component),\n          console.error(\n            \"%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)\",\n            state\n          ));\n        Component.contextTypes &&\n          !didWarnAboutContextTypes$1.has(Component) &&\n          (didWarnAboutContextTypes$1.add(Component),\n          console.error(\n            \"%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)\",\n            state\n          ));\n        \"function\" === typeof _instance.componentShouldUpdate &&\n          console.error(\n            \"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.\",\n            state\n          );\n        Component.prototype &&\n          Component.prototype.isPureReactComponent &&\n          \"undefined\" !== typeof _instance.shouldComponentUpdate &&\n          console.error(\n            \"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.\",\n            getComponentNameFromType(Component) || \"A pure component\"\n          );\n        \"function\" === typeof _instance.componentDidUnmount &&\n          console.error(\n            \"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?\",\n            state\n          );\n        \"function\" === typeof _instance.componentDidReceiveProps &&\n          console.error(\n            \"%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().\",\n            state\n          );\n        \"function\" === typeof _instance.componentWillRecieveProps &&\n          console.error(\n            \"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?\",\n            state\n          );\n        \"function\" === typeof _instance.UNSAFE_componentWillRecieveProps &&\n          console.error(\n            \"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?\",\n            state\n          );\n        lane = _instance.props !== nextProps;\n        void 0 !== _instance.props &&\n          lane &&\n          console.error(\n            \"When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.\",\n            state\n          );\n        _instance.defaultProps &&\n          console.error(\n            \"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.\",\n            state,\n            state\n          );\n        \"function\" !== typeof _instance.getSnapshotBeforeUpdate ||\n          \"function\" === typeof _instance.componentDidUpdate ||\n          didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.has(Component) ||\n          (didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.add(Component),\n          console.error(\n            \"%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.\",\n            getComponentNameFromType(Component)\n          ));\n        \"function\" === typeof _instance.getDerivedStateFromProps &&\n          console.error(\n            \"%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.\",\n            state\n          );\n        \"function\" === typeof _instance.getDerivedStateFromError &&\n          console.error(\n            \"%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.\",\n            state\n          );\n        \"function\" === typeof Component.getSnapshotBeforeUpdate &&\n          console.error(\n            \"%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.\",\n            state\n          );\n        (lane = _instance.state) &&\n          (\"object\" !== typeof lane || isArrayImpl(lane)) &&\n          console.error(\"%s.state: must be set to an object or null\", state);\n        \"function\" === typeof _instance.getChildContext &&\n          \"object\" !== typeof Component.childContextTypes &&\n          console.error(\n            \"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().\",\n            state\n          );\n        _instance = workInProgress.stateNode;\n        _instance.props = nextProps;\n        _instance.state = workInProgress.memoizedState;\n        _instance.refs = {};\n        initializeUpdateQueue(workInProgress);\n        state = Component.contextType;\n        _instance.context =\n          \"object\" === typeof state && null !== state\n            ? readContext(state)\n            : emptyContextObject;\n        _instance.state === nextProps &&\n          ((state = getComponentNameFromType(Component) || \"Component\"),\n          didWarnAboutDirectlyAssigningPropsToState.has(state) ||\n            (didWarnAboutDirectlyAssigningPropsToState.add(state),\n            console.error(\n              \"%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.\",\n              state\n            )));\n        workInProgress.mode & StrictLegacyMode &&\n          ReactStrictModeWarnings.recordLegacyContextWarning(\n            workInProgress,\n            _instance\n          );\n        ReactStrictModeWarnings.recordUnsafeLifecycleWarnings(\n          workInProgress,\n          _instance\n        );\n        _instance.state = workInProgress.memoizedState;\n        state = Component.getDerivedStateFromProps;\n        \"function\" === typeof state &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            state,\n            nextProps\n          ),\n          (_instance.state = workInProgress.memoizedState));\n        \"function\" === typeof Component.getDerivedStateFromProps ||\n          \"function\" === typeof _instance.getSnapshotBeforeUpdate ||\n          (\"function\" !== typeof _instance.UNSAFE_componentWillMount &&\n            \"function\" !== typeof _instance.componentWillMount) ||\n          ((state = _instance.state),\n          \"function\" === typeof _instance.componentWillMount &&\n            _instance.componentWillMount(),\n          \"function\" === typeof _instance.UNSAFE_componentWillMount &&\n            _instance.UNSAFE_componentWillMount(),\n          state !== _instance.state &&\n            (console.error(\n              \"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.\",\n              getComponentNameFromFiber(workInProgress) || \"Component\"\n            ),\n            classComponentUpdater.enqueueReplaceState(\n              _instance,\n              _instance.state,\n              null\n            )),\n          processUpdateQueue(workInProgress, nextProps, _instance, renderLanes),\n          suspendIfUpdateReadFromEntangledAsyncAction(),\n          (_instance.state = workInProgress.memoizedState));\n        \"function\" === typeof _instance.componentDidMount &&\n          (workInProgress.flags |= 4194308);\n        (workInProgress.mode & StrictEffectsMode) !== NoMode &&\n          (workInProgress.flags |= 134217728);\n        _instance = !0;\n      } else if (null === current) {\n        _instance = workInProgress.stateNode;\n        var unresolvedOldProps = workInProgress.memoizedProps;\n        lane = resolveClassComponentProps(Component, unresolvedOldProps);\n        _instance.props = lane;\n        var oldContext = _instance.context;\n        foundWillUpdateName = Component.contextType;\n        state = emptyContextObject;\n        \"object\" === typeof foundWillUpdateName &&\n          null !== foundWillUpdateName &&\n          (state = readContext(foundWillUpdateName));\n        newApiName = Component.getDerivedStateFromProps;\n        foundWillUpdateName =\n          \"function\" === typeof newApiName ||\n          \"function\" === typeof _instance.getSnapshotBeforeUpdate;\n        unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n        foundWillUpdateName ||\n          (\"function\" !== typeof _instance.UNSAFE_componentWillReceiveProps &&\n            \"function\" !== typeof _instance.componentWillReceiveProps) ||\n          ((unresolvedOldProps || oldContext !== state) &&\n            callComponentWillReceiveProps(\n              workInProgress,\n              _instance,\n              nextProps,\n              state\n            ));\n        hasForceUpdate = !1;\n        var oldState = workInProgress.memoizedState;\n        _instance.state = oldState;\n        processUpdateQueue(workInProgress, nextProps, _instance, renderLanes);\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        oldContext = workInProgress.memoizedState;\n        unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n          ? (\"function\" === typeof newApiName &&\n              (applyDerivedStateFromProps(\n                workInProgress,\n                Component,\n                newApiName,\n                nextProps\n              ),\n              (oldContext = workInProgress.memoizedState)),\n            (lane =\n              hasForceUpdate ||\n              checkShouldComponentUpdate(\n                workInProgress,\n                Component,\n                lane,\n                nextProps,\n                oldState,\n                oldContext,\n                state\n              ))\n              ? (foundWillUpdateName ||\n                  (\"function\" !== typeof _instance.UNSAFE_componentWillMount &&\n                    \"function\" !== typeof _instance.componentWillMount) ||\n                  (\"function\" === typeof _instance.componentWillMount &&\n                    _instance.componentWillMount(),\n                  \"function\" === typeof _instance.UNSAFE_componentWillMount &&\n                    _instance.UNSAFE_componentWillMount()),\n                \"function\" === typeof _instance.componentDidMount &&\n                  (workInProgress.flags |= 4194308),\n                (workInProgress.mode & StrictEffectsMode) !== NoMode &&\n                  (workInProgress.flags |= 134217728))\n              : (\"function\" === typeof _instance.componentDidMount &&\n                  (workInProgress.flags |= 4194308),\n                (workInProgress.mode & StrictEffectsMode) !== NoMode &&\n                  (workInProgress.flags |= 134217728),\n                (workInProgress.memoizedProps = nextProps),\n                (workInProgress.memoizedState = oldContext)),\n            (_instance.props = nextProps),\n            (_instance.state = oldContext),\n            (_instance.context = state),\n            (_instance = lane))\n          : (\"function\" === typeof _instance.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.mode & StrictEffectsMode) !== NoMode &&\n              (workInProgress.flags |= 134217728),\n            (_instance = !1));\n      } else {\n        _instance = workInProgress.stateNode;\n        cloneUpdateQueue(current, workInProgress);\n        state = workInProgress.memoizedProps;\n        foundWillUpdateName = resolveClassComponentProps(Component, state);\n        _instance.props = foundWillUpdateName;\n        newApiName = workInProgress.pendingProps;\n        oldState = _instance.context;\n        oldContext = Component.contextType;\n        lane = emptyContextObject;\n        \"object\" === typeof oldContext &&\n          null !== oldContext &&\n          (lane = readContext(oldContext));\n        unresolvedOldProps = Component.getDerivedStateFromProps;\n        (oldContext =\n          \"function\" === typeof unresolvedOldProps ||\n          \"function\" === typeof _instance.getSnapshotBeforeUpdate) ||\n          (\"function\" !== typeof _instance.UNSAFE_componentWillReceiveProps &&\n            \"function\" !== typeof _instance.componentWillReceiveProps) ||\n          ((state !== newApiName || oldState !== lane) &&\n            callComponentWillReceiveProps(\n              workInProgress,\n              _instance,\n              nextProps,\n              lane\n            ));\n        hasForceUpdate = !1;\n        oldState = workInProgress.memoizedState;\n        _instance.state = oldState;\n        processUpdateQueue(workInProgress, nextProps, _instance, renderLanes);\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        var newState = workInProgress.memoizedState;\n        state !== newApiName ||\n        oldState !== newState ||\n        hasForceUpdate ||\n        (null !== current &&\n          null !== current.dependencies &&\n          checkIfContextChanged(current.dependencies))\n          ? (\"function\" === typeof unresolvedOldProps &&\n              (applyDerivedStateFromProps(\n                workInProgress,\n                Component,\n                unresolvedOldProps,\n                nextProps\n              ),\n              (newState = workInProgress.memoizedState)),\n            (foundWillUpdateName =\n              hasForceUpdate ||\n              checkShouldComponentUpdate(\n                workInProgress,\n                Component,\n                foundWillUpdateName,\n                nextProps,\n                oldState,\n                newState,\n                lane\n              ) ||\n              (null !== current &&\n                null !== current.dependencies &&\n                checkIfContextChanged(current.dependencies)))\n              ? (oldContext ||\n                  (\"function\" !== typeof _instance.UNSAFE_componentWillUpdate &&\n                    \"function\" !== typeof _instance.componentWillUpdate) ||\n                  (\"function\" === typeof _instance.componentWillUpdate &&\n                    _instance.componentWillUpdate(nextProps, newState, lane),\n                  \"function\" === typeof _instance.UNSAFE_componentWillUpdate &&\n                    _instance.UNSAFE_componentWillUpdate(\n                      nextProps,\n                      newState,\n                      lane\n                    )),\n                \"function\" === typeof _instance.componentDidUpdate &&\n                  (workInProgress.flags |= 4),\n                \"function\" === typeof _instance.getSnapshotBeforeUpdate &&\n                  (workInProgress.flags |= 1024))\n              : (\"function\" !== typeof _instance.componentDidUpdate ||\n                  (state === current.memoizedProps &&\n                    oldState === current.memoizedState) ||\n                  (workInProgress.flags |= 4),\n                \"function\" !== typeof _instance.getSnapshotBeforeUpdate ||\n                  (state === current.memoizedProps &&\n                    oldState === current.memoizedState) ||\n                  (workInProgress.flags |= 1024),\n                (workInProgress.memoizedProps = nextProps),\n                (workInProgress.memoizedState = newState)),\n            (_instance.props = nextProps),\n            (_instance.state = newState),\n            (_instance.context = lane),\n            (_instance = foundWillUpdateName))\n          : (\"function\" !== typeof _instance.componentDidUpdate ||\n              (state === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof _instance.getSnapshotBeforeUpdate ||\n              (state === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (_instance = !1));\n      }\n      lane = _instance;\n      markRef(current, workInProgress);\n      state = 0 !== (workInProgress.flags & 128);\n      if (lane || state) {\n        lane = workInProgress.stateNode;\n        setCurrentFiber(workInProgress);\n        if (state && \"function\" !== typeof Component.getDerivedStateFromError)\n          (Component = null), (profilerStartTime = -1);\n        else if (\n          ((Component = callRenderInDEV(lane)),\n          workInProgress.mode & StrictLegacyMode)\n        ) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            callRenderInDEV(lane);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n        workInProgress.flags |= 1;\n        null !== current && state\n          ? ((workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            )),\n            (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              Component,\n              renderLanes\n            )))\n          : reconcileChildren(current, workInProgress, Component, renderLanes);\n        workInProgress.memoizedState = lane.state;\n        current = workInProgress.child;\n      } else\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n      renderLanes = workInProgress.stateNode;\n      _instance &&\n        renderLanes.props !== nextProps &&\n        (didWarnAboutReassigningProps ||\n          console.error(\n            \"It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.\",\n            getComponentNameFromFiber(workInProgress) || \"a component\"\n          ),\n        (didWarnAboutReassigningProps = !0));\n      return current;\n    }\n    function mountHostRootWithoutHydrating(\n      current,\n      workInProgress,\n      nextChildren,\n      renderLanes\n    ) {\n      resetHydrationState();\n      workInProgress.flags |= 256;\n      reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n      return workInProgress.child;\n    }\n    function validateFunctionComponentInDev(workInProgress, Component) {\n      Component &&\n        Component.childContextTypes &&\n        console.error(\n          \"childContextTypes cannot be defined on a function component.\\n  %s.childContextTypes = ...\",\n          Component.displayName || Component.name || \"Component\"\n        );\n      \"function\" === typeof Component.getDerivedStateFromProps &&\n        ((workInProgress = getComponentNameFromType(Component) || \"Unknown\"),\n        didWarnAboutGetDerivedStateOnFunctionComponent[workInProgress] ||\n          (console.error(\n            \"%s: Function components do not support getDerivedStateFromProps.\",\n            workInProgress\n          ),\n          (didWarnAboutGetDerivedStateOnFunctionComponent[workInProgress] =\n            !0)));\n      \"object\" === typeof Component.contextType &&\n        null !== Component.contextType &&\n        ((Component = getComponentNameFromType(Component) || \"Unknown\"),\n        didWarnAboutContextTypeOnFunctionComponent[Component] ||\n          (console.error(\n            \"%s: Function components do not support contextType.\",\n            Component\n          ),\n          (didWarnAboutContextTypeOnFunctionComponent[Component] = !0)));\n    }\n    function mountSuspenseOffscreenState(renderLanes) {\n      return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n    }\n    function getRemainingWorkInPrimaryTree(\n      current,\n      primaryTreeDidDefer,\n      renderLanes\n    ) {\n      current = null !== current ? current.childLanes & ~renderLanes : 0;\n      primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n      return current;\n    }\n    function updateSuspenseComponent(current, workInProgress, renderLanes) {\n      var JSCompiler_object_inline_digest_2724;\n      var JSCompiler_object_inline_stack_2725 = workInProgress.pendingProps;\n      shouldSuspendImpl(workInProgress) && (workInProgress.flags |= 128);\n      var JSCompiler_object_inline_message_2723 = !1;\n      var didSuspend = 0 !== (workInProgress.flags & 128);\n      (JSCompiler_object_inline_digest_2724 = didSuspend) ||\n        (JSCompiler_object_inline_digest_2724 =\n          null !== current && null === current.memoizedState\n            ? !1\n            : 0 !== (suspenseStackCursor.current & ForceSuspenseFallback));\n      JSCompiler_object_inline_digest_2724 &&\n        ((JSCompiler_object_inline_message_2723 = !0),\n        (workInProgress.flags &= -129));\n      JSCompiler_object_inline_digest_2724 = 0 !== (workInProgress.flags & 32);\n      workInProgress.flags &= -33;\n      if (null === current) {\n        if (isHydrating) {\n          JSCompiler_object_inline_message_2723\n            ? pushPrimaryTreeSuspenseHandler(workInProgress)\n            : reuseSuspenseHandlerOnStack(workInProgress);\n          (current = nextHydratableInstance)\n            ? ((renderLanes = canHydrateHydrationBoundary(\n                current,\n                rootOrSingletonContext\n              )),\n              (renderLanes =\n                null !== renderLanes && renderLanes.data !== ACTIVITY_START_DATA\n                  ? renderLanes\n                  : null),\n              null !== renderLanes &&\n                ((JSCompiler_object_inline_digest_2724 = {\n                  dehydrated: renderLanes,\n                  treeContext: getSuspendedTreeContext(),\n                  retryLane: 536870912,\n                  hydrationErrors: null\n                }),\n                (workInProgress.memoizedState =\n                  JSCompiler_object_inline_digest_2724),\n                (JSCompiler_object_inline_digest_2724 =\n                  createFiberFromDehydratedFragment(renderLanes)),\n                (JSCompiler_object_inline_digest_2724.return = workInProgress),\n                (workInProgress.child = JSCompiler_object_inline_digest_2724),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null)))\n            : (renderLanes = null);\n          if (null === renderLanes)\n            throw (\n              (warnNonHydratedInstance(workInProgress, current),\n              throwOnHydrationMismatch(workInProgress))\n            );\n          isSuspenseInstanceFallback(renderLanes)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912);\n          return null;\n        }\n        var nextPrimaryChildren = JSCompiler_object_inline_stack_2725.children;\n        JSCompiler_object_inline_stack_2725 =\n          JSCompiler_object_inline_stack_2725.fallback;\n        if (JSCompiler_object_inline_message_2723) {\n          reuseSuspenseHandlerOnStack(workInProgress);\n          var mode = workInProgress.mode;\n          nextPrimaryChildren = mountWorkInProgressOffscreenFiber(\n            { mode: \"hidden\", children: nextPrimaryChildren },\n            mode\n          );\n          JSCompiler_object_inline_stack_2725 = createFiberFromFragment(\n            JSCompiler_object_inline_stack_2725,\n            mode,\n            renderLanes,\n            null\n          );\n          nextPrimaryChildren.return = workInProgress;\n          JSCompiler_object_inline_stack_2725.return = workInProgress;\n          nextPrimaryChildren.sibling = JSCompiler_object_inline_stack_2725;\n          workInProgress.child = nextPrimaryChildren;\n          JSCompiler_object_inline_stack_2725 = workInProgress.child;\n          JSCompiler_object_inline_stack_2725.memoizedState =\n            mountSuspenseOffscreenState(renderLanes);\n          JSCompiler_object_inline_stack_2725.childLanes =\n            getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_object_inline_digest_2724,\n              renderLanes\n            );\n          workInProgress.memoizedState = SUSPENDED_MARKER;\n          return bailoutOffscreenComponent(\n            null,\n            JSCompiler_object_inline_stack_2725\n          );\n        }\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        return mountSuspensePrimaryChildren(\n          workInProgress,\n          nextPrimaryChildren\n        );\n      }\n      var prevState = current.memoizedState;\n      if (null !== prevState) {\n        var JSCompiler_object_inline_componentStack_2726 = prevState.dehydrated;\n        if (null !== JSCompiler_object_inline_componentStack_2726) {\n          if (didSuspend)\n            workInProgress.flags & 256\n              ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n                (workInProgress.flags &= -257),\n                (workInProgress = retrySuspenseComponentWithoutHydrating(\n                  current,\n                  workInProgress,\n                  renderLanes\n                )))\n              : null !== workInProgress.memoizedState\n                ? (reuseSuspenseHandlerOnStack(workInProgress),\n                  (workInProgress.child = current.child),\n                  (workInProgress.flags |= 128),\n                  (workInProgress = null))\n                : (reuseSuspenseHandlerOnStack(workInProgress),\n                  (nextPrimaryChildren =\n                    JSCompiler_object_inline_stack_2725.fallback),\n                  (mode = workInProgress.mode),\n                  (JSCompiler_object_inline_stack_2725 =\n                    mountWorkInProgressOffscreenFiber(\n                      {\n                        mode: \"visible\",\n                        children: JSCompiler_object_inline_stack_2725.children\n                      },\n                      mode\n                    )),\n                  (nextPrimaryChildren = createFiberFromFragment(\n                    nextPrimaryChildren,\n                    mode,\n                    renderLanes,\n                    null\n                  )),\n                  (nextPrimaryChildren.flags |= 2),\n                  (JSCompiler_object_inline_stack_2725.return = workInProgress),\n                  (nextPrimaryChildren.return = workInProgress),\n                  (JSCompiler_object_inline_stack_2725.sibling =\n                    nextPrimaryChildren),\n                  (workInProgress.child = JSCompiler_object_inline_stack_2725),\n                  reconcileChildFibers(\n                    workInProgress,\n                    current.child,\n                    null,\n                    renderLanes\n                  ),\n                  (JSCompiler_object_inline_stack_2725 = workInProgress.child),\n                  (JSCompiler_object_inline_stack_2725.memoizedState =\n                    mountSuspenseOffscreenState(renderLanes)),\n                  (JSCompiler_object_inline_stack_2725.childLanes =\n                    getRemainingWorkInPrimaryTree(\n                      current,\n                      JSCompiler_object_inline_digest_2724,\n                      renderLanes\n                    )),\n                  (workInProgress.memoizedState = SUSPENDED_MARKER),\n                  (workInProgress = bailoutOffscreenComponent(\n                    null,\n                    JSCompiler_object_inline_stack_2725\n                  )));\n          else if (\n            (pushPrimaryTreeSuspenseHandler(workInProgress),\n            warnIfHydrating(),\n            0 !== (renderLanes & 536870912) &&\n              markRenderDerivedCause(workInProgress),\n            isSuspenseInstanceFallback(\n              JSCompiler_object_inline_componentStack_2726\n            ))\n          ) {\n            JSCompiler_object_inline_digest_2724 =\n              JSCompiler_object_inline_componentStack_2726.nextSibling &&\n              JSCompiler_object_inline_componentStack_2726.nextSibling.dataset;\n            if (JSCompiler_object_inline_digest_2724) {\n              nextPrimaryChildren = JSCompiler_object_inline_digest_2724.dgst;\n              var message = JSCompiler_object_inline_digest_2724.msg;\n              mode = JSCompiler_object_inline_digest_2724.stck;\n              var componentStack = JSCompiler_object_inline_digest_2724.cstck;\n            }\n            JSCompiler_object_inline_message_2723 = message;\n            JSCompiler_object_inline_digest_2724 = nextPrimaryChildren;\n            JSCompiler_object_inline_stack_2725 = mode;\n            JSCompiler_object_inline_componentStack_2726 = componentStack;\n            nextPrimaryChildren = JSCompiler_object_inline_message_2723;\n            mode = JSCompiler_object_inline_componentStack_2726;\n            nextPrimaryChildren = nextPrimaryChildren\n              ? Error(nextPrimaryChildren)\n              : Error(\n                  \"The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.\"\n                );\n            nextPrimaryChildren.stack =\n              JSCompiler_object_inline_stack_2725 || \"\";\n            nextPrimaryChildren.digest = JSCompiler_object_inline_digest_2724;\n            JSCompiler_object_inline_digest_2724 =\n              void 0 === mode ? null : mode;\n            JSCompiler_object_inline_stack_2725 = {\n              value: nextPrimaryChildren,\n              source: null,\n              stack: JSCompiler_object_inline_digest_2724\n            };\n            \"string\" === typeof JSCompiler_object_inline_digest_2724 &&\n              CapturedStacks.set(\n                nextPrimaryChildren,\n                JSCompiler_object_inline_stack_2725\n              );\n            queueHydrationError(JSCompiler_object_inline_stack_2725);\n            workInProgress = retrySuspenseComponentWithoutHydrating(\n              current,\n              workInProgress,\n              renderLanes\n            );\n          } else if (\n            (didReceiveUpdate ||\n              propagateParentContextChanges(\n                current,\n                workInProgress,\n                renderLanes,\n                !1\n              ),\n            (JSCompiler_object_inline_digest_2724 =\n              0 !== (renderLanes & current.childLanes)),\n            didReceiveUpdate || JSCompiler_object_inline_digest_2724)\n          ) {\n            JSCompiler_object_inline_digest_2724 = workInProgressRoot;\n            if (\n              null !== JSCompiler_object_inline_digest_2724 &&\n              ((JSCompiler_object_inline_stack_2725 = getBumpedLaneForHydration(\n                JSCompiler_object_inline_digest_2724,\n                renderLanes\n              )),\n              0 !== JSCompiler_object_inline_stack_2725 &&\n                JSCompiler_object_inline_stack_2725 !== prevState.retryLane)\n            )\n              throw (\n                ((prevState.retryLane = JSCompiler_object_inline_stack_2725),\n                enqueueConcurrentRenderForLane(\n                  current,\n                  JSCompiler_object_inline_stack_2725\n                ),\n                scheduleUpdateOnFiber(\n                  JSCompiler_object_inline_digest_2724,\n                  current,\n                  JSCompiler_object_inline_stack_2725\n                ),\n                SelectiveHydrationException)\n              );\n            isSuspenseInstancePending(\n              JSCompiler_object_inline_componentStack_2726\n            ) || renderDidSuspendDelayIfPossible();\n            workInProgress = retrySuspenseComponentWithoutHydrating(\n              current,\n              workInProgress,\n              renderLanes\n            );\n          } else\n            isSuspenseInstancePending(\n              JSCompiler_object_inline_componentStack_2726\n            )\n              ? ((workInProgress.flags |= 192),\n                (workInProgress.child = current.child),\n                (workInProgress = null))\n              : ((current = prevState.treeContext),\n                (nextHydratableInstance = getNextHydratable(\n                  JSCompiler_object_inline_componentStack_2726.nextSibling\n                )),\n                (hydrationParentFiber = workInProgress),\n                (isHydrating = !0),\n                (hydrationErrors = null),\n                (didSuspendOrErrorDEV = !1),\n                (hydrationDiffRootDEV = null),\n                (rootOrSingletonContext = !1),\n                null !== current &&\n                  restoreSuspendedTreeContext(workInProgress, current),\n                (workInProgress = mountSuspensePrimaryChildren(\n                  workInProgress,\n                  JSCompiler_object_inline_stack_2725.children\n                )),\n                (workInProgress.flags |= 4096));\n          return workInProgress;\n        }\n      }\n      if (JSCompiler_object_inline_message_2723)\n        return (\n          reuseSuspenseHandlerOnStack(workInProgress),\n          (nextPrimaryChildren = JSCompiler_object_inline_stack_2725.fallback),\n          (mode = workInProgress.mode),\n          (componentStack = current.child),\n          (JSCompiler_object_inline_componentStack_2726 =\n            componentStack.sibling),\n          (JSCompiler_object_inline_stack_2725 = createWorkInProgress(\n            componentStack,\n            {\n              mode: \"hidden\",\n              children: JSCompiler_object_inline_stack_2725.children\n            }\n          )),\n          (JSCompiler_object_inline_stack_2725.subtreeFlags =\n            componentStack.subtreeFlags & 65011712),\n          null !== JSCompiler_object_inline_componentStack_2726\n            ? (nextPrimaryChildren = createWorkInProgress(\n                JSCompiler_object_inline_componentStack_2726,\n                nextPrimaryChildren\n              ))\n            : ((nextPrimaryChildren = createFiberFromFragment(\n                nextPrimaryChildren,\n                mode,\n                renderLanes,\n                null\n              )),\n              (nextPrimaryChildren.flags |= 2)),\n          (nextPrimaryChildren.return = workInProgress),\n          (JSCompiler_object_inline_stack_2725.return = workInProgress),\n          (JSCompiler_object_inline_stack_2725.sibling = nextPrimaryChildren),\n          (workInProgress.child = JSCompiler_object_inline_stack_2725),\n          bailoutOffscreenComponent(null, JSCompiler_object_inline_stack_2725),\n          (JSCompiler_object_inline_stack_2725 = workInProgress.child),\n          (nextPrimaryChildren = current.child.memoizedState),\n          null === nextPrimaryChildren\n            ? (nextPrimaryChildren = mountSuspenseOffscreenState(renderLanes))\n            : ((mode = nextPrimaryChildren.cachePool),\n              null !== mode\n                ? ((componentStack = CacheContext._currentValue),\n                  (mode =\n                    mode.parent !== componentStack\n                      ? { parent: componentStack, pool: componentStack }\n                      : mode))\n                : (mode = getSuspendedCache()),\n              (nextPrimaryChildren = {\n                baseLanes: nextPrimaryChildren.baseLanes | renderLanes,\n                cachePool: mode\n              })),\n          (JSCompiler_object_inline_stack_2725.memoizedState =\n            nextPrimaryChildren),\n          (JSCompiler_object_inline_stack_2725.childLanes =\n            getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_object_inline_digest_2724,\n              renderLanes\n            )),\n          (workInProgress.memoizedState = SUSPENDED_MARKER),\n          bailoutOffscreenComponent(\n            current.child,\n            JSCompiler_object_inline_stack_2725\n          )\n        );\n      null !== prevState &&\n        (renderLanes & 62914560) === renderLanes &&\n        0 !== (renderLanes & current.lanes) &&\n        markRenderDerivedCause(workInProgress);\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      renderLanes = current.child;\n      current = renderLanes.sibling;\n      renderLanes = createWorkInProgress(renderLanes, {\n        mode: \"visible\",\n        children: JSCompiler_object_inline_stack_2725.children\n      });\n      renderLanes.return = workInProgress;\n      renderLanes.sibling = null;\n      null !== current &&\n        ((JSCompiler_object_inline_digest_2724 = workInProgress.deletions),\n        null === JSCompiler_object_inline_digest_2724\n          ? ((workInProgress.deletions = [current]),\n            (workInProgress.flags |= 16))\n          : JSCompiler_object_inline_digest_2724.push(current));\n      workInProgress.child = renderLanes;\n      workInProgress.memoizedState = null;\n      return renderLanes;\n    }\n    function mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n      primaryChildren = mountWorkInProgressOffscreenFiber(\n        { mode: \"visible\", children: primaryChildren },\n        workInProgress.mode\n      );\n      primaryChildren.return = workInProgress;\n      return (workInProgress.child = primaryChildren);\n    }\n    function mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n      offscreenProps = createFiber(22, offscreenProps, null, mode);\n      offscreenProps.lanes = 0;\n      return offscreenProps;\n    }\n    function retrySuspenseComponentWithoutHydrating(\n      current,\n      workInProgress,\n      renderLanes\n    ) {\n      reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n      current = mountSuspensePrimaryChildren(\n        workInProgress,\n        workInProgress.pendingProps.children\n      );\n      current.flags |= 2;\n      workInProgress.memoizedState = null;\n      return current;\n    }\n    function scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n      fiber.lanes |= renderLanes;\n      var alternate = fiber.alternate;\n      null !== alternate && (alternate.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(\n        fiber.return,\n        renderLanes,\n        propagationRoot\n      );\n    }\n    function initSuspenseListRenderState(\n      workInProgress,\n      isBackwards,\n      tail,\n      lastContentRow,\n      tailMode,\n      treeForkCount\n    ) {\n      var renderState = workInProgress.memoizedState;\n      null === renderState\n        ? (workInProgress.memoizedState = {\n            isBackwards: isBackwards,\n            rendering: null,\n            renderingStartTime: 0,\n            last: lastContentRow,\n            tail: tail,\n            tailMode: tailMode,\n            treeForkCount: treeForkCount\n          })\n        : ((renderState.isBackwards = isBackwards),\n          (renderState.rendering = null),\n          (renderState.renderingStartTime = 0),\n          (renderState.last = lastContentRow),\n          (renderState.tail = tail),\n          (renderState.tailMode = tailMode),\n          (renderState.treeForkCount = treeForkCount));\n    }\n    function updateSuspenseListComponent(current, workInProgress, renderLanes) {\n      var nextProps = workInProgress.pendingProps,\n        revealOrder = nextProps.revealOrder,\n        tailMode = nextProps.tail,\n        newChildren = nextProps.children,\n        suspenseContext = suspenseStackCursor.current;\n      (nextProps = 0 !== (suspenseContext & ForceSuspenseFallback))\n        ? ((suspenseContext =\n            (suspenseContext & SubtreeSuspenseContextMask) |\n            ForceSuspenseFallback),\n          (workInProgress.flags |= 128))\n        : (suspenseContext &= SubtreeSuspenseContextMask);\n      push(suspenseStackCursor, suspenseContext, workInProgress);\n      suspenseContext = null == revealOrder ? \"null\" : revealOrder;\n      if (\n        \"forwards\" !== revealOrder &&\n        \"unstable_legacy-backwards\" !== revealOrder &&\n        \"together\" !== revealOrder &&\n        \"independent\" !== revealOrder &&\n        !didWarnAboutRevealOrder[suspenseContext]\n      )\n        if (\n          ((didWarnAboutRevealOrder[suspenseContext] = !0), null == revealOrder)\n        )\n          console.error(\n            'The default for the <SuspenseList revealOrder=\"...\"> prop is changing. To be future compatible you must explictly specify either \"independent\" (the current default), \"together\", \"forwards\" or \"legacy_unstable-backwards\".'\n          );\n        else if (\"backwards\" === revealOrder)\n          console.error(\n            'The rendering order of <SuspenseList revealOrder=\"backwards\"> is changing. To be future compatible you must specify revealOrder=\"legacy_unstable-backwards\" instead.'\n          );\n        else if (\"string\" === typeof revealOrder)\n          switch (revealOrder.toLowerCase()) {\n            case \"together\":\n            case \"forwards\":\n            case \"backwards\":\n            case \"independent\":\n              console.error(\n                '\"%s\" is not a valid value for revealOrder on <SuspenseList />. Use lowercase \"%s\" instead.',\n                revealOrder,\n                revealOrder.toLowerCase()\n              );\n              break;\n            case \"forward\":\n            case \"backward\":\n              console.error(\n                '\"%s\" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use \"%ss\" instead.',\n                revealOrder,\n                revealOrder.toLowerCase()\n              );\n              break;\n            default:\n              console.error(\n                '\"%s\" is not a supported revealOrder on <SuspenseList />. Did you mean \"independent\", \"together\", \"forwards\" or \"backwards\"?',\n                revealOrder\n              );\n          }\n        else\n          console.error(\n            '%s is not a supported value for revealOrder on <SuspenseList />. Did you mean \"independent\", \"together\", \"forwards\" or \"backwards\"?',\n            revealOrder\n          );\n      suspenseContext = null == tailMode ? \"null\" : tailMode;\n      if (!didWarnAboutTailOptions[suspenseContext])\n        if (null == tailMode) {\n          if (\n            \"forwards\" === revealOrder ||\n            \"backwards\" === revealOrder ||\n            \"unstable_legacy-backwards\" === revealOrder\n          )\n            (didWarnAboutTailOptions[suspenseContext] = !0),\n              console.error(\n                'The default for the <SuspenseList tail=\"...\"> prop is changing. To be future compatible you must explictly specify either \"visible\" (the current default), \"collapsed\" or \"hidden\".'\n              );\n        } else\n          \"visible\" !== tailMode &&\n          \"collapsed\" !== tailMode &&\n          \"hidden\" !== tailMode\n            ? ((didWarnAboutTailOptions[suspenseContext] = !0),\n              console.error(\n                '\"%s\" is not a supported value for tail on <SuspenseList />. Did you mean \"visible\", \"collapsed\" or \"hidden\"?',\n                tailMode\n              ))\n            : \"forwards\" !== revealOrder &&\n              \"backwards\" !== revealOrder &&\n              \"unstable_legacy-backwards\" !== revealOrder &&\n              ((didWarnAboutTailOptions[suspenseContext] = !0),\n              console.error(\n                '<SuspenseList tail=\"%s\" /> is only valid if revealOrder is \"forwards\" or \"backwards\". Did you mean to specify revealOrder=\"forwards\"?',\n                tailMode\n              ));\n      a: if (\n        (\"forwards\" === revealOrder ||\n          \"backwards\" === revealOrder ||\n          \"unstable_legacy-backwards\" === revealOrder) &&\n        void 0 !== newChildren &&\n        null !== newChildren &&\n        !1 !== newChildren\n      )\n        if (isArrayImpl(newChildren))\n          for (\n            suspenseContext = 0;\n            suspenseContext < newChildren.length;\n            suspenseContext++\n          ) {\n            if (\n              !validateSuspenseListNestedChild(\n                newChildren[suspenseContext],\n                suspenseContext\n              )\n            )\n              break a;\n          }\n        else if (\n          ((suspenseContext = getIteratorFn(newChildren)),\n          \"function\" === typeof suspenseContext)\n        ) {\n          if ((suspenseContext = suspenseContext.call(newChildren)))\n            for (\n              var step = suspenseContext.next(), _i = 0;\n              !step.done;\n              step = suspenseContext.next()\n            ) {\n              if (!validateSuspenseListNestedChild(step.value, _i)) break a;\n              _i++;\n            }\n        } else\n          console.error(\n            'A single row was passed to a <SuspenseList revealOrder=\"%s\" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',\n            revealOrder\n          );\n      reconcileChildren(current, workInProgress, newChildren, renderLanes);\n      isHydrating\n        ? (warnIfNotHydrating(), (newChildren = treeForkCount))\n        : (newChildren = 0);\n      if (!nextProps && null !== current && 0 !== (current.flags & 128))\n        a: for (current = workInProgress.child; null !== current; ) {\n          if (13 === current.tag)\n            null !== current.memoizedState &&\n              scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n          else if (19 === current.tag)\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n          else if (null !== current.child) {\n            current.child.return = current;\n            current = current.child;\n            continue;\n          }\n          if (current === workInProgress) break a;\n          for (; null === current.sibling; ) {\n            if (null === current.return || current.return === workInProgress)\n              break a;\n            current = current.return;\n          }\n          current.sibling.return = current.return;\n          current = current.sibling;\n        }\n      switch (revealOrder) {\n        case \"forwards\":\n          renderLanes = workInProgress.child;\n          for (revealOrder = null; null !== renderLanes; )\n            (current = renderLanes.alternate),\n              null !== current &&\n                null === findFirstSuspended(current) &&\n                (revealOrder = renderLanes),\n              (renderLanes = renderLanes.sibling);\n          renderLanes = revealOrder;\n          null === renderLanes\n            ? ((revealOrder = workInProgress.child),\n              (workInProgress.child = null))\n            : ((revealOrder = renderLanes.sibling),\n              (renderLanes.sibling = null));\n          initSuspenseListRenderState(\n            workInProgress,\n            !1,\n            revealOrder,\n            renderLanes,\n            tailMode,\n            newChildren\n          );\n          break;\n        case \"backwards\":\n        case \"unstable_legacy-backwards\":\n          renderLanes = null;\n          revealOrder = workInProgress.child;\n          for (workInProgress.child = null; null !== revealOrder; ) {\n            current = revealOrder.alternate;\n            if (null !== current && null === findFirstSuspended(current)) {\n              workInProgress.child = revealOrder;\n              break;\n            }\n            current = revealOrder.sibling;\n            revealOrder.sibling = renderLanes;\n            renderLanes = revealOrder;\n            revealOrder = current;\n          }\n          initSuspenseListRenderState(\n            workInProgress,\n            !0,\n            renderLanes,\n            null,\n            tailMode,\n            newChildren\n          );\n          break;\n        case \"together\":\n          initSuspenseListRenderState(\n            workInProgress,\n            !1,\n            null,\n            null,\n            void 0,\n            newChildren\n          );\n          break;\n        default:\n          workInProgress.memoizedState = null;\n      }\n      return workInProgress.child;\n    }\n    function bailoutOnAlreadyFinishedWork(\n      current,\n      workInProgress,\n      renderLanes\n    ) {\n      null !== current && (workInProgress.dependencies = current.dependencies);\n      profilerStartTime = -1;\n      workInProgressRootSkippedLanes |= workInProgress.lanes;\n      if (0 === (renderLanes & workInProgress.childLanes))\n        if (null !== current) {\n          if (\n            (propagateParentContextChanges(\n              current,\n              workInProgress,\n              renderLanes,\n              !1\n            ),\n            0 === (renderLanes & workInProgress.childLanes))\n          )\n            return null;\n        } else return null;\n      if (null !== current && workInProgress.child !== current.child)\n        throw Error(\"Resuming work not yet implemented.\");\n      if (null !== workInProgress.child) {\n        current = workInProgress.child;\n        renderLanes = createWorkInProgress(current, current.pendingProps);\n        workInProgress.child = renderLanes;\n        for (renderLanes.return = workInProgress; null !== current.sibling; )\n          (current = current.sibling),\n            (renderLanes = renderLanes.sibling =\n              createWorkInProgress(current, current.pendingProps)),\n            (renderLanes.return = workInProgress);\n        renderLanes.sibling = null;\n      }\n      return workInProgress.child;\n    }\n    function checkScheduledUpdateOrContext(current, renderLanes) {\n      if (0 !== (current.lanes & renderLanes)) return !0;\n      current = current.dependencies;\n      return null !== current && checkIfContextChanged(current) ? !0 : !1;\n    }\n    function attemptEarlyBailoutIfNoScheduledUpdate(\n      current,\n      workInProgress,\n      renderLanes\n    ) {\n      switch (workInProgress.tag) {\n        case 3:\n          pushHostContainer(\n            workInProgress,\n            workInProgress.stateNode.containerInfo\n          );\n          pushProvider(\n            workInProgress,\n            CacheContext,\n            current.memoizedState.cache\n          );\n          resetHydrationState();\n          break;\n        case 27:\n        case 5:\n          pushHostContext(workInProgress);\n          break;\n        case 4:\n          pushHostContainer(\n            workInProgress,\n            workInProgress.stateNode.containerInfo\n          );\n          break;\n        case 10:\n          pushProvider(\n            workInProgress,\n            workInProgress.type,\n            workInProgress.memoizedProps.value\n          );\n          break;\n        case 12:\n          0 !== (renderLanes & workInProgress.childLanes) &&\n            (workInProgress.flags |= 4);\n          workInProgress.flags |= 2048;\n          var stateNode = workInProgress.stateNode;\n          stateNode.effectDuration = -0;\n          stateNode.passiveEffectDuration = -0;\n          break;\n        case 31:\n          if (null !== workInProgress.memoizedState)\n            return (\n              (workInProgress.flags |= 128),\n              pushDehydratedActivitySuspenseHandler(workInProgress),\n              null\n            );\n          break;\n        case 13:\n          stateNode = workInProgress.memoizedState;\n          if (null !== stateNode) {\n            if (null !== stateNode.dehydrated)\n              return (\n                pushPrimaryTreeSuspenseHandler(workInProgress),\n                (workInProgress.flags |= 128),\n                null\n              );\n            if (0 !== (renderLanes & workInProgress.child.childLanes))\n              return updateSuspenseComponent(\n                current,\n                workInProgress,\n                renderLanes\n              );\n            pushPrimaryTreeSuspenseHandler(workInProgress);\n            current = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            return null !== current ? current.sibling : null;\n          }\n          pushPrimaryTreeSuspenseHandler(workInProgress);\n          break;\n        case 19:\n          var didSuspendBefore = 0 !== (current.flags & 128);\n          stateNode = 0 !== (renderLanes & workInProgress.childLanes);\n          stateNode ||\n            (propagateParentContextChanges(\n              current,\n              workInProgress,\n              renderLanes,\n              !1\n            ),\n            (stateNode = 0 !== (renderLanes & workInProgress.childLanes)));\n          if (didSuspendBefore) {\n            if (stateNode)\n              return updateSuspenseListComponent(\n                current,\n                workInProgress,\n                renderLanes\n              );\n            workInProgress.flags |= 128;\n          }\n          didSuspendBefore = workInProgress.memoizedState;\n          null !== didSuspendBefore &&\n            ((didSuspendBefore.rendering = null),\n            (didSuspendBefore.tail = null),\n            (didSuspendBefore.lastEffect = null));\n          push(\n            suspenseStackCursor,\n            suspenseStackCursor.current,\n            workInProgress\n          );\n          if (stateNode) break;\n          else return null;\n        case 22:\n          return (\n            (workInProgress.lanes = 0),\n            updateOffscreenComponent(\n              current,\n              workInProgress,\n              renderLanes,\n              workInProgress.pendingProps\n            )\n          );\n        case 24:\n          pushProvider(\n            workInProgress,\n            CacheContext,\n            current.memoizedState.cache\n          );\n      }\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n    }\n    function beginWork(current, workInProgress, renderLanes) {\n      if (workInProgress._debugNeedsRemount && null !== current) {\n        renderLanes = createFiberFromTypeAndProps(\n          workInProgress.type,\n          workInProgress.key,\n          workInProgress.pendingProps,\n          workInProgress._debugOwner || null,\n          workInProgress.mode,\n          workInProgress.lanes\n        );\n        renderLanes._debugStack = workInProgress._debugStack;\n        renderLanes._debugTask = workInProgress._debugTask;\n        var returnFiber = workInProgress.return;\n        if (null === returnFiber) throw Error(\"Cannot swap the root fiber.\");\n        current.alternate = null;\n        workInProgress.alternate = null;\n        renderLanes.index = workInProgress.index;\n        renderLanes.sibling = workInProgress.sibling;\n        renderLanes.return = workInProgress.return;\n        renderLanes.ref = workInProgress.ref;\n        renderLanes._debugInfo = workInProgress._debugInfo;\n        if (workInProgress === returnFiber.child)\n          returnFiber.child = renderLanes;\n        else {\n          var prevSibling = returnFiber.child;\n          if (null === prevSibling)\n            throw Error(\"Expected parent to have a child.\");\n          for (; prevSibling.sibling !== workInProgress; )\n            if (((prevSibling = prevSibling.sibling), null === prevSibling))\n              throw Error(\"Expected to find the previous sibling.\");\n          prevSibling.sibling = renderLanes;\n        }\n        workInProgress = returnFiber.deletions;\n        null === workInProgress\n          ? ((returnFiber.deletions = [current]), (returnFiber.flags |= 16))\n          : workInProgress.push(current);\n        renderLanes.flags |= 2;\n        return renderLanes;\n      }\n      if (null !== current)\n        if (\n          current.memoizedProps !== workInProgress.pendingProps ||\n          workInProgress.type !== current.type\n        )\n          didReceiveUpdate = !0;\n        else {\n          if (\n            !checkScheduledUpdateOrContext(current, renderLanes) &&\n            0 === (workInProgress.flags & 128)\n          )\n            return (\n              (didReceiveUpdate = !1),\n              attemptEarlyBailoutIfNoScheduledUpdate(\n                current,\n                workInProgress,\n                renderLanes\n              )\n            );\n          didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n        }\n      else {\n        didReceiveUpdate = !1;\n        if ((returnFiber = isHydrating))\n          warnIfNotHydrating(),\n            (returnFiber = 0 !== (workInProgress.flags & 1048576));\n        returnFiber &&\n          ((returnFiber = workInProgress.index),\n          warnIfNotHydrating(),\n          pushTreeId(workInProgress, treeForkCount, returnFiber));\n      }\n      workInProgress.lanes = 0;\n      switch (workInProgress.tag) {\n        case 16:\n          a: if (\n            ((returnFiber = workInProgress.pendingProps),\n            (current = resolveLazy(workInProgress.elementType)),\n            (workInProgress.type = current),\n            \"function\" === typeof current)\n          )\n            shouldConstruct(current)\n              ? ((returnFiber = resolveClassComponentProps(\n                  current,\n                  returnFiber\n                )),\n                (workInProgress.tag = 1),\n                (workInProgress.type = current =\n                  resolveFunctionForHotReloading(current)),\n                (workInProgress = updateClassComponent(\n                  null,\n                  workInProgress,\n                  current,\n                  returnFiber,\n                  renderLanes\n                )))\n              : ((workInProgress.tag = 0),\n                validateFunctionComponentInDev(workInProgress, current),\n                (workInProgress.type = current =\n                  resolveFunctionForHotReloading(current)),\n                (workInProgress = updateFunctionComponent(\n                  null,\n                  workInProgress,\n                  current,\n                  returnFiber,\n                  renderLanes\n                )));\n          else {\n            if (void 0 !== current && null !== current)\n              if (\n                ((prevSibling = current.$$typeof),\n                prevSibling === REACT_FORWARD_REF_TYPE)\n              ) {\n                workInProgress.tag = 11;\n                workInProgress.type = current =\n                  resolveForwardRefForHotReloading(current);\n                workInProgress = updateForwardRef(\n                  null,\n                  workInProgress,\n                  current,\n                  returnFiber,\n                  renderLanes\n                );\n                break a;\n              } else if (prevSibling === REACT_MEMO_TYPE) {\n                workInProgress.tag = 14;\n                workInProgress = updateMemoComponent(\n                  null,\n                  workInProgress,\n                  current,\n                  returnFiber,\n                  renderLanes\n                );\n                break a;\n              }\n            workInProgress = \"\";\n            null !== current &&\n              \"object\" === typeof current &&\n              current.$$typeof === REACT_LAZY_TYPE &&\n              (workInProgress =\n                \" Did you wrap a component in React.lazy() more than once?\");\n            renderLanes = getComponentNameFromType(current) || current;\n            throw Error(\n              \"Element type is invalid. Received a promise that resolves to: \" +\n                renderLanes +\n                \". Lazy element type must resolve to a class or function.\" +\n                workInProgress\n            );\n          }\n          return workInProgress;\n        case 0:\n          return updateFunctionComponent(\n            current,\n            workInProgress,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            renderLanes\n          );\n        case 1:\n          return (\n            (returnFiber = workInProgress.type),\n            (prevSibling = resolveClassComponentProps(\n              returnFiber,\n              workInProgress.pendingProps\n            )),\n            updateClassComponent(\n              current,\n              workInProgress,\n              returnFiber,\n              prevSibling,\n              renderLanes\n            )\n          );\n        case 3:\n          a: {\n            pushHostContainer(\n              workInProgress,\n              workInProgress.stateNode.containerInfo\n            );\n            if (null === current)\n              throw Error(\n                \"Should have a current fiber. This is a bug in React.\"\n              );\n            returnFiber = workInProgress.pendingProps;\n            var prevState = workInProgress.memoizedState;\n            prevSibling = prevState.element;\n            cloneUpdateQueue(current, workInProgress);\n            processUpdateQueue(workInProgress, returnFiber, null, renderLanes);\n            var nextState = workInProgress.memoizedState;\n            returnFiber = nextState.cache;\n            pushProvider(workInProgress, CacheContext, returnFiber);\n            returnFiber !== prevState.cache &&\n              propagateContextChanges(\n                workInProgress,\n                [CacheContext],\n                renderLanes,\n                !0\n              );\n            suspendIfUpdateReadFromEntangledAsyncAction();\n            returnFiber = nextState.element;\n            if (prevState.isDehydrated)\n              if (\n                ((prevState = {\n                  element: returnFiber,\n                  isDehydrated: !1,\n                  cache: nextState.cache\n                }),\n                (workInProgress.updateQueue.baseState = prevState),\n                (workInProgress.memoizedState = prevState),\n                workInProgress.flags & 256)\n              ) {\n                workInProgress = mountHostRootWithoutHydrating(\n                  current,\n                  workInProgress,\n                  returnFiber,\n                  renderLanes\n                );\n                break a;\n              } else if (returnFiber !== prevSibling) {\n                prevSibling = createCapturedValueAtFiber(\n                  Error(\n                    \"This root received an early update, before anything was able hydrate. Switched the entire root to client rendering.\"\n                  ),\n                  workInProgress\n                );\n                queueHydrationError(prevSibling);\n                workInProgress = mountHostRootWithoutHydrating(\n                  current,\n                  workInProgress,\n                  returnFiber,\n                  renderLanes\n                );\n                break a;\n              } else {\n                current = workInProgress.stateNode.containerInfo;\n                switch (current.nodeType) {\n                  case 9:\n                    current = current.body;\n                    break;\n                  default:\n                    current =\n                      \"HTML\" === current.nodeName\n                        ? current.ownerDocument.body\n                        : current;\n                }\n                nextHydratableInstance = getNextHydratable(current.firstChild);\n                hydrationParentFiber = workInProgress;\n                isHydrating = !0;\n                hydrationErrors = null;\n                didSuspendOrErrorDEV = !1;\n                hydrationDiffRootDEV = null;\n                rootOrSingletonContext = !0;\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  returnFiber,\n                  renderLanes\n                );\n                for (workInProgress.child = renderLanes; renderLanes; )\n                  (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                    (renderLanes = renderLanes.sibling);\n              }\n            else {\n              resetHydrationState();\n              if (returnFiber === prevSibling) {\n                workInProgress = bailoutOnAlreadyFinishedWork(\n                  current,\n                  workInProgress,\n                  renderLanes\n                );\n                break a;\n              }\n              reconcileChildren(\n                current,\n                workInProgress,\n                returnFiber,\n                renderLanes\n              );\n            }\n            workInProgress = workInProgress.child;\n          }\n          return workInProgress;\n        case 26:\n          return (\n            markRef(current, workInProgress),\n            null === current\n              ? (renderLanes = getResource(\n                  workInProgress.type,\n                  null,\n                  workInProgress.pendingProps,\n                  null\n                ))\n                ? (workInProgress.memoizedState = renderLanes)\n                : isHydrating ||\n                  ((renderLanes = workInProgress.type),\n                  (current = workInProgress.pendingProps),\n                  (returnFiber = requiredContext(\n                    rootInstanceStackCursor.current\n                  )),\n                  (returnFiber =\n                    getOwnerDocumentFromRootContainer(\n                      returnFiber\n                    ).createElement(renderLanes)),\n                  (returnFiber[internalInstanceKey] = workInProgress),\n                  (returnFiber[internalPropsKey] = current),\n                  setInitialProperties(returnFiber, renderLanes, current),\n                  markNodeAsHoistable(returnFiber),\n                  (workInProgress.stateNode = returnFiber))\n              : (workInProgress.memoizedState = getResource(\n                  workInProgress.type,\n                  current.memoizedProps,\n                  workInProgress.pendingProps,\n                  current.memoizedState\n                )),\n            null\n          );\n        case 27:\n          return (\n            pushHostContext(workInProgress),\n            null === current &&\n              isHydrating &&\n              ((returnFiber = requiredContext(rootInstanceStackCursor.current)),\n              (prevSibling = getHostContext()),\n              (returnFiber = workInProgress.stateNode =\n                resolveSingletonInstance(\n                  workInProgress.type,\n                  workInProgress.pendingProps,\n                  returnFiber,\n                  prevSibling,\n                  !1\n                )),\n              didSuspendOrErrorDEV ||\n                ((prevSibling = diffHydratedProperties(\n                  returnFiber,\n                  workInProgress.type,\n                  workInProgress.pendingProps,\n                  prevSibling\n                )),\n                null !== prevSibling &&\n                  (buildHydrationDiffNode(workInProgress, 0).serverProps =\n                    prevSibling)),\n              (hydrationParentFiber = workInProgress),\n              (rootOrSingletonContext = !0),\n              (prevSibling = nextHydratableInstance),\n              isSingletonScope(workInProgress.type)\n                ? ((previousHydratableOnEnteringScopedSingleton = prevSibling),\n                  (nextHydratableInstance = getNextHydratable(\n                    returnFiber.firstChild\n                  )))\n                : (nextHydratableInstance = prevSibling)),\n            reconcileChildren(\n              current,\n              workInProgress,\n              workInProgress.pendingProps.children,\n              renderLanes\n            ),\n            markRef(current, workInProgress),\n            null === current && (workInProgress.flags |= 4194304),\n            workInProgress.child\n          );\n        case 5:\n          return (\n            null === current &&\n              isHydrating &&\n              ((prevState = getHostContext()),\n              (returnFiber = validateDOMNesting(\n                workInProgress.type,\n                prevState.ancestorInfo\n              )),\n              (prevSibling = nextHydratableInstance),\n              (nextState = !prevSibling) ||\n                ((nextState = canHydrateInstance(\n                  prevSibling,\n                  workInProgress.type,\n                  workInProgress.pendingProps,\n                  rootOrSingletonContext\n                )),\n                null !== nextState\n                  ? ((workInProgress.stateNode = nextState),\n                    didSuspendOrErrorDEV ||\n                      ((prevState = diffHydratedProperties(\n                        nextState,\n                        workInProgress.type,\n                        workInProgress.pendingProps,\n                        prevState\n                      )),\n                      null !== prevState &&\n                        (buildHydrationDiffNode(workInProgress, 0).serverProps =\n                          prevState)),\n                    (hydrationParentFiber = workInProgress),\n                    (nextHydratableInstance = getNextHydratable(\n                      nextState.firstChild\n                    )),\n                    (rootOrSingletonContext = !1),\n                    (prevState = !0))\n                  : (prevState = !1),\n                (nextState = !prevState)),\n              nextState &&\n                (returnFiber &&\n                  warnNonHydratedInstance(workInProgress, prevSibling),\n                throwOnHydrationMismatch(workInProgress))),\n            pushHostContext(workInProgress),\n            (prevSibling = workInProgress.type),\n            (prevState = workInProgress.pendingProps),\n            (nextState = null !== current ? current.memoizedProps : null),\n            (returnFiber = prevState.children),\n            shouldSetTextContent(prevSibling, prevState)\n              ? (returnFiber = null)\n              : null !== nextState &&\n                shouldSetTextContent(prevSibling, nextState) &&\n                (workInProgress.flags |= 32),\n            null !== workInProgress.memoizedState &&\n              ((prevSibling = renderWithHooks(\n                current,\n                workInProgress,\n                TransitionAwareHostComponent,\n                null,\n                null,\n                renderLanes\n              )),\n              (HostTransitionContext._currentValue = prevSibling)),\n            markRef(current, workInProgress),\n            reconcileChildren(\n              current,\n              workInProgress,\n              returnFiber,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 6:\n          return (\n            null === current &&\n              isHydrating &&\n              ((renderLanes = workInProgress.pendingProps),\n              (current = getHostContext()),\n              (returnFiber = current.ancestorInfo.current),\n              (renderLanes =\n                null != returnFiber\n                  ? validateTextNesting(\n                      renderLanes,\n                      returnFiber.tag,\n                      current.ancestorInfo.implicitRootScope\n                    )\n                  : !0),\n              (current = nextHydratableInstance),\n              (returnFiber = !current) ||\n                ((returnFiber = canHydrateTextInstance(\n                  current,\n                  workInProgress.pendingProps,\n                  rootOrSingletonContext\n                )),\n                null !== returnFiber\n                  ? ((workInProgress.stateNode = returnFiber),\n                    (hydrationParentFiber = workInProgress),\n                    (nextHydratableInstance = null),\n                    (returnFiber = !0))\n                  : (returnFiber = !1),\n                (returnFiber = !returnFiber)),\n              returnFiber &&\n                (renderLanes &&\n                  warnNonHydratedInstance(workInProgress, current),\n                throwOnHydrationMismatch(workInProgress))),\n            null\n          );\n        case 13:\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        case 4:\n          return (\n            pushHostContainer(\n              workInProgress,\n              workInProgress.stateNode.containerInfo\n            ),\n            (returnFiber = workInProgress.pendingProps),\n            null === current\n              ? (workInProgress.child = reconcileChildFibers(\n                  workInProgress,\n                  null,\n                  returnFiber,\n                  renderLanes\n                ))\n              : reconcileChildren(\n                  current,\n                  workInProgress,\n                  returnFiber,\n                  renderLanes\n                ),\n            workInProgress.child\n          );\n        case 11:\n          return updateForwardRef(\n            current,\n            workInProgress,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            renderLanes\n          );\n        case 7:\n          return (\n            reconcileChildren(\n              current,\n              workInProgress,\n              workInProgress.pendingProps,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 8:\n          return (\n            reconcileChildren(\n              current,\n              workInProgress,\n              workInProgress.pendingProps.children,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 12:\n          return (\n            (workInProgress.flags |= 4),\n            (workInProgress.flags |= 2048),\n            (returnFiber = workInProgress.stateNode),\n            (returnFiber.effectDuration = -0),\n            (returnFiber.passiveEffectDuration = -0),\n            reconcileChildren(\n              current,\n              workInProgress,\n              workInProgress.pendingProps.children,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 10:\n          return (\n            (returnFiber = workInProgress.type),\n            (prevSibling = workInProgress.pendingProps),\n            (prevState = prevSibling.value),\n            \"value\" in prevSibling ||\n              hasWarnedAboutUsingNoValuePropOnContextProvider ||\n              ((hasWarnedAboutUsingNoValuePropOnContextProvider = !0),\n              console.error(\n                \"The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?\"\n              )),\n            pushProvider(workInProgress, returnFiber, prevState),\n            reconcileChildren(\n              current,\n              workInProgress,\n              prevSibling.children,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 9:\n          return (\n            (prevSibling = workInProgress.type._context),\n            (returnFiber = workInProgress.pendingProps.children),\n            \"function\" !== typeof returnFiber &&\n              console.error(\n                \"A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it.\"\n              ),\n            prepareToReadContext(workInProgress),\n            (prevSibling = readContext(prevSibling)),\n            (returnFiber = callComponentInDEV(\n              returnFiber,\n              prevSibling,\n              void 0\n            )),\n            (workInProgress.flags |= 1),\n            reconcileChildren(\n              current,\n              workInProgress,\n              returnFiber,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 14:\n          return updateMemoComponent(\n            current,\n            workInProgress,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            renderLanes\n          );\n        case 15:\n          return updateSimpleMemoComponent(\n            current,\n            workInProgress,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            renderLanes\n          );\n        case 19:\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        case 31:\n          return updateActivityComponent(current, workInProgress, renderLanes);\n        case 22:\n          return updateOffscreenComponent(\n            current,\n            workInProgress,\n            renderLanes,\n            workInProgress.pendingProps\n          );\n        case 24:\n          return (\n            prepareToReadContext(workInProgress),\n            (returnFiber = readContext(CacheContext)),\n            null === current\n              ? ((prevSibling = peekCacheFromPool()),\n                null === prevSibling &&\n                  ((prevSibling = workInProgressRoot),\n                  (prevState = createCache()),\n                  (prevSibling.pooledCache = prevState),\n                  retainCache(prevState),\n                  null !== prevState &&\n                    (prevSibling.pooledCacheLanes |= renderLanes),\n                  (prevSibling = prevState)),\n                (workInProgress.memoizedState = {\n                  parent: returnFiber,\n                  cache: prevSibling\n                }),\n                initializeUpdateQueue(workInProgress),\n                pushProvider(workInProgress, CacheContext, prevSibling))\n              : (0 !== (current.lanes & renderLanes) &&\n                  (cloneUpdateQueue(current, workInProgress),\n                  processUpdateQueue(workInProgress, null, null, renderLanes),\n                  suspendIfUpdateReadFromEntangledAsyncAction()),\n                (prevSibling = current.memoizedState),\n                (prevState = workInProgress.memoizedState),\n                prevSibling.parent !== returnFiber\n                  ? ((prevSibling = {\n                      parent: returnFiber,\n                      cache: returnFiber\n                    }),\n                    (workInProgress.memoizedState = prevSibling),\n                    0 === workInProgress.lanes &&\n                      (workInProgress.memoizedState =\n                        workInProgress.updateQueue.baseState =\n                          prevSibling),\n                    pushProvider(workInProgress, CacheContext, returnFiber))\n                  : ((returnFiber = prevState.cache),\n                    pushProvider(workInProgress, CacheContext, returnFiber),\n                    returnFiber !== prevSibling.cache &&\n                      propagateContextChanges(\n                        workInProgress,\n                        [CacheContext],\n                        renderLanes,\n                        !0\n                      ))),\n            reconcileChildren(\n              current,\n              workInProgress,\n              workInProgress.pendingProps.children,\n              renderLanes\n            ),\n            workInProgress.child\n          );\n        case 29:\n          throw workInProgress.pendingProps;\n      }\n      throw Error(\n        \"Unknown unit of work tag (\" +\n          workInProgress.tag +\n          \"). This error is likely caused by a bug in React. Please file an issue.\"\n      );\n    }\n    function markUpdate(workInProgress) {\n      workInProgress.flags |= 4;\n    }\n    function preloadInstanceAndSuspendIfNeeded(\n      workInProgress,\n      type,\n      oldProps,\n      newProps,\n      renderLanes\n    ) {\n      if ((type = (workInProgress.mode & SuspenseyImagesMode) !== NoMode))\n        type = !1;\n      if (type) {\n        if (\n          ((workInProgress.flags |= 16777216),\n          (renderLanes & 335544128) === renderLanes)\n        )\n          if (workInProgress.stateNode.complete) workInProgress.flags |= 8192;\n          else if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n          else\n            throw (\n              ((suspendedThenable = noopSuspenseyCommitThenable),\n              SuspenseyCommitException)\n            );\n      } else workInProgress.flags &= -16777217;\n    }\n    function preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n      if (\n        \"stylesheet\" !== resource.type ||\n        (resource.state.loading & Inserted) !== NotLoaded\n      )\n        workInProgress.flags &= -16777217;\n      else if (((workInProgress.flags |= 16777216), !preloadResource(resource)))\n        if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n        else\n          throw (\n            ((suspendedThenable = noopSuspenseyCommitThenable),\n            SuspenseyCommitException)\n          );\n    }\n    function scheduleRetryEffect(workInProgress, retryQueue) {\n      null !== retryQueue && (workInProgress.flags |= 4);\n      workInProgress.flags & 16384 &&\n        ((retryQueue =\n          22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n        (workInProgress.lanes |= retryQueue),\n        (workInProgressSuspendedRetryLanes |= retryQueue));\n    }\n    function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n      if (!isHydrating)\n        switch (renderState.tailMode) {\n          case \"hidden\":\n            hasRenderedATailFallback = renderState.tail;\n            for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n              null !== hasRenderedATailFallback.alternate &&\n                (lastTailNode = hasRenderedATailFallback),\n                (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n            null === lastTailNode\n              ? (renderState.tail = null)\n              : (lastTailNode.sibling = null);\n            break;\n          case \"collapsed\":\n            lastTailNode = renderState.tail;\n            for (var _lastTailNode = null; null !== lastTailNode; )\n              null !== lastTailNode.alternate && (_lastTailNode = lastTailNode),\n                (lastTailNode = lastTailNode.sibling);\n            null === _lastTailNode\n              ? hasRenderedATailFallback || null === renderState.tail\n                ? (renderState.tail = null)\n                : (renderState.tail.sibling = null)\n              : (_lastTailNode.sibling = null);\n        }\n    }\n    function bubbleProperties(completedWork) {\n      var didBailout =\n          null !== completedWork.alternate &&\n          completedWork.alternate.child === completedWork.child,\n        newChildLanes = 0,\n        subtreeFlags = 0;\n      if (didBailout)\n        if ((completedWork.mode & ProfileMode) !== NoMode) {\n          for (\n            var _treeBaseDuration = completedWork.selfBaseDuration,\n              _child2 = completedWork.child;\n            null !== _child2;\n\n          )\n            (newChildLanes |= _child2.lanes | _child2.childLanes),\n              (subtreeFlags |= _child2.subtreeFlags & 65011712),\n              (subtreeFlags |= _child2.flags & 65011712),\n              (_treeBaseDuration += _child2.treeBaseDuration),\n              (_child2 = _child2.sibling);\n          completedWork.treeBaseDuration = _treeBaseDuration;\n        } else\n          for (\n            _treeBaseDuration = completedWork.child;\n            null !== _treeBaseDuration;\n\n          )\n            (newChildLanes |=\n              _treeBaseDuration.lanes | _treeBaseDuration.childLanes),\n              (subtreeFlags |= _treeBaseDuration.subtreeFlags & 65011712),\n              (subtreeFlags |= _treeBaseDuration.flags & 65011712),\n              (_treeBaseDuration.return = completedWork),\n              (_treeBaseDuration = _treeBaseDuration.sibling);\n      else if ((completedWork.mode & ProfileMode) !== NoMode) {\n        _treeBaseDuration = completedWork.actualDuration;\n        _child2 = completedWork.selfBaseDuration;\n        for (var child = completedWork.child; null !== child; )\n          (newChildLanes |= child.lanes | child.childLanes),\n            (subtreeFlags |= child.subtreeFlags),\n            (subtreeFlags |= child.flags),\n            (_treeBaseDuration += child.actualDuration),\n            (_child2 += child.treeBaseDuration),\n            (child = child.sibling);\n        completedWork.actualDuration = _treeBaseDuration;\n        completedWork.treeBaseDuration = _child2;\n      } else\n        for (\n          _treeBaseDuration = completedWork.child;\n          null !== _treeBaseDuration;\n\n        )\n          (newChildLanes |=\n            _treeBaseDuration.lanes | _treeBaseDuration.childLanes),\n            (subtreeFlags |= _treeBaseDuration.subtreeFlags),\n            (subtreeFlags |= _treeBaseDuration.flags),\n            (_treeBaseDuration.return = completedWork),\n            (_treeBaseDuration = _treeBaseDuration.sibling);\n      completedWork.subtreeFlags |= subtreeFlags;\n      completedWork.childLanes = newChildLanes;\n      return didBailout;\n    }\n    function completeWork(current, workInProgress, renderLanes) {\n      var newProps = workInProgress.pendingProps;\n      popTreeContext(workInProgress);\n      switch (workInProgress.tag) {\n        case 16:\n        case 15:\n        case 0:\n        case 11:\n        case 7:\n        case 8:\n        case 12:\n        case 9:\n        case 14:\n          return bubbleProperties(workInProgress), null;\n        case 1:\n          return bubbleProperties(workInProgress), null;\n        case 3:\n          renderLanes = workInProgress.stateNode;\n          newProps = null;\n          null !== current && (newProps = current.memoizedState.cache);\n          workInProgress.memoizedState.cache !== newProps &&\n            (workInProgress.flags |= 2048);\n          popProvider(CacheContext, workInProgress);\n          popHostContainer(workInProgress);\n          renderLanes.pendingContext &&\n            ((renderLanes.context = renderLanes.pendingContext),\n            (renderLanes.pendingContext = null));\n          if (null === current || null === current.child)\n            popHydrationState(workInProgress)\n              ? (emitPendingHydrationWarnings(), markUpdate(workInProgress))\n              : null === current ||\n                (current.memoizedState.isDehydrated &&\n                  0 === (workInProgress.flags & 256)) ||\n                ((workInProgress.flags |= 1024),\n                upgradeHydrationErrorsToRecoverable());\n          bubbleProperties(workInProgress);\n          return null;\n        case 26:\n          var type = workInProgress.type,\n            nextResource = workInProgress.memoizedState;\n          null === current\n            ? (markUpdate(workInProgress),\n              null !== nextResource\n                ? (bubbleProperties(workInProgress),\n                  preloadResourceAndSuspendIfNeeded(\n                    workInProgress,\n                    nextResource\n                  ))\n                : (bubbleProperties(workInProgress),\n                  preloadInstanceAndSuspendIfNeeded(\n                    workInProgress,\n                    type,\n                    null,\n                    newProps,\n                    renderLanes\n                  )))\n            : nextResource\n              ? nextResource !== current.memoizedState\n                ? (markUpdate(workInProgress),\n                  bubbleProperties(workInProgress),\n                  preloadResourceAndSuspendIfNeeded(\n                    workInProgress,\n                    nextResource\n                  ))\n                : (bubbleProperties(workInProgress),\n                  (workInProgress.flags &= -16777217))\n              : ((current = current.memoizedProps),\n                current !== newProps && markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadInstanceAndSuspendIfNeeded(\n                  workInProgress,\n                  type,\n                  current,\n                  newProps,\n                  renderLanes\n                ));\n          return null;\n        case 27:\n          popHostContext(workInProgress);\n          renderLanes = requiredContext(rootInstanceStackCursor.current);\n          type = workInProgress.type;\n          if (null !== current && null != workInProgress.stateNode)\n            current.memoizedProps !== newProps && markUpdate(workInProgress);\n          else {\n            if (!newProps) {\n              if (null === workInProgress.stateNode)\n                throw Error(\n                  \"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.\"\n                );\n              bubbleProperties(workInProgress);\n              return null;\n            }\n            current = getHostContext();\n            popHydrationState(workInProgress)\n              ? prepareToHydrateHostInstance(workInProgress, current)\n              : ((current = resolveSingletonInstance(\n                  type,\n                  newProps,\n                  renderLanes,\n                  current,\n                  !0\n                )),\n                (workInProgress.stateNode = current),\n                markUpdate(workInProgress));\n          }\n          bubbleProperties(workInProgress);\n          return null;\n        case 5:\n          popHostContext(workInProgress);\n          type = workInProgress.type;\n          if (null !== current && null != workInProgress.stateNode)\n            current.memoizedProps !== newProps && markUpdate(workInProgress);\n          else {\n            if (!newProps) {\n              if (null === workInProgress.stateNode)\n                throw Error(\n                  \"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.\"\n                );\n              bubbleProperties(workInProgress);\n              return null;\n            }\n            var _currentHostContext = getHostContext();\n            if (popHydrationState(workInProgress))\n              prepareToHydrateHostInstance(workInProgress, _currentHostContext);\n            else {\n              nextResource = requiredContext(rootInstanceStackCursor.current);\n              validateDOMNesting(type, _currentHostContext.ancestorInfo);\n              _currentHostContext = _currentHostContext.context;\n              nextResource = getOwnerDocumentFromRootContainer(nextResource);\n              switch (_currentHostContext) {\n                case HostContextNamespaceSvg:\n                  nextResource = nextResource.createElementNS(\n                    SVG_NAMESPACE,\n                    type\n                  );\n                  break;\n                case HostContextNamespaceMath:\n                  nextResource = nextResource.createElementNS(\n                    MATH_NAMESPACE,\n                    type\n                  );\n                  break;\n                default:\n                  switch (type) {\n                    case \"svg\":\n                      nextResource = nextResource.createElementNS(\n                        SVG_NAMESPACE,\n                        type\n                      );\n                      break;\n                    case \"math\":\n                      nextResource = nextResource.createElementNS(\n                        MATH_NAMESPACE,\n                        type\n                      );\n                      break;\n                    case \"script\":\n                      nextResource = nextResource.createElement(\"div\");\n                      nextResource.innerHTML = \"<script>\\x3c/script>\";\n                      nextResource = nextResource.removeChild(\n                        nextResource.firstChild\n                      );\n                      break;\n                    case \"select\":\n                      nextResource =\n                        \"string\" === typeof newProps.is\n                          ? nextResource.createElement(\"select\", {\n                              is: newProps.is\n                            })\n                          : nextResource.createElement(\"select\");\n                      newProps.multiple\n                        ? (nextResource.multiple = !0)\n                        : newProps.size && (nextResource.size = newProps.size);\n                      break;\n                    default:\n                      (nextResource =\n                        \"string\" === typeof newProps.is\n                          ? nextResource.createElement(type, {\n                              is: newProps.is\n                            })\n                          : nextResource.createElement(type)),\n                        -1 === type.indexOf(\"-\") &&\n                          (type !== type.toLowerCase() &&\n                            console.error(\n                              \"<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.\",\n                              type\n                            ),\n                          \"[object HTMLUnknownElement]\" !==\n                            Object.prototype.toString.call(nextResource) ||\n                            hasOwnProperty.call(warnedUnknownTags, type) ||\n                            ((warnedUnknownTags[type] = !0),\n                            console.error(\n                              \"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.\",\n                              type\n                            )));\n                  }\n              }\n              nextResource[internalInstanceKey] = workInProgress;\n              nextResource[internalPropsKey] = newProps;\n              a: for (\n                _currentHostContext = workInProgress.child;\n                null !== _currentHostContext;\n\n              ) {\n                if (\n                  5 === _currentHostContext.tag ||\n                  6 === _currentHostContext.tag\n                )\n                  nextResource.appendChild(_currentHostContext.stateNode);\n                else if (\n                  4 !== _currentHostContext.tag &&\n                  27 !== _currentHostContext.tag &&\n                  null !== _currentHostContext.child\n                ) {\n                  _currentHostContext.child.return = _currentHostContext;\n                  _currentHostContext = _currentHostContext.child;\n                  continue;\n                }\n                if (_currentHostContext === workInProgress) break a;\n                for (; null === _currentHostContext.sibling; ) {\n                  if (\n                    null === _currentHostContext.return ||\n                    _currentHostContext.return === workInProgress\n                  )\n                    break a;\n                  _currentHostContext = _currentHostContext.return;\n                }\n                _currentHostContext.sibling.return = _currentHostContext.return;\n                _currentHostContext = _currentHostContext.sibling;\n              }\n              workInProgress.stateNode = nextResource;\n              a: switch (\n                (setInitialProperties(nextResource, type, newProps), type)\n              ) {\n                case \"button\":\n                case \"input\":\n                case \"select\":\n                case \"textarea\":\n                  newProps = !!newProps.autoFocus;\n                  break a;\n                case \"img\":\n                  newProps = !0;\n                  break a;\n                default:\n                  newProps = !1;\n              }\n              newProps && markUpdate(workInProgress);\n            }\n          }\n          bubbleProperties(workInProgress);\n          preloadInstanceAndSuspendIfNeeded(\n            workInProgress,\n            workInProgress.type,\n            null === current ? null : current.memoizedProps,\n            workInProgress.pendingProps,\n            renderLanes\n          );\n          return null;\n        case 6:\n          if (current && null != workInProgress.stateNode)\n            current.memoizedProps !== newProps && markUpdate(workInProgress);\n          else {\n            if (\n              \"string\" !== typeof newProps &&\n              null === workInProgress.stateNode\n            )\n              throw Error(\n                \"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.\"\n              );\n            current = requiredContext(rootInstanceStackCursor.current);\n            renderLanes = getHostContext();\n            if (popHydrationState(workInProgress)) {\n              current = workInProgress.stateNode;\n              renderLanes = workInProgress.memoizedProps;\n              type = !didSuspendOrErrorDEV;\n              newProps = null;\n              nextResource = hydrationParentFiber;\n              if (null !== nextResource)\n                switch (nextResource.tag) {\n                  case 3:\n                    type &&\n                      ((type = diffHydratedTextForDevWarnings(\n                        current,\n                        renderLanes,\n                        newProps\n                      )),\n                      null !== type &&\n                        (buildHydrationDiffNode(workInProgress, 0).serverProps =\n                          type));\n                    break;\n                  case 27:\n                  case 5:\n                    (newProps = nextResource.memoizedProps),\n                      type &&\n                        ((type = diffHydratedTextForDevWarnings(\n                          current,\n                          renderLanes,\n                          newProps\n                        )),\n                        null !== type &&\n                          (buildHydrationDiffNode(\n                            workInProgress,\n                            0\n                          ).serverProps = type));\n                }\n              current[internalInstanceKey] = workInProgress;\n              current =\n                current.nodeValue === renderLanes ||\n                (null !== newProps &&\n                  !0 === newProps.suppressHydrationWarning) ||\n                checkForUnmatchedText(current.nodeValue, renderLanes)\n                  ? !0\n                  : !1;\n              current || throwOnHydrationMismatch(workInProgress, !0);\n            } else\n              (type = renderLanes.ancestorInfo.current),\n                null != type &&\n                  validateTextNesting(\n                    newProps,\n                    type.tag,\n                    renderLanes.ancestorInfo.implicitRootScope\n                  ),\n                (current =\n                  getOwnerDocumentFromRootContainer(current).createTextNode(\n                    newProps\n                  )),\n                (current[internalInstanceKey] = workInProgress),\n                (workInProgress.stateNode = current);\n          }\n          bubbleProperties(workInProgress);\n          return null;\n        case 31:\n          renderLanes = workInProgress.memoizedState;\n          if (null === current || null !== current.memoizedState) {\n            newProps = popHydrationState(workInProgress);\n            if (null !== renderLanes) {\n              if (null === current) {\n                if (!newProps)\n                  throw Error(\n                    \"A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.\"\n                  );\n                current = workInProgress.memoizedState;\n                current = null !== current ? current.dehydrated : null;\n                if (!current)\n                  throw Error(\n                    \"Expected to have a hydrated activity instance. This error is likely caused by a bug in React. Please file an issue.\"\n                  );\n                current[internalInstanceKey] = workInProgress;\n                bubbleProperties(workInProgress);\n                (workInProgress.mode & ProfileMode) !== NoMode &&\n                  null !== renderLanes &&\n                  ((current = workInProgress.child),\n                  null !== current &&\n                    (workInProgress.treeBaseDuration -=\n                      current.treeBaseDuration));\n              } else\n                emitPendingHydrationWarnings(),\n                  resetHydrationState(),\n                  0 === (workInProgress.flags & 128) &&\n                    (renderLanes = workInProgress.memoizedState = null),\n                  (workInProgress.flags |= 4),\n                  bubbleProperties(workInProgress),\n                  (workInProgress.mode & ProfileMode) !== NoMode &&\n                    null !== renderLanes &&\n                    ((current = workInProgress.child),\n                    null !== current &&\n                      (workInProgress.treeBaseDuration -=\n                        current.treeBaseDuration));\n              current = !1;\n            } else\n              (renderLanes = upgradeHydrationErrorsToRecoverable()),\n                null !== current &&\n                  null !== current.memoizedState &&\n                  (current.memoizedState.hydrationErrors = renderLanes),\n                (current = !0);\n            if (!current) {\n              if (workInProgress.flags & 256)\n                return popSuspenseHandler(workInProgress), workInProgress;\n              popSuspenseHandler(workInProgress);\n              return null;\n            }\n            if (0 !== (workInProgress.flags & 128))\n              throw Error(\n                \"Client rendering an Activity suspended it again. This is a bug in React.\"\n              );\n          }\n          bubbleProperties(workInProgress);\n          return null;\n        case 13:\n          newProps = workInProgress.memoizedState;\n          if (\n            null === current ||\n            (null !== current.memoizedState &&\n              null !== current.memoizedState.dehydrated)\n          ) {\n            type = newProps;\n            nextResource = popHydrationState(workInProgress);\n            if (null !== type && null !== type.dehydrated) {\n              if (null === current) {\n                if (!nextResource)\n                  throw Error(\n                    \"A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.\"\n                  );\n                nextResource = workInProgress.memoizedState;\n                nextResource =\n                  null !== nextResource ? nextResource.dehydrated : null;\n                if (!nextResource)\n                  throw Error(\n                    \"Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.\"\n                  );\n                nextResource[internalInstanceKey] = workInProgress;\n                bubbleProperties(workInProgress);\n                (workInProgress.mode & ProfileMode) !== NoMode &&\n                  null !== type &&\n                  ((type = workInProgress.child),\n                  null !== type &&\n                    (workInProgress.treeBaseDuration -= type.treeBaseDuration));\n              } else\n                emitPendingHydrationWarnings(),\n                  resetHydrationState(),\n                  0 === (workInProgress.flags & 128) &&\n                    (type = workInProgress.memoizedState = null),\n                  (workInProgress.flags |= 4),\n                  bubbleProperties(workInProgress),\n                  (workInProgress.mode & ProfileMode) !== NoMode &&\n                    null !== type &&\n                    ((type = workInProgress.child),\n                    null !== type &&\n                      (workInProgress.treeBaseDuration -=\n                        type.treeBaseDuration));\n              type = !1;\n            } else\n              (type = upgradeHydrationErrorsToRecoverable()),\n                null !== current &&\n                  null !== current.memoizedState &&\n                  (current.memoizedState.hydrationErrors = type),\n                (type = !0);\n            if (!type) {\n              if (workInProgress.flags & 256)\n                return popSuspenseHandler(workInProgress), workInProgress;\n              popSuspenseHandler(workInProgress);\n              return null;\n            }\n          }\n          popSuspenseHandler(workInProgress);\n          if (0 !== (workInProgress.flags & 128))\n            return (\n              (workInProgress.lanes = renderLanes),\n              (workInProgress.mode & ProfileMode) !== NoMode &&\n                transferActualDuration(workInProgress),\n              workInProgress\n            );\n          renderLanes = null !== newProps;\n          current = null !== current && null !== current.memoizedState;\n          renderLanes &&\n            ((newProps = workInProgress.child),\n            (type = null),\n            null !== newProps.alternate &&\n              null !== newProps.alternate.memoizedState &&\n              null !== newProps.alternate.memoizedState.cachePool &&\n              (type = newProps.alternate.memoizedState.cachePool.pool),\n            (nextResource = null),\n            null !== newProps.memoizedState &&\n              null !== newProps.memoizedState.cachePool &&\n              (nextResource = newProps.memoizedState.cachePool.pool),\n            nextResource !== type && (newProps.flags |= 2048));\n          renderLanes !== current &&\n            renderLanes &&\n            (workInProgress.child.flags |= 8192);\n          scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n          bubbleProperties(workInProgress);\n          (workInProgress.mode & ProfileMode) !== NoMode &&\n            renderLanes &&\n            ((current = workInProgress.child),\n            null !== current &&\n              (workInProgress.treeBaseDuration -= current.treeBaseDuration));\n          return null;\n        case 4:\n          return (\n            popHostContainer(workInProgress),\n            null === current &&\n              listenToAllSupportedEvents(\n                workInProgress.stateNode.containerInfo\n              ),\n            bubbleProperties(workInProgress),\n            null\n          );\n        case 10:\n          return (\n            popProvider(workInProgress.type, workInProgress),\n            bubbleProperties(workInProgress),\n            null\n          );\n        case 19:\n          pop(suspenseStackCursor, workInProgress);\n          newProps = workInProgress.memoizedState;\n          if (null === newProps) return bubbleProperties(workInProgress), null;\n          type = 0 !== (workInProgress.flags & 128);\n          nextResource = newProps.rendering;\n          if (null === nextResource)\n            if (type) cutOffTailIfNeeded(newProps, !1);\n            else {\n              if (\n                workInProgressRootExitStatus !== RootInProgress ||\n                (null !== current && 0 !== (current.flags & 128))\n              )\n                for (current = workInProgress.child; null !== current; ) {\n                  nextResource = findFirstSuspended(current);\n                  if (null !== nextResource) {\n                    workInProgress.flags |= 128;\n                    cutOffTailIfNeeded(newProps, !1);\n                    current = nextResource.updateQueue;\n                    workInProgress.updateQueue = current;\n                    scheduleRetryEffect(workInProgress, current);\n                    workInProgress.subtreeFlags = 0;\n                    current = renderLanes;\n                    for (\n                      renderLanes = workInProgress.child;\n                      null !== renderLanes;\n\n                    )\n                      resetWorkInProgress(renderLanes, current),\n                        (renderLanes = renderLanes.sibling);\n                    push(\n                      suspenseStackCursor,\n                      (suspenseStackCursor.current &\n                        SubtreeSuspenseContextMask) |\n                        ForceSuspenseFallback,\n                      workInProgress\n                    );\n                    isHydrating &&\n                      pushTreeFork(workInProgress, newProps.treeForkCount);\n                    return workInProgress.child;\n                  }\n                  current = current.sibling;\n                }\n              null !== newProps.tail &&\n                now$1() > workInProgressRootRenderTargetTime &&\n                ((workInProgress.flags |= 128),\n                (type = !0),\n                cutOffTailIfNeeded(newProps, !1),\n                (workInProgress.lanes = 4194304));\n            }\n          else {\n            if (!type)\n              if (\n                ((current = findFirstSuspended(nextResource)), null !== current)\n              ) {\n                if (\n                  ((workInProgress.flags |= 128),\n                  (type = !0),\n                  (current = current.updateQueue),\n                  (workInProgress.updateQueue = current),\n                  scheduleRetryEffect(workInProgress, current),\n                  cutOffTailIfNeeded(newProps, !0),\n                  null === newProps.tail &&\n                    \"hidden\" === newProps.tailMode &&\n                    !nextResource.alternate &&\n                    !isHydrating)\n                )\n                  return bubbleProperties(workInProgress), null;\n              } else\n                2 * now$1() - newProps.renderingStartTime >\n                  workInProgressRootRenderTargetTime &&\n                  536870912 !== renderLanes &&\n                  ((workInProgress.flags |= 128),\n                  (type = !0),\n                  cutOffTailIfNeeded(newProps, !1),\n                  (workInProgress.lanes = 4194304));\n            newProps.isBackwards\n              ? ((nextResource.sibling = workInProgress.child),\n                (workInProgress.child = nextResource))\n              : ((current = newProps.last),\n                null !== current\n                  ? (current.sibling = nextResource)\n                  : (workInProgress.child = nextResource),\n                (newProps.last = nextResource));\n          }\n          if (null !== newProps.tail)\n            return (\n              (current = newProps.tail),\n              (newProps.rendering = current),\n              (newProps.tail = current.sibling),\n              (newProps.renderingStartTime = now$1()),\n              (current.sibling = null),\n              (renderLanes = suspenseStackCursor.current),\n              (renderLanes = type\n                ? (renderLanes & SubtreeSuspenseContextMask) |\n                  ForceSuspenseFallback\n                : renderLanes & SubtreeSuspenseContextMask),\n              push(suspenseStackCursor, renderLanes, workInProgress),\n              isHydrating &&\n                pushTreeFork(workInProgress, newProps.treeForkCount),\n              current\n            );\n          bubbleProperties(workInProgress);\n          return null;\n        case 22:\n        case 23:\n          return (\n            popSuspenseHandler(workInProgress),\n            popHiddenContext(workInProgress),\n            (newProps = null !== workInProgress.memoizedState),\n            null !== current\n              ? (null !== current.memoizedState) !== newProps &&\n                (workInProgress.flags |= 8192)\n              : newProps && (workInProgress.flags |= 8192),\n            newProps\n              ? 0 !== (renderLanes & 536870912) &&\n                0 === (workInProgress.flags & 128) &&\n                (bubbleProperties(workInProgress),\n                workInProgress.subtreeFlags & 6 &&\n                  (workInProgress.flags |= 8192))\n              : bubbleProperties(workInProgress),\n            (renderLanes = workInProgress.updateQueue),\n            null !== renderLanes &&\n              scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n            (renderLanes = null),\n            null !== current &&\n              null !== current.memoizedState &&\n              null !== current.memoizedState.cachePool &&\n              (renderLanes = current.memoizedState.cachePool.pool),\n            (newProps = null),\n            null !== workInProgress.memoizedState &&\n              null !== workInProgress.memoizedState.cachePool &&\n              (newProps = workInProgress.memoizedState.cachePool.pool),\n            newProps !== renderLanes && (workInProgress.flags |= 2048),\n            null !== current && pop(resumedCache, workInProgress),\n            null\n          );\n        case 24:\n          return (\n            (renderLanes = null),\n            null !== current && (renderLanes = current.memoizedState.cache),\n            workInProgress.memoizedState.cache !== renderLanes &&\n              (workInProgress.flags |= 2048),\n            popProvider(CacheContext, workInProgress),\n            bubbleProperties(workInProgress),\n            null\n          );\n        case 25:\n          return null;\n        case 30:\n          return null;\n      }\n      throw Error(\n        \"Unknown unit of work tag (\" +\n          workInProgress.tag +\n          \"). This error is likely caused by a bug in React. Please file an issue.\"\n      );\n    }\n    function unwindWork(current, workInProgress) {\n      popTreeContext(workInProgress);\n      switch (workInProgress.tag) {\n        case 1:\n          return (\n            (current = workInProgress.flags),\n            current & 65536\n              ? ((workInProgress.flags = (current & -65537) | 128),\n                (workInProgress.mode & ProfileMode) !== NoMode &&\n                  transferActualDuration(workInProgress),\n                workInProgress)\n              : null\n          );\n        case 3:\n          return (\n            popProvider(CacheContext, workInProgress),\n            popHostContainer(workInProgress),\n            (current = workInProgress.flags),\n            0 !== (current & 65536) && 0 === (current & 128)\n              ? ((workInProgress.flags = (current & -65537) | 128),\n                workInProgress)\n              : null\n          );\n        case 26:\n        case 27:\n        case 5:\n          return popHostContext(workInProgress), null;\n        case 31:\n          if (null !== workInProgress.memoizedState) {\n            popSuspenseHandler(workInProgress);\n            if (null === workInProgress.alternate)\n              throw Error(\n                \"Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.\"\n              );\n            resetHydrationState();\n          }\n          current = workInProgress.flags;\n          return current & 65536\n            ? ((workInProgress.flags = (current & -65537) | 128),\n              (workInProgress.mode & ProfileMode) !== NoMode &&\n                transferActualDuration(workInProgress),\n              workInProgress)\n            : null;\n        case 13:\n          popSuspenseHandler(workInProgress);\n          current = workInProgress.memoizedState;\n          if (null !== current && null !== current.dehydrated) {\n            if (null === workInProgress.alternate)\n              throw Error(\n                \"Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.\"\n              );\n            resetHydrationState();\n          }\n          current = workInProgress.flags;\n          return current & 65536\n            ? ((workInProgress.flags = (current & -65537) | 128),\n              (workInProgress.mode & ProfileMode) !== NoMode &&\n                transferActualDuration(workInProgress),\n              workInProgress)\n            : null;\n        case 19:\n          return pop(suspenseStackCursor, workInProgress), null;\n        case 4:\n          return popHostContainer(workInProgress), null;\n        case 10:\n          return popProvider(workInProgress.type, workInProgress), null;\n        case 22:\n        case 23:\n          return (\n            popSuspenseHandler(workInProgress),\n            popHiddenContext(workInProgress),\n            null !== current && pop(resumedCache, workInProgress),\n            (current = workInProgress.flags),\n            current & 65536\n              ? ((workInProgress.flags = (current & -65537) | 128),\n                (workInProgress.mode & ProfileMode) !== NoMode &&\n                  transferActualDuration(workInProgress),\n                workInProgress)\n              : null\n          );\n        case 24:\n          return popProvider(CacheContext, workInProgress), null;\n        case 25:\n          return null;\n        default:\n          return null;\n      }\n    }\n    function unwindInterruptedWork(current, interruptedWork) {\n      popTreeContext(interruptedWork);\n      switch (interruptedWork.tag) {\n        case 3:\n          popProvider(CacheContext, interruptedWork);\n          popHostContainer(interruptedWork);\n          break;\n        case 26:\n        case 27:\n        case 5:\n          popHostContext(interruptedWork);\n          break;\n        case 4:\n          popHostContainer(interruptedWork);\n          break;\n        case 31:\n          null !== interruptedWork.memoizedState &&\n            popSuspenseHandler(interruptedWork);\n          break;\n        case 13:\n          popSuspenseHandler(interruptedWork);\n          break;\n        case 19:\n          pop(suspenseStackCursor, interruptedWork);\n          break;\n        case 10:\n          popProvider(interruptedWork.type, interruptedWork);\n          break;\n        case 22:\n        case 23:\n          popSuspenseHandler(interruptedWork);\n          popHiddenContext(interruptedWork);\n          null !== current && pop(resumedCache, interruptedWork);\n          break;\n        case 24:\n          popProvider(CacheContext, interruptedWork);\n      }\n    }\n    function shouldProfile(current) {\n      return (current.mode & ProfileMode) !== NoMode;\n    }\n    function commitHookLayoutEffects(finishedWork, hookFlags) {\n      shouldProfile(finishedWork)\n        ? (startEffectTimer(),\n          commitHookEffectListMount(hookFlags, finishedWork),\n          recordEffectDuration())\n        : commitHookEffectListMount(hookFlags, finishedWork);\n    }\n    function commitHookLayoutUnmountEffects(\n      finishedWork,\n      nearestMountedAncestor,\n      hookFlags\n    ) {\n      shouldProfile(finishedWork)\n        ? (startEffectTimer(),\n          commitHookEffectListUnmount(\n            hookFlags,\n            finishedWork,\n            nearestMountedAncestor\n          ),\n          recordEffectDuration())\n        : commitHookEffectListUnmount(\n            hookFlags,\n            finishedWork,\n            nearestMountedAncestor\n          );\n    }\n    function commitHookEffectListMount(flags, finishedWork) {\n      try {\n        var updateQueue = finishedWork.updateQueue,\n          lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n        if (null !== lastEffect) {\n          var firstEffect = lastEffect.next;\n          updateQueue = firstEffect;\n          do {\n            if (\n              (updateQueue.tag & flags) === flags &&\n              ((lastEffect = void 0),\n              (flags & Insertion) !== NoFlags &&\n                (isRunningInsertionEffect = !0),\n              (lastEffect = runWithFiberInDEV(\n                finishedWork,\n                callCreateInDEV,\n                updateQueue\n              )),\n              (flags & Insertion) !== NoFlags &&\n                (isRunningInsertionEffect = !1),\n              void 0 !== lastEffect && \"function\" !== typeof lastEffect)\n            ) {\n              var hookName = void 0;\n              hookName =\n                0 !== (updateQueue.tag & Layout)\n                  ? \"useLayoutEffect\"\n                  : 0 !== (updateQueue.tag & Insertion)\n                    ? \"useInsertionEffect\"\n                    : \"useEffect\";\n              var addendum = void 0;\n              addendum =\n                null === lastEffect\n                  ? \" You returned null. If your effect does not require clean up, return undefined (or nothing).\"\n                  : \"function\" === typeof lastEffect.then\n                    ? \"\\n\\nIt looks like you wrote \" +\n                      hookName +\n                      \"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\\n\\n\" +\n                      hookName +\n                      \"(() => {\\n  async function fetchData() {\\n    // You can await here\\n    const response = await MyAPI.getData(someId);\\n    // ...\\n  }\\n  fetchData();\\n}, [someId]); // Or [] if effect doesn't need props or state\\n\\nLearn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching\"\n                    : \" You returned: \" + lastEffect;\n              runWithFiberInDEV(\n                finishedWork,\n                function (n, a) {\n                  console.error(\n                    \"%s must not return anything besides a function, which is used for clean-up.%s\",\n                    n,\n                    a\n                  );\n                },\n                hookName,\n                addendum\n              );\n            }\n            updateQueue = updateQueue.next;\n          } while (updateQueue !== firstEffect);\n        }\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function commitHookEffectListUnmount(\n      flags,\n      finishedWork,\n      nearestMountedAncestor\n    ) {\n      try {\n        var updateQueue = finishedWork.updateQueue,\n          lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n        if (null !== lastEffect) {\n          var firstEffect = lastEffect.next;\n          updateQueue = firstEffect;\n          do {\n            if ((updateQueue.tag & flags) === flags) {\n              var inst = updateQueue.inst,\n                destroy = inst.destroy;\n              void 0 !== destroy &&\n                ((inst.destroy = void 0),\n                (flags & Insertion) !== NoFlags &&\n                  (isRunningInsertionEffect = !0),\n                (lastEffect = finishedWork),\n                runWithFiberInDEV(\n                  lastEffect,\n                  callDestroyInDEV,\n                  lastEffect,\n                  nearestMountedAncestor,\n                  destroy\n                ),\n                (flags & Insertion) !== NoFlags &&\n                  (isRunningInsertionEffect = !1));\n            }\n            updateQueue = updateQueue.next;\n          } while (updateQueue !== firstEffect);\n        }\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function commitHookPassiveMountEffects(finishedWork, hookFlags) {\n      shouldProfile(finishedWork)\n        ? (startEffectTimer(),\n          commitHookEffectListMount(hookFlags, finishedWork),\n          recordEffectDuration())\n        : commitHookEffectListMount(hookFlags, finishedWork);\n    }\n    function commitHookPassiveUnmountEffects(\n      finishedWork,\n      nearestMountedAncestor,\n      hookFlags\n    ) {\n      shouldProfile(finishedWork)\n        ? (startEffectTimer(),\n          commitHookEffectListUnmount(\n            hookFlags,\n            finishedWork,\n            nearestMountedAncestor\n          ),\n          recordEffectDuration())\n        : commitHookEffectListUnmount(\n            hookFlags,\n            finishedWork,\n            nearestMountedAncestor\n          );\n    }\n    function commitClassCallbacks(finishedWork) {\n      var updateQueue = finishedWork.updateQueue;\n      if (null !== updateQueue) {\n        var instance = finishedWork.stateNode;\n        finishedWork.type.defaultProps ||\n          \"ref\" in finishedWork.memoizedProps ||\n          didWarnAboutReassigningProps ||\n          (instance.props !== finishedWork.memoizedProps &&\n            console.error(\n              \"Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.\",\n              getComponentNameFromFiber(finishedWork) || \"instance\"\n            ),\n          instance.state !== finishedWork.memoizedState &&\n            console.error(\n              \"Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.\",\n              getComponentNameFromFiber(finishedWork) || \"instance\"\n            ));\n        try {\n          runWithFiberInDEV(\n            finishedWork,\n            commitCallbacks,\n            updateQueue,\n            instance\n          );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    }\n    function callGetSnapshotBeforeUpdates(instance, prevProps, prevState) {\n      return instance.getSnapshotBeforeUpdate(prevProps, prevState);\n    }\n    function commitClassSnapshot(finishedWork, current) {\n      var prevProps = current.memoizedProps,\n        prevState = current.memoizedState;\n      current = finishedWork.stateNode;\n      finishedWork.type.defaultProps ||\n        \"ref\" in finishedWork.memoizedProps ||\n        didWarnAboutReassigningProps ||\n        (current.props !== finishedWork.memoizedProps &&\n          console.error(\n            \"Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.\",\n            getComponentNameFromFiber(finishedWork) || \"instance\"\n          ),\n        current.state !== finishedWork.memoizedState &&\n          console.error(\n            \"Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.\",\n            getComponentNameFromFiber(finishedWork) || \"instance\"\n          ));\n      try {\n        var resolvedPrevProps = resolveClassComponentProps(\n          finishedWork.type,\n          prevProps\n        );\n        var snapshot = runWithFiberInDEV(\n          finishedWork,\n          callGetSnapshotBeforeUpdates,\n          current,\n          resolvedPrevProps,\n          prevState\n        );\n        prevProps = didWarnAboutUndefinedSnapshotBeforeUpdate;\n        void 0 !== snapshot ||\n          prevProps.has(finishedWork.type) ||\n          (prevProps.add(finishedWork.type),\n          runWithFiberInDEV(finishedWork, function () {\n            console.error(\n              \"%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.\",\n              getComponentNameFromFiber(finishedWork)\n            );\n          }));\n        current.__reactInternalSnapshotBeforeUpdate = snapshot;\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function safelyCallComponentWillUnmount(\n      current,\n      nearestMountedAncestor,\n      instance\n    ) {\n      instance.props = resolveClassComponentProps(\n        current.type,\n        current.memoizedProps\n      );\n      instance.state = current.memoizedState;\n      shouldProfile(current)\n        ? (startEffectTimer(),\n          runWithFiberInDEV(\n            current,\n            callComponentWillUnmountInDEV,\n            current,\n            nearestMountedAncestor,\n            instance\n          ),\n          recordEffectDuration())\n        : runWithFiberInDEV(\n            current,\n            callComponentWillUnmountInDEV,\n            current,\n            nearestMountedAncestor,\n            instance\n          );\n    }\n    function commitAttachRef(finishedWork) {\n      var ref = finishedWork.ref;\n      if (null !== ref) {\n        switch (finishedWork.tag) {\n          case 26:\n          case 27:\n          case 5:\n            var instanceToUse = finishedWork.stateNode;\n            break;\n          case 30:\n            instanceToUse = finishedWork.stateNode;\n            break;\n          default:\n            instanceToUse = finishedWork.stateNode;\n        }\n        if (\"function\" === typeof ref)\n          if (shouldProfile(finishedWork))\n            try {\n              startEffectTimer(),\n                (finishedWork.refCleanup = ref(instanceToUse));\n            } finally {\n              recordEffectDuration();\n            }\n          else finishedWork.refCleanup = ref(instanceToUse);\n        else\n          \"string\" === typeof ref\n            ? console.error(\"String refs are no longer supported.\")\n            : ref.hasOwnProperty(\"current\") ||\n              console.error(\n                \"Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().\",\n                getComponentNameFromFiber(finishedWork)\n              ),\n            (ref.current = instanceToUse);\n      }\n    }\n    function safelyAttachRef(current, nearestMountedAncestor) {\n      try {\n        runWithFiberInDEV(current, commitAttachRef, current);\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      }\n    }\n    function safelyDetachRef(current, nearestMountedAncestor) {\n      var ref = current.ref,\n        refCleanup = current.refCleanup;\n      if (null !== ref)\n        if (\"function\" === typeof refCleanup)\n          try {\n            if (shouldProfile(current))\n              try {\n                startEffectTimer(), runWithFiberInDEV(current, refCleanup);\n              } finally {\n                recordEffectDuration(current);\n              }\n            else runWithFiberInDEV(current, refCleanup);\n          } catch (error) {\n            captureCommitPhaseError(current, nearestMountedAncestor, error);\n          } finally {\n            (current.refCleanup = null),\n              (current = current.alternate),\n              null != current && (current.refCleanup = null);\n          }\n        else if (\"function\" === typeof ref)\n          try {\n            if (shouldProfile(current))\n              try {\n                startEffectTimer(), runWithFiberInDEV(current, ref, null);\n              } finally {\n                recordEffectDuration(current);\n              }\n            else runWithFiberInDEV(current, ref, null);\n          } catch (error$7) {\n            captureCommitPhaseError(current, nearestMountedAncestor, error$7);\n          }\n        else ref.current = null;\n    }\n    function commitProfiler(\n      finishedWork,\n      current,\n      commitStartTime,\n      effectDuration\n    ) {\n      var _finishedWork$memoize = finishedWork.memoizedProps,\n        id = _finishedWork$memoize.id,\n        onCommit = _finishedWork$memoize.onCommit;\n      _finishedWork$memoize = _finishedWork$memoize.onRender;\n      current = null === current ? \"mount\" : \"update\";\n      currentUpdateIsNested && (current = \"nested-update\");\n      \"function\" === typeof _finishedWork$memoize &&\n        _finishedWork$memoize(\n          id,\n          current,\n          finishedWork.actualDuration,\n          finishedWork.treeBaseDuration,\n          finishedWork.actualStartTime,\n          commitStartTime\n        );\n      \"function\" === typeof onCommit &&\n        onCommit(id, current, effectDuration, commitStartTime);\n    }\n    function commitProfilerPostCommitImpl(\n      finishedWork,\n      current,\n      commitStartTime,\n      passiveEffectDuration\n    ) {\n      var _finishedWork$memoize2 = finishedWork.memoizedProps;\n      finishedWork = _finishedWork$memoize2.id;\n      _finishedWork$memoize2 = _finishedWork$memoize2.onPostCommit;\n      current = null === current ? \"mount\" : \"update\";\n      currentUpdateIsNested && (current = \"nested-update\");\n      \"function\" === typeof _finishedWork$memoize2 &&\n        _finishedWork$memoize2(\n          finishedWork,\n          current,\n          passiveEffectDuration,\n          commitStartTime\n        );\n    }\n    function commitHostMount(finishedWork) {\n      var type = finishedWork.type,\n        props = finishedWork.memoizedProps,\n        instance = finishedWork.stateNode;\n      try {\n        runWithFiberInDEV(\n          finishedWork,\n          commitMount,\n          instance,\n          type,\n          props,\n          finishedWork\n        );\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function commitHostUpdate(finishedWork, newProps, oldProps) {\n      try {\n        runWithFiberInDEV(\n          finishedWork,\n          commitUpdate,\n          finishedWork.stateNode,\n          finishedWork.type,\n          oldProps,\n          newProps,\n          finishedWork\n        );\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function isHostParent(fiber) {\n      return (\n        5 === fiber.tag ||\n        3 === fiber.tag ||\n        26 === fiber.tag ||\n        (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n        4 === fiber.tag\n      );\n    }\n    function getHostSibling(fiber) {\n      a: for (;;) {\n        for (; null === fiber.sibling; ) {\n          if (null === fiber.return || isHostParent(fiber.return)) return null;\n          fiber = fiber.return;\n        }\n        fiber.sibling.return = fiber.return;\n        for (\n          fiber = fiber.sibling;\n          5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n        ) {\n          if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n          if (fiber.flags & 2) continue a;\n          if (null === fiber.child || 4 === fiber.tag) continue a;\n          else (fiber.child.return = fiber), (fiber = fiber.child);\n        }\n        if (!(fiber.flags & 2)) return fiber.stateNode;\n      }\n    }\n    function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n      var tag = node.tag;\n      if (5 === tag || 6 === tag)\n        (node = node.stateNode),\n          before\n            ? (warnForReactChildrenConflict(parent),\n              (9 === parent.nodeType\n                ? parent.body\n                : \"HTML\" === parent.nodeName\n                  ? parent.ownerDocument.body\n                  : parent\n              ).insertBefore(node, before))\n            : (warnForReactChildrenConflict(parent),\n              (before =\n                9 === parent.nodeType\n                  ? parent.body\n                  : \"HTML\" === parent.nodeName\n                    ? parent.ownerDocument.body\n                    : parent),\n              before.appendChild(node),\n              (parent = parent._reactRootContainer),\n              (null !== parent && void 0 !== parent) ||\n                null !== before.onclick ||\n                (before.onclick = noop$1));\n      else if (\n        4 !== tag &&\n        (27 === tag &&\n          isSingletonScope(node.type) &&\n          ((parent = node.stateNode), (before = null)),\n        (node = node.child),\n        null !== node)\n      )\n        for (\n          insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n            node = node.sibling;\n          null !== node;\n\n        )\n          insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n            (node = node.sibling);\n    }\n    function insertOrAppendPlacementNode(node, before, parent) {\n      var tag = node.tag;\n      if (5 === tag || 6 === tag)\n        (node = node.stateNode),\n          before ? parent.insertBefore(node, before) : parent.appendChild(node);\n      else if (\n        4 !== tag &&\n        (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n        (node = node.child),\n        null !== node)\n      )\n        for (\n          insertOrAppendPlacementNode(node, before, parent),\n            node = node.sibling;\n          null !== node;\n\n        )\n          insertOrAppendPlacementNode(node, before, parent),\n            (node = node.sibling);\n    }\n    function commitPlacement(finishedWork) {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber)\n        throw Error(\n          \"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.\"\n        );\n      switch (hostParentFiber.tag) {\n        case 27:\n          hostParentFiber = hostParentFiber.stateNode;\n          parentFiber = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(\n            finishedWork,\n            parentFiber,\n            hostParentFiber\n          );\n          break;\n        case 5:\n          parentFiber = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (resetTextContent(parentFiber), (hostParentFiber.flags &= -33));\n          hostParentFiber = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(\n            finishedWork,\n            hostParentFiber,\n            parentFiber\n          );\n          break;\n        case 3:\n        case 4:\n          hostParentFiber = hostParentFiber.stateNode.containerInfo;\n          parentFiber = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            parentFiber,\n            hostParentFiber\n          );\n          break;\n        default:\n          throw Error(\n            \"Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n      }\n    }\n    function commitHostSingletonAcquisition(finishedWork) {\n      var singleton = finishedWork.stateNode,\n        props = finishedWork.memoizedProps;\n      try {\n        runWithFiberInDEV(\n          finishedWork,\n          acquireSingletonInstance,\n          finishedWork.type,\n          props,\n          singleton,\n          finishedWork\n        );\n      } catch (error) {\n        captureCommitPhaseError(finishedWork, finishedWork.return, error);\n      }\n    }\n    function isHydratingParent(current, finishedWork) {\n      return 31 === finishedWork.tag\n        ? ((finishedWork = finishedWork.memoizedState),\n          null !== current.memoizedState && null === finishedWork)\n        : 13 === finishedWork.tag\n          ? ((current = current.memoizedState),\n            (finishedWork = finishedWork.memoizedState),\n            null !== current &&\n              null !== current.dehydrated &&\n              (null === finishedWork || null === finishedWork.dehydrated))\n          : 3 === finishedWork.tag\n            ? current.memoizedState.isDehydrated &&\n              0 === (finishedWork.flags & 256)\n            : !1;\n    }\n    function commitBeforeMutationEffects(root, firstChild) {\n      root = root.containerInfo;\n      eventsEnabled = _enabled;\n      root = getActiveElementDeep(root);\n      if (hasSelectionCapabilities(root)) {\n        if (\"selectionStart\" in root)\n          var JSCompiler_temp = {\n            start: root.selectionStart,\n            end: root.selectionEnd\n          };\n        else\n          a: {\n            JSCompiler_temp =\n              ((JSCompiler_temp = root.ownerDocument) &&\n                JSCompiler_temp.defaultView) ||\n              window;\n            var selection =\n              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n            if (selection && 0 !== selection.rangeCount) {\n              JSCompiler_temp = selection.anchorNode;\n              var anchorOffset = selection.anchorOffset,\n                focusNode = selection.focusNode;\n              selection = selection.focusOffset;\n              try {\n                JSCompiler_temp.nodeType, focusNode.nodeType;\n              } catch (e$2) {\n                JSCompiler_temp = null;\n                break a;\n              }\n              var length = 0,\n                start = -1,\n                end = -1,\n                indexWithinAnchor = 0,\n                indexWithinFocus = 0,\n                node = root,\n                parentNode = null;\n              b: for (;;) {\n                for (var next; ; ) {\n                  node !== JSCompiler_temp ||\n                    (0 !== anchorOffset && 3 !== node.nodeType) ||\n                    (start = length + anchorOffset);\n                  node !== focusNode ||\n                    (0 !== selection && 3 !== node.nodeType) ||\n                    (end = length + selection);\n                  3 === node.nodeType && (length += node.nodeValue.length);\n                  if (null === (next = node.firstChild)) break;\n                  parentNode = node;\n                  node = next;\n                }\n                for (;;) {\n                  if (node === root) break b;\n                  parentNode === JSCompiler_temp &&\n                    ++indexWithinAnchor === anchorOffset &&\n                    (start = length);\n                  parentNode === focusNode &&\n                    ++indexWithinFocus === selection &&\n                    (end = length);\n                  if (null !== (next = node.nextSibling)) break;\n                  node = parentNode;\n                  parentNode = node.parentNode;\n                }\n                node = next;\n              }\n              JSCompiler_temp =\n                -1 === start || -1 === end ? null : { start: start, end: end };\n            } else JSCompiler_temp = null;\n          }\n        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n      } else JSCompiler_temp = null;\n      selectionInformation = {\n        focusedElem: root,\n        selectionRange: JSCompiler_temp\n      };\n      _enabled = !1;\n      for (nextEffect = firstChild; null !== nextEffect; )\n        if (\n          ((firstChild = nextEffect),\n          (root = firstChild.child),\n          0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n        )\n          (root.return = firstChild), (nextEffect = root);\n        else\n          for (; null !== nextEffect; ) {\n            root = firstChild = nextEffect;\n            JSCompiler_temp = root.alternate;\n            anchorOffset = root.flags;\n            switch (root.tag) {\n              case 0:\n                if (\n                  0 !== (anchorOffset & 4) &&\n                  ((root = root.updateQueue),\n                  (root = null !== root ? root.events : null),\n                  null !== root)\n                )\n                  for (\n                    JSCompiler_temp = 0;\n                    JSCompiler_temp < root.length;\n                    JSCompiler_temp++\n                  )\n                    (anchorOffset = root[JSCompiler_temp]),\n                      (anchorOffset.ref.impl = anchorOffset.nextImpl);\n                break;\n              case 11:\n              case 15:\n                break;\n              case 1:\n                0 !== (anchorOffset & 1024) &&\n                  null !== JSCompiler_temp &&\n                  commitClassSnapshot(root, JSCompiler_temp);\n                break;\n              case 3:\n                if (0 !== (anchorOffset & 1024))\n                  if (\n                    ((root = root.stateNode.containerInfo),\n                    (JSCompiler_temp = root.nodeType),\n                    9 === JSCompiler_temp)\n                  )\n                    clearContainerSparingly(root);\n                  else if (1 === JSCompiler_temp)\n                    switch (root.nodeName) {\n                      case \"HEAD\":\n                      case \"HTML\":\n                      case \"BODY\":\n                        clearContainerSparingly(root);\n                        break;\n                      default:\n                        root.textContent = \"\";\n                    }\n                break;\n              case 5:\n              case 26:\n              case 27:\n              case 6:\n              case 4:\n              case 17:\n                break;\n              default:\n                if (0 !== (anchorOffset & 1024))\n                  throw Error(\n                    \"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.\"\n                  );\n            }\n            root = firstChild.sibling;\n            if (null !== root) {\n              root.return = firstChild.return;\n              nextEffect = root;\n              break;\n            }\n            nextEffect = firstChild.return;\n          }\n    }\n    function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate(),\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          flags & 4 &&\n            commitHookLayoutEffects(finishedWork, Layout | HasEffect);\n          break;\n        case 1:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          if (flags & 4)\n            if (((finishedRoot = finishedWork.stateNode), null === current))\n              finishedWork.type.defaultProps ||\n                \"ref\" in finishedWork.memoizedProps ||\n                didWarnAboutReassigningProps ||\n                (finishedRoot.props !== finishedWork.memoizedProps &&\n                  console.error(\n                    \"Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.\",\n                    getComponentNameFromFiber(finishedWork) || \"instance\"\n                  ),\n                finishedRoot.state !== finishedWork.memoizedState &&\n                  console.error(\n                    \"Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.\",\n                    getComponentNameFromFiber(finishedWork) || \"instance\"\n                  )),\n                shouldProfile(finishedWork)\n                  ? (startEffectTimer(),\n                    runWithFiberInDEV(\n                      finishedWork,\n                      callComponentDidMountInDEV,\n                      finishedWork,\n                      finishedRoot\n                    ),\n                    recordEffectDuration())\n                  : runWithFiberInDEV(\n                      finishedWork,\n                      callComponentDidMountInDEV,\n                      finishedWork,\n                      finishedRoot\n                    );\n            else {\n              var prevProps = resolveClassComponentProps(\n                finishedWork.type,\n                current.memoizedProps\n              );\n              current = current.memoizedState;\n              finishedWork.type.defaultProps ||\n                \"ref\" in finishedWork.memoizedProps ||\n                didWarnAboutReassigningProps ||\n                (finishedRoot.props !== finishedWork.memoizedProps &&\n                  console.error(\n                    \"Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.\",\n                    getComponentNameFromFiber(finishedWork) || \"instance\"\n                  ),\n                finishedRoot.state !== finishedWork.memoizedState &&\n                  console.error(\n                    \"Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.\",\n                    getComponentNameFromFiber(finishedWork) || \"instance\"\n                  ));\n              shouldProfile(finishedWork)\n                ? (startEffectTimer(),\n                  runWithFiberInDEV(\n                    finishedWork,\n                    callComponentDidUpdateInDEV,\n                    finishedWork,\n                    finishedRoot,\n                    prevProps,\n                    current,\n                    finishedRoot.__reactInternalSnapshotBeforeUpdate\n                  ),\n                  recordEffectDuration())\n                : runWithFiberInDEV(\n                    finishedWork,\n                    callComponentDidUpdateInDEV,\n                    finishedWork,\n                    finishedRoot,\n                    prevProps,\n                    current,\n                    finishedRoot.__reactInternalSnapshotBeforeUpdate\n                  );\n            }\n          flags & 64 && commitClassCallbacks(finishedWork);\n          flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n          break;\n        case 3:\n          current = pushNestedEffectDurations();\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          if (\n            flags & 64 &&\n            ((flags = finishedWork.updateQueue), null !== flags)\n          ) {\n            prevProps = null;\n            if (null !== finishedWork.child)\n              switch (finishedWork.child.tag) {\n                case 27:\n                case 5:\n                  prevProps = finishedWork.child.stateNode;\n                  break;\n                case 1:\n                  prevProps = finishedWork.child.stateNode;\n              }\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitCallbacks,\n                flags,\n                prevProps\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          }\n          finishedRoot.effectDuration += popNestedEffectDurations(current);\n          break;\n        case 27:\n          null === current &&\n            flags & 4 &&\n            commitHostSingletonAcquisition(finishedWork);\n        case 26:\n        case 5:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          if (null === current)\n            if (flags & 4) commitHostMount(finishedWork);\n            else if (flags & 64) {\n              finishedRoot = finishedWork.type;\n              current = finishedWork.memoizedProps;\n              prevProps = finishedWork.stateNode;\n              try {\n                runWithFiberInDEV(\n                  finishedWork,\n                  commitHydratedInstance,\n                  prevProps,\n                  finishedRoot,\n                  current,\n                  finishedWork\n                );\n              } catch (error) {\n                captureCommitPhaseError(\n                  finishedWork,\n                  finishedWork.return,\n                  error\n                );\n              }\n            }\n          flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n          break;\n        case 12:\n          if (flags & 4) {\n            flags = pushNestedEffectDurations();\n            recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n            finishedRoot = finishedWork.stateNode;\n            finishedRoot.effectDuration += bubbleNestedEffectDurations(flags);\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitProfiler,\n                finishedWork,\n                current,\n                commitStartTime,\n                finishedRoot.effectDuration\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          } else recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          break;\n        case 31:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          flags & 4 &&\n            commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n          break;\n        case 13:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n          flags & 4 &&\n            commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n          flags & 64 &&\n            ((finishedRoot = finishedWork.memoizedState),\n            null !== finishedRoot &&\n              ((finishedRoot = finishedRoot.dehydrated),\n              null !== finishedRoot &&\n                ((flags = retryDehydratedSuspenseBoundary.bind(\n                  null,\n                  finishedWork\n                )),\n                registerSuspenseInstanceRetry(finishedRoot, flags))));\n          break;\n        case 22:\n          flags =\n            null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n          if (!flags) {\n            current =\n              (null !== current && null !== current.memoizedState) ||\n              offscreenSubtreeWasHidden;\n            prevProps = offscreenSubtreeIsHidden;\n            var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n            offscreenSubtreeIsHidden = flags;\n            (offscreenSubtreeWasHidden = current) &&\n            !prevOffscreenSubtreeWasHidden\n              ? (recursivelyTraverseReappearLayoutEffects(\n                  finishedRoot,\n                  finishedWork,\n                  0 !== (finishedWork.subtreeFlags & 8772)\n                ),\n                (finishedWork.mode & ProfileMode) !== NoMode &&\n                  0 <= componentEffectStartTime &&\n                  0 <= componentEffectEndTime &&\n                  0.05 < componentEffectEndTime - componentEffectStartTime &&\n                  logComponentReappeared(\n                    finishedWork,\n                    componentEffectStartTime,\n                    componentEffectEndTime\n                  ))\n              : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n            offscreenSubtreeIsHidden = prevProps;\n            offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n          }\n          break;\n        case 30:\n          break;\n        default:\n          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        ((componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n          logComponentEffect(\n            finishedWork,\n            componentEffectStartTime,\n            componentEffectEndTime,\n            componentEffectDuration,\n            componentEffectErrors\n          ),\n        null === finishedWork.alternate &&\n          null !== finishedWork.return &&\n          null !== finishedWork.return.alternate &&\n          0.05 < componentEffectEndTime - componentEffectStartTime &&\n          (isHydratingParent(\n            finishedWork.return.alternate,\n            finishedWork.return\n          ) ||\n            logComponentTrigger(\n              finishedWork,\n              componentEffectStartTime,\n              componentEffectEndTime,\n              \"Mount\"\n            )));\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n    }\n    function detachFiberAfterEffects(fiber) {\n      var alternate = fiber.alternate;\n      null !== alternate &&\n        ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n      fiber.child = null;\n      fiber.deletions = null;\n      fiber.sibling = null;\n      5 === fiber.tag &&\n        ((alternate = fiber.stateNode),\n        null !== alternate && detachDeletedInstance(alternate));\n      fiber.stateNode = null;\n      fiber._debugOwner = null;\n      fiber.return = null;\n      fiber.dependencies = null;\n      fiber.memoizedProps = null;\n      fiber.memoizedState = null;\n      fiber.pendingProps = null;\n      fiber.stateNode = null;\n      fiber.updateQueue = null;\n    }\n    function recursivelyTraverseDeletionEffects(\n      finishedRoot,\n      nearestMountedAncestor,\n      parent\n    ) {\n      for (parent = parent.child; null !== parent; )\n        commitDeletionEffectsOnFiber(\n          finishedRoot,\n          nearestMountedAncestor,\n          parent\n        ),\n          (parent = parent.sibling);\n    }\n    function commitDeletionEffectsOnFiber(\n      finishedRoot,\n      nearestMountedAncestor,\n      deletedFiber\n    ) {\n      if (\n        injectedHook &&\n        \"function\" === typeof injectedHook.onCommitFiberUnmount\n      )\n        try {\n          injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n        } catch (err) {\n          hasLoggedError ||\n            ((hasLoggedError = !0),\n            console.error(\n              \"React instrumentation encountered an error: %o\",\n              err\n            ));\n        }\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate();\n      switch (deletedFiber.tag) {\n        case 26:\n          offscreenSubtreeWasHidden ||\n            safelyDetachRef(deletedFiber, nearestMountedAncestor);\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          deletedFiber.memoizedState\n            ? deletedFiber.memoizedState.count--\n            : deletedFiber.stateNode &&\n              ((finishedRoot = deletedFiber.stateNode),\n              finishedRoot.parentNode.removeChild(finishedRoot));\n          break;\n        case 27:\n          offscreenSubtreeWasHidden ||\n            safelyDetachRef(deletedFiber, nearestMountedAncestor);\n          var prevHostParent = hostParent,\n            prevHostParentIsContainer = hostParentIsContainer;\n          isSingletonScope(deletedFiber.type) &&\n            ((hostParent = deletedFiber.stateNode),\n            (hostParentIsContainer = !1));\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          runWithFiberInDEV(\n            deletedFiber,\n            releaseSingletonInstance,\n            deletedFiber.stateNode\n          );\n          hostParent = prevHostParent;\n          hostParentIsContainer = prevHostParentIsContainer;\n          break;\n        case 5:\n          offscreenSubtreeWasHidden ||\n            safelyDetachRef(deletedFiber, nearestMountedAncestor);\n        case 6:\n          prevHostParent = hostParent;\n          prevHostParentIsContainer = hostParentIsContainer;\n          hostParent = null;\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          hostParent = prevHostParent;\n          hostParentIsContainer = prevHostParentIsContainer;\n          if (null !== hostParent)\n            if (hostParentIsContainer)\n              try {\n                runWithFiberInDEV(\n                  deletedFiber,\n                  removeChildFromContainer,\n                  hostParent,\n                  deletedFiber.stateNode\n                );\n              } catch (error) {\n                captureCommitPhaseError(\n                  deletedFiber,\n                  nearestMountedAncestor,\n                  error\n                );\n              }\n            else\n              try {\n                runWithFiberInDEV(\n                  deletedFiber,\n                  removeChild,\n                  hostParent,\n                  deletedFiber.stateNode\n                );\n              } catch (error) {\n                captureCommitPhaseError(\n                  deletedFiber,\n                  nearestMountedAncestor,\n                  error\n                );\n              }\n          break;\n        case 18:\n          null !== hostParent &&\n            (hostParentIsContainer\n              ? ((finishedRoot = hostParent),\n                clearHydrationBoundary(\n                  9 === finishedRoot.nodeType\n                    ? finishedRoot.body\n                    : \"HTML\" === finishedRoot.nodeName\n                      ? finishedRoot.ownerDocument.body\n                      : finishedRoot,\n                  deletedFiber.stateNode\n                ),\n                retryIfBlockedOn(finishedRoot))\n              : clearHydrationBoundary(hostParent, deletedFiber.stateNode));\n          break;\n        case 4:\n          prevHostParent = hostParent;\n          prevHostParentIsContainer = hostParentIsContainer;\n          hostParent = deletedFiber.stateNode.containerInfo;\n          hostParentIsContainer = !0;\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          hostParent = prevHostParent;\n          hostParentIsContainer = prevHostParentIsContainer;\n          break;\n        case 0:\n        case 11:\n        case 14:\n        case 15:\n          commitHookEffectListUnmount(\n            Insertion,\n            deletedFiber,\n            nearestMountedAncestor\n          );\n          offscreenSubtreeWasHidden ||\n            commitHookLayoutUnmountEffects(\n              deletedFiber,\n              nearestMountedAncestor,\n              Layout\n            );\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          break;\n        case 1:\n          offscreenSubtreeWasHidden ||\n            (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n            (prevHostParent = deletedFiber.stateNode),\n            \"function\" === typeof prevHostParent.componentWillUnmount &&\n              safelyCallComponentWillUnmount(\n                deletedFiber,\n                nearestMountedAncestor,\n                prevHostParent\n              ));\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          break;\n        case 21:\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          break;\n        case 22:\n          offscreenSubtreeWasHidden =\n            (prevHostParent = offscreenSubtreeWasHidden) ||\n            null !== deletedFiber.memoizedState;\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n          offscreenSubtreeWasHidden = prevHostParent;\n          break;\n        default:\n          recursivelyTraverseDeletionEffects(\n            finishedRoot,\n            nearestMountedAncestor,\n            deletedFiber\n          );\n      }\n      (deletedFiber.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          deletedFiber,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n    }\n    function commitActivityHydrationCallbacks(finishedRoot, finishedWork) {\n      if (\n        null === finishedWork.memoizedState &&\n        ((finishedRoot = finishedWork.alternate),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.memoizedState), null !== finishedRoot))\n      ) {\n        finishedRoot = finishedRoot.dehydrated;\n        try {\n          runWithFiberInDEV(\n            finishedWork,\n            commitHydratedActivityInstance,\n            finishedRoot\n          );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    }\n    function commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n      if (\n        null === finishedWork.memoizedState &&\n        ((finishedRoot = finishedWork.alternate),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.memoizedState),\n          null !== finishedRoot &&\n            ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n      )\n        try {\n          runWithFiberInDEV(\n            finishedWork,\n            commitHydratedSuspenseInstance,\n            finishedRoot\n          );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n    }\n    function getRetryCache(finishedWork) {\n      switch (finishedWork.tag) {\n        case 31:\n        case 13:\n        case 19:\n          var retryCache = finishedWork.stateNode;\n          null === retryCache &&\n            (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n          return retryCache;\n        case 22:\n          return (\n            (finishedWork = finishedWork.stateNode),\n            (retryCache = finishedWork._retryCache),\n            null === retryCache &&\n              (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n            retryCache\n          );\n        default:\n          throw Error(\n            \"Unexpected Suspense handler tag (\" +\n              finishedWork.tag +\n              \"). This is a bug in React.\"\n          );\n      }\n    }\n    function attachSuspenseRetryListeners(finishedWork, wakeables) {\n      var retryCache = getRetryCache(finishedWork);\n      wakeables.forEach(function (wakeable) {\n        if (!retryCache.has(wakeable)) {\n          retryCache.add(wakeable);\n          if (isDevToolsPresent)\n            if (null !== inProgressLanes && null !== inProgressRoot)\n              restorePendingUpdaters(inProgressRoot, inProgressLanes);\n            else\n              throw Error(\n                \"Expected finished root and lanes to be set. This is a bug in React.\"\n              );\n          var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n          wakeable.then(retry, retry);\n        }\n      });\n    }\n    function recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n      var deletions = parentFiber.deletions;\n      if (null !== deletions)\n        for (var i = 0; i < deletions.length; i++) {\n          var root = root$jscomp$0,\n            returnFiber = parentFiber,\n            deletedFiber = deletions[i],\n            prevEffectStart = pushComponentEffectStart(),\n            parent = returnFiber;\n          a: for (; null !== parent; ) {\n            switch (parent.tag) {\n              case 27:\n                if (isSingletonScope(parent.type)) {\n                  hostParent = parent.stateNode;\n                  hostParentIsContainer = !1;\n                  break a;\n                }\n                break;\n              case 5:\n                hostParent = parent.stateNode;\n                hostParentIsContainer = !1;\n                break a;\n              case 3:\n              case 4:\n                hostParent = parent.stateNode.containerInfo;\n                hostParentIsContainer = !0;\n                break a;\n            }\n            parent = parent.return;\n          }\n          if (null === hostParent)\n            throw Error(\n              \"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.\"\n            );\n          commitDeletionEffectsOnFiber(root, returnFiber, deletedFiber);\n          hostParent = null;\n          hostParentIsContainer = !1;\n          (deletedFiber.mode & ProfileMode) !== NoMode &&\n            0 <= componentEffectStartTime &&\n            0 <= componentEffectEndTime &&\n            0.05 < componentEffectEndTime - componentEffectStartTime &&\n            logComponentTrigger(\n              deletedFiber,\n              componentEffectStartTime,\n              componentEffectEndTime,\n              \"Unmount\"\n            );\n          popComponentEffectStart(prevEffectStart);\n          root = deletedFiber;\n          returnFiber = root.alternate;\n          null !== returnFiber && (returnFiber.return = null);\n          root.return = null;\n        }\n      if (parentFiber.subtreeFlags & 13886)\n        for (parentFiber = parentFiber.child; null !== parentFiber; )\n          commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n            (parentFiber = parentFiber.sibling);\n    }\n    function commitMutationEffectsOnFiber(finishedWork, root) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate(),\n        current = finishedWork.alternate,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 14:\n        case 15:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 4 &&\n            (commitHookEffectListUnmount(\n              Insertion | HasEffect,\n              finishedWork,\n              finishedWork.return\n            ),\n            commitHookEffectListMount(Insertion | HasEffect, finishedWork),\n            commitHookLayoutUnmountEffects(\n              finishedWork,\n              finishedWork.return,\n              Layout | HasEffect\n            ));\n          break;\n        case 1:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 512 &&\n            (offscreenSubtreeWasHidden ||\n              null === current ||\n              safelyDetachRef(current, current.return));\n          if (\n            flags & 64 &&\n            offscreenSubtreeIsHidden &&\n            ((flags = finishedWork.updateQueue),\n            null !== flags && ((current = flags.callbacks), null !== current))\n          ) {\n            var existingHiddenCallbacks = flags.shared.hiddenCallbacks;\n            flags.shared.hiddenCallbacks =\n              null === existingHiddenCallbacks\n                ? current\n                : existingHiddenCallbacks.concat(current);\n          }\n          break;\n        case 26:\n          existingHiddenCallbacks = currentHoistableRoot;\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 512 &&\n            (offscreenSubtreeWasHidden ||\n              null === current ||\n              safelyDetachRef(current, current.return));\n          if (flags & 4) {\n            var currentResource =\n              null !== current ? current.memoizedState : null;\n            flags = finishedWork.memoizedState;\n            if (null === current)\n              if (null === flags)\n                if (null === finishedWork.stateNode) {\n                  a: {\n                    flags = finishedWork.type;\n                    current = finishedWork.memoizedProps;\n                    existingHiddenCallbacks =\n                      existingHiddenCallbacks.ownerDocument ||\n                      existingHiddenCallbacks;\n                    b: switch (flags) {\n                      case \"title\":\n                        currentResource =\n                          existingHiddenCallbacks.getElementsByTagName(\n                            \"title\"\n                          )[0];\n                        if (\n                          !currentResource ||\n                          currentResource[internalHoistableMarker] ||\n                          currentResource[internalInstanceKey] ||\n                          currentResource.namespaceURI === SVG_NAMESPACE ||\n                          currentResource.hasAttribute(\"itemprop\")\n                        )\n                          (currentResource =\n                            existingHiddenCallbacks.createElement(flags)),\n                            existingHiddenCallbacks.head.insertBefore(\n                              currentResource,\n                              existingHiddenCallbacks.querySelector(\n                                \"head > title\"\n                              )\n                            );\n                        setInitialProperties(currentResource, flags, current);\n                        currentResource[internalInstanceKey] = finishedWork;\n                        markNodeAsHoistable(currentResource);\n                        flags = currentResource;\n                        break a;\n                      case \"link\":\n                        var maybeNodes = getHydratableHoistableCache(\n                          \"link\",\n                          \"href\",\n                          existingHiddenCallbacks\n                        ).get(flags + (current.href || \"\"));\n                        if (maybeNodes)\n                          for (var i = 0; i < maybeNodes.length; i++)\n                            if (\n                              ((currentResource = maybeNodes[i]),\n                              currentResource.getAttribute(\"href\") ===\n                                (null == current.href || \"\" === current.href\n                                  ? null\n                                  : current.href) &&\n                                currentResource.getAttribute(\"rel\") ===\n                                  (null == current.rel ? null : current.rel) &&\n                                currentResource.getAttribute(\"title\") ===\n                                  (null == current.title\n                                    ? null\n                                    : current.title) &&\n                                currentResource.getAttribute(\"crossorigin\") ===\n                                  (null == current.crossOrigin\n                                    ? null\n                                    : current.crossOrigin))\n                            ) {\n                              maybeNodes.splice(i, 1);\n                              break b;\n                            }\n                        currentResource =\n                          existingHiddenCallbacks.createElement(flags);\n                        setInitialProperties(currentResource, flags, current);\n                        existingHiddenCallbacks.head.appendChild(\n                          currentResource\n                        );\n                        break;\n                      case \"meta\":\n                        if (\n                          (maybeNodes = getHydratableHoistableCache(\n                            \"meta\",\n                            \"content\",\n                            existingHiddenCallbacks\n                          ).get(flags + (current.content || \"\")))\n                        )\n                          for (i = 0; i < maybeNodes.length; i++)\n                            if (\n                              ((currentResource = maybeNodes[i]),\n                              checkAttributeStringCoercion(\n                                current.content,\n                                \"content\"\n                              ),\n                              currentResource.getAttribute(\"content\") ===\n                                (null == current.content\n                                  ? null\n                                  : \"\" + current.content) &&\n                                currentResource.getAttribute(\"name\") ===\n                                  (null == current.name\n                                    ? null\n                                    : current.name) &&\n                                currentResource.getAttribute(\"property\") ===\n                                  (null == current.property\n                                    ? null\n                                    : current.property) &&\n                                currentResource.getAttribute(\"http-equiv\") ===\n                                  (null == current.httpEquiv\n                                    ? null\n                                    : current.httpEquiv) &&\n                                currentResource.getAttribute(\"charset\") ===\n                                  (null == current.charSet\n                                    ? null\n                                    : current.charSet))\n                            ) {\n                              maybeNodes.splice(i, 1);\n                              break b;\n                            }\n                        currentResource =\n                          existingHiddenCallbacks.createElement(flags);\n                        setInitialProperties(currentResource, flags, current);\n                        existingHiddenCallbacks.head.appendChild(\n                          currentResource\n                        );\n                        break;\n                      default:\n                        throw Error(\n                          'getNodesForType encountered a type it did not expect: \"' +\n                            flags +\n                            '\". This is a bug in React.'\n                        );\n                    }\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                  }\n                  finishedWork.stateNode = flags;\n                } else\n                  mountHoistable(\n                    existingHiddenCallbacks,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  );\n              else\n                finishedWork.stateNode = acquireResource(\n                  existingHiddenCallbacks,\n                  flags,\n                  finishedWork.memoizedProps\n                );\n            else\n              currentResource !== flags\n                ? (null === currentResource\n                    ? null !== current.stateNode &&\n                      ((current = current.stateNode),\n                      current.parentNode.removeChild(current))\n                    : currentResource.count--,\n                  null === flags\n                    ? mountHoistable(\n                        existingHiddenCallbacks,\n                        finishedWork.type,\n                        finishedWork.stateNode\n                      )\n                    : acquireResource(\n                        existingHiddenCallbacks,\n                        flags,\n                        finishedWork.memoizedProps\n                      ))\n                : null === flags &&\n                  null !== finishedWork.stateNode &&\n                  commitHostUpdate(\n                    finishedWork,\n                    finishedWork.memoizedProps,\n                    current.memoizedProps\n                  );\n          }\n          break;\n        case 27:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 512 &&\n            (offscreenSubtreeWasHidden ||\n              null === current ||\n              safelyDetachRef(current, current.return));\n          null !== current &&\n            flags & 4 &&\n            commitHostUpdate(\n              finishedWork,\n              finishedWork.memoizedProps,\n              current.memoizedProps\n            );\n          break;\n        case 5:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 512 &&\n            (offscreenSubtreeWasHidden ||\n              null === current ||\n              safelyDetachRef(current, current.return));\n          if (finishedWork.flags & 32) {\n            existingHiddenCallbacks = finishedWork.stateNode;\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                resetTextContent,\n                existingHiddenCallbacks\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          }\n          flags & 4 &&\n            null != finishedWork.stateNode &&\n            ((existingHiddenCallbacks = finishedWork.memoizedProps),\n            commitHostUpdate(\n              finishedWork,\n              existingHiddenCallbacks,\n              null !== current ? current.memoizedProps : existingHiddenCallbacks\n            ));\n          flags & 1024 &&\n            ((needsFormReset = !0),\n            \"form\" !== finishedWork.type &&\n              console.error(\n                \"Unexpected host component type. Expected a form. This is a bug in React.\"\n              ));\n          break;\n        case 6:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          if (flags & 4) {\n            if (null === finishedWork.stateNode)\n              throw Error(\n                \"This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.\"\n              );\n            flags = finishedWork.memoizedProps;\n            current = null !== current ? current.memoizedProps : flags;\n            existingHiddenCallbacks = finishedWork.stateNode;\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitTextUpdate,\n                existingHiddenCallbacks,\n                current,\n                flags\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          }\n          break;\n        case 3:\n          existingHiddenCallbacks = pushNestedEffectDurations();\n          tagCaches = null;\n          currentResource = currentHoistableRoot;\n          currentHoistableRoot = getHoistableRoot(root.containerInfo);\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          currentHoistableRoot = currentResource;\n          commitReconciliationEffects(finishedWork);\n          if (\n            flags & 4 &&\n            null !== current &&\n            current.memoizedState.isDehydrated\n          )\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitHydratedContainer,\n                root.containerInfo\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          needsFormReset &&\n            ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n          root.effectDuration += popNestedEffectDurations(\n            existingHiddenCallbacks\n          );\n          break;\n        case 4:\n          flags = currentHoistableRoot;\n          currentHoistableRoot = getHoistableRoot(\n            finishedWork.stateNode.containerInfo\n          );\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          currentHoistableRoot = flags;\n          break;\n        case 12:\n          flags = pushNestedEffectDurations();\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          finishedWork.stateNode.effectDuration +=\n            bubbleNestedEffectDurations(flags);\n          break;\n        case 31:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 4 &&\n            ((flags = finishedWork.updateQueue),\n            null !== flags &&\n              ((finishedWork.updateQueue = null),\n              attachSuspenseRetryListeners(finishedWork, flags)));\n          break;\n        case 13:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          finishedWork.child.flags & 8192 &&\n            (null !== finishedWork.memoizedState) !==\n              (null !== current && null !== current.memoizedState) &&\n            (globalMostRecentFallbackTime = now$1());\n          flags & 4 &&\n            ((flags = finishedWork.updateQueue),\n            null !== flags &&\n              ((finishedWork.updateQueue = null),\n              attachSuspenseRetryListeners(finishedWork, flags)));\n          break;\n        case 22:\n          existingHiddenCallbacks = null !== finishedWork.memoizedState;\n          var wasHidden = null !== current && null !== current.memoizedState,\n            prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n            prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n          offscreenSubtreeIsHidden =\n            prevOffscreenSubtreeIsHidden || existingHiddenCallbacks;\n          offscreenSubtreeWasHidden =\n            prevOffscreenSubtreeWasHidden || wasHidden;\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n          offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n          wasHidden &&\n            !existingHiddenCallbacks &&\n            !prevOffscreenSubtreeIsHidden &&\n            !prevOffscreenSubtreeWasHidden &&\n            (finishedWork.mode & ProfileMode) !== NoMode &&\n            0 <= componentEffectStartTime &&\n            0 <= componentEffectEndTime &&\n            0.05 < componentEffectEndTime - componentEffectStartTime &&\n            logComponentReappeared(\n              finishedWork,\n              componentEffectStartTime,\n              componentEffectEndTime\n            );\n          commitReconciliationEffects(finishedWork);\n          if (flags & 8192)\n            a: for (\n              root = finishedWork.stateNode,\n                root._visibility = existingHiddenCallbacks\n                  ? root._visibility & ~OffscreenVisible\n                  : root._visibility | OffscreenVisible,\n                !existingHiddenCallbacks ||\n                  null === current ||\n                  wasHidden ||\n                  offscreenSubtreeIsHidden ||\n                  offscreenSubtreeWasHidden ||\n                  (recursivelyTraverseDisappearLayoutEffects(finishedWork),\n                  (finishedWork.mode & ProfileMode) !== NoMode &&\n                    0 <= componentEffectStartTime &&\n                    0 <= componentEffectEndTime &&\n                    0.05 < componentEffectEndTime - componentEffectStartTime &&\n                    logComponentTrigger(\n                      finishedWork,\n                      componentEffectStartTime,\n                      componentEffectEndTime,\n                      \"Disconnect\"\n                    )),\n                current = null,\n                root = finishedWork;\n              ;\n\n            ) {\n              if (5 === root.tag || 26 === root.tag) {\n                if (null === current) {\n                  wasHidden = current = root;\n                  try {\n                    (currentResource = wasHidden.stateNode),\n                      existingHiddenCallbacks\n                        ? runWithFiberInDEV(\n                            wasHidden,\n                            hideInstance,\n                            currentResource\n                          )\n                        : runWithFiberInDEV(\n                            wasHidden,\n                            unhideInstance,\n                            wasHidden.stateNode,\n                            wasHidden.memoizedProps\n                          );\n                  } catch (error) {\n                    captureCommitPhaseError(wasHidden, wasHidden.return, error);\n                  }\n                }\n              } else if (6 === root.tag) {\n                if (null === current) {\n                  wasHidden = root;\n                  try {\n                    (maybeNodes = wasHidden.stateNode),\n                      existingHiddenCallbacks\n                        ? runWithFiberInDEV(\n                            wasHidden,\n                            hideTextInstance,\n                            maybeNodes\n                          )\n                        : runWithFiberInDEV(\n                            wasHidden,\n                            unhideTextInstance,\n                            maybeNodes,\n                            wasHidden.memoizedProps\n                          );\n                  } catch (error) {\n                    captureCommitPhaseError(wasHidden, wasHidden.return, error);\n                  }\n                }\n              } else if (18 === root.tag) {\n                if (null === current) {\n                  wasHidden = root;\n                  try {\n                    (i = wasHidden.stateNode),\n                      existingHiddenCallbacks\n                        ? runWithFiberInDEV(\n                            wasHidden,\n                            hideDehydratedBoundary,\n                            i\n                          )\n                        : runWithFiberInDEV(\n                            wasHidden,\n                            unhideDehydratedBoundary,\n                            wasHidden.stateNode\n                          );\n                  } catch (error) {\n                    captureCommitPhaseError(wasHidden, wasHidden.return, error);\n                  }\n                }\n              } else if (\n                ((22 !== root.tag && 23 !== root.tag) ||\n                  null === root.memoizedState ||\n                  root === finishedWork) &&\n                null !== root.child\n              ) {\n                root.child.return = root;\n                root = root.child;\n                continue;\n              }\n              if (root === finishedWork) break a;\n              for (; null === root.sibling; ) {\n                if (null === root.return || root.return === finishedWork)\n                  break a;\n                current === root && (current = null);\n                root = root.return;\n              }\n              current === root && (current = null);\n              root.sibling.return = root.return;\n              root = root.sibling;\n            }\n          flags & 4 &&\n            ((flags = finishedWork.updateQueue),\n            null !== flags &&\n              ((current = flags.retryQueue),\n              null !== current &&\n                ((flags.retryQueue = null),\n                attachSuspenseRetryListeners(finishedWork, current))));\n          break;\n        case 19:\n          recursivelyTraverseMutationEffects(root, finishedWork);\n          commitReconciliationEffects(finishedWork);\n          flags & 4 &&\n            ((flags = finishedWork.updateQueue),\n            null !== flags &&\n              ((finishedWork.updateQueue = null),\n              attachSuspenseRetryListeners(finishedWork, flags)));\n          break;\n        case 30:\n          break;\n        case 21:\n          break;\n        default:\n          recursivelyTraverseMutationEffects(root, finishedWork),\n            commitReconciliationEffects(finishedWork);\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        ((componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n          logComponentEffect(\n            finishedWork,\n            componentEffectStartTime,\n            componentEffectEndTime,\n            componentEffectDuration,\n            componentEffectErrors\n          ),\n        null === finishedWork.alternate &&\n          null !== finishedWork.return &&\n          null !== finishedWork.return.alternate &&\n          0.05 < componentEffectEndTime - componentEffectStartTime &&\n          (isHydratingParent(\n            finishedWork.return.alternate,\n            finishedWork.return\n          ) ||\n            logComponentTrigger(\n              finishedWork,\n              componentEffectStartTime,\n              componentEffectEndTime,\n              \"Mount\"\n            )));\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n    }\n    function commitReconciliationEffects(finishedWork) {\n      var flags = finishedWork.flags;\n      if (flags & 2) {\n        try {\n          runWithFiberInDEV(finishedWork, commitPlacement, finishedWork);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n        finishedWork.flags &= -3;\n      }\n      flags & 4096 && (finishedWork.flags &= -4097);\n    }\n    function recursivelyResetForms(parentFiber) {\n      if (parentFiber.subtreeFlags & 1024)\n        for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n          var fiber = parentFiber;\n          recursivelyResetForms(fiber);\n          5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n          parentFiber = parentFiber.sibling;\n        }\n    }\n    function recursivelyTraverseLayoutEffects(root, parentFiber) {\n      if (parentFiber.subtreeFlags & 8772)\n        for (parentFiber = parentFiber.child; null !== parentFiber; )\n          commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n            (parentFiber = parentFiber.sibling);\n    }\n    function disappearLayoutEffects(finishedWork) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate();\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 14:\n        case 15:\n          commitHookLayoutUnmountEffects(\n            finishedWork,\n            finishedWork.return,\n            Layout\n          );\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n          break;\n        case 1:\n          safelyDetachRef(finishedWork, finishedWork.return);\n          var instance = finishedWork.stateNode;\n          \"function\" === typeof instance.componentWillUnmount &&\n            safelyCallComponentWillUnmount(\n              finishedWork,\n              finishedWork.return,\n              instance\n            );\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n          break;\n        case 27:\n          runWithFiberInDEV(\n            finishedWork,\n            releaseSingletonInstance,\n            finishedWork.stateNode\n          );\n        case 26:\n        case 5:\n          safelyDetachRef(finishedWork, finishedWork.return);\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n          break;\n        case 22:\n          null === finishedWork.memoizedState &&\n            recursivelyTraverseDisappearLayoutEffects(finishedWork);\n          break;\n        case 30:\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n          break;\n        default:\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          finishedWork,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n    }\n    function recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n      for (parentFiber = parentFiber.child; null !== parentFiber; )\n        disappearLayoutEffects(parentFiber),\n          (parentFiber = parentFiber.sibling);\n    }\n    function reappearLayoutEffects(\n      finishedRoot,\n      current,\n      finishedWork,\n      includeWorkInProgressEffects\n    ) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate(),\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n          commitHookLayoutEffects(finishedWork, Layout);\n          break;\n        case 1:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n          current = finishedWork.stateNode;\n          \"function\" === typeof current.componentDidMount &&\n            runWithFiberInDEV(\n              finishedWork,\n              callComponentDidMountInDEV,\n              finishedWork,\n              current\n            );\n          current = finishedWork.updateQueue;\n          if (null !== current) {\n            finishedRoot = finishedWork.stateNode;\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitHiddenCallbacks,\n                current,\n                finishedRoot\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          }\n          includeWorkInProgressEffects &&\n            flags & 64 &&\n            commitClassCallbacks(finishedWork);\n          safelyAttachRef(finishedWork, finishedWork.return);\n          break;\n        case 27:\n          commitHostSingletonAcquisition(finishedWork);\n        case 26:\n        case 5:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n          includeWorkInProgressEffects &&\n            null === current &&\n            flags & 4 &&\n            commitHostMount(finishedWork);\n          safelyAttachRef(finishedWork, finishedWork.return);\n          break;\n        case 12:\n          if (includeWorkInProgressEffects && flags & 4) {\n            flags = pushNestedEffectDurations();\n            recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              includeWorkInProgressEffects\n            );\n            includeWorkInProgressEffects = finishedWork.stateNode;\n            includeWorkInProgressEffects.effectDuration +=\n              bubbleNestedEffectDurations(flags);\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitProfiler,\n                finishedWork,\n                current,\n                commitStartTime,\n                includeWorkInProgressEffects.effectDuration\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          } else\n            recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              includeWorkInProgressEffects\n            );\n          break;\n        case 31:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n          includeWorkInProgressEffects &&\n            flags & 4 &&\n            commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n          break;\n        case 13:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n          includeWorkInProgressEffects &&\n            flags & 4 &&\n            commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n          break;\n        case 22:\n          null === finishedWork.memoizedState &&\n            recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              includeWorkInProgressEffects\n            );\n          safelyAttachRef(finishedWork, finishedWork.return);\n          break;\n        case 30:\n          break;\n        default:\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          finishedWork,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n    }\n    function recursivelyTraverseReappearLayoutEffects(\n      finishedRoot,\n      parentFiber,\n      includeWorkInProgressEffects\n    ) {\n      includeWorkInProgressEffects =\n        includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n      for (parentFiber = parentFiber.child; null !== parentFiber; )\n        reappearLayoutEffects(\n          finishedRoot,\n          parentFiber.alternate,\n          parentFiber,\n          includeWorkInProgressEffects\n        ),\n          (parentFiber = parentFiber.sibling);\n    }\n    function commitOffscreenPassiveMountEffects(current, finishedWork) {\n      var previousCache = null;\n      null !== current &&\n        null !== current.memoizedState &&\n        null !== current.memoizedState.cachePool &&\n        (previousCache = current.memoizedState.cachePool.pool);\n      current = null;\n      null !== finishedWork.memoizedState &&\n        null !== finishedWork.memoizedState.cachePool &&\n        (current = finishedWork.memoizedState.cachePool.pool);\n      current !== previousCache &&\n        (null != current && retainCache(current),\n        null != previousCache && releaseCache(previousCache));\n    }\n    function commitCachePassiveMountEffect(current, finishedWork) {\n      current = null;\n      null !== finishedWork.alternate &&\n        (current = finishedWork.alternate.memoizedState.cache);\n      finishedWork = finishedWork.memoizedState.cache;\n      finishedWork !== current &&\n        (retainCache(finishedWork), null != current && releaseCache(current));\n    }\n    function recursivelyTraversePassiveMountEffects(\n      root,\n      parentFiber,\n      committedLanes,\n      committedTransitions,\n      endTime\n    ) {\n      if (\n        parentFiber.subtreeFlags & 10256 ||\n        (0 !== parentFiber.actualDuration &&\n          (null === parentFiber.alternate ||\n            parentFiber.alternate.child !== parentFiber.child))\n      )\n        for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n          var nextSibling = parentFiber.sibling;\n          commitPassiveMountOnFiber(\n            root,\n            parentFiber,\n            committedLanes,\n            committedTransitions,\n            null !== nextSibling ? nextSibling.actualStartTime : endTime\n          );\n          parentFiber = nextSibling;\n        }\n    }\n    function commitPassiveMountOnFiber(\n      finishedRoot,\n      finishedWork,\n      committedLanes,\n      committedTransitions,\n      endTime\n    ) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate(),\n        prevDeepEquality = alreadyWarnedForDeepEquality,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          (finishedWork.mode & ProfileMode) !== NoMode &&\n            0 < finishedWork.actualStartTime &&\n            0 !== (finishedWork.flags & 1) &&\n            logComponentRender(\n              finishedWork,\n              finishedWork.actualStartTime,\n              endTime,\n              inHydratedSubtree,\n              committedLanes\n            );\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          flags & 2048 &&\n            commitHookPassiveMountEffects(finishedWork, Passive | HasEffect);\n          break;\n        case 1:\n          (finishedWork.mode & ProfileMode) !== NoMode &&\n            0 < finishedWork.actualStartTime &&\n            (0 !== (finishedWork.flags & 128)\n              ? logComponentErrored(\n                  finishedWork,\n                  finishedWork.actualStartTime,\n                  endTime,\n                  []\n                )\n              : 0 !== (finishedWork.flags & 1) &&\n                logComponentRender(\n                  finishedWork,\n                  finishedWork.actualStartTime,\n                  endTime,\n                  inHydratedSubtree,\n                  committedLanes\n                ));\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          break;\n        case 3:\n          var prevProfilerEffectDuration = pushNestedEffectDurations(),\n            wasInHydratedSubtree = inHydratedSubtree;\n          inHydratedSubtree =\n            null !== finishedWork.alternate &&\n            finishedWork.alternate.memoizedState.isDehydrated &&\n            0 === (finishedWork.flags & 256);\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          inHydratedSubtree = wasInHydratedSubtree;\n          flags & 2048 &&\n            ((committedLanes = null),\n            null !== finishedWork.alternate &&\n              (committedLanes = finishedWork.alternate.memoizedState.cache),\n            (committedTransitions = finishedWork.memoizedState.cache),\n            committedTransitions !== committedLanes &&\n              (retainCache(committedTransitions),\n              null != committedLanes && releaseCache(committedLanes)));\n          finishedRoot.passiveEffectDuration += popNestedEffectDurations(\n            prevProfilerEffectDuration\n          );\n          break;\n        case 12:\n          if (flags & 2048) {\n            flags = pushNestedEffectDurations();\n            recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              endTime\n            );\n            finishedRoot = finishedWork.stateNode;\n            finishedRoot.passiveEffectDuration +=\n              bubbleNestedEffectDurations(flags);\n            try {\n              runWithFiberInDEV(\n                finishedWork,\n                commitProfilerPostCommitImpl,\n                finishedWork,\n                finishedWork.alternate,\n                commitStartTime,\n                finishedRoot.passiveEffectDuration\n              );\n            } catch (error) {\n              captureCommitPhaseError(finishedWork, finishedWork.return, error);\n            }\n          } else\n            recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              endTime\n            );\n          break;\n        case 31:\n          flags = inHydratedSubtree;\n          prevProfilerEffectDuration =\n            null !== finishedWork.alternate\n              ? finishedWork.alternate.memoizedState\n              : null;\n          wasInHydratedSubtree = finishedWork.memoizedState;\n          null !== prevProfilerEffectDuration && null === wasInHydratedSubtree\n            ? ((wasInHydratedSubtree = finishedWork.deletions),\n              null !== wasInHydratedSubtree &&\n              0 < wasInHydratedSubtree.length &&\n              18 === wasInHydratedSubtree[0].tag\n                ? ((inHydratedSubtree = !1),\n                  (prevProfilerEffectDuration =\n                    prevProfilerEffectDuration.hydrationErrors),\n                  null !== prevProfilerEffectDuration &&\n                    logComponentErrored(\n                      finishedWork,\n                      finishedWork.actualStartTime,\n                      endTime,\n                      prevProfilerEffectDuration\n                    ))\n                : (inHydratedSubtree = !0))\n            : (inHydratedSubtree = !1);\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          inHydratedSubtree = flags;\n          break;\n        case 13:\n          flags = inHydratedSubtree;\n          prevProfilerEffectDuration =\n            null !== finishedWork.alternate\n              ? finishedWork.alternate.memoizedState\n              : null;\n          wasInHydratedSubtree = finishedWork.memoizedState;\n          null === prevProfilerEffectDuration ||\n          null === prevProfilerEffectDuration.dehydrated ||\n          (null !== wasInHydratedSubtree &&\n            null !== wasInHydratedSubtree.dehydrated)\n            ? (inHydratedSubtree = !1)\n            : ((wasInHydratedSubtree = finishedWork.deletions),\n              null !== wasInHydratedSubtree &&\n              0 < wasInHydratedSubtree.length &&\n              18 === wasInHydratedSubtree[0].tag\n                ? ((inHydratedSubtree = !1),\n                  (prevProfilerEffectDuration =\n                    prevProfilerEffectDuration.hydrationErrors),\n                  null !== prevProfilerEffectDuration &&\n                    logComponentErrored(\n                      finishedWork,\n                      finishedWork.actualStartTime,\n                      endTime,\n                      prevProfilerEffectDuration\n                    ))\n                : (inHydratedSubtree = !0));\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          inHydratedSubtree = flags;\n          break;\n        case 23:\n          break;\n        case 22:\n          wasInHydratedSubtree = finishedWork.stateNode;\n          prevProfilerEffectDuration = finishedWork.alternate;\n          null !== finishedWork.memoizedState\n            ? wasInHydratedSubtree._visibility &\n              OffscreenPassiveEffectsConnected\n              ? recursivelyTraversePassiveMountEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  endTime\n                )\n              : recursivelyTraverseAtomicPassiveEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  endTime\n                )\n            : wasInHydratedSubtree._visibility &\n                OffscreenPassiveEffectsConnected\n              ? recursivelyTraversePassiveMountEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  endTime\n                )\n              : ((wasInHydratedSubtree._visibility |=\n                  OffscreenPassiveEffectsConnected),\n                recursivelyTraverseReconnectPassiveEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  0 !== (finishedWork.subtreeFlags & 10256) ||\n                    (0 !== finishedWork.actualDuration &&\n                      (null === finishedWork.alternate ||\n                        finishedWork.alternate.child !== finishedWork.child)),\n                  endTime\n                ),\n                (finishedWork.mode & ProfileMode) === NoMode ||\n                  inHydratedSubtree ||\n                  ((finishedRoot = finishedWork.actualStartTime),\n                  0 <= finishedRoot &&\n                    0.05 < endTime - finishedRoot &&\n                    logComponentReappeared(finishedWork, finishedRoot, endTime),\n                  0 <= componentEffectStartTime &&\n                    0 <= componentEffectEndTime &&\n                    0.05 < componentEffectEndTime - componentEffectStartTime &&\n                    logComponentReappeared(\n                      finishedWork,\n                      componentEffectStartTime,\n                      componentEffectEndTime\n                    )));\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              prevProfilerEffectDuration,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraversePassiveMountEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            endTime\n          );\n      }\n      if ((finishedWork.mode & ProfileMode) !== NoMode) {\n        if (\n          (finishedRoot =\n            !inHydratedSubtree &&\n            null === finishedWork.alternate &&\n            null !== finishedWork.return &&\n            null !== finishedWork.return.alternate)\n        )\n          (committedLanes = finishedWork.actualStartTime),\n            0 <= committedLanes &&\n              0.05 < endTime - committedLanes &&\n              logComponentTrigger(\n                finishedWork,\n                committedLanes,\n                endTime,\n                \"Mount\"\n              );\n        0 <= componentEffectStartTime &&\n          0 <= componentEffectEndTime &&\n          ((componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n            logComponentEffect(\n              finishedWork,\n              componentEffectStartTime,\n              componentEffectEndTime,\n              componentEffectDuration,\n              componentEffectErrors\n            ),\n          finishedRoot &&\n            0.05 < componentEffectEndTime - componentEffectStartTime &&\n            logComponentTrigger(\n              finishedWork,\n              componentEffectStartTime,\n              componentEffectEndTime,\n              \"Mount\"\n            ));\n      }\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n      alreadyWarnedForDeepEquality = prevDeepEquality;\n    }\n    function recursivelyTraverseReconnectPassiveEffects(\n      finishedRoot,\n      parentFiber,\n      committedLanes,\n      committedTransitions,\n      includeWorkInProgressEffects,\n      endTime\n    ) {\n      includeWorkInProgressEffects =\n        includeWorkInProgressEffects &&\n        (0 !== (parentFiber.subtreeFlags & 10256) ||\n          (0 !== parentFiber.actualDuration &&\n            (null === parentFiber.alternate ||\n              parentFiber.alternate.child !== parentFiber.child)));\n      for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n        var nextSibling = parentFiber.sibling;\n        reconnectPassiveEffects(\n          finishedRoot,\n          parentFiber,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects,\n          null !== nextSibling ? nextSibling.actualStartTime : endTime\n        );\n        parentFiber = nextSibling;\n      }\n    }\n    function reconnectPassiveEffects(\n      finishedRoot,\n      finishedWork,\n      committedLanes,\n      committedTransitions,\n      includeWorkInProgressEffects,\n      endTime\n    ) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate(),\n        prevDeepEquality = alreadyWarnedForDeepEquality;\n      includeWorkInProgressEffects &&\n        (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 < finishedWork.actualStartTime &&\n        0 !== (finishedWork.flags & 1) &&\n        logComponentRender(\n          finishedWork,\n          finishedWork.actualStartTime,\n          endTime,\n          inHydratedSubtree,\n          committedLanes\n        );\n      var flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          recursivelyTraverseReconnectPassiveEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            includeWorkInProgressEffects,\n            endTime\n          );\n          commitHookPassiveMountEffects(finishedWork, Passive);\n          break;\n        case 23:\n          break;\n        case 22:\n          var _instance2 = finishedWork.stateNode;\n          null !== finishedWork.memoizedState\n            ? _instance2._visibility & OffscreenPassiveEffectsConnected\n              ? recursivelyTraverseReconnectPassiveEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  includeWorkInProgressEffects,\n                  endTime\n                )\n              : recursivelyTraverseAtomicPassiveEffects(\n                  finishedRoot,\n                  finishedWork,\n                  committedLanes,\n                  committedTransitions,\n                  endTime\n                )\n            : ((_instance2._visibility |= OffscreenPassiveEffectsConnected),\n              recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects,\n                endTime\n              ));\n          includeWorkInProgressEffects &&\n            flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseReconnectPassiveEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            includeWorkInProgressEffects,\n            endTime\n          );\n          includeWorkInProgressEffects &&\n            flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseReconnectPassiveEffects(\n            finishedRoot,\n            finishedWork,\n            committedLanes,\n            committedTransitions,\n            includeWorkInProgressEffects,\n            endTime\n          );\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          finishedWork,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectErrors = prevEffectErrors;\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n      alreadyWarnedForDeepEquality = prevDeepEquality;\n    }\n    function recursivelyTraverseAtomicPassiveEffects(\n      finishedRoot$jscomp$0,\n      parentFiber,\n      committedLanes$jscomp$0,\n      committedTransitions$jscomp$0,\n      endTime$jscomp$0\n    ) {\n      if (\n        parentFiber.subtreeFlags & 10256 ||\n        (0 !== parentFiber.actualDuration &&\n          (null === parentFiber.alternate ||\n            parentFiber.alternate.child !== parentFiber.child))\n      )\n        for (var child = parentFiber.child; null !== child; ) {\n          parentFiber = child.sibling;\n          var finishedRoot = finishedRoot$jscomp$0,\n            committedLanes = committedLanes$jscomp$0,\n            committedTransitions = committedTransitions$jscomp$0,\n            endTime =\n              null !== parentFiber\n                ? parentFiber.actualStartTime\n                : endTime$jscomp$0,\n            prevDeepEquality = alreadyWarnedForDeepEquality;\n          (child.mode & ProfileMode) !== NoMode &&\n            0 < child.actualStartTime &&\n            0 !== (child.flags & 1) &&\n            logComponentRender(\n              child,\n              child.actualStartTime,\n              endTime,\n              inHydratedSubtree,\n              committedLanes\n            );\n          var flags = child.flags;\n          switch (child.tag) {\n            case 22:\n              recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                child,\n                committedLanes,\n                committedTransitions,\n                endTime\n              );\n              flags & 2048 &&\n                commitOffscreenPassiveMountEffects(child.alternate, child);\n              break;\n            case 24:\n              recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                child,\n                committedLanes,\n                committedTransitions,\n                endTime\n              );\n              flags & 2048 &&\n                commitCachePassiveMountEffect(child.alternate, child);\n              break;\n            default:\n              recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                child,\n                committedLanes,\n                committedTransitions,\n                endTime\n              );\n          }\n          alreadyWarnedForDeepEquality = prevDeepEquality;\n          child = parentFiber;\n        }\n    }\n    function recursivelyAccumulateSuspenseyCommit(\n      parentFiber,\n      committedLanes,\n      suspendedState\n    ) {\n      if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n        for (parentFiber = parentFiber.child; null !== parentFiber; )\n          accumulateSuspenseyCommitOnFiber(\n            parentFiber,\n            committedLanes,\n            suspendedState\n          ),\n            (parentFiber = parentFiber.sibling);\n    }\n    function accumulateSuspenseyCommitOnFiber(\n      fiber,\n      committedLanes,\n      suspendedState\n    ) {\n      switch (fiber.tag) {\n        case 26:\n          recursivelyAccumulateSuspenseyCommit(\n            fiber,\n            committedLanes,\n            suspendedState\n          );\n          fiber.flags & suspenseyCommitFlag &&\n            null !== fiber.memoizedState &&\n            suspendResource(\n              suspendedState,\n              currentHoistableRoot,\n              fiber.memoizedState,\n              fiber.memoizedProps\n            );\n          break;\n        case 5:\n          recursivelyAccumulateSuspenseyCommit(\n            fiber,\n            committedLanes,\n            suspendedState\n          );\n          break;\n        case 3:\n        case 4:\n          var previousHoistableRoot = currentHoistableRoot;\n          currentHoistableRoot = getHoistableRoot(\n            fiber.stateNode.containerInfo\n          );\n          recursivelyAccumulateSuspenseyCommit(\n            fiber,\n            committedLanes,\n            suspendedState\n          );\n          currentHoistableRoot = previousHoistableRoot;\n          break;\n        case 22:\n          null === fiber.memoizedState &&\n            ((previousHoistableRoot = fiber.alternate),\n            null !== previousHoistableRoot &&\n            null !== previousHoistableRoot.memoizedState\n              ? ((previousHoistableRoot = suspenseyCommitFlag),\n                (suspenseyCommitFlag = 16777216),\n                recursivelyAccumulateSuspenseyCommit(\n                  fiber,\n                  committedLanes,\n                  suspendedState\n                ),\n                (suspenseyCommitFlag = previousHoistableRoot))\n              : recursivelyAccumulateSuspenseyCommit(\n                  fiber,\n                  committedLanes,\n                  suspendedState\n                ));\n          break;\n        default:\n          recursivelyAccumulateSuspenseyCommit(\n            fiber,\n            committedLanes,\n            suspendedState\n          );\n      }\n    }\n    function detachAlternateSiblings(parentFiber) {\n      var previousFiber = parentFiber.alternate;\n      if (\n        null !== previousFiber &&\n        ((parentFiber = previousFiber.child), null !== parentFiber)\n      ) {\n        previousFiber.child = null;\n        do\n          (previousFiber = parentFiber.sibling),\n            (parentFiber.sibling = null),\n            (parentFiber = previousFiber);\n        while (null !== parentFiber);\n      }\n    }\n    function recursivelyTraversePassiveUnmountEffects(parentFiber) {\n      var deletions = parentFiber.deletions;\n      if (0 !== (parentFiber.flags & 16)) {\n        if (null !== deletions)\n          for (var i = 0; i < deletions.length; i++) {\n            var childToDelete = deletions[i],\n              prevEffectStart = pushComponentEffectStart();\n            nextEffect = childToDelete;\n            commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n              childToDelete,\n              parentFiber\n            );\n            (childToDelete.mode & ProfileMode) !== NoMode &&\n              0 <= componentEffectStartTime &&\n              0 <= componentEffectEndTime &&\n              0.05 < componentEffectEndTime - componentEffectStartTime &&\n              logComponentTrigger(\n                childToDelete,\n                componentEffectStartTime,\n                componentEffectEndTime,\n                \"Unmount\"\n              );\n            popComponentEffectStart(prevEffectStart);\n          }\n        detachAlternateSiblings(parentFiber);\n      }\n      if (parentFiber.subtreeFlags & 10256)\n        for (parentFiber = parentFiber.child; null !== parentFiber; )\n          commitPassiveUnmountOnFiber(parentFiber),\n            (parentFiber = parentFiber.sibling);\n    }\n    function commitPassiveUnmountOnFiber(finishedWork) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate();\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          recursivelyTraversePassiveUnmountEffects(finishedWork);\n          finishedWork.flags & 2048 &&\n            commitHookPassiveUnmountEffects(\n              finishedWork,\n              finishedWork.return,\n              Passive | HasEffect\n            );\n          break;\n        case 3:\n          var prevProfilerEffectDuration = pushNestedEffectDurations();\n          recursivelyTraversePassiveUnmountEffects(finishedWork);\n          finishedWork.stateNode.passiveEffectDuration +=\n            popNestedEffectDurations(prevProfilerEffectDuration);\n          break;\n        case 12:\n          prevProfilerEffectDuration = pushNestedEffectDurations();\n          recursivelyTraversePassiveUnmountEffects(finishedWork);\n          finishedWork.stateNode.passiveEffectDuration +=\n            bubbleNestedEffectDurations(prevProfilerEffectDuration);\n          break;\n        case 22:\n          prevProfilerEffectDuration = finishedWork.stateNode;\n          null !== finishedWork.memoizedState &&\n          prevProfilerEffectDuration._visibility &\n            OffscreenPassiveEffectsConnected &&\n          (null === finishedWork.return || 13 !== finishedWork.return.tag)\n            ? ((prevProfilerEffectDuration._visibility &=\n                ~OffscreenPassiveEffectsConnected),\n              recursivelyTraverseDisconnectPassiveEffects(finishedWork),\n              (finishedWork.mode & ProfileMode) !== NoMode &&\n                0 <= componentEffectStartTime &&\n                0 <= componentEffectEndTime &&\n                0.05 < componentEffectEndTime - componentEffectStartTime &&\n                logComponentTrigger(\n                  finishedWork,\n                  componentEffectStartTime,\n                  componentEffectEndTime,\n                  \"Disconnect\"\n                ))\n            : recursivelyTraversePassiveUnmountEffects(finishedWork);\n          break;\n        default:\n          recursivelyTraversePassiveUnmountEffects(finishedWork);\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          finishedWork,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n      componentEffectErrors = prevEffectErrors;\n    }\n    function recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n      var deletions = parentFiber.deletions;\n      if (0 !== (parentFiber.flags & 16)) {\n        if (null !== deletions)\n          for (var i = 0; i < deletions.length; i++) {\n            var childToDelete = deletions[i],\n              prevEffectStart = pushComponentEffectStart();\n            nextEffect = childToDelete;\n            commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n              childToDelete,\n              parentFiber\n            );\n            (childToDelete.mode & ProfileMode) !== NoMode &&\n              0 <= componentEffectStartTime &&\n              0 <= componentEffectEndTime &&\n              0.05 < componentEffectEndTime - componentEffectStartTime &&\n              logComponentTrigger(\n                childToDelete,\n                componentEffectStartTime,\n                componentEffectEndTime,\n                \"Unmount\"\n              );\n            popComponentEffectStart(prevEffectStart);\n          }\n        detachAlternateSiblings(parentFiber);\n      }\n      for (parentFiber = parentFiber.child; null !== parentFiber; )\n        disconnectPassiveEffect(parentFiber),\n          (parentFiber = parentFiber.sibling);\n    }\n    function disconnectPassiveEffect(finishedWork) {\n      var prevEffectStart = pushComponentEffectStart(),\n        prevEffectDuration = pushComponentEffectDuration(),\n        prevEffectErrors = pushComponentEffectErrors(),\n        prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate();\n      switch (finishedWork.tag) {\n        case 0:\n        case 11:\n        case 15:\n          commitHookPassiveUnmountEffects(\n            finishedWork,\n            finishedWork.return,\n            Passive\n          );\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork);\n          break;\n        case 22:\n          var instance = finishedWork.stateNode;\n          instance._visibility & OffscreenPassiveEffectsConnected &&\n            ((instance._visibility &= ~OffscreenPassiveEffectsConnected),\n            recursivelyTraverseDisconnectPassiveEffects(finishedWork));\n          break;\n        default:\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork);\n      }\n      (finishedWork.mode & ProfileMode) !== NoMode &&\n        0 <= componentEffectStartTime &&\n        0 <= componentEffectEndTime &&\n        (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n        logComponentEffect(\n          finishedWork,\n          componentEffectStartTime,\n          componentEffectEndTime,\n          componentEffectDuration,\n          componentEffectErrors\n        );\n      popComponentEffectStart(prevEffectStart);\n      popComponentEffectDuration(prevEffectDuration);\n      componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n      componentEffectErrors = prevEffectErrors;\n    }\n    function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n      deletedSubtreeRoot,\n      nearestMountedAncestor$jscomp$0\n    ) {\n      for (; null !== nextEffect; ) {\n        var fiber = nextEffect,\n          current = fiber,\n          nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n          prevEffectStart = pushComponentEffectStart(),\n          prevEffectDuration = pushComponentEffectDuration(),\n          prevEffectErrors = pushComponentEffectErrors(),\n          prevEffectDidSpawnUpdate = pushComponentEffectDidSpawnUpdate();\n        switch (current.tag) {\n          case 0:\n          case 11:\n          case 15:\n            commitHookPassiveUnmountEffects(\n              current,\n              nearestMountedAncestor,\n              Passive\n            );\n            break;\n          case 23:\n          case 22:\n            null !== current.memoizedState &&\n              null !== current.memoizedState.cachePool &&\n              ((nearestMountedAncestor = current.memoizedState.cachePool.pool),\n              null != nearestMountedAncestor &&\n                retainCache(nearestMountedAncestor));\n            break;\n          case 24:\n            releaseCache(current.memoizedState.cache);\n        }\n        (current.mode & ProfileMode) !== NoMode &&\n          0 <= componentEffectStartTime &&\n          0 <= componentEffectEndTime &&\n          (componentEffectSpawnedUpdate || 0.05 < componentEffectDuration) &&\n          logComponentEffect(\n            current,\n            componentEffectStartTime,\n            componentEffectEndTime,\n            componentEffectDuration,\n            componentEffectErrors\n          );\n        popComponentEffectStart(prevEffectStart);\n        popComponentEffectDuration(prevEffectDuration);\n        componentEffectSpawnedUpdate = prevEffectDidSpawnUpdate;\n        componentEffectErrors = prevEffectErrors;\n        current = fiber.child;\n        if (null !== current) (current.return = fiber), (nextEffect = current);\n        else\n          a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n            current = nextEffect;\n            prevEffectStart = current.sibling;\n            prevEffectDuration = current.return;\n            detachFiberAfterEffects(current);\n            if (current === fiber) {\n              nextEffect = null;\n              break a;\n            }\n            if (null !== prevEffectStart) {\n              prevEffectStart.return = prevEffectDuration;\n              nextEffect = prevEffectStart;\n              break a;\n            }\n            nextEffect = prevEffectDuration;\n          }\n      }\n    }\n    function onCommitRoot() {\n      commitHooks.forEach(function (commitHook) {\n        return commitHook();\n      });\n    }\n    function isConcurrentActEnvironment() {\n      var isReactActEnvironmentGlobal =\n        \"undefined\" !== typeof IS_REACT_ACT_ENVIRONMENT\n          ? IS_REACT_ACT_ENVIRONMENT\n          : void 0;\n      isReactActEnvironmentGlobal ||\n        null === ReactSharedInternals.actQueue ||\n        console.error(\n          \"The current testing environment is not configured to support act(...)\"\n        );\n      return isReactActEnvironmentGlobal;\n    }\n    function requestUpdateLane(fiber) {\n      if (\n        (executionContext & RenderContext) !== NoContext &&\n        0 !== workInProgressRootRenderLanes\n      )\n        return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n      var transition = ReactSharedInternals.T;\n      return null !== transition\n        ? (transition._updatedFibers || (transition._updatedFibers = new Set()),\n          transition._updatedFibers.add(fiber),\n          requestTransitionLane())\n        : resolveUpdatePriority();\n    }\n    function requestDeferredLane() {\n      if (0 === workInProgressDeferredLane)\n        if (0 === (workInProgressRootRenderLanes & 536870912) || isHydrating) {\n          var lane = nextTransitionDeferredLane;\n          nextTransitionDeferredLane <<= 1;\n          0 === (nextTransitionDeferredLane & 3932160) &&\n            (nextTransitionDeferredLane = 262144);\n          workInProgressDeferredLane = lane;\n        } else workInProgressDeferredLane = 536870912;\n      lane = suspenseHandlerStackCursor.current;\n      null !== lane && (lane.flags |= 32);\n      return workInProgressDeferredLane;\n    }\n    function scheduleUpdateOnFiber(root, fiber, lane) {\n      isRunningInsertionEffect &&\n        console.error(\"useInsertionEffect must not schedule updates.\");\n      isFlushingPassiveEffects && (didScheduleUpdateDuringPassiveEffects = !0);\n      if (\n        (root === workInProgressRoot &&\n          (workInProgressSuspendedReason === SuspendedOnData ||\n            workInProgressSuspendedReason === SuspendedOnAction)) ||\n        null !== root.cancelPendingCommit\n      )\n        prepareFreshStack(root, 0),\n          markRootSuspended(\n            root,\n            workInProgressRootRenderLanes,\n            workInProgressDeferredLane,\n            !1\n          );\n      markRootUpdated$1(root, lane);\n      if (\n        (executionContext & RenderContext) !== NoContext &&\n        root === workInProgressRoot\n      ) {\n        if (isRendering)\n          switch (fiber.tag) {\n            case 0:\n            case 11:\n            case 15:\n              root =\n                (workInProgress && getComponentNameFromFiber(workInProgress)) ||\n                \"Unknown\";\n              didWarnAboutUpdateInRenderForAnotherComponent.has(root) ||\n                (didWarnAboutUpdateInRenderForAnotherComponent.add(root),\n                (fiber = getComponentNameFromFiber(fiber) || \"Unknown\"),\n                console.error(\n                  \"Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render\",\n                  fiber,\n                  root,\n                  root\n                ));\n              break;\n            case 1:\n              didWarnAboutUpdateInRender ||\n                (console.error(\n                  \"Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.\"\n                ),\n                (didWarnAboutUpdateInRender = !0));\n          }\n      } else\n        isDevToolsPresent && addFiberToLanesMap(root, fiber, lane),\n          warnIfUpdatesNotWrappedWithActDEV(fiber),\n          root === workInProgressRoot &&\n            ((executionContext & RenderContext) === NoContext &&\n              (workInProgressRootInterleavedUpdatedLanes |= lane),\n            workInProgressRootExitStatus === RootSuspendedWithDelay &&\n              markRootSuspended(\n                root,\n                workInProgressRootRenderLanes,\n                workInProgressDeferredLane,\n                !1\n              )),\n          ensureRootIsScheduled(root);\n    }\n    function performWorkOnRoot(root, lanes, forceSync) {\n      if ((executionContext & (RenderContext | CommitContext)) !== NoContext)\n        throw Error(\"Should not already be working.\");\n      if (0 !== workInProgressRootRenderLanes && null !== workInProgress) {\n        var yieldedFiber = workInProgress,\n          yieldEndTime = now$1();\n        switch (yieldReason) {\n          case SuspendedOnImmediate:\n          case SuspendedOnData:\n            var startTime = yieldStartTime;\n            supportsUserTiming &&\n              ((yieldedFiber = yieldedFiber._debugTask)\n                ? yieldedFiber.run(\n                    console.timeStamp.bind(\n                      console,\n                      \"Suspended\",\n                      startTime,\n                      yieldEndTime,\n                      COMPONENTS_TRACK,\n                      void 0,\n                      \"primary-light\"\n                    )\n                  )\n                : console.timeStamp(\n                    \"Suspended\",\n                    startTime,\n                    yieldEndTime,\n                    COMPONENTS_TRACK,\n                    void 0,\n                    \"primary-light\"\n                  ));\n            break;\n          case SuspendedOnAction:\n            startTime = yieldStartTime;\n            supportsUserTiming &&\n              ((yieldedFiber = yieldedFiber._debugTask)\n                ? yieldedFiber.run(\n                    console.timeStamp.bind(\n                      console,\n                      \"Action\",\n                      startTime,\n                      yieldEndTime,\n                      COMPONENTS_TRACK,\n                      void 0,\n                      \"primary-light\"\n                    )\n                  )\n                : console.timeStamp(\n                    \"Action\",\n                    startTime,\n                    yieldEndTime,\n                    COMPONENTS_TRACK,\n                    void 0,\n                    \"primary-light\"\n                  ));\n            break;\n          default:\n            supportsUserTiming &&\n              ((yieldedFiber = yieldEndTime - yieldStartTime),\n              3 > yieldedFiber ||\n                console.timeStamp(\n                  \"Blocked\",\n                  yieldStartTime,\n                  yieldEndTime,\n                  COMPONENTS_TRACK,\n                  void 0,\n                  5 > yieldedFiber\n                    ? \"primary-light\"\n                    : 10 > yieldedFiber\n                      ? \"primary\"\n                      : 100 > yieldedFiber\n                        ? \"primary-dark\"\n                        : \"error\"\n                ));\n        }\n      }\n      startTime = (forceSync =\n        (!forceSync &&\n          0 === (lanes & 127) &&\n          0 === (lanes & root.expiredLanes)) ||\n        checkIfRootIsPrerendering(root, lanes))\n        ? renderRootConcurrent(root, lanes)\n        : renderRootSync(root, lanes, !0);\n      var renderWasConcurrent = forceSync;\n      do {\n        if (startTime === RootInProgress) {\n          workInProgressRootIsPrerendering &&\n            !forceSync &&\n            markRootSuspended(root, lanes, 0, !1);\n          lanes = workInProgressSuspendedReason;\n          yieldStartTime = now();\n          yieldReason = lanes;\n          break;\n        } else {\n          yieldedFiber = now$1();\n          yieldEndTime = root.current.alternate;\n          if (\n            renderWasConcurrent &&\n            !isRenderConsistentWithExternalStores(yieldEndTime)\n          ) {\n            setCurrentTrackFromLanes(lanes);\n            yieldEndTime = renderStartTime;\n            startTime = yieldedFiber;\n            !supportsUserTiming ||\n              startTime <= yieldEndTime ||\n              (workInProgressUpdateTask\n                ? workInProgressUpdateTask.run(\n                    console.timeStamp.bind(\n                      console,\n                      \"Teared Render\",\n                      yieldEndTime,\n                      startTime,\n                      currentTrack,\n                      LANES_TRACK_GROUP,\n                      \"error\"\n                    )\n                  )\n                : console.timeStamp(\n                    \"Teared Render\",\n                    yieldEndTime,\n                    startTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    \"error\"\n                  ));\n            finalizeRender(lanes, yieldedFiber);\n            startTime = renderRootSync(root, lanes, !1);\n            renderWasConcurrent = !1;\n            continue;\n          }\n          if (startTime === RootErrored) {\n            renderWasConcurrent = lanes;\n            if (root.errorRecoveryDisabledLanes & renderWasConcurrent)\n              var errorRetryLanes = 0;\n            else\n              (errorRetryLanes = root.pendingLanes & -536870913),\n                (errorRetryLanes =\n                  0 !== errorRetryLanes\n                    ? errorRetryLanes\n                    : errorRetryLanes & 536870912\n                      ? 536870912\n                      : 0);\n            if (0 !== errorRetryLanes) {\n              setCurrentTrackFromLanes(lanes);\n              logErroredRenderPhase(\n                renderStartTime,\n                yieldedFiber,\n                lanes,\n                workInProgressUpdateTask\n              );\n              finalizeRender(lanes, yieldedFiber);\n              lanes = errorRetryLanes;\n              a: {\n                yieldedFiber = root;\n                startTime = renderWasConcurrent;\n                renderWasConcurrent = workInProgressRootConcurrentErrors;\n                var wasRootDehydrated =\n                  yieldedFiber.current.memoizedState.isDehydrated;\n                wasRootDehydrated &&\n                  (prepareFreshStack(yieldedFiber, errorRetryLanes).flags |=\n                    256);\n                errorRetryLanes = renderRootSync(\n                  yieldedFiber,\n                  errorRetryLanes,\n                  !1\n                );\n                if (errorRetryLanes !== RootErrored) {\n                  if (\n                    workInProgressRootDidAttachPingListener &&\n                    !wasRootDehydrated\n                  ) {\n                    yieldedFiber.errorRecoveryDisabledLanes |= startTime;\n                    workInProgressRootInterleavedUpdatedLanes |= startTime;\n                    startTime = RootSuspendedWithDelay;\n                    break a;\n                  }\n                  yieldedFiber = workInProgressRootRecoverableErrors;\n                  workInProgressRootRecoverableErrors = renderWasConcurrent;\n                  null !== yieldedFiber &&\n                    (null === workInProgressRootRecoverableErrors\n                      ? (workInProgressRootRecoverableErrors = yieldedFiber)\n                      : workInProgressRootRecoverableErrors.push.apply(\n                          workInProgressRootRecoverableErrors,\n                          yieldedFiber\n                        ));\n                }\n                startTime = errorRetryLanes;\n              }\n              renderWasConcurrent = !1;\n              if (startTime !== RootErrored) continue;\n              else yieldedFiber = now$1();\n            }\n          }\n          if (startTime === RootFatalErrored) {\n            setCurrentTrackFromLanes(lanes);\n            logErroredRenderPhase(\n              renderStartTime,\n              yieldedFiber,\n              lanes,\n              workInProgressUpdateTask\n            );\n            finalizeRender(lanes, yieldedFiber);\n            prepareFreshStack(root, 0);\n            markRootSuspended(root, lanes, 0, !0);\n            break;\n          }\n          a: {\n            forceSync = root;\n            switch (startTime) {\n              case RootInProgress:\n              case RootFatalErrored:\n                throw Error(\"Root did not complete. This is a bug in React.\");\n              case RootSuspendedWithDelay:\n                if ((lanes & 4194048) !== lanes) break;\n              case RootSuspendedAtTheShell:\n                setCurrentTrackFromLanes(lanes);\n                logSuspendedRenderPhase(\n                  renderStartTime,\n                  yieldedFiber,\n                  lanes,\n                  workInProgressUpdateTask\n                );\n                finalizeRender(lanes, yieldedFiber);\n                yieldEndTime = lanes;\n                0 !== (yieldEndTime & 127)\n                  ? (blockingSuspendedTime = yieldedFiber)\n                  : 0 !== (yieldEndTime & 4194048) &&\n                    (transitionSuspendedTime = yieldedFiber);\n                markRootSuspended(\n                  forceSync,\n                  lanes,\n                  workInProgressDeferredLane,\n                  !workInProgressRootDidSkipSuspendedSiblings\n                );\n                break a;\n              case RootErrored:\n                workInProgressRootRecoverableErrors = null;\n                break;\n              case RootSuspended:\n              case RootCompleted:\n                break;\n              default:\n                throw Error(\"Unknown root exit status.\");\n            }\n            if (null !== ReactSharedInternals.actQueue)\n              commitRoot(\n                forceSync,\n                yieldEndTime,\n                lanes,\n                workInProgressRootRecoverableErrors,\n                workInProgressTransitions,\n                workInProgressRootDidIncludeRecursiveRenderUpdate,\n                workInProgressDeferredLane,\n                workInProgressRootInterleavedUpdatedLanes,\n                workInProgressSuspendedRetryLanes,\n                startTime,\n                null,\n                null,\n                renderStartTime,\n                yieldedFiber\n              );\n            else {\n              if (\n                (lanes & 62914560) === lanes &&\n                ((renderWasConcurrent =\n                  globalMostRecentFallbackTime +\n                  FALLBACK_THROTTLE_MS -\n                  now$1()),\n                10 < renderWasConcurrent)\n              ) {\n                markRootSuspended(\n                  forceSync,\n                  lanes,\n                  workInProgressDeferredLane,\n                  !workInProgressRootDidSkipSuspendedSiblings\n                );\n                if (0 !== getNextLanes(forceSync, 0, !0)) break a;\n                pendingEffectsLanes = lanes;\n                forceSync.timeoutHandle = scheduleTimeout(\n                  commitRootWhenReady.bind(\n                    null,\n                    forceSync,\n                    yieldEndTime,\n                    workInProgressRootRecoverableErrors,\n                    workInProgressTransitions,\n                    workInProgressRootDidIncludeRecursiveRenderUpdate,\n                    lanes,\n                    workInProgressDeferredLane,\n                    workInProgressRootInterleavedUpdatedLanes,\n                    workInProgressSuspendedRetryLanes,\n                    workInProgressRootDidSkipSuspendedSiblings,\n                    startTime,\n                    \"Throttled\",\n                    renderStartTime,\n                    yieldedFiber\n                  ),\n                  renderWasConcurrent\n                );\n                break a;\n              }\n              commitRootWhenReady(\n                forceSync,\n                yieldEndTime,\n                workInProgressRootRecoverableErrors,\n                workInProgressTransitions,\n                workInProgressRootDidIncludeRecursiveRenderUpdate,\n                lanes,\n                workInProgressDeferredLane,\n                workInProgressRootInterleavedUpdatedLanes,\n                workInProgressSuspendedRetryLanes,\n                workInProgressRootDidSkipSuspendedSiblings,\n                startTime,\n                null,\n                renderStartTime,\n                yieldedFiber\n              );\n            }\n          }\n        }\n        break;\n      } while (1);\n      ensureRootIsScheduled(root);\n    }\n    function commitRootWhenReady(\n      root,\n      finishedWork,\n      recoverableErrors,\n      transitions,\n      didIncludeRenderPhaseUpdate,\n      lanes,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes,\n      didSkipSuspendedSiblings,\n      exitStatus,\n      suspendedCommitReason,\n      completedRenderStartTime,\n      completedRenderEndTime\n    ) {\n      root.timeoutHandle = noTimeout;\n      var subtreeFlags = finishedWork.subtreeFlags,\n        suspendedState = null;\n      if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n        if (\n          ((suspendedState = {\n            stylesheets: null,\n            count: 0,\n            imgCount: 0,\n            imgBytes: 0,\n            suspenseyImages: [],\n            waitingForImages: !0,\n            waitingForViewTransition: !1,\n            unsuspend: noop$1\n          }),\n          accumulateSuspenseyCommitOnFiber(finishedWork, lanes, suspendedState),\n          (subtreeFlags =\n            (lanes & 62914560) === lanes\n              ? globalMostRecentFallbackTime - now$1()\n              : (lanes & 4194048) === lanes\n                ? globalMostRecentTransitionTime - now$1()\n                : 0),\n          (subtreeFlags = waitForCommitToBeReady(suspendedState, subtreeFlags)),\n          null !== subtreeFlags)\n        ) {\n          pendingEffectsLanes = lanes;\n          root.cancelPendingCommit = subtreeFlags(\n            commitRoot.bind(\n              null,\n              root,\n              finishedWork,\n              lanes,\n              recoverableErrors,\n              transitions,\n              didIncludeRenderPhaseUpdate,\n              spawnedLane,\n              updatedLanes,\n              suspendedRetryLanes,\n              exitStatus,\n              suspendedState,\n              suspendedState.waitingForViewTransition\n                ? \"Waiting for the previous Animation\"\n                : 0 < suspendedState.count\n                  ? 0 < suspendedState.imgCount\n                    ? \"Suspended on CSS and Images\"\n                    : \"Suspended on CSS\"\n                  : 1 === suspendedState.imgCount\n                    ? \"Suspended on an Image\"\n                    : 0 < suspendedState.imgCount\n                      ? \"Suspended on Images\"\n                      : null,\n              completedRenderStartTime,\n              completedRenderEndTime\n            )\n          );\n          markRootSuspended(\n            root,\n            lanes,\n            spawnedLane,\n            !didSkipSuspendedSiblings\n          );\n          return;\n        }\n      commitRoot(\n        root,\n        finishedWork,\n        lanes,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        exitStatus,\n        suspendedState,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n    }\n    function isRenderConsistentWithExternalStores(finishedWork) {\n      for (var node = finishedWork; ; ) {\n        var tag = node.tag;\n        if (\n          (0 === tag || 11 === tag || 15 === tag) &&\n          node.flags & 16384 &&\n          ((tag = node.updateQueue),\n          null !== tag && ((tag = tag.stores), null !== tag))\n        )\n          for (var i = 0; i < tag.length; i++) {\n            var check = tag[i],\n              getSnapshot = check.getSnapshot;\n            check = check.value;\n            try {\n              if (!objectIs(getSnapshot(), check)) return !1;\n            } catch (error) {\n              return !1;\n            }\n          }\n        tag = node.child;\n        if (node.subtreeFlags & 16384 && null !== tag)\n          (tag.return = node), (node = tag);\n        else {\n          if (node === finishedWork) break;\n          for (; null === node.sibling; ) {\n            if (null === node.return || node.return === finishedWork) return !0;\n            node = node.return;\n          }\n          node.sibling.return = node.return;\n          node = node.sibling;\n        }\n      }\n      return !0;\n    }\n    function markRootSuspended(\n      root,\n      suspendedLanes,\n      spawnedLane,\n      didAttemptEntireTree\n    ) {\n      suspendedLanes &= ~workInProgressRootPingedLanes;\n      suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n      root.suspendedLanes |= suspendedLanes;\n      root.pingedLanes &= ~suspendedLanes;\n      didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n      didAttemptEntireTree = root.expirationTimes;\n      for (var lanes = suspendedLanes; 0 < lanes; ) {\n        var index = 31 - clz32(lanes),\n          lane = 1 << index;\n        didAttemptEntireTree[index] = -1;\n        lanes &= ~lane;\n      }\n      0 !== spawnedLane &&\n        markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n    }\n    function flushSyncWork$1() {\n      return (executionContext & (RenderContext | CommitContext)) === NoContext\n        ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n        : !0;\n    }\n    function resetWorkInProgressStack() {\n      if (null !== workInProgress) {\n        if (workInProgressSuspendedReason === NotSuspended)\n          var interruptedWork = workInProgress.return;\n        else\n          (interruptedWork = workInProgress),\n            resetContextDependencies(),\n            resetHooksOnUnwind(interruptedWork),\n            (thenableState$1 = null),\n            (thenableIndexCounter$1 = 0),\n            (interruptedWork = workInProgress);\n        for (; null !== interruptedWork; )\n          unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n            (interruptedWork = interruptedWork.return);\n        workInProgress = null;\n      }\n    }\n    function finalizeRender(lanes, finalizationTime) {\n      0 !== (lanes & 127) && (blockingClampTime = finalizationTime);\n      0 !== (lanes & 4194048) && (transitionClampTime = finalizationTime);\n      0 !== (lanes & 62914560) && (retryClampTime = finalizationTime);\n      0 !== (lanes & 2080374784) && (idleClampTime = finalizationTime);\n    }\n    function prepareFreshStack(root, lanes) {\n      supportsUserTiming &&\n        (console.timeStamp(\n          \"Blocking Track\",\n          0.003,\n          0.003,\n          \"Blocking\",\n          LANES_TRACK_GROUP,\n          \"primary-light\"\n        ),\n        console.timeStamp(\n          \"Transition Track\",\n          0.003,\n          0.003,\n          \"Transition\",\n          LANES_TRACK_GROUP,\n          \"primary-light\"\n        ),\n        console.timeStamp(\n          \"Suspense Track\",\n          0.003,\n          0.003,\n          \"Suspense\",\n          LANES_TRACK_GROUP,\n          \"primary-light\"\n        ),\n        console.timeStamp(\n          \"Idle Track\",\n          0.003,\n          0.003,\n          \"Idle\",\n          LANES_TRACK_GROUP,\n          \"primary-light\"\n        ));\n      var previousRenderStartTime = renderStartTime;\n      renderStartTime = now();\n      if (0 !== workInProgressRootRenderLanes && 0 < previousRenderStartTime) {\n        setCurrentTrackFromLanes(workInProgressRootRenderLanes);\n        if (\n          workInProgressRootExitStatus === RootSuspended ||\n          workInProgressRootExitStatus === RootSuspendedWithDelay\n        )\n          logSuspendedRenderPhase(\n            previousRenderStartTime,\n            renderStartTime,\n            lanes,\n            workInProgressUpdateTask\n          );\n        else {\n          var endTime = renderStartTime,\n            debugTask = workInProgressUpdateTask;\n          if (supportsUserTiming && !(endTime <= previousRenderStartTime)) {\n            var color =\n                (lanes & 738197653) === lanes\n                  ? \"tertiary-dark\"\n                  : \"primary-dark\",\n              label =\n                (lanes & 536870912) === lanes\n                  ? \"Prewarm\"\n                  : (lanes & 201326741) === lanes\n                    ? \"Interrupted Hydration\"\n                    : \"Interrupted Render\";\n            debugTask\n              ? debugTask.run(\n                  console.timeStamp.bind(\n                    console,\n                    label,\n                    previousRenderStartTime,\n                    endTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    color\n                  )\n                )\n              : console.timeStamp(\n                  label,\n                  previousRenderStartTime,\n                  endTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  color\n                );\n          }\n        }\n        finalizeRender(workInProgressRootRenderLanes, renderStartTime);\n      }\n      previousRenderStartTime = workInProgressUpdateTask;\n      workInProgressUpdateTask = null;\n      if (0 !== (lanes & 127)) {\n        workInProgressUpdateTask = blockingUpdateTask;\n        debugTask =\n          0 <= blockingUpdateTime && blockingUpdateTime < blockingClampTime\n            ? blockingClampTime\n            : blockingUpdateTime;\n        endTime =\n          0 <= blockingEventTime && blockingEventTime < blockingClampTime\n            ? blockingClampTime\n            : blockingEventTime;\n        color =\n          0 <= endTime ? endTime : 0 <= debugTask ? debugTask : renderStartTime;\n        0 <= blockingSuspendedTime\n          ? (setCurrentTrackFromLanes(2),\n            logSuspendedWithDelayPhase(\n              blockingSuspendedTime,\n              color,\n              lanes,\n              previousRenderStartTime\n            ))\n          : 0 !== (animatingLanes & 127) &&\n            (setCurrentTrackFromLanes(2),\n            logAnimatingPhase(blockingClampTime, color, animatingTask));\n        previousRenderStartTime = debugTask;\n        var eventTime = endTime,\n          eventType = blockingEventType,\n          eventIsRepeat = 0 < blockingEventRepeatTime,\n          isSpawnedUpdate = blockingUpdateType === SPAWNED_UPDATE,\n          isPingedUpdate = blockingUpdateType === PINGED_UPDATE;\n        debugTask = renderStartTime;\n        endTime = blockingUpdateTask;\n        color = blockingUpdateMethodName;\n        label = blockingUpdateComponentName;\n        if (supportsUserTiming) {\n          currentTrack = \"Blocking\";\n          0 < previousRenderStartTime\n            ? previousRenderStartTime > debugTask &&\n              (previousRenderStartTime = debugTask)\n            : (previousRenderStartTime = debugTask);\n          0 < eventTime\n            ? eventTime > previousRenderStartTime &&\n              (eventTime = previousRenderStartTime)\n            : (eventTime = previousRenderStartTime);\n          if (null !== eventType && previousRenderStartTime > eventTime) {\n            var color$jscomp$0 = eventIsRepeat ? \"secondary-light\" : \"warning\";\n            endTime\n              ? endTime.run(\n                  console.timeStamp.bind(\n                    console,\n                    eventIsRepeat ? \"Consecutive\" : \"Event: \" + eventType,\n                    eventTime,\n                    previousRenderStartTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    color$jscomp$0\n                  )\n                )\n              : console.timeStamp(\n                  eventIsRepeat ? \"Consecutive\" : \"Event: \" + eventType,\n                  eventTime,\n                  previousRenderStartTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  color$jscomp$0\n                );\n          }\n          debugTask > previousRenderStartTime &&\n            ((eventTime = isSpawnedUpdate\n              ? \"error\"\n              : (lanes & 738197653) === lanes\n                ? \"tertiary-light\"\n                : \"primary-light\"),\n            (isSpawnedUpdate = isPingedUpdate\n              ? \"Promise Resolved\"\n              : isSpawnedUpdate\n                ? \"Cascading Update\"\n                : 5 < debugTask - previousRenderStartTime\n                  ? \"Update Blocked\"\n                  : \"Update\"),\n            (isPingedUpdate = []),\n            null != label && isPingedUpdate.push([\"Component name\", label]),\n            null != color && isPingedUpdate.push([\"Method name\", color]),\n            (previousRenderStartTime = {\n              start: previousRenderStartTime,\n              end: debugTask,\n              detail: {\n                devtools: {\n                  properties: isPingedUpdate,\n                  track: currentTrack,\n                  trackGroup: LANES_TRACK_GROUP,\n                  color: eventTime\n                }\n              }\n            }),\n            endTime\n              ? endTime.run(\n                  performance.measure.bind(\n                    performance,\n                    isSpawnedUpdate,\n                    previousRenderStartTime\n                  )\n                )\n              : performance.measure(isSpawnedUpdate, previousRenderStartTime));\n        }\n        blockingUpdateTime = -1.1;\n        blockingUpdateType = 0;\n        blockingUpdateComponentName = blockingUpdateMethodName = null;\n        blockingSuspendedTime = -1.1;\n        blockingEventRepeatTime = blockingEventTime;\n        blockingEventTime = -1.1;\n        blockingClampTime = now();\n      }\n      0 !== (lanes & 4194048) &&\n        ((workInProgressUpdateTask = transitionUpdateTask),\n        (debugTask =\n          0 <= transitionStartTime && transitionStartTime < transitionClampTime\n            ? transitionClampTime\n            : transitionStartTime),\n        (previousRenderStartTime =\n          0 <= transitionUpdateTime &&\n          transitionUpdateTime < transitionClampTime\n            ? transitionClampTime\n            : transitionUpdateTime),\n        (endTime =\n          0 <= transitionEventTime && transitionEventTime < transitionClampTime\n            ? transitionClampTime\n            : transitionEventTime),\n        (color =\n          0 <= endTime\n            ? endTime\n            : 0 <= previousRenderStartTime\n              ? previousRenderStartTime\n              : renderStartTime),\n        0 <= transitionSuspendedTime\n          ? (setCurrentTrackFromLanes(256),\n            logSuspendedWithDelayPhase(\n              transitionSuspendedTime,\n              color,\n              lanes,\n              workInProgressUpdateTask\n            ))\n          : 0 !== (animatingLanes & 4194048) &&\n            (setCurrentTrackFromLanes(256),\n            logAnimatingPhase(transitionClampTime, color, animatingTask)),\n        (isPingedUpdate = endTime),\n        (eventTime = transitionEventType),\n        (eventType = 0 < transitionEventRepeatTime),\n        (eventIsRepeat = transitionUpdateType === PINGED_UPDATE),\n        (color = renderStartTime),\n        (endTime = transitionUpdateTask),\n        (label = transitionUpdateMethodName),\n        (isSpawnedUpdate = transitionUpdateComponentName),\n        supportsUserTiming &&\n          ((currentTrack = \"Transition\"),\n          0 < previousRenderStartTime\n            ? previousRenderStartTime > color &&\n              (previousRenderStartTime = color)\n            : (previousRenderStartTime = color),\n          0 < debugTask\n            ? debugTask > previousRenderStartTime &&\n              (debugTask = previousRenderStartTime)\n            : (debugTask = previousRenderStartTime),\n          0 < isPingedUpdate\n            ? isPingedUpdate > debugTask && (isPingedUpdate = debugTask)\n            : (isPingedUpdate = debugTask),\n          debugTask > isPingedUpdate &&\n            null !== eventTime &&\n            ((color$jscomp$0 = eventType ? \"secondary-light\" : \"warning\"),\n            endTime\n              ? endTime.run(\n                  console.timeStamp.bind(\n                    console,\n                    eventType ? \"Consecutive\" : \"Event: \" + eventTime,\n                    isPingedUpdate,\n                    debugTask,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    color$jscomp$0\n                  )\n                )\n              : console.timeStamp(\n                  eventType ? \"Consecutive\" : \"Event: \" + eventTime,\n                  isPingedUpdate,\n                  debugTask,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  color$jscomp$0\n                )),\n          previousRenderStartTime > debugTask &&\n            (endTime\n              ? endTime.run(\n                  console.timeStamp.bind(\n                    console,\n                    \"Action\",\n                    debugTask,\n                    previousRenderStartTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    \"primary-dark\"\n                  )\n                )\n              : console.timeStamp(\n                  \"Action\",\n                  debugTask,\n                  previousRenderStartTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  \"primary-dark\"\n                )),\n          color > previousRenderStartTime &&\n            ((debugTask = eventIsRepeat\n              ? \"Promise Resolved\"\n              : 5 < color - previousRenderStartTime\n                ? \"Update Blocked\"\n                : \"Update\"),\n            (isPingedUpdate = []),\n            null != isSpawnedUpdate &&\n              isPingedUpdate.push([\"Component name\", isSpawnedUpdate]),\n            null != label && isPingedUpdate.push([\"Method name\", label]),\n            (previousRenderStartTime = {\n              start: previousRenderStartTime,\n              end: color,\n              detail: {\n                devtools: {\n                  properties: isPingedUpdate,\n                  track: currentTrack,\n                  trackGroup: LANES_TRACK_GROUP,\n                  color: \"primary-light\"\n                }\n              }\n            }),\n            endTime\n              ? endTime.run(\n                  performance.measure.bind(\n                    performance,\n                    debugTask,\n                    previousRenderStartTime\n                  )\n                )\n              : performance.measure(debugTask, previousRenderStartTime))),\n        (transitionUpdateTime = transitionStartTime = -1.1),\n        (transitionUpdateType = 0),\n        (transitionSuspendedTime = -1.1),\n        (transitionEventRepeatTime = transitionEventTime),\n        (transitionEventTime = -1.1),\n        (transitionClampTime = now()));\n      0 !== (lanes & 62914560) &&\n        0 !== (animatingLanes & 62914560) &&\n        (setCurrentTrackFromLanes(4194304),\n        logAnimatingPhase(retryClampTime, renderStartTime, animatingTask));\n      0 !== (lanes & 2080374784) &&\n        0 !== (animatingLanes & 2080374784) &&\n        (setCurrentTrackFromLanes(268435456),\n        logAnimatingPhase(idleClampTime, renderStartTime, animatingTask));\n      previousRenderStartTime = root.timeoutHandle;\n      previousRenderStartTime !== noTimeout &&\n        ((root.timeoutHandle = noTimeout),\n        cancelTimeout(previousRenderStartTime));\n      previousRenderStartTime = root.cancelPendingCommit;\n      null !== previousRenderStartTime &&\n        ((root.cancelPendingCommit = null), previousRenderStartTime());\n      pendingEffectsLanes = 0;\n      resetWorkInProgressStack();\n      workInProgressRoot = root;\n      workInProgress = previousRenderStartTime = createWorkInProgress(\n        root.current,\n        null\n      );\n      workInProgressRootRenderLanes = lanes;\n      workInProgressSuspendedReason = NotSuspended;\n      workInProgressThrownValue = null;\n      workInProgressRootDidSkipSuspendedSiblings = !1;\n      workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n      workInProgressRootDidAttachPingListener = !1;\n      workInProgressRootExitStatus = RootInProgress;\n      workInProgressSuspendedRetryLanes =\n        workInProgressDeferredLane =\n        workInProgressRootPingedLanes =\n        workInProgressRootInterleavedUpdatedLanes =\n        workInProgressRootSkippedLanes =\n          0;\n      workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n        null;\n      workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n      0 !== (lanes & 8) && (lanes |= lanes & 32);\n      endTime = root.entangledLanes;\n      if (0 !== endTime)\n        for (root = root.entanglements, endTime &= lanes; 0 < endTime; )\n          (debugTask = 31 - clz32(endTime)),\n            (color = 1 << debugTask),\n            (lanes |= root[debugTask]),\n            (endTime &= ~color);\n      entangledRenderLanes = lanes;\n      finishQueueingConcurrentUpdates();\n      root = getCurrentTime();\n      1e3 < root - lastResetTime &&\n        ((ReactSharedInternals.recentlyCreatedOwnerStacks = 0),\n        (lastResetTime = root));\n      ReactStrictModeWarnings.discardPendingWarnings();\n      return previousRenderStartTime;\n    }\n    function handleThrow(root, thrownValue) {\n      currentlyRenderingFiber = null;\n      ReactSharedInternals.H = ContextOnlyDispatcher;\n      ReactSharedInternals.getCurrentStack = null;\n      isRendering = !1;\n      current = null;\n      thrownValue === SuspenseException ||\n      thrownValue === SuspenseActionException\n        ? ((thrownValue = getSuspendedThenable()),\n          (workInProgressSuspendedReason = SuspendedOnImmediate))\n        : thrownValue === SuspenseyCommitException\n          ? ((thrownValue = getSuspendedThenable()),\n            (workInProgressSuspendedReason = SuspendedOnInstance))\n          : (workInProgressSuspendedReason =\n              thrownValue === SelectiveHydrationException\n                ? SuspendedOnHydration\n                : null !== thrownValue &&\n                    \"object\" === typeof thrownValue &&\n                    \"function\" === typeof thrownValue.then\n                  ? SuspendedOnDeprecatedThrowPromise\n                  : SuspendedOnError);\n      workInProgressThrownValue = thrownValue;\n      var erroredWork = workInProgress;\n      null === erroredWork\n        ? ((workInProgressRootExitStatus = RootFatalErrored),\n          logUncaughtError(\n            root,\n            createCapturedValueAtFiber(thrownValue, root.current)\n          ))\n        : erroredWork.mode & ProfileMode &&\n          stopProfilerTimerIfRunningAndRecordDuration(erroredWork);\n    }\n    function shouldRemainOnPreviousScreen() {\n      var handler = suspenseHandlerStackCursor.current;\n      return null === handler\n        ? !0\n        : (workInProgressRootRenderLanes & 4194048) ===\n            workInProgressRootRenderLanes\n          ? null === shellBoundary\n            ? !0\n            : !1\n          : (workInProgressRootRenderLanes & 62914560) ===\n                workInProgressRootRenderLanes ||\n              0 !== (workInProgressRootRenderLanes & 536870912)\n            ? handler === shellBoundary\n            : !1;\n    }\n    function pushDispatcher() {\n      var prevDispatcher = ReactSharedInternals.H;\n      ReactSharedInternals.H = ContextOnlyDispatcher;\n      return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n    }\n    function pushAsyncDispatcher() {\n      var prevAsyncDispatcher = ReactSharedInternals.A;\n      ReactSharedInternals.A = DefaultAsyncDispatcher;\n      return prevAsyncDispatcher;\n    }\n    function markRenderDerivedCause(fiber) {\n      null === workInProgressUpdateTask &&\n        (workInProgressUpdateTask =\n          null == fiber._debugTask ? null : fiber._debugTask);\n    }\n    function renderDidSuspendDelayIfPossible() {\n      workInProgressRootExitStatus = RootSuspendedWithDelay;\n      workInProgressRootDidSkipSuspendedSiblings ||\n        ((workInProgressRootRenderLanes & 4194048) !==\n          workInProgressRootRenderLanes &&\n          null !== suspenseHandlerStackCursor.current) ||\n        (workInProgressRootIsPrerendering = !0);\n      (0 === (workInProgressRootSkippedLanes & 134217727) &&\n        0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n        null === workInProgressRoot ||\n        markRootSuspended(\n          workInProgressRoot,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        );\n    }\n    function renderRootSync(root, lanes, shouldYieldForPrerendering) {\n      var prevExecutionContext = executionContext;\n      executionContext |= RenderContext;\n      var prevDispatcher = pushDispatcher(),\n        prevAsyncDispatcher = pushAsyncDispatcher();\n      if (\n        workInProgressRoot !== root ||\n        workInProgressRootRenderLanes !== lanes\n      ) {\n        if (isDevToolsPresent) {\n          var memoizedUpdaters = root.memoizedUpdaters;\n          0 < memoizedUpdaters.size &&\n            (restorePendingUpdaters(root, workInProgressRootRenderLanes),\n            memoizedUpdaters.clear());\n          movePendingFibersToMemoized(root, lanes);\n        }\n        workInProgressTransitions = null;\n        prepareFreshStack(root, lanes);\n      }\n      lanes = !1;\n      memoizedUpdaters = workInProgressRootExitStatus;\n      a: do\n        try {\n          if (\n            workInProgressSuspendedReason !== NotSuspended &&\n            null !== workInProgress\n          ) {\n            var unitOfWork = workInProgress,\n              thrownValue = workInProgressThrownValue;\n            switch (workInProgressSuspendedReason) {\n              case SuspendedOnHydration:\n                resetWorkInProgressStack();\n                memoizedUpdaters = RootSuspendedAtTheShell;\n                break a;\n              case SuspendedOnImmediate:\n              case SuspendedOnData:\n              case SuspendedOnAction:\n              case SuspendedOnDeprecatedThrowPromise:\n                null === suspenseHandlerStackCursor.current && (lanes = !0);\n                var reason = workInProgressSuspendedReason;\n                workInProgressSuspendedReason = NotSuspended;\n                workInProgressThrownValue = null;\n                throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n                if (\n                  shouldYieldForPrerendering &&\n                  workInProgressRootIsPrerendering\n                ) {\n                  memoizedUpdaters = RootInProgress;\n                  break a;\n                }\n                break;\n              default:\n                (reason = workInProgressSuspendedReason),\n                  (workInProgressSuspendedReason = NotSuspended),\n                  (workInProgressThrownValue = null),\n                  throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            }\n          }\n          workLoopSync();\n          memoizedUpdaters = workInProgressRootExitStatus;\n          break;\n        } catch (thrownValue$8) {\n          handleThrow(root, thrownValue$8);\n        }\n      while (1);\n      lanes && root.shellSuspendCounter++;\n      resetContextDependencies();\n      executionContext = prevExecutionContext;\n      ReactSharedInternals.H = prevDispatcher;\n      ReactSharedInternals.A = prevAsyncDispatcher;\n      null === workInProgress &&\n        ((workInProgressRoot = null),\n        (workInProgressRootRenderLanes = 0),\n        finishQueueingConcurrentUpdates());\n      return memoizedUpdaters;\n    }\n    function workLoopSync() {\n      for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n    }\n    function renderRootConcurrent(root, lanes) {\n      var prevExecutionContext = executionContext;\n      executionContext |= RenderContext;\n      var prevDispatcher = pushDispatcher(),\n        prevAsyncDispatcher = pushAsyncDispatcher();\n      if (\n        workInProgressRoot !== root ||\n        workInProgressRootRenderLanes !== lanes\n      ) {\n        if (isDevToolsPresent) {\n          var memoizedUpdaters = root.memoizedUpdaters;\n          0 < memoizedUpdaters.size &&\n            (restorePendingUpdaters(root, workInProgressRootRenderLanes),\n            memoizedUpdaters.clear());\n          movePendingFibersToMemoized(root, lanes);\n        }\n        workInProgressTransitions = null;\n        workInProgressRootRenderTargetTime = now$1() + RENDER_TIMEOUT_MS;\n        prepareFreshStack(root, lanes);\n      } else\n        workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n          root,\n          lanes\n        );\n      a: do\n        try {\n          if (\n            workInProgressSuspendedReason !== NotSuspended &&\n            null !== workInProgress\n          )\n            b: switch (\n              ((lanes = workInProgress),\n              (memoizedUpdaters = workInProgressThrownValue),\n              workInProgressSuspendedReason)\n            ) {\n              case SuspendedOnError:\n                workInProgressSuspendedReason = NotSuspended;\n                workInProgressThrownValue = null;\n                throwAndUnwindWorkLoop(\n                  root,\n                  lanes,\n                  memoizedUpdaters,\n                  SuspendedOnError\n                );\n                break;\n              case SuspendedOnData:\n              case SuspendedOnAction:\n                if (isThenableResolved(memoizedUpdaters)) {\n                  workInProgressSuspendedReason = NotSuspended;\n                  workInProgressThrownValue = null;\n                  replaySuspendedUnitOfWork(lanes);\n                  break;\n                }\n                lanes = function () {\n                  (workInProgressSuspendedReason !== SuspendedOnData &&\n                    workInProgressSuspendedReason !== SuspendedOnAction) ||\n                    workInProgressRoot !== root ||\n                    (workInProgressSuspendedReason =\n                      SuspendedAndReadyToContinue);\n                  ensureRootIsScheduled(root);\n                };\n                memoizedUpdaters.then(lanes, lanes);\n                break a;\n              case SuspendedOnImmediate:\n                workInProgressSuspendedReason = SuspendedAndReadyToContinue;\n                break a;\n              case SuspendedOnInstance:\n                workInProgressSuspendedReason =\n                  SuspendedOnInstanceAndReadyToContinue;\n                break a;\n              case SuspendedAndReadyToContinue:\n                isThenableResolved(memoizedUpdaters)\n                  ? ((workInProgressSuspendedReason = NotSuspended),\n                    (workInProgressThrownValue = null),\n                    replaySuspendedUnitOfWork(lanes))\n                  : ((workInProgressSuspendedReason = NotSuspended),\n                    (workInProgressThrownValue = null),\n                    throwAndUnwindWorkLoop(\n                      root,\n                      lanes,\n                      memoizedUpdaters,\n                      SuspendedAndReadyToContinue\n                    ));\n                break;\n              case SuspendedOnInstanceAndReadyToContinue:\n                var resource = null;\n                switch (workInProgress.tag) {\n                  case 26:\n                    resource = workInProgress.memoizedState;\n                  case 5:\n                  case 27:\n                    var hostFiber = workInProgress;\n                    if (\n                      resource\n                        ? preloadResource(resource)\n                        : hostFiber.stateNode.complete\n                    ) {\n                      workInProgressSuspendedReason = NotSuspended;\n                      workInProgressThrownValue = null;\n                      var sibling = hostFiber.sibling;\n                      if (null !== sibling) workInProgress = sibling;\n                      else {\n                        var returnFiber = hostFiber.return;\n                        null !== returnFiber\n                          ? ((workInProgress = returnFiber),\n                            completeUnitOfWork(returnFiber))\n                          : (workInProgress = null);\n                      }\n                      break b;\n                    }\n                    break;\n                  default:\n                    console.error(\n                      \"Unexpected type of fiber triggered a suspensey commit. This is a bug in React.\"\n                    );\n                }\n                workInProgressSuspendedReason = NotSuspended;\n                workInProgressThrownValue = null;\n                throwAndUnwindWorkLoop(\n                  root,\n                  lanes,\n                  memoizedUpdaters,\n                  SuspendedOnInstanceAndReadyToContinue\n                );\n                break;\n              case SuspendedOnDeprecatedThrowPromise:\n                workInProgressSuspendedReason = NotSuspended;\n                workInProgressThrownValue = null;\n                throwAndUnwindWorkLoop(\n                  root,\n                  lanes,\n                  memoizedUpdaters,\n                  SuspendedOnDeprecatedThrowPromise\n                );\n                break;\n              case SuspendedOnHydration:\n                resetWorkInProgressStack();\n                workInProgressRootExitStatus = RootSuspendedAtTheShell;\n                break a;\n              default:\n                throw Error(\n                  \"Unexpected SuspendedReason. This is a bug in React.\"\n                );\n            }\n          null !== ReactSharedInternals.actQueue\n            ? workLoopSync()\n            : workLoopConcurrentByScheduler();\n          break;\n        } catch (thrownValue$9) {\n          handleThrow(root, thrownValue$9);\n        }\n      while (1);\n      resetContextDependencies();\n      ReactSharedInternals.H = prevDispatcher;\n      ReactSharedInternals.A = prevAsyncDispatcher;\n      executionContext = prevExecutionContext;\n      if (null !== workInProgress) return RootInProgress;\n      workInProgressRoot = null;\n      workInProgressRootRenderLanes = 0;\n      finishQueueingConcurrentUpdates();\n      return workInProgressRootExitStatus;\n    }\n    function workLoopConcurrentByScheduler() {\n      for (; null !== workInProgress && !shouldYield(); )\n        performUnitOfWork(workInProgress);\n    }\n    function performUnitOfWork(unitOfWork) {\n      var current = unitOfWork.alternate;\n      (unitOfWork.mode & ProfileMode) !== NoMode\n        ? (startProfilerTimer(unitOfWork),\n          (current = runWithFiberInDEV(\n            unitOfWork,\n            beginWork,\n            current,\n            unitOfWork,\n            entangledRenderLanes\n          )),\n          stopProfilerTimerIfRunningAndRecordDuration(unitOfWork))\n        : (current = runWithFiberInDEV(\n            unitOfWork,\n            beginWork,\n            current,\n            unitOfWork,\n            entangledRenderLanes\n          ));\n      unitOfWork.memoizedProps = unitOfWork.pendingProps;\n      null === current\n        ? completeUnitOfWork(unitOfWork)\n        : (workInProgress = current);\n    }\n    function replaySuspendedUnitOfWork(unitOfWork) {\n      var next = runWithFiberInDEV(unitOfWork, replayBeginWork, unitOfWork);\n      unitOfWork.memoizedProps = unitOfWork.pendingProps;\n      null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n    }\n    function replayBeginWork(unitOfWork) {\n      var current = unitOfWork.alternate,\n        isProfilingMode = (unitOfWork.mode & ProfileMode) !== NoMode;\n      isProfilingMode && startProfilerTimer(unitOfWork);\n      switch (unitOfWork.tag) {\n        case 15:\n        case 0:\n          current = replayFunctionComponent(\n            current,\n            unitOfWork,\n            unitOfWork.pendingProps,\n            unitOfWork.type,\n            void 0,\n            workInProgressRootRenderLanes\n          );\n          break;\n        case 11:\n          current = replayFunctionComponent(\n            current,\n            unitOfWork,\n            unitOfWork.pendingProps,\n            unitOfWork.type.render,\n            unitOfWork.ref,\n            workInProgressRootRenderLanes\n          );\n          break;\n        case 5:\n          resetHooksOnUnwind(unitOfWork);\n        default:\n          unwindInterruptedWork(current, unitOfWork),\n            (unitOfWork = workInProgress =\n              resetWorkInProgress(unitOfWork, entangledRenderLanes)),\n            (current = beginWork(current, unitOfWork, entangledRenderLanes));\n      }\n      isProfilingMode &&\n        stopProfilerTimerIfRunningAndRecordDuration(unitOfWork);\n      return current;\n    }\n    function throwAndUnwindWorkLoop(\n      root,\n      unitOfWork,\n      thrownValue,\n      suspendedReason\n    ) {\n      resetContextDependencies();\n      resetHooksOnUnwind(unitOfWork);\n      thenableState$1 = null;\n      thenableIndexCounter$1 = 0;\n      var returnFiber = unitOfWork.return;\n      try {\n        if (\n          throwException(\n            root,\n            returnFiber,\n            unitOfWork,\n            thrownValue,\n            workInProgressRootRenderLanes\n          )\n        ) {\n          workInProgressRootExitStatus = RootFatalErrored;\n          logUncaughtError(\n            root,\n            createCapturedValueAtFiber(thrownValue, root.current)\n          );\n          workInProgress = null;\n          return;\n        }\n      } catch (error) {\n        if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n        workInProgressRootExitStatus = RootFatalErrored;\n        logUncaughtError(\n          root,\n          createCapturedValueAtFiber(thrownValue, root.current)\n        );\n        workInProgress = null;\n        return;\n      }\n      if (unitOfWork.flags & 32768) {\n        if (isHydrating || suspendedReason === SuspendedOnError) root = !0;\n        else if (\n          workInProgressRootIsPrerendering ||\n          0 !== (workInProgressRootRenderLanes & 536870912)\n        )\n          root = !1;\n        else if (\n          ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n          suspendedReason === SuspendedOnData ||\n            suspendedReason === SuspendedOnAction ||\n            suspendedReason === SuspendedOnImmediate ||\n            suspendedReason === SuspendedOnDeprecatedThrowPromise)\n        )\n          (suspendedReason = suspenseHandlerStackCursor.current),\n            null !== suspendedReason &&\n              13 === suspendedReason.tag &&\n              (suspendedReason.flags |= 16384);\n        unwindUnitOfWork(unitOfWork, root);\n      } else completeUnitOfWork(unitOfWork);\n    }\n    function completeUnitOfWork(unitOfWork) {\n      var completedWork = unitOfWork;\n      do {\n        if (0 !== (completedWork.flags & 32768)) {\n          unwindUnitOfWork(\n            completedWork,\n            workInProgressRootDidSkipSuspendedSiblings\n          );\n          return;\n        }\n        var current = completedWork.alternate;\n        unitOfWork = completedWork.return;\n        startProfilerTimer(completedWork);\n        current = runWithFiberInDEV(\n          completedWork,\n          completeWork,\n          current,\n          completedWork,\n          entangledRenderLanes\n        );\n        (completedWork.mode & ProfileMode) !== NoMode &&\n          stopProfilerTimerIfRunningAndRecordIncompleteDuration(completedWork);\n        if (null !== current) {\n          workInProgress = current;\n          return;\n        }\n        completedWork = completedWork.sibling;\n        if (null !== completedWork) {\n          workInProgress = completedWork;\n          return;\n        }\n        workInProgress = completedWork = unitOfWork;\n      } while (null !== completedWork);\n      workInProgressRootExitStatus === RootInProgress &&\n        (workInProgressRootExitStatus = RootCompleted);\n    }\n    function unwindUnitOfWork(unitOfWork, skipSiblings) {\n      do {\n        var next = unwindWork(unitOfWork.alternate, unitOfWork);\n        if (null !== next) {\n          next.flags &= 32767;\n          workInProgress = next;\n          return;\n        }\n        if ((unitOfWork.mode & ProfileMode) !== NoMode) {\n          stopProfilerTimerIfRunningAndRecordIncompleteDuration(unitOfWork);\n          next = unitOfWork.actualDuration;\n          for (var child = unitOfWork.child; null !== child; )\n            (next += child.actualDuration), (child = child.sibling);\n          unitOfWork.actualDuration = next;\n        }\n        next = unitOfWork.return;\n        null !== next &&\n          ((next.flags |= 32768),\n          (next.subtreeFlags = 0),\n          (next.deletions = null));\n        if (\n          !skipSiblings &&\n          ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n        ) {\n          workInProgress = unitOfWork;\n          return;\n        }\n        workInProgress = unitOfWork = next;\n      } while (null !== unitOfWork);\n      workInProgressRootExitStatus = RootSuspendedAtTheShell;\n      workInProgress = null;\n    }\n    function commitRoot(\n      root,\n      finishedWork,\n      lanes,\n      recoverableErrors,\n      transitions,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes,\n      exitStatus,\n      suspendedState,\n      suspendedCommitReason,\n      completedRenderStartTime,\n      completedRenderEndTime\n    ) {\n      root.cancelPendingCommit = null;\n      do flushPendingEffects();\n      while (pendingEffectsStatus !== NO_PENDING_EFFECTS);\n      ReactStrictModeWarnings.flushLegacyContextWarning();\n      ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings();\n      if ((executionContext & (RenderContext | CommitContext)) !== NoContext)\n        throw Error(\"Should not already be working.\");\n      setCurrentTrackFromLanes(lanes);\n      exitStatus === RootErrored\n        ? logErroredRenderPhase(\n            completedRenderStartTime,\n            completedRenderEndTime,\n            lanes,\n            workInProgressUpdateTask\n          )\n        : null !== recoverableErrors\n          ? logRecoveredRenderPhase(\n              completedRenderStartTime,\n              completedRenderEndTime,\n              lanes,\n              recoverableErrors,\n              null !== finishedWork &&\n                null !== finishedWork.alternate &&\n                finishedWork.alternate.memoizedState.isDehydrated &&\n                0 !== (finishedWork.flags & 256),\n              workInProgressUpdateTask\n            )\n          : logRenderPhase(\n              completedRenderStartTime,\n              completedRenderEndTime,\n              lanes,\n              workInProgressUpdateTask\n            );\n      if (null !== finishedWork) {\n        0 === lanes &&\n          console.error(\n            \"finishedLanes should not be empty during a commit. This is a bug in React.\"\n          );\n        if (finishedWork === root.current)\n          throw Error(\n            \"Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n        didIncludeRenderPhaseUpdate =\n          finishedWork.lanes | finishedWork.childLanes;\n        didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n        markRootFinished(\n          root,\n          lanes,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes\n        );\n        root === workInProgressRoot &&\n          ((workInProgress = workInProgressRoot = null),\n          (workInProgressRootRenderLanes = 0));\n        pendingFinishedWork = finishedWork;\n        pendingEffectsRoot = root;\n        pendingEffectsLanes = lanes;\n        pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n        pendingPassiveTransitions = transitions;\n        pendingRecoverableErrors = recoverableErrors;\n        pendingEffectsRenderEndTime = completedRenderEndTime;\n        pendingSuspendedCommitReason = suspendedCommitReason;\n        pendingDelayedCommitReason = IMMEDIATE_COMMIT;\n        pendingSuspendedViewTransitionReason = null;\n        0 !== finishedWork.actualDuration ||\n        0 !== (finishedWork.subtreeFlags & 10256) ||\n        0 !== (finishedWork.flags & 10256)\n          ? ((root.callbackNode = null),\n            (root.callbackPriority = 0),\n            scheduleCallback$1(NormalPriority$1, function () {\n              schedulerEvent = window.event;\n              pendingDelayedCommitReason === IMMEDIATE_COMMIT &&\n                (pendingDelayedCommitReason = DELAYED_PASSIVE_COMMIT);\n              flushPassiveEffects();\n              return null;\n            }))\n          : ((root.callbackNode = null), (root.callbackPriority = 0));\n        commitErrors = null;\n        commitStartTime = now();\n        null !== suspendedCommitReason &&\n          logSuspendedCommitPhase(\n            completedRenderEndTime,\n            commitStartTime,\n            suspendedCommitReason,\n            workInProgressUpdateTask\n          );\n        recoverableErrors = 0 !== (finishedWork.flags & 13878);\n        if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n          recoverableErrors = ReactSharedInternals.T;\n          ReactSharedInternals.T = null;\n          transitions = ReactDOMSharedInternals.p;\n          ReactDOMSharedInternals.p = DiscreteEventPriority;\n          spawnedLane = executionContext;\n          executionContext |= CommitContext;\n          try {\n            commitBeforeMutationEffects(root, finishedWork, lanes);\n          } finally {\n            (executionContext = spawnedLane),\n              (ReactDOMSharedInternals.p = transitions),\n              (ReactSharedInternals.T = recoverableErrors);\n          }\n        }\n        pendingEffectsStatus = PENDING_MUTATION_PHASE;\n        flushMutationEffects();\n        flushLayoutEffects();\n        flushSpawnedWork();\n      }\n    }\n    function flushMutationEffects() {\n      if (pendingEffectsStatus === PENDING_MUTATION_PHASE) {\n        pendingEffectsStatus = NO_PENDING_EFFECTS;\n        var root = pendingEffectsRoot,\n          finishedWork = pendingFinishedWork,\n          lanes = pendingEffectsLanes,\n          rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n        if (\n          0 !== (finishedWork.subtreeFlags & 13878) ||\n          rootMutationHasEffect\n        ) {\n          rootMutationHasEffect = ReactSharedInternals.T;\n          ReactSharedInternals.T = null;\n          var previousPriority = ReactDOMSharedInternals.p;\n          ReactDOMSharedInternals.p = DiscreteEventPriority;\n          var prevExecutionContext = executionContext;\n          executionContext |= CommitContext;\n          try {\n            inProgressLanes = lanes;\n            inProgressRoot = root;\n            resetComponentEffectTimers();\n            commitMutationEffectsOnFiber(finishedWork, root);\n            inProgressRoot = inProgressLanes = null;\n            lanes = selectionInformation;\n            var curFocusedElem = getActiveElementDeep(root.containerInfo),\n              priorFocusedElem = lanes.focusedElem,\n              priorSelectionRange = lanes.selectionRange;\n            if (\n              curFocusedElem !== priorFocusedElem &&\n              priorFocusedElem &&\n              priorFocusedElem.ownerDocument &&\n              containsNode(\n                priorFocusedElem.ownerDocument.documentElement,\n                priorFocusedElem\n              )\n            ) {\n              if (\n                null !== priorSelectionRange &&\n                hasSelectionCapabilities(priorFocusedElem)\n              ) {\n                var start = priorSelectionRange.start,\n                  end = priorSelectionRange.end;\n                void 0 === end && (end = start);\n                if (\"selectionStart\" in priorFocusedElem)\n                  (priorFocusedElem.selectionStart = start),\n                    (priorFocusedElem.selectionEnd = Math.min(\n                      end,\n                      priorFocusedElem.value.length\n                    ));\n                else {\n                  var doc = priorFocusedElem.ownerDocument || document,\n                    win = (doc && doc.defaultView) || window;\n                  if (win.getSelection) {\n                    var selection = win.getSelection(),\n                      length = priorFocusedElem.textContent.length,\n                      start$jscomp$0 = Math.min(\n                        priorSelectionRange.start,\n                        length\n                      ),\n                      end$jscomp$0 =\n                        void 0 === priorSelectionRange.end\n                          ? start$jscomp$0\n                          : Math.min(priorSelectionRange.end, length);\n                    !selection.extend &&\n                      start$jscomp$0 > end$jscomp$0 &&\n                      ((curFocusedElem = end$jscomp$0),\n                      (end$jscomp$0 = start$jscomp$0),\n                      (start$jscomp$0 = curFocusedElem));\n                    var startMarker = getNodeForCharacterOffset(\n                        priorFocusedElem,\n                        start$jscomp$0\n                      ),\n                      endMarker = getNodeForCharacterOffset(\n                        priorFocusedElem,\n                        end$jscomp$0\n                      );\n                    if (\n                      startMarker &&\n                      endMarker &&\n                      (1 !== selection.rangeCount ||\n                        selection.anchorNode !== startMarker.node ||\n                        selection.anchorOffset !== startMarker.offset ||\n                        selection.focusNode !== endMarker.node ||\n                        selection.focusOffset !== endMarker.offset)\n                    ) {\n                      var range = doc.createRange();\n                      range.setStart(startMarker.node, startMarker.offset);\n                      selection.removeAllRanges();\n                      start$jscomp$0 > end$jscomp$0\n                        ? (selection.addRange(range),\n                          selection.extend(endMarker.node, endMarker.offset))\n                        : (range.setEnd(endMarker.node, endMarker.offset),\n                          selection.addRange(range));\n                    }\n                  }\n                }\n              }\n              doc = [];\n              for (\n                selection = priorFocusedElem;\n                (selection = selection.parentNode);\n\n              )\n                1 === selection.nodeType &&\n                  doc.push({\n                    element: selection,\n                    left: selection.scrollLeft,\n                    top: selection.scrollTop\n                  });\n              \"function\" === typeof priorFocusedElem.focus &&\n                priorFocusedElem.focus();\n              for (\n                priorFocusedElem = 0;\n                priorFocusedElem < doc.length;\n                priorFocusedElem++\n              ) {\n                var info = doc[priorFocusedElem];\n                info.element.scrollLeft = info.left;\n                info.element.scrollTop = info.top;\n              }\n            }\n            _enabled = !!eventsEnabled;\n            selectionInformation = eventsEnabled = null;\n          } finally {\n            (executionContext = prevExecutionContext),\n              (ReactDOMSharedInternals.p = previousPriority),\n              (ReactSharedInternals.T = rootMutationHasEffect);\n          }\n        }\n        root.current = finishedWork;\n        pendingEffectsStatus = PENDING_LAYOUT_PHASE;\n      }\n    }\n    function flushLayoutEffects() {\n      if (pendingEffectsStatus === PENDING_LAYOUT_PHASE) {\n        pendingEffectsStatus = NO_PENDING_EFFECTS;\n        var suspendedViewTransitionReason =\n          pendingSuspendedViewTransitionReason;\n        if (null !== suspendedViewTransitionReason) {\n          commitStartTime = now();\n          var startTime = commitEndTime,\n            endTime = commitStartTime;\n          !supportsUserTiming ||\n            endTime <= startTime ||\n            (animatingTask\n              ? animatingTask.run(\n                  console.timeStamp.bind(\n                    console,\n                    suspendedViewTransitionReason,\n                    startTime,\n                    endTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    \"secondary-light\"\n                  )\n                )\n              : console.timeStamp(\n                  suspendedViewTransitionReason,\n                  startTime,\n                  endTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  \"secondary-light\"\n                ));\n        }\n        suspendedViewTransitionReason = pendingEffectsRoot;\n        startTime = pendingFinishedWork;\n        endTime = pendingEffectsLanes;\n        var rootHasLayoutEffect = 0 !== (startTime.flags & 8772);\n        if (0 !== (startTime.subtreeFlags & 8772) || rootHasLayoutEffect) {\n          rootHasLayoutEffect = ReactSharedInternals.T;\n          ReactSharedInternals.T = null;\n          var _previousPriority = ReactDOMSharedInternals.p;\n          ReactDOMSharedInternals.p = DiscreteEventPriority;\n          var _prevExecutionContext = executionContext;\n          executionContext |= CommitContext;\n          try {\n            (inProgressLanes = endTime),\n              (inProgressRoot = suspendedViewTransitionReason),\n              resetComponentEffectTimers(),\n              commitLayoutEffectOnFiber(\n                suspendedViewTransitionReason,\n                startTime.alternate,\n                startTime\n              ),\n              (inProgressRoot = inProgressLanes = null);\n          } finally {\n            (executionContext = _prevExecutionContext),\n              (ReactDOMSharedInternals.p = _previousPriority),\n              (ReactSharedInternals.T = rootHasLayoutEffect);\n          }\n        }\n        suspendedViewTransitionReason = pendingEffectsRenderEndTime;\n        startTime = pendingSuspendedCommitReason;\n        commitEndTime = now();\n        suspendedViewTransitionReason =\n          null === startTime ? suspendedViewTransitionReason : commitStartTime;\n        startTime = commitEndTime;\n        endTime = pendingDelayedCommitReason === ABORTED_VIEW_TRANSITION_COMMIT;\n        rootHasLayoutEffect = workInProgressUpdateTask;\n        null !== commitErrors\n          ? logCommitErrored(\n              suspendedViewTransitionReason,\n              startTime,\n              commitErrors,\n              !1,\n              rootHasLayoutEffect\n            )\n          : !supportsUserTiming ||\n            startTime <= suspendedViewTransitionReason ||\n            (rootHasLayoutEffect\n              ? rootHasLayoutEffect.run(\n                  console.timeStamp.bind(\n                    console,\n                    endTime ? \"Commit Interrupted View Transition\" : \"Commit\",\n                    suspendedViewTransitionReason,\n                    startTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    endTime ? \"error\" : \"secondary-dark\"\n                  )\n                )\n              : console.timeStamp(\n                  endTime ? \"Commit Interrupted View Transition\" : \"Commit\",\n                  suspendedViewTransitionReason,\n                  startTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  endTime ? \"error\" : \"secondary-dark\"\n                ));\n        pendingEffectsStatus = PENDING_AFTER_MUTATION_PHASE;\n      }\n    }\n    function flushSpawnedWork() {\n      if (\n        pendingEffectsStatus === PENDING_SPAWNED_WORK ||\n        pendingEffectsStatus === PENDING_AFTER_MUTATION_PHASE\n      ) {\n        if (pendingEffectsStatus === PENDING_SPAWNED_WORK) {\n          var startViewTransitionStartTime = commitEndTime;\n          commitEndTime = now();\n          var endTime = commitEndTime,\n            abortedViewTransition =\n              pendingDelayedCommitReason === ABORTED_VIEW_TRANSITION_COMMIT;\n          !supportsUserTiming ||\n            endTime <= startViewTransitionStartTime ||\n            (animatingTask\n              ? animatingTask.run(\n                  console.timeStamp.bind(\n                    console,\n                    abortedViewTransition\n                      ? \"Interrupted View Transition\"\n                      : \"Starting Animation\",\n                    startViewTransitionStartTime,\n                    endTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    abortedViewTransition ? \"error\" : \"secondary-light\"\n                  )\n                )\n              : console.timeStamp(\n                  abortedViewTransition\n                    ? \"Interrupted View Transition\"\n                    : \"Starting Animation\",\n                  startViewTransitionStartTime,\n                  endTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  abortedViewTransition ? \" error\" : \"secondary-light\"\n                ));\n          pendingDelayedCommitReason !== ABORTED_VIEW_TRANSITION_COMMIT &&\n            (pendingDelayedCommitReason = ANIMATION_STARTED_COMMIT);\n        }\n        pendingEffectsStatus = NO_PENDING_EFFECTS;\n        requestPaint();\n        startViewTransitionStartTime = pendingEffectsRoot;\n        var finishedWork = pendingFinishedWork;\n        endTime = pendingEffectsLanes;\n        abortedViewTransition = pendingRecoverableErrors;\n        var rootDidHavePassiveEffects =\n          0 !== finishedWork.actualDuration ||\n          0 !== (finishedWork.subtreeFlags & 10256) ||\n          0 !== (finishedWork.flags & 10256);\n        rootDidHavePassiveEffects\n          ? (pendingEffectsStatus = PENDING_PASSIVE_PHASE)\n          : ((pendingEffectsStatus = NO_PENDING_EFFECTS),\n            (pendingFinishedWork = pendingEffectsRoot = null),\n            releaseRootPooledCache(\n              startViewTransitionStartTime,\n              startViewTransitionStartTime.pendingLanes\n            ),\n            (nestedPassiveUpdateCount = 0),\n            (rootWithPassiveNestedUpdates = null));\n        var remainingLanes = startViewTransitionStartTime.pendingLanes;\n        0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n        rootDidHavePassiveEffects ||\n          commitDoubleInvokeEffectsInDEV(startViewTransitionStartTime);\n        remainingLanes = lanesToEventPriority(endTime);\n        finishedWork = finishedWork.stateNode;\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onCommitFiberRoot\n        )\n          try {\n            var didError = 128 === (finishedWork.current.flags & 128);\n            switch (remainingLanes) {\n              case DiscreteEventPriority:\n                var schedulerPriority = ImmediatePriority;\n                break;\n              case ContinuousEventPriority:\n                schedulerPriority = UserBlockingPriority;\n                break;\n              case DefaultEventPriority:\n                schedulerPriority = NormalPriority$1;\n                break;\n              case IdleEventPriority:\n                schedulerPriority = IdlePriority;\n                break;\n              default:\n                schedulerPriority = NormalPriority$1;\n            }\n            injectedHook.onCommitFiberRoot(\n              rendererID,\n              finishedWork,\n              schedulerPriority,\n              didError\n            );\n          } catch (err) {\n            hasLoggedError ||\n              ((hasLoggedError = !0),\n              console.error(\n                \"React instrumentation encountered an error: %o\",\n                err\n              ));\n          }\n        isDevToolsPresent &&\n          startViewTransitionStartTime.memoizedUpdaters.clear();\n        onCommitRoot();\n        if (null !== abortedViewTransition) {\n          didError = ReactSharedInternals.T;\n          schedulerPriority = ReactDOMSharedInternals.p;\n          ReactDOMSharedInternals.p = DiscreteEventPriority;\n          ReactSharedInternals.T = null;\n          try {\n            var onRecoverableError =\n              startViewTransitionStartTime.onRecoverableError;\n            for (\n              finishedWork = 0;\n              finishedWork < abortedViewTransition.length;\n              finishedWork++\n            ) {\n              var recoverableError = abortedViewTransition[finishedWork],\n                errorInfo = makeErrorInfo(recoverableError.stack);\n              runWithFiberInDEV(\n                recoverableError.source,\n                onRecoverableError,\n                recoverableError.value,\n                errorInfo\n              );\n            }\n          } finally {\n            (ReactSharedInternals.T = didError),\n              (ReactDOMSharedInternals.p = schedulerPriority);\n          }\n        }\n        0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n        ensureRootIsScheduled(startViewTransitionStartTime);\n        remainingLanes = startViewTransitionStartTime.pendingLanes;\n        0 !== (endTime & 261930) && 0 !== (remainingLanes & 42)\n          ? ((nestedUpdateScheduled = !0),\n            startViewTransitionStartTime === rootWithNestedUpdates\n              ? nestedUpdateCount++\n              : ((nestedUpdateCount = 0),\n                (rootWithNestedUpdates = startViewTransitionStartTime)))\n          : (nestedUpdateCount = 0);\n        rootDidHavePassiveEffects || finalizeRender(endTime, commitEndTime);\n        flushSyncWorkAcrossRoots_impl(0, !1);\n      }\n    }\n    function makeErrorInfo(componentStack) {\n      componentStack = { componentStack: componentStack };\n      Object.defineProperty(componentStack, \"digest\", {\n        get: function () {\n          console.error(\n            'You are accessing \"digest\" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.'\n          );\n        }\n      });\n      return componentStack;\n    }\n    function releaseRootPooledCache(root, remainingLanes) {\n      0 === (root.pooledCacheLanes &= remainingLanes) &&\n        ((remainingLanes = root.pooledCache),\n        null != remainingLanes &&\n          ((root.pooledCache = null), releaseCache(remainingLanes)));\n    }\n    function flushPendingEffects() {\n      flushMutationEffects();\n      flushLayoutEffects();\n      flushSpawnedWork();\n      return flushPassiveEffects();\n    }\n    function flushPassiveEffects() {\n      if (pendingEffectsStatus !== PENDING_PASSIVE_PHASE) return !1;\n      var root = pendingEffectsRoot,\n        remainingLanes = pendingEffectsRemainingLanes;\n      pendingEffectsRemainingLanes = 0;\n      var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n        priority =\n          0 === DefaultEventPriority || DefaultEventPriority > renderPriority\n            ? DefaultEventPriority\n            : renderPriority;\n      renderPriority = ReactSharedInternals.T;\n      var previousPriority = ReactDOMSharedInternals.p;\n      try {\n        ReactDOMSharedInternals.p = priority;\n        ReactSharedInternals.T = null;\n        var transitions = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        priority = pendingEffectsRoot;\n        var lanes = pendingEffectsLanes;\n        pendingEffectsStatus = NO_PENDING_EFFECTS;\n        pendingFinishedWork = pendingEffectsRoot = null;\n        pendingEffectsLanes = 0;\n        if ((executionContext & (RenderContext | CommitContext)) !== NoContext)\n          throw Error(\"Cannot flush passive effects while already rendering.\");\n        setCurrentTrackFromLanes(lanes);\n        isFlushingPassiveEffects = !0;\n        didScheduleUpdateDuringPassiveEffects = !1;\n        var passiveEffectStartTime = 0;\n        commitErrors = null;\n        passiveEffectStartTime = now$1();\n        if (pendingDelayedCommitReason === ANIMATION_STARTED_COMMIT)\n          logAnimatingPhase(\n            commitEndTime,\n            passiveEffectStartTime,\n            animatingTask\n          );\n        else {\n          var startTime = commitEndTime,\n            endTime = passiveEffectStartTime,\n            delayedUntilPaint =\n              pendingDelayedCommitReason === DELAYED_PASSIVE_COMMIT;\n          !supportsUserTiming ||\n            endTime <= startTime ||\n            (workInProgressUpdateTask\n              ? workInProgressUpdateTask.run(\n                  console.timeStamp.bind(\n                    console,\n                    delayedUntilPaint ? \"Waiting for Paint\" : \"Waiting\",\n                    startTime,\n                    endTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    \"secondary-light\"\n                  )\n                )\n              : console.timeStamp(\n                  delayedUntilPaint ? \"Waiting for Paint\" : \"Waiting\",\n                  startTime,\n                  endTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  \"secondary-light\"\n                ));\n        }\n        startTime = executionContext;\n        executionContext |= CommitContext;\n        var finishedWork = priority.current;\n        resetComponentEffectTimers();\n        commitPassiveUnmountOnFiber(finishedWork);\n        var finishedWork$jscomp$0 = priority.current;\n        finishedWork = pendingEffectsRenderEndTime;\n        resetComponentEffectTimers();\n        commitPassiveMountOnFiber(\n          priority,\n          finishedWork$jscomp$0,\n          lanes,\n          transitions,\n          finishedWork\n        );\n        commitDoubleInvokeEffectsInDEV(priority);\n        executionContext = startTime;\n        var passiveEffectsEndTime = now$1();\n        finishedWork$jscomp$0 = passiveEffectStartTime;\n        finishedWork = workInProgressUpdateTask;\n        null !== commitErrors\n          ? logCommitErrored(\n              finishedWork$jscomp$0,\n              passiveEffectsEndTime,\n              commitErrors,\n              !0,\n              finishedWork\n            )\n          : !supportsUserTiming ||\n            passiveEffectsEndTime <= finishedWork$jscomp$0 ||\n            (finishedWork\n              ? finishedWork.run(\n                  console.timeStamp.bind(\n                    console,\n                    \"Remaining Effects\",\n                    finishedWork$jscomp$0,\n                    passiveEffectsEndTime,\n                    currentTrack,\n                    LANES_TRACK_GROUP,\n                    \"secondary-dark\"\n                  )\n                )\n              : console.timeStamp(\n                  \"Remaining Effects\",\n                  finishedWork$jscomp$0,\n                  passiveEffectsEndTime,\n                  currentTrack,\n                  LANES_TRACK_GROUP,\n                  \"secondary-dark\"\n                ));\n        finalizeRender(lanes, passiveEffectsEndTime);\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        didScheduleUpdateDuringPassiveEffects\n          ? priority === rootWithPassiveNestedUpdates\n            ? nestedPassiveUpdateCount++\n            : ((nestedPassiveUpdateCount = 0),\n              (rootWithPassiveNestedUpdates = priority))\n          : (nestedPassiveUpdateCount = 0);\n        didScheduleUpdateDuringPassiveEffects = isFlushingPassiveEffects = !1;\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, priority);\n          } catch (err) {\n            hasLoggedError ||\n              ((hasLoggedError = !0),\n              console.error(\n                \"React instrumentation encountered an error: %o\",\n                err\n              ));\n          }\n        var stateNode = priority.current.stateNode;\n        stateNode.effectDuration = 0;\n        stateNode.passiveEffectDuration = 0;\n        return !0;\n      } finally {\n        (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = renderPriority),\n          releaseRootPooledCache(root, remainingLanes);\n      }\n    }\n    function captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n      sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n      recordEffectError(sourceFiber);\n      sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n      rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n      null !== rootFiber &&\n        (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n    }\n    function captureCommitPhaseError(\n      sourceFiber,\n      nearestMountedAncestor,\n      error\n    ) {\n      isRunningInsertionEffect = !1;\n      if (3 === sourceFiber.tag)\n        captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n      else {\n        for (; null !== nearestMountedAncestor; ) {\n          if (3 === nearestMountedAncestor.tag) {\n            captureCommitPhaseErrorOnRoot(\n              nearestMountedAncestor,\n              sourceFiber,\n              error\n            );\n            return;\n          }\n          if (1 === nearestMountedAncestor.tag) {\n            var instance = nearestMountedAncestor.stateNode;\n            if (\n              \"function\" ===\n                typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n              (\"function\" === typeof instance.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n            ) {\n              sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n              recordEffectError(sourceFiber);\n              error = createClassErrorUpdate(2);\n              instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n              null !== instance &&\n                (initializeClassErrorUpdate(\n                  error,\n                  instance,\n                  nearestMountedAncestor,\n                  sourceFiber\n                ),\n                markRootUpdated$1(instance, 2),\n                ensureRootIsScheduled(instance));\n              return;\n            }\n          }\n          nearestMountedAncestor = nearestMountedAncestor.return;\n        }\n        console.error(\n          \"Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\\n\\nError message:\\n\\n%s\",\n          error\n        );\n      }\n    }\n    function attachPingListener(root, wakeable, lanes) {\n      var pingCache = root.pingCache;\n      if (null === pingCache) {\n        pingCache = root.pingCache = new PossiblyWeakMap();\n        var threadIDs = new Set();\n        pingCache.set(wakeable, threadIDs);\n      } else\n        (threadIDs = pingCache.get(wakeable)),\n          void 0 === threadIDs &&\n            ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n      threadIDs.has(lanes) ||\n        ((workInProgressRootDidAttachPingListener = !0),\n        threadIDs.add(lanes),\n        (pingCache = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n        isDevToolsPresent && restorePendingUpdaters(root, lanes),\n        wakeable.then(pingCache, pingCache));\n    }\n    function pingSuspendedRoot(root, wakeable, pingedLanes) {\n      var pingCache = root.pingCache;\n      null !== pingCache && pingCache.delete(wakeable);\n      root.pingedLanes |= root.suspendedLanes & pingedLanes;\n      root.warmLanes &= ~pingedLanes;\n      0 !== (pingedLanes & 127)\n        ? 0 > blockingUpdateTime &&\n          ((blockingClampTime = blockingUpdateTime = now()),\n          (blockingUpdateTask = createTask(\"Promise Resolved\")),\n          (blockingUpdateType = PINGED_UPDATE))\n        : 0 !== (pingedLanes & 4194048) &&\n          0 > transitionUpdateTime &&\n          ((transitionClampTime = transitionUpdateTime = now()),\n          (transitionUpdateTask = createTask(\"Promise Resolved\")),\n          (transitionUpdateType = PINGED_UPDATE));\n      isConcurrentActEnvironment() &&\n        null === ReactSharedInternals.actQueue &&\n        console.error(\n          \"A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\\n\\nWhen testing, code that resolves suspended data should be wrapped into act(...):\\n\\nact(() => {\\n  /* finish loading suspended data */\\n});\\n/* assert on the output */\\n\\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\"\n        );\n      workInProgressRoot === root &&\n        (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n        (workInProgressRootExitStatus === RootSuspendedWithDelay ||\n        (workInProgressRootExitStatus === RootSuspended &&\n          (workInProgressRootRenderLanes & 62914560) ===\n            workInProgressRootRenderLanes &&\n          now$1() - globalMostRecentFallbackTime < FALLBACK_THROTTLE_MS)\n          ? (executionContext & RenderContext) === NoContext &&\n            prepareFreshStack(root, 0)\n          : (workInProgressRootPingedLanes |= pingedLanes),\n        workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n          (workInProgressSuspendedRetryLanes = 0));\n      ensureRootIsScheduled(root);\n    }\n    function retryTimedOutBoundary(boundaryFiber, retryLane) {\n      0 === retryLane && (retryLane = claimNextRetryLane());\n      boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n      null !== boundaryFiber &&\n        (markRootUpdated$1(boundaryFiber, retryLane),\n        ensureRootIsScheduled(boundaryFiber));\n    }\n    function retryDehydratedSuspenseBoundary(boundaryFiber) {\n      var suspenseState = boundaryFiber.memoizedState,\n        retryLane = 0;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      retryTimedOutBoundary(boundaryFiber, retryLane);\n    }\n    function resolveRetryWakeable(boundaryFiber, wakeable) {\n      var retryLane = 0;\n      switch (boundaryFiber.tag) {\n        case 31:\n        case 13:\n          var retryCache = boundaryFiber.stateNode;\n          var suspenseState = boundaryFiber.memoizedState;\n          null !== suspenseState && (retryLane = suspenseState.retryLane);\n          break;\n        case 19:\n          retryCache = boundaryFiber.stateNode;\n          break;\n        case 22:\n          retryCache = boundaryFiber.stateNode._retryCache;\n          break;\n        default:\n          throw Error(\n            \"Pinged unknown suspense boundary type. This is probably a bug in React.\"\n          );\n      }\n      null !== retryCache && retryCache.delete(wakeable);\n      retryTimedOutBoundary(boundaryFiber, retryLane);\n    }\n    function recursivelyTraverseAndDoubleInvokeEffectsInDEV(\n      root$jscomp$0,\n      parentFiber,\n      isInStrictMode\n    ) {\n      if (0 !== (parentFiber.subtreeFlags & 67117056))\n        for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n          var root = root$jscomp$0,\n            fiber = parentFiber,\n            isStrictModeFiber = fiber.type === REACT_STRICT_MODE_TYPE;\n          isStrictModeFiber = isInStrictMode || isStrictModeFiber;\n          22 !== fiber.tag\n            ? fiber.flags & 67108864\n              ? isStrictModeFiber &&\n                runWithFiberInDEV(\n                  fiber,\n                  doubleInvokeEffectsOnFiber,\n                  root,\n                  fiber\n                )\n              : recursivelyTraverseAndDoubleInvokeEffectsInDEV(\n                  root,\n                  fiber,\n                  isStrictModeFiber\n                )\n            : null === fiber.memoizedState &&\n              (isStrictModeFiber && fiber.flags & 8192\n                ? runWithFiberInDEV(\n                    fiber,\n                    doubleInvokeEffectsOnFiber,\n                    root,\n                    fiber\n                  )\n                : fiber.subtreeFlags & 67108864 &&\n                  runWithFiberInDEV(\n                    fiber,\n                    recursivelyTraverseAndDoubleInvokeEffectsInDEV,\n                    root,\n                    fiber,\n                    isStrictModeFiber\n                  ));\n          parentFiber = parentFiber.sibling;\n        }\n    }\n    function doubleInvokeEffectsOnFiber(root, fiber) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        disappearLayoutEffects(fiber),\n          disconnectPassiveEffect(fiber),\n          reappearLayoutEffects(root, fiber.alternate, fiber, !1),\n          reconnectPassiveEffects(root, fiber, 0, null, !1, 0);\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    function commitDoubleInvokeEffectsInDEV(root) {\n      var doubleInvokeEffects = !0;\n      root.current.mode & (StrictLegacyMode | StrictEffectsMode) ||\n        (doubleInvokeEffects = !1);\n      recursivelyTraverseAndDoubleInvokeEffectsInDEV(\n        root,\n        root.current,\n        doubleInvokeEffects\n      );\n    }\n    function warnAboutUpdateOnNotYetMountedFiberInDEV(fiber) {\n      if ((executionContext & RenderContext) === NoContext) {\n        var tag = fiber.tag;\n        if (\n          3 === tag ||\n          1 === tag ||\n          0 === tag ||\n          11 === tag ||\n          14 === tag ||\n          15 === tag\n        ) {\n          tag = getComponentNameFromFiber(fiber) || \"ReactComponent\";\n          if (null !== didWarnStateUpdateForNotYetMountedComponent) {\n            if (didWarnStateUpdateForNotYetMountedComponent.has(tag)) return;\n            didWarnStateUpdateForNotYetMountedComponent.add(tag);\n          } else didWarnStateUpdateForNotYetMountedComponent = new Set([tag]);\n          runWithFiberInDEV(fiber, function () {\n            console.error(\n              \"Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously tries to update the component. Move this work to useEffect instead.\"\n            );\n          });\n        }\n      }\n    }\n    function restorePendingUpdaters(root, lanes) {\n      isDevToolsPresent &&\n        root.memoizedUpdaters.forEach(function (schedulingFiber) {\n          addFiberToLanesMap(root, schedulingFiber, lanes);\n        });\n    }\n    function scheduleCallback$1(priorityLevel, callback) {\n      var actQueue = ReactSharedInternals.actQueue;\n      return null !== actQueue\n        ? (actQueue.push(callback), fakeActCallbackNode$1)\n        : scheduleCallback$3(priorityLevel, callback);\n    }\n    function warnIfUpdatesNotWrappedWithActDEV(fiber) {\n      isConcurrentActEnvironment() &&\n        null === ReactSharedInternals.actQueue &&\n        runWithFiberInDEV(fiber, function () {\n          console.error(\n            \"An update to %s inside a test was not wrapped in act(...).\\n\\nWhen testing, code that causes React state updates should be wrapped into act(...):\\n\\nact(() => {\\n  /* fire events that update state */\\n});\\n/* assert on the output */\\n\\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\",\n            getComponentNameFromFiber(fiber)\n          );\n        });\n    }\n    function ensureRootIsScheduled(root) {\n      root !== lastScheduledRoot &&\n        null === root.next &&\n        (null === lastScheduledRoot\n          ? (firstScheduledRoot = lastScheduledRoot = root)\n          : (lastScheduledRoot = lastScheduledRoot.next = root));\n      mightHavePendingSyncWork = !0;\n      null !== ReactSharedInternals.actQueue\n        ? didScheduleMicrotask_act ||\n          ((didScheduleMicrotask_act = !0), scheduleImmediateRootScheduleTask())\n        : didScheduleMicrotask ||\n          ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n    }\n    function flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n      if (!isFlushingWork && mightHavePendingSyncWork) {\n        isFlushingWork = !0;\n        do {\n          var didPerformSomeWork = !1;\n          for (var root = firstScheduledRoot; null !== root; ) {\n            if (!onlyLegacy)\n              if (0 !== syncTransitionLanes) {\n                var pendingLanes = root.pendingLanes;\n                if (0 === pendingLanes) var nextLanes = 0;\n                else {\n                  var suspendedLanes = root.suspendedLanes,\n                    pingedLanes = root.pingedLanes;\n                  nextLanes =\n                    (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n                  nextLanes &= pendingLanes & ~(suspendedLanes & ~pingedLanes);\n                  nextLanes =\n                    nextLanes & 201326741\n                      ? (nextLanes & 201326741) | 1\n                      : nextLanes\n                        ? nextLanes | 2\n                        : 0;\n                }\n                0 !== nextLanes &&\n                  ((didPerformSomeWork = !0),\n                  performSyncWorkOnRoot(root, nextLanes));\n              } else\n                (nextLanes = workInProgressRootRenderLanes),\n                  (nextLanes = getNextLanes(\n                    root,\n                    root === workInProgressRoot ? nextLanes : 0,\n                    null !== root.cancelPendingCommit ||\n                      root.timeoutHandle !== noTimeout\n                  )),\n                  0 === (nextLanes & 3) ||\n                    checkIfRootIsPrerendering(root, nextLanes) ||\n                    ((didPerformSomeWork = !0),\n                    performSyncWorkOnRoot(root, nextLanes));\n            root = root.next;\n          }\n        } while (didPerformSomeWork);\n        isFlushingWork = !1;\n      }\n    }\n    function processRootScheduleInImmediateTask() {\n      schedulerEvent = window.event;\n      processRootScheduleInMicrotask();\n    }\n    function processRootScheduleInMicrotask() {\n      mightHavePendingSyncWork =\n        didScheduleMicrotask_act =\n        didScheduleMicrotask =\n          !1;\n      var syncTransitionLanes = 0;\n      0 !== currentEventTransitionLane &&\n        shouldAttemptEagerTransition() &&\n        (syncTransitionLanes = currentEventTransitionLane);\n      for (\n        var currentTime = now$1(), prev = null, root = firstScheduledRoot;\n        null !== root;\n\n      ) {\n        var next = root.next,\n          nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n        if (0 === nextLanes)\n          (root.next = null),\n            null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n            null === next && (lastScheduledRoot = prev);\n        else if (\n          ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n        )\n          mightHavePendingSyncWork = !0;\n        root = next;\n      }\n      (pendingEffectsStatus !== NO_PENDING_EFFECTS &&\n        pendingEffectsStatus !== PENDING_PASSIVE_PHASE) ||\n        flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n      0 !== currentEventTransitionLane && (currentEventTransitionLane = 0);\n    }\n    function scheduleTaskForRootDuringMicrotask(root, currentTime) {\n      for (\n        var suspendedLanes = root.suspendedLanes,\n          pingedLanes = root.pingedLanes,\n          expirationTimes = root.expirationTimes,\n          lanes = root.pendingLanes & -62914561;\n        0 < lanes;\n\n      ) {\n        var index = 31 - clz32(lanes),\n          lane = 1 << index,\n          expirationTime = expirationTimes[index];\n        if (-1 === expirationTime) {\n          if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n            expirationTimes[index] = computeExpirationTime(lane, currentTime);\n        } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n        lanes &= ~lane;\n      }\n      currentTime = workInProgressRoot;\n      suspendedLanes = workInProgressRootRenderLanes;\n      suspendedLanes = getNextLanes(\n        root,\n        root === currentTime ? suspendedLanes : 0,\n        null !== root.cancelPendingCommit || root.timeoutHandle !== noTimeout\n      );\n      pingedLanes = root.callbackNode;\n      if (\n        0 === suspendedLanes ||\n        (root === currentTime &&\n          (workInProgressSuspendedReason === SuspendedOnData ||\n            workInProgressSuspendedReason === SuspendedOnAction)) ||\n        null !== root.cancelPendingCommit\n      )\n        return (\n          null !== pingedLanes && cancelCallback(pingedLanes),\n          (root.callbackNode = null),\n          (root.callbackPriority = 0)\n        );\n      if (\n        0 === (suspendedLanes & 3) ||\n        checkIfRootIsPrerendering(root, suspendedLanes)\n      ) {\n        currentTime = suspendedLanes & -suspendedLanes;\n        if (\n          currentTime !== root.callbackPriority ||\n          (null !== ReactSharedInternals.actQueue &&\n            pingedLanes !== fakeActCallbackNode)\n        )\n          cancelCallback(pingedLanes);\n        else return currentTime;\n        switch (lanesToEventPriority(suspendedLanes)) {\n          case DiscreteEventPriority:\n          case ContinuousEventPriority:\n            suspendedLanes = UserBlockingPriority;\n            break;\n          case DefaultEventPriority:\n            suspendedLanes = NormalPriority$1;\n            break;\n          case IdleEventPriority:\n            suspendedLanes = IdlePriority;\n            break;\n          default:\n            suspendedLanes = NormalPriority$1;\n        }\n        pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n        null !== ReactSharedInternals.actQueue\n          ? (ReactSharedInternals.actQueue.push(pingedLanes),\n            (suspendedLanes = fakeActCallbackNode))\n          : (suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes));\n        root.callbackPriority = currentTime;\n        root.callbackNode = suspendedLanes;\n        return currentTime;\n      }\n      null !== pingedLanes && cancelCallback(pingedLanes);\n      root.callbackPriority = 2;\n      root.callbackNode = null;\n      return 2;\n    }\n    function performWorkOnRootViaSchedulerTask(root, didTimeout) {\n      nestedUpdateScheduled = currentUpdateIsNested = !1;\n      schedulerEvent = window.event;\n      if (\n        pendingEffectsStatus !== NO_PENDING_EFFECTS &&\n        pendingEffectsStatus !== PENDING_PASSIVE_PHASE\n      )\n        return (root.callbackNode = null), (root.callbackPriority = 0), null;\n      var originalCallbackNode = root.callbackNode;\n      pendingDelayedCommitReason === IMMEDIATE_COMMIT &&\n        (pendingDelayedCommitReason = DELAYED_PASSIVE_COMMIT);\n      if (flushPendingEffects() && root.callbackNode !== originalCallbackNode)\n        return null;\n      var workInProgressRootRenderLanes$jscomp$0 =\n        workInProgressRootRenderLanes;\n      workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n        root,\n        root === workInProgressRoot\n          ? workInProgressRootRenderLanes$jscomp$0\n          : 0,\n        null !== root.cancelPendingCommit || root.timeoutHandle !== noTimeout\n      );\n      if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n      performWorkOnRoot(\n        root,\n        workInProgressRootRenderLanes$jscomp$0,\n        didTimeout\n      );\n      scheduleTaskForRootDuringMicrotask(root, now$1());\n      return null != root.callbackNode &&\n        root.callbackNode === originalCallbackNode\n        ? performWorkOnRootViaSchedulerTask.bind(null, root)\n        : null;\n    }\n    function performSyncWorkOnRoot(root, lanes) {\n      if (flushPendingEffects()) return null;\n      currentUpdateIsNested = nestedUpdateScheduled;\n      nestedUpdateScheduled = !1;\n      performWorkOnRoot(root, lanes, !0);\n    }\n    function cancelCallback(callbackNode) {\n      callbackNode !== fakeActCallbackNode &&\n        null !== callbackNode &&\n        cancelCallback$1(callbackNode);\n    }\n    function scheduleImmediateRootScheduleTask() {\n      null !== ReactSharedInternals.actQueue &&\n        ReactSharedInternals.actQueue.push(function () {\n          processRootScheduleInMicrotask();\n          return null;\n        });\n      scheduleMicrotask(function () {\n        (executionContext & (RenderContext | CommitContext)) !== NoContext\n          ? scheduleCallback$3(\n              ImmediatePriority,\n              processRootScheduleInImmediateTask\n            )\n          : processRootScheduleInMicrotask();\n      });\n    }\n    function requestTransitionLane() {\n      if (0 === currentEventTransitionLane) {\n        var actionScopeLane = currentEntangledLane;\n        0 === actionScopeLane &&\n          ((actionScopeLane = nextTransitionUpdateLane),\n          (nextTransitionUpdateLane <<= 1),\n          0 === (nextTransitionUpdateLane & 261888) &&\n            (nextTransitionUpdateLane = 256));\n        currentEventTransitionLane = actionScopeLane;\n      }\n      return currentEventTransitionLane;\n    }\n    function coerceFormActionProp(actionProp) {\n      if (\n        null == actionProp ||\n        \"symbol\" === typeof actionProp ||\n        \"boolean\" === typeof actionProp\n      )\n        return null;\n      if (\"function\" === typeof actionProp) return actionProp;\n      checkAttributeStringCoercion(actionProp, \"action\");\n      return sanitizeURL(\"\" + actionProp);\n    }\n    function createFormDataWithSubmitter(form, submitter) {\n      var temp = submitter.ownerDocument.createElement(\"input\");\n      temp.name = submitter.name;\n      temp.value = submitter.value;\n      form.id && temp.setAttribute(\"form\", form.id);\n      submitter.parentNode.insertBefore(temp, submitter);\n      form = new FormData(form);\n      temp.parentNode.removeChild(temp);\n      return form;\n    }\n    function extractEvents$1(\n      dispatchQueue,\n      domEventName,\n      maybeTargetInst,\n      nativeEvent,\n      nativeEventTarget\n    ) {\n      if (\n        \"submit\" === domEventName &&\n        maybeTargetInst &&\n        maybeTargetInst.stateNode === nativeEventTarget\n      ) {\n        var action = coerceFormActionProp(\n            (nativeEventTarget[internalPropsKey] || null).action\n          ),\n          submitter = nativeEvent.submitter;\n        submitter &&\n          ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n            ? coerceFormActionProp(domEventName.formAction)\n            : submitter.getAttribute(\"formAction\")),\n          null !== domEventName &&\n            ((action = domEventName), (submitter = null)));\n        var event = new SyntheticEvent(\n          \"action\",\n          \"action\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        );\n        dispatchQueue.push({\n          event: event,\n          listeners: [\n            {\n              instance: null,\n              listener: function () {\n                if (nativeEvent.defaultPrevented) {\n                  if (0 !== currentEventTransitionLane) {\n                    var formData = submitter\n                        ? createFormDataWithSubmitter(\n                            nativeEventTarget,\n                            submitter\n                          )\n                        : new FormData(nativeEventTarget),\n                      pendingState = {\n                        pending: !0,\n                        data: formData,\n                        method: nativeEventTarget.method,\n                        action: action\n                      };\n                    Object.freeze(pendingState);\n                    startHostTransition(\n                      maybeTargetInst,\n                      pendingState,\n                      null,\n                      formData\n                    );\n                  }\n                } else\n                  \"function\" === typeof action &&\n                    (event.preventDefault(),\n                    (formData = submitter\n                      ? createFormDataWithSubmitter(\n                          nativeEventTarget,\n                          submitter\n                        )\n                      : new FormData(nativeEventTarget)),\n                    (pendingState = {\n                      pending: !0,\n                      data: formData,\n                      method: nativeEventTarget.method,\n                      action: action\n                    }),\n                    Object.freeze(pendingState),\n                    startHostTransition(\n                      maybeTargetInst,\n                      pendingState,\n                      action,\n                      formData\n                    ));\n              },\n              currentTarget: nativeEventTarget\n            }\n          ]\n        });\n      }\n    }\n    function executeDispatch(event, listener, currentTarget) {\n      event.currentTarget = currentTarget;\n      try {\n        listener(event);\n      } catch (error) {\n        reportGlobalError(error);\n      }\n      event.currentTarget = null;\n    }\n    function processDispatchQueue(dispatchQueue, eventSystemFlags) {\n      eventSystemFlags = 0 !== (eventSystemFlags & 4);\n      for (var i = 0; i < dispatchQueue.length; i++) {\n        var _dispatchQueue$i = dispatchQueue[i];\n        a: {\n          var previousInstance = void 0,\n            event = _dispatchQueue$i.event;\n          _dispatchQueue$i = _dispatchQueue$i.listeners;\n          if (eventSystemFlags)\n            for (\n              var i$jscomp$0 = _dispatchQueue$i.length - 1;\n              0 <= i$jscomp$0;\n              i$jscomp$0--\n            ) {\n              var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n                instance = _dispatchListeners$i.instance,\n                currentTarget = _dispatchListeners$i.currentTarget;\n              _dispatchListeners$i = _dispatchListeners$i.listener;\n              if (instance !== previousInstance && event.isPropagationStopped())\n                break a;\n              null !== instance\n                ? runWithFiberInDEV(\n                    instance,\n                    executeDispatch,\n                    event,\n                    _dispatchListeners$i,\n                    currentTarget\n                  )\n                : executeDispatch(event, _dispatchListeners$i, currentTarget);\n              previousInstance = instance;\n            }\n          else\n            for (\n              i$jscomp$0 = 0;\n              i$jscomp$0 < _dispatchQueue$i.length;\n              i$jscomp$0++\n            ) {\n              _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n              instance = _dispatchListeners$i.instance;\n              currentTarget = _dispatchListeners$i.currentTarget;\n              _dispatchListeners$i = _dispatchListeners$i.listener;\n              if (instance !== previousInstance && event.isPropagationStopped())\n                break a;\n              null !== instance\n                ? runWithFiberInDEV(\n                    instance,\n                    executeDispatch,\n                    event,\n                    _dispatchListeners$i,\n                    currentTarget\n                  )\n                : executeDispatch(event, _dispatchListeners$i, currentTarget);\n              previousInstance = instance;\n            }\n        }\n      }\n    }\n    function listenToNonDelegatedEvent(domEventName, targetElement) {\n      nonDelegatedEvents.has(domEventName) ||\n        console.error(\n          'Did not expect a listenToNonDelegatedEvent() call for \"%s\". This is a bug in React. Please file an issue.',\n          domEventName\n        );\n      var listenerSet = targetElement[internalEventHandlersKey];\n      void 0 === listenerSet &&\n        (listenerSet = targetElement[internalEventHandlersKey] = new Set());\n      var listenerSetKey = domEventName + \"__bubble\";\n      listenerSet.has(listenerSetKey) ||\n        (addTrappedEventListener(targetElement, domEventName, 2, !1),\n        listenerSet.add(listenerSetKey));\n    }\n    function listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n      nonDelegatedEvents.has(domEventName) &&\n        !isCapturePhaseListener &&\n        console.error(\n          'Did not expect a listenToNativeEvent() call for \"%s\" in the bubble phase. This is a bug in React. Please file an issue.',\n          domEventName\n        );\n      var eventSystemFlags = 0;\n      isCapturePhaseListener && (eventSystemFlags |= 4);\n      addTrappedEventListener(\n        target,\n        domEventName,\n        eventSystemFlags,\n        isCapturePhaseListener\n      );\n    }\n    function listenToAllSupportedEvents(rootContainerElement) {\n      if (!rootContainerElement[listeningMarker]) {\n        rootContainerElement[listeningMarker] = !0;\n        allNativeEvents.forEach(function (domEventName) {\n          \"selectionchange\" !== domEventName &&\n            (nonDelegatedEvents.has(domEventName) ||\n              listenToNativeEvent(domEventName, !1, rootContainerElement),\n            listenToNativeEvent(domEventName, !0, rootContainerElement));\n        });\n        var ownerDocument =\n          9 === rootContainerElement.nodeType\n            ? rootContainerElement\n            : rootContainerElement.ownerDocument;\n        null === ownerDocument ||\n          ownerDocument[listeningMarker] ||\n          ((ownerDocument[listeningMarker] = !0),\n          listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n      }\n    }\n    function addTrappedEventListener(\n      targetContainer,\n      domEventName,\n      eventSystemFlags,\n      isCapturePhaseListener\n    ) {\n      switch (getEventPriority(domEventName)) {\n        case DiscreteEventPriority:\n          var listenerWrapper = dispatchDiscreteEvent;\n          break;\n        case ContinuousEventPriority:\n          listenerWrapper = dispatchContinuousEvent;\n          break;\n        default:\n          listenerWrapper = dispatchEvent;\n      }\n      eventSystemFlags = listenerWrapper.bind(\n        null,\n        domEventName,\n        eventSystemFlags,\n        targetContainer\n      );\n      listenerWrapper = void 0;\n      !passiveBrowserEventsSupported ||\n        (\"touchstart\" !== domEventName &&\n          \"touchmove\" !== domEventName &&\n          \"wheel\" !== domEventName) ||\n        (listenerWrapper = !0);\n      isCapturePhaseListener\n        ? void 0 !== listenerWrapper\n          ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n              capture: !0,\n              passive: listenerWrapper\n            })\n          : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n        : void 0 !== listenerWrapper\n          ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n              passive: listenerWrapper\n            })\n          : targetContainer.addEventListener(\n              domEventName,\n              eventSystemFlags,\n              !1\n            );\n    }\n    function dispatchEventForPluginEventSystem(\n      domEventName,\n      eventSystemFlags,\n      nativeEvent,\n      targetInst$jscomp$0,\n      targetContainer\n    ) {\n      var ancestorInst = targetInst$jscomp$0;\n      if (\n        0 === (eventSystemFlags & 1) &&\n        0 === (eventSystemFlags & 2) &&\n        null !== targetInst$jscomp$0\n      )\n        a: for (;;) {\n          if (null === targetInst$jscomp$0) return;\n          var nodeTag = targetInst$jscomp$0.tag;\n          if (3 === nodeTag || 4 === nodeTag) {\n            var container = targetInst$jscomp$0.stateNode.containerInfo;\n            if (container === targetContainer) break;\n            if (4 === nodeTag)\n              for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n                var grandTag = nodeTag.tag;\n                if (\n                  (3 === grandTag || 4 === grandTag) &&\n                  nodeTag.stateNode.containerInfo === targetContainer\n                )\n                  return;\n                nodeTag = nodeTag.return;\n              }\n            for (; null !== container; ) {\n              nodeTag = getClosestInstanceFromNode(container);\n              if (null === nodeTag) return;\n              grandTag = nodeTag.tag;\n              if (\n                5 === grandTag ||\n                6 === grandTag ||\n                26 === grandTag ||\n                27 === grandTag\n              ) {\n                targetInst$jscomp$0 = ancestorInst = nodeTag;\n                continue a;\n              }\n              container = container.parentNode;\n            }\n          }\n          targetInst$jscomp$0 = targetInst$jscomp$0.return;\n        }\n      batchedUpdates$1(function () {\n        var targetInst = ancestorInst,\n          nativeEventTarget = getEventTarget(nativeEvent),\n          dispatchQueue = [];\n        a: {\n          var reactName = topLevelEventsToReactNames.get(domEventName);\n          if (void 0 !== reactName) {\n            var SyntheticEventCtor = SyntheticEvent,\n              reactEventType = domEventName;\n            switch (domEventName) {\n              case \"keypress\":\n                if (0 === getEventCharCode(nativeEvent)) break a;\n              case \"keydown\":\n              case \"keyup\":\n                SyntheticEventCtor = SyntheticKeyboardEvent;\n                break;\n              case \"focusin\":\n                reactEventType = \"focus\";\n                SyntheticEventCtor = SyntheticFocusEvent;\n                break;\n              case \"focusout\":\n                reactEventType = \"blur\";\n                SyntheticEventCtor = SyntheticFocusEvent;\n                break;\n              case \"beforeblur\":\n              case \"afterblur\":\n                SyntheticEventCtor = SyntheticFocusEvent;\n                break;\n              case \"click\":\n                if (2 === nativeEvent.button) break a;\n              case \"auxclick\":\n              case \"dblclick\":\n              case \"mousedown\":\n              case \"mousemove\":\n              case \"mouseup\":\n              case \"mouseout\":\n              case \"mouseover\":\n              case \"contextmenu\":\n                SyntheticEventCtor = SyntheticMouseEvent;\n                break;\n              case \"drag\":\n              case \"dragend\":\n              case \"dragenter\":\n              case \"dragexit\":\n              case \"dragleave\":\n              case \"dragover\":\n              case \"dragstart\":\n              case \"drop\":\n                SyntheticEventCtor = SyntheticDragEvent;\n                break;\n              case \"touchcancel\":\n              case \"touchend\":\n              case \"touchmove\":\n              case \"touchstart\":\n                SyntheticEventCtor = SyntheticTouchEvent;\n                break;\n              case ANIMATION_END:\n              case ANIMATION_ITERATION:\n              case ANIMATION_START:\n                SyntheticEventCtor = SyntheticAnimationEvent;\n                break;\n              case TRANSITION_END:\n                SyntheticEventCtor = SyntheticTransitionEvent;\n                break;\n              case \"scroll\":\n              case \"scrollend\":\n                SyntheticEventCtor = SyntheticUIEvent;\n                break;\n              case \"wheel\":\n                SyntheticEventCtor = SyntheticWheelEvent;\n                break;\n              case \"copy\":\n              case \"cut\":\n              case \"paste\":\n                SyntheticEventCtor = SyntheticClipboardEvent;\n                break;\n              case \"gotpointercapture\":\n              case \"lostpointercapture\":\n              case \"pointercancel\":\n              case \"pointerdown\":\n              case \"pointermove\":\n              case \"pointerout\":\n              case \"pointerover\":\n              case \"pointerup\":\n                SyntheticEventCtor = SyntheticPointerEvent;\n                break;\n              case \"toggle\":\n              case \"beforetoggle\":\n                SyntheticEventCtor = SyntheticToggleEvent;\n            }\n            var inCapturePhase = 0 !== (eventSystemFlags & 4),\n              accumulateTargetOnly =\n                !inCapturePhase &&\n                (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n              reactEventName = inCapturePhase\n                ? null !== reactName\n                  ? reactName + \"Capture\"\n                  : null\n                : reactName;\n            inCapturePhase = [];\n            for (\n              var instance = targetInst, lastHostComponent;\n              null !== instance;\n\n            ) {\n              var _instance2 = instance;\n              lastHostComponent = _instance2.stateNode;\n              _instance2 = _instance2.tag;\n              (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n                null === lastHostComponent ||\n                null === reactEventName ||\n                ((_instance2 = getListener(instance, reactEventName)),\n                null != _instance2 &&\n                  inCapturePhase.push(\n                    createDispatchListener(\n                      instance,\n                      _instance2,\n                      lastHostComponent\n                    )\n                  ));\n              if (accumulateTargetOnly) break;\n              instance = instance.return;\n            }\n            0 < inCapturePhase.length &&\n              ((reactName = new SyntheticEventCtor(\n                reactName,\n                reactEventType,\n                null,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              dispatchQueue.push({\n                event: reactName,\n                listeners: inCapturePhase\n              }));\n          }\n        }\n        if (0 === (eventSystemFlags & 7)) {\n          a: {\n            reactName =\n              \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n            SyntheticEventCtor =\n              \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n            if (\n              reactName &&\n              nativeEvent !== currentReplayingEvent &&\n              (reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n              (getClosestInstanceFromNode(reactEventType) ||\n                reactEventType[internalContainerInstanceKey])\n            )\n              break a;\n            if (SyntheticEventCtor || reactName) {\n              reactName =\n                nativeEventTarget.window === nativeEventTarget\n                  ? nativeEventTarget\n                  : (reactName = nativeEventTarget.ownerDocument)\n                    ? reactName.defaultView || reactName.parentWindow\n                    : window;\n              if (SyntheticEventCtor) {\n                if (\n                  ((reactEventType =\n                    nativeEvent.relatedTarget || nativeEvent.toElement),\n                  (SyntheticEventCtor = targetInst),\n                  (reactEventType = reactEventType\n                    ? getClosestInstanceFromNode(reactEventType)\n                    : null),\n                  null !== reactEventType &&\n                    ((accumulateTargetOnly =\n                      getNearestMountedFiber(reactEventType)),\n                    (inCapturePhase = reactEventType.tag),\n                    reactEventType !== accumulateTargetOnly ||\n                      (5 !== inCapturePhase &&\n                        27 !== inCapturePhase &&\n                        6 !== inCapturePhase)))\n                )\n                  reactEventType = null;\n              } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n              if (SyntheticEventCtor !== reactEventType) {\n                inCapturePhase = SyntheticMouseEvent;\n                _instance2 = \"onMouseLeave\";\n                reactEventName = \"onMouseEnter\";\n                instance = \"mouse\";\n                if (\n                  \"pointerout\" === domEventName ||\n                  \"pointerover\" === domEventName\n                )\n                  (inCapturePhase = SyntheticPointerEvent),\n                    (_instance2 = \"onPointerLeave\"),\n                    (reactEventName = \"onPointerEnter\"),\n                    (instance = \"pointer\");\n                accumulateTargetOnly =\n                  null == SyntheticEventCtor\n                    ? reactName\n                    : getNodeFromInstance(SyntheticEventCtor);\n                lastHostComponent =\n                  null == reactEventType\n                    ? reactName\n                    : getNodeFromInstance(reactEventType);\n                reactName = new inCapturePhase(\n                  _instance2,\n                  instance + \"leave\",\n                  SyntheticEventCtor,\n                  nativeEvent,\n                  nativeEventTarget\n                );\n                reactName.target = accumulateTargetOnly;\n                reactName.relatedTarget = lastHostComponent;\n                _instance2 = null;\n                getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n                  ((inCapturePhase = new inCapturePhase(\n                    reactEventName,\n                    instance + \"enter\",\n                    reactEventType,\n                    nativeEvent,\n                    nativeEventTarget\n                  )),\n                  (inCapturePhase.target = lastHostComponent),\n                  (inCapturePhase.relatedTarget = accumulateTargetOnly),\n                  (_instance2 = inCapturePhase));\n                accumulateTargetOnly = _instance2;\n                if (SyntheticEventCtor && reactEventType)\n                  b: {\n                    inCapturePhase = getParent;\n                    reactEventName = SyntheticEventCtor;\n                    instance = reactEventType;\n                    lastHostComponent = 0;\n                    for (\n                      _instance2 = reactEventName;\n                      _instance2;\n                      _instance2 = inCapturePhase(_instance2)\n                    )\n                      lastHostComponent++;\n                    _instance2 = 0;\n                    for (\n                      var tempB = instance;\n                      tempB;\n                      tempB = inCapturePhase(tempB)\n                    )\n                      _instance2++;\n                    for (; 0 < lastHostComponent - _instance2; )\n                      (reactEventName = inCapturePhase(reactEventName)),\n                        lastHostComponent--;\n                    for (; 0 < _instance2 - lastHostComponent; )\n                      (instance = inCapturePhase(instance)), _instance2--;\n                    for (; lastHostComponent--; ) {\n                      if (\n                        reactEventName === instance ||\n                        (null !== instance &&\n                          reactEventName === instance.alternate)\n                      ) {\n                        inCapturePhase = reactEventName;\n                        break b;\n                      }\n                      reactEventName = inCapturePhase(reactEventName);\n                      instance = inCapturePhase(instance);\n                    }\n                    inCapturePhase = null;\n                  }\n                else inCapturePhase = null;\n                null !== SyntheticEventCtor &&\n                  accumulateEnterLeaveListenersForEvent(\n                    dispatchQueue,\n                    reactName,\n                    SyntheticEventCtor,\n                    inCapturePhase,\n                    !1\n                  );\n                null !== reactEventType &&\n                  null !== accumulateTargetOnly &&\n                  accumulateEnterLeaveListenersForEvent(\n                    dispatchQueue,\n                    accumulateTargetOnly,\n                    reactEventType,\n                    inCapturePhase,\n                    !0\n                  );\n              }\n            }\n          }\n          a: {\n            reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n            SyntheticEventCtor =\n              reactName.nodeName && reactName.nodeName.toLowerCase();\n            if (\n              \"select\" === SyntheticEventCtor ||\n              (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n            )\n              var getTargetInstFunc = getTargetInstForChangeEvent;\n            else if (isTextInputElement(reactName))\n              if (isInputEventSupported)\n                getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n              else {\n                getTargetInstFunc = getTargetInstForInputEventPolyfill;\n                var handleEventFunc = handleEventsForInputEventPolyfill;\n              }\n            else\n              (SyntheticEventCtor = reactName.nodeName),\n                !SyntheticEventCtor ||\n                \"input\" !== SyntheticEventCtor.toLowerCase() ||\n                (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n                  ? targetInst &&\n                    isCustomElement(targetInst.elementType) &&\n                    (getTargetInstFunc = getTargetInstForChangeEvent)\n                  : (getTargetInstFunc = getTargetInstForClickEvent);\n            if (\n              getTargetInstFunc &&\n              (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n            ) {\n              createAndAccumulateChangeEvent(\n                dispatchQueue,\n                getTargetInstFunc,\n                nativeEvent,\n                nativeEventTarget\n              );\n              break a;\n            }\n            handleEventFunc &&\n              handleEventFunc(domEventName, reactName, targetInst);\n            \"focusout\" === domEventName &&\n              targetInst &&\n              \"number\" === reactName.type &&\n              null != targetInst.memoizedProps.value &&\n              setDefaultValue(reactName, \"number\", reactName.value);\n          }\n          handleEventFunc = targetInst\n            ? getNodeFromInstance(targetInst)\n            : window;\n          switch (domEventName) {\n            case \"focusin\":\n              if (\n                isTextInputElement(handleEventFunc) ||\n                \"true\" === handleEventFunc.contentEditable\n              )\n                (activeElement = handleEventFunc),\n                  (activeElementInst = targetInst),\n                  (lastSelection = null);\n              break;\n            case \"focusout\":\n              lastSelection = activeElementInst = activeElement = null;\n              break;\n            case \"mousedown\":\n              mouseDown = !0;\n              break;\n            case \"contextmenu\":\n            case \"mouseup\":\n            case \"dragend\":\n              mouseDown = !1;\n              constructSelectEvent(\n                dispatchQueue,\n                nativeEvent,\n                nativeEventTarget\n              );\n              break;\n            case \"selectionchange\":\n              if (skipSelectionChangeEvent) break;\n            case \"keydown\":\n            case \"keyup\":\n              constructSelectEvent(\n                dispatchQueue,\n                nativeEvent,\n                nativeEventTarget\n              );\n          }\n          var fallbackData;\n          if (canUseCompositionEvent)\n            b: {\n              switch (domEventName) {\n                case \"compositionstart\":\n                  var eventType = \"onCompositionStart\";\n                  break b;\n                case \"compositionend\":\n                  eventType = \"onCompositionEnd\";\n                  break b;\n                case \"compositionupdate\":\n                  eventType = \"onCompositionUpdate\";\n                  break b;\n              }\n              eventType = void 0;\n            }\n          else\n            isComposing\n              ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n                (eventType = \"onCompositionEnd\")\n              : \"keydown\" === domEventName &&\n                nativeEvent.keyCode === START_KEYCODE &&\n                (eventType = \"onCompositionStart\");\n          eventType &&\n            (useFallbackCompositionData &&\n              \"ko\" !== nativeEvent.locale &&\n              (isComposing || \"onCompositionStart\" !== eventType\n                ? \"onCompositionEnd\" === eventType &&\n                  isComposing &&\n                  (fallbackData = getData())\n                : ((root = nativeEventTarget),\n                  (startText = \"value\" in root ? root.value : root.textContent),\n                  (isComposing = !0))),\n            (handleEventFunc = accumulateTwoPhaseListeners(\n              targetInst,\n              eventType\n            )),\n            0 < handleEventFunc.length &&\n              ((eventType = new SyntheticCompositionEvent(\n                eventType,\n                domEventName,\n                null,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              dispatchQueue.push({\n                event: eventType,\n                listeners: handleEventFunc\n              }),\n              fallbackData\n                ? (eventType.data = fallbackData)\n                : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n                  null !== fallbackData && (eventType.data = fallbackData))));\n          if (\n            (fallbackData = canUseTextInputEvent\n              ? getNativeBeforeInputChars(domEventName, nativeEvent)\n              : getFallbackBeforeInputChars(domEventName, nativeEvent))\n          )\n            (eventType = accumulateTwoPhaseListeners(\n              targetInst,\n              \"onBeforeInput\"\n            )),\n              0 < eventType.length &&\n                ((handleEventFunc = new SyntheticInputEvent(\n                  \"onBeforeInput\",\n                  \"beforeinput\",\n                  null,\n                  nativeEvent,\n                  nativeEventTarget\n                )),\n                dispatchQueue.push({\n                  event: handleEventFunc,\n                  listeners: eventType\n                }),\n                (handleEventFunc.data = fallbackData));\n          extractEvents$1(\n            dispatchQueue,\n            domEventName,\n            targetInst,\n            nativeEvent,\n            nativeEventTarget\n          );\n        }\n        processDispatchQueue(dispatchQueue, eventSystemFlags);\n      });\n    }\n    function createDispatchListener(instance, listener, currentTarget) {\n      return {\n        instance: instance,\n        listener: listener,\n        currentTarget: currentTarget\n      };\n    }\n    function accumulateTwoPhaseListeners(targetFiber, reactName) {\n      for (\n        var captureName = reactName + \"Capture\", listeners = [];\n        null !== targetFiber;\n\n      ) {\n        var _instance3 = targetFiber,\n          stateNode = _instance3.stateNode;\n        _instance3 = _instance3.tag;\n        (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n          null === stateNode ||\n          ((_instance3 = getListener(targetFiber, captureName)),\n          null != _instance3 &&\n            listeners.unshift(\n              createDispatchListener(targetFiber, _instance3, stateNode)\n            ),\n          (_instance3 = getListener(targetFiber, reactName)),\n          null != _instance3 &&\n            listeners.push(\n              createDispatchListener(targetFiber, _instance3, stateNode)\n            ));\n        if (3 === targetFiber.tag) return listeners;\n        targetFiber = targetFiber.return;\n      }\n      return [];\n    }\n    function getParent(inst) {\n      if (null === inst) return null;\n      do inst = inst.return;\n      while (inst && 5 !== inst.tag && 27 !== inst.tag);\n      return inst ? inst : null;\n    }\n    function accumulateEnterLeaveListenersForEvent(\n      dispatchQueue,\n      event,\n      target,\n      common,\n      inCapturePhase\n    ) {\n      for (\n        var registrationName = event._reactName, listeners = [];\n        null !== target && target !== common;\n\n      ) {\n        var _instance4 = target,\n          alternate = _instance4.alternate,\n          stateNode = _instance4.stateNode;\n        _instance4 = _instance4.tag;\n        if (null !== alternate && alternate === common) break;\n        (5 !== _instance4 && 26 !== _instance4 && 27 !== _instance4) ||\n          null === stateNode ||\n          ((alternate = stateNode),\n          inCapturePhase\n            ? ((stateNode = getListener(target, registrationName)),\n              null != stateNode &&\n                listeners.unshift(\n                  createDispatchListener(target, stateNode, alternate)\n                ))\n            : inCapturePhase ||\n              ((stateNode = getListener(target, registrationName)),\n              null != stateNode &&\n                listeners.push(\n                  createDispatchListener(target, stateNode, alternate)\n                )));\n        target = target.return;\n      }\n      0 !== listeners.length &&\n        dispatchQueue.push({ event: event, listeners: listeners });\n    }\n    function validatePropertiesInDevelopment(type, props) {\n      validateProperties$2(type, props);\n      (\"input\" !== type && \"textarea\" !== type && \"select\" !== type) ||\n        null == props ||\n        null !== props.value ||\n        didWarnValueNull ||\n        ((didWarnValueNull = !0),\n        \"select\" === type && props.multiple\n          ? console.error(\n              \"`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.\",\n              type\n            )\n          : console.error(\n              \"`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.\",\n              type\n            ));\n      var eventRegistry = {\n        registrationNameDependencies: registrationNameDependencies,\n        possibleRegistrationNames: possibleRegistrationNames\n      };\n      isCustomElement(type) ||\n        \"string\" === typeof props.is ||\n        warnUnknownProperties(type, props, eventRegistry);\n      props.contentEditable &&\n        !props.suppressContentEditableWarning &&\n        null != props.children &&\n        console.error(\n          \"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.\"\n        );\n    }\n    function warnForPropDifference(\n      propName,\n      serverValue,\n      clientValue,\n      serverDifferences\n    ) {\n      serverValue !== clientValue &&\n        ((clientValue = normalizeMarkupForTextOrAttribute(clientValue)),\n        normalizeMarkupForTextOrAttribute(serverValue) !== clientValue &&\n          (serverDifferences[propName] = serverValue));\n    }\n    function warnForExtraAttributes(\n      domElement,\n      attributeNames,\n      serverDifferences\n    ) {\n      attributeNames.forEach(function (attributeName) {\n        serverDifferences[getPropNameFromAttributeName(attributeName)] =\n          \"style\" === attributeName\n            ? getStylesObjectFromElement(domElement)\n            : domElement.getAttribute(attributeName);\n      });\n    }\n    function warnForInvalidEventListener(registrationName, listener) {\n      !1 === listener\n        ? console.error(\n            \"Expected `%s` listener to be a function, instead got `false`.\\n\\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.\",\n            registrationName,\n            registrationName,\n            registrationName\n          )\n        : console.error(\n            \"Expected `%s` listener to be a function, instead got a value of `%s` type.\",\n            registrationName,\n            typeof listener\n          );\n    }\n    function normalizeHTML(parent, html) {\n      parent =\n        parent.namespaceURI === MATH_NAMESPACE ||\n        parent.namespaceURI === SVG_NAMESPACE\n          ? parent.ownerDocument.createElementNS(\n              parent.namespaceURI,\n              parent.tagName\n            )\n          : parent.ownerDocument.createElement(parent.tagName);\n      parent.innerHTML = html;\n      return parent.innerHTML;\n    }\n    function normalizeMarkupForTextOrAttribute(markup) {\n      willCoercionThrow(markup) &&\n        (console.error(\n          \"The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.\",\n          typeName(markup)\n        ),\n        testStringCoercion(markup));\n      return (\"string\" === typeof markup ? markup : \"\" + markup)\n        .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n        .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n    }\n    function checkForUnmatchedText(serverText, clientText) {\n      clientText = normalizeMarkupForTextOrAttribute(clientText);\n      return normalizeMarkupForTextOrAttribute(serverText) === clientText\n        ? !0\n        : !1;\n    }\n    function setProp(domElement, tag, key, value, props, prevValue) {\n      switch (key) {\n        case \"children\":\n          if (\"string\" === typeof value)\n            validateTextNesting(value, tag, !1),\n              \"body\" === tag ||\n                (\"textarea\" === tag && \"\" === value) ||\n                setTextContent(domElement, value);\n          else if (\"number\" === typeof value || \"bigint\" === typeof value)\n            validateTextNesting(\"\" + value, tag, !1),\n              \"body\" !== tag && setTextContent(domElement, \"\" + value);\n          break;\n        case \"className\":\n          setValueForKnownAttribute(domElement, \"class\", value);\n          break;\n        case \"tabIndex\":\n          setValueForKnownAttribute(domElement, \"tabindex\", value);\n          break;\n        case \"dir\":\n        case \"role\":\n        case \"viewBox\":\n        case \"width\":\n        case \"height\":\n          setValueForKnownAttribute(domElement, key, value);\n          break;\n        case \"style\":\n          setValueForStyles(domElement, value, prevValue);\n          break;\n        case \"data\":\n          if (\"object\" !== tag) {\n            setValueForKnownAttribute(domElement, \"data\", value);\n            break;\n          }\n        case \"src\":\n        case \"href\":\n          if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n            \"src\" === key\n              ? console.error(\n                  'An empty string (\"\") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',\n                  key,\n                  key\n                )\n              : console.error(\n                  'An empty string (\"\") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',\n                  key,\n                  key\n                );\n            domElement.removeAttribute(key);\n            break;\n          }\n          if (\n            null == value ||\n            \"function\" === typeof value ||\n            \"symbol\" === typeof value ||\n            \"boolean\" === typeof value\n          ) {\n            domElement.removeAttribute(key);\n            break;\n          }\n          checkAttributeStringCoercion(value, key);\n          value = sanitizeURL(\"\" + value);\n          domElement.setAttribute(key, value);\n          break;\n        case \"action\":\n        case \"formAction\":\n          null != value &&\n            (\"form\" === tag\n              ? \"formAction\" === key\n                ? console.error(\n                    \"You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>.\"\n                  )\n                : \"function\" === typeof value &&\n                  ((null == props.encType && null == props.method) ||\n                    didWarnFormActionMethod ||\n                    ((didWarnFormActionMethod = !0),\n                    console.error(\n                      \"Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.\"\n                    )),\n                  null == props.target ||\n                    didWarnFormActionTarget ||\n                    ((didWarnFormActionTarget = !0),\n                    console.error(\n                      \"Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window.\"\n                    )))\n              : \"input\" === tag || \"button\" === tag\n                ? \"action\" === key\n                  ? console.error(\n                      \"You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>.\"\n                    )\n                  : \"input\" !== tag ||\n                      \"submit\" === props.type ||\n                      \"image\" === props.type ||\n                      didWarnFormActionType\n                    ? \"button\" !== tag ||\n                      null == props.type ||\n                      \"submit\" === props.type ||\n                      didWarnFormActionType\n                      ? \"function\" === typeof value &&\n                        (null == props.name ||\n                          didWarnFormActionName ||\n                          ((didWarnFormActionName = !0),\n                          console.error(\n                            'Cannot specify a \"name\" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.'\n                          )),\n                        (null == props.formEncType &&\n                          null == props.formMethod) ||\n                          didWarnFormActionMethod ||\n                          ((didWarnFormActionMethod = !0),\n                          console.error(\n                            \"Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.\"\n                          )),\n                        null == props.formTarget ||\n                          didWarnFormActionTarget ||\n                          ((didWarnFormActionTarget = !0),\n                          console.error(\n                            \"Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window.\"\n                          )))\n                      : ((didWarnFormActionType = !0),\n                        console.error(\n                          'A button can only specify a formAction along with type=\"submit\" or no type.'\n                        ))\n                    : ((didWarnFormActionType = !0),\n                      console.error(\n                        'An input can only specify a formAction along with type=\"submit\" or type=\"image\".'\n                      ))\n                : \"action\" === key\n                  ? console.error(\n                      \"You can only pass the action prop to <form>.\"\n                    )\n                  : console.error(\n                      \"You can only pass the formAction prop to <input> or <button>.\"\n                    ));\n          if (\"function\" === typeof value) {\n            domElement.setAttribute(\n              key,\n              \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n            );\n            break;\n          } else\n            \"function\" === typeof prevValue &&\n              (\"formAction\" === key\n                ? (\"input\" !== tag &&\n                    setProp(domElement, tag, \"name\", props.name, props, null),\n                  setProp(\n                    domElement,\n                    tag,\n                    \"formEncType\",\n                    props.formEncType,\n                    props,\n                    null\n                  ),\n                  setProp(\n                    domElement,\n                    tag,\n                    \"formMethod\",\n                    props.formMethod,\n                    props,\n                    null\n                  ),\n                  setProp(\n                    domElement,\n                    tag,\n                    \"formTarget\",\n                    props.formTarget,\n                    props,\n                    null\n                  ))\n                : (setProp(\n                    domElement,\n                    tag,\n                    \"encType\",\n                    props.encType,\n                    props,\n                    null\n                  ),\n                  setProp(domElement, tag, \"method\", props.method, props, null),\n                  setProp(\n                    domElement,\n                    tag,\n                    \"target\",\n                    props.target,\n                    props,\n                    null\n                  )));\n          if (\n            null == value ||\n            \"symbol\" === typeof value ||\n            \"boolean\" === typeof value\n          ) {\n            domElement.removeAttribute(key);\n            break;\n          }\n          checkAttributeStringCoercion(value, key);\n          value = sanitizeURL(\"\" + value);\n          domElement.setAttribute(key, value);\n          break;\n        case \"onClick\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            (domElement.onclick = noop$1));\n          break;\n        case \"onScroll\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            listenToNonDelegatedEvent(\"scroll\", domElement));\n          break;\n        case \"onScrollEnd\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            listenToNonDelegatedEvent(\"scrollend\", domElement));\n          break;\n        case \"dangerouslySetInnerHTML\":\n          if (null != value) {\n            if (\"object\" !== typeof value || !(\"__html\" in value))\n              throw Error(\n                \"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.\"\n              );\n            key = value.__html;\n            if (null != key) {\n              if (null != props.children)\n                throw Error(\n                  \"Can only set one of `children` or `props.dangerouslySetInnerHTML`.\"\n                );\n              domElement.innerHTML = key;\n            }\n          }\n          break;\n        case \"multiple\":\n          domElement.multiple =\n            value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n          break;\n        case \"muted\":\n          domElement.muted =\n            value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n          break;\n        case \"suppressContentEditableWarning\":\n        case \"suppressHydrationWarning\":\n        case \"defaultValue\":\n        case \"defaultChecked\":\n        case \"innerHTML\":\n        case \"ref\":\n          break;\n        case \"autoFocus\":\n          break;\n        case \"xlinkHref\":\n          if (\n            null == value ||\n            \"function\" === typeof value ||\n            \"boolean\" === typeof value ||\n            \"symbol\" === typeof value\n          ) {\n            domElement.removeAttribute(\"xlink:href\");\n            break;\n          }\n          checkAttributeStringCoercion(value, key);\n          key = sanitizeURL(\"\" + value);\n          domElement.setAttributeNS(xlinkNamespace, \"xlink:href\", key);\n          break;\n        case \"contentEditable\":\n        case \"spellCheck\":\n        case \"draggable\":\n        case \"value\":\n        case \"autoReverse\":\n        case \"externalResourcesRequired\":\n        case \"focusable\":\n        case \"preserveAlpha\":\n          null != value &&\n          \"function\" !== typeof value &&\n          \"symbol\" !== typeof value\n            ? (checkAttributeStringCoercion(value, key),\n              domElement.setAttribute(key, \"\" + value))\n            : domElement.removeAttribute(key);\n          break;\n        case \"inert\":\n          \"\" !== value ||\n            didWarnForNewBooleanPropsWithEmptyValue[key] ||\n            ((didWarnForNewBooleanPropsWithEmptyValue[key] = !0),\n            console.error(\n              \"Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.\",\n              key\n            ));\n        case \"allowFullScreen\":\n        case \"async\":\n        case \"autoPlay\":\n        case \"controls\":\n        case \"default\":\n        case \"defer\":\n        case \"disabled\":\n        case \"disablePictureInPicture\":\n        case \"disableRemotePlayback\":\n        case \"formNoValidate\":\n        case \"hidden\":\n        case \"loop\":\n        case \"noModule\":\n        case \"noValidate\":\n        case \"open\":\n        case \"playsInline\":\n        case \"readOnly\":\n        case \"required\":\n        case \"reversed\":\n        case \"scoped\":\n        case \"seamless\":\n        case \"itemScope\":\n          value && \"function\" !== typeof value && \"symbol\" !== typeof value\n            ? domElement.setAttribute(key, \"\")\n            : domElement.removeAttribute(key);\n          break;\n        case \"capture\":\n        case \"download\":\n          !0 === value\n            ? domElement.setAttribute(key, \"\")\n            : !1 !== value &&\n                null != value &&\n                \"function\" !== typeof value &&\n                \"symbol\" !== typeof value\n              ? (checkAttributeStringCoercion(value, key),\n                domElement.setAttribute(key, value))\n              : domElement.removeAttribute(key);\n          break;\n        case \"cols\":\n        case \"rows\":\n        case \"size\":\n        case \"span\":\n          null != value &&\n          \"function\" !== typeof value &&\n          \"symbol\" !== typeof value &&\n          !isNaN(value) &&\n          1 <= value\n            ? (checkAttributeStringCoercion(value, key),\n              domElement.setAttribute(key, value))\n            : domElement.removeAttribute(key);\n          break;\n        case \"rowSpan\":\n        case \"start\":\n          null == value ||\n          \"function\" === typeof value ||\n          \"symbol\" === typeof value ||\n          isNaN(value)\n            ? domElement.removeAttribute(key)\n            : (checkAttributeStringCoercion(value, key),\n              domElement.setAttribute(key, value));\n          break;\n        case \"popover\":\n          listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n          listenToNonDelegatedEvent(\"toggle\", domElement);\n          setValueForAttribute(domElement, \"popover\", value);\n          break;\n        case \"xlinkActuate\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:actuate\",\n            value\n          );\n          break;\n        case \"xlinkArcrole\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:arcrole\",\n            value\n          );\n          break;\n        case \"xlinkRole\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:role\",\n            value\n          );\n          break;\n        case \"xlinkShow\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:show\",\n            value\n          );\n          break;\n        case \"xlinkTitle\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:title\",\n            value\n          );\n          break;\n        case \"xlinkType\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xlinkNamespace,\n            \"xlink:type\",\n            value\n          );\n          break;\n        case \"xmlBase\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xmlNamespace,\n            \"xml:base\",\n            value\n          );\n          break;\n        case \"xmlLang\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xmlNamespace,\n            \"xml:lang\",\n            value\n          );\n          break;\n        case \"xmlSpace\":\n          setValueForNamespacedAttribute(\n            domElement,\n            xmlNamespace,\n            \"xml:space\",\n            value\n          );\n          break;\n        case \"is\":\n          null != prevValue &&\n            console.error(\n              'Cannot update the \"is\" prop after it has been initialized.'\n            );\n          setValueForAttribute(domElement, \"is\", value);\n          break;\n        case \"innerText\":\n        case \"textContent\":\n          break;\n        case \"popoverTarget\":\n          didWarnPopoverTargetObject ||\n            null == value ||\n            \"object\" !== typeof value ||\n            ((didWarnPopoverTargetObject = !0),\n            console.error(\n              \"The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.\",\n              value\n            ));\n        default:\n          !(2 < key.length) ||\n          (\"o\" !== key[0] && \"O\" !== key[0]) ||\n          (\"n\" !== key[1] && \"N\" !== key[1])\n            ? ((key = getAttributeAlias(key)),\n              setValueForAttribute(domElement, key, value))\n            : registrationNameDependencies.hasOwnProperty(key) &&\n              null != value &&\n              \"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value);\n      }\n    }\n    function setPropOnCustomElement(\n      domElement,\n      tag,\n      key,\n      value,\n      props,\n      prevValue\n    ) {\n      switch (key) {\n        case \"style\":\n          setValueForStyles(domElement, value, prevValue);\n          break;\n        case \"dangerouslySetInnerHTML\":\n          if (null != value) {\n            if (\"object\" !== typeof value || !(\"__html\" in value))\n              throw Error(\n                \"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.\"\n              );\n            key = value.__html;\n            if (null != key) {\n              if (null != props.children)\n                throw Error(\n                  \"Can only set one of `children` or `props.dangerouslySetInnerHTML`.\"\n                );\n              domElement.innerHTML = key;\n            }\n          }\n          break;\n        case \"children\":\n          \"string\" === typeof value\n            ? setTextContent(domElement, value)\n            : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n              setTextContent(domElement, \"\" + value);\n          break;\n        case \"onScroll\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            listenToNonDelegatedEvent(\"scroll\", domElement));\n          break;\n        case \"onScrollEnd\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            listenToNonDelegatedEvent(\"scrollend\", domElement));\n          break;\n        case \"onClick\":\n          null != value &&\n            (\"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value),\n            (domElement.onclick = noop$1));\n          break;\n        case \"suppressContentEditableWarning\":\n        case \"suppressHydrationWarning\":\n        case \"innerHTML\":\n        case \"ref\":\n          break;\n        case \"innerText\":\n        case \"textContent\":\n          break;\n        default:\n          if (registrationNameDependencies.hasOwnProperty(key))\n            null != value &&\n              \"function\" !== typeof value &&\n              warnForInvalidEventListener(key, value);\n          else\n            a: {\n              if (\n                \"o\" === key[0] &&\n                \"n\" === key[1] &&\n                ((props = key.endsWith(\"Capture\")),\n                (tag = key.slice(2, props ? key.length - 7 : void 0)),\n                (prevValue = domElement[internalPropsKey] || null),\n                (prevValue = null != prevValue ? prevValue[key] : null),\n                \"function\" === typeof prevValue &&\n                  domElement.removeEventListener(tag, prevValue, props),\n                \"function\" === typeof value)\n              ) {\n                \"function\" !== typeof prevValue &&\n                  null !== prevValue &&\n                  (key in domElement\n                    ? (domElement[key] = null)\n                    : domElement.hasAttribute(key) &&\n                      domElement.removeAttribute(key));\n                domElement.addEventListener(tag, value, props);\n                break a;\n              }\n              key in domElement\n                ? (domElement[key] = value)\n                : !0 === value\n                  ? domElement.setAttribute(key, \"\")\n                  : setValueForAttribute(domElement, key, value);\n            }\n      }\n    }\n    function setInitialProperties(domElement, tag, props) {\n      validatePropertiesInDevelopment(tag, props);\n      switch (tag) {\n        case \"div\":\n        case \"span\":\n        case \"svg\":\n        case \"path\":\n        case \"a\":\n        case \"g\":\n        case \"p\":\n        case \"li\":\n          break;\n        case \"img\":\n          listenToNonDelegatedEvent(\"error\", domElement);\n          listenToNonDelegatedEvent(\"load\", domElement);\n          var hasSrc = !1,\n            hasSrcSet = !1,\n            propKey;\n          for (propKey in props)\n            if (props.hasOwnProperty(propKey)) {\n              var propValue = props[propKey];\n              if (null != propValue)\n                switch (propKey) {\n                  case \"src\":\n                    hasSrc = !0;\n                    break;\n                  case \"srcSet\":\n                    hasSrcSet = !0;\n                    break;\n                  case \"children\":\n                  case \"dangerouslySetInnerHTML\":\n                    throw Error(\n                      tag +\n                        \" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.\"\n                    );\n                  default:\n                    setProp(domElement, tag, propKey, propValue, props, null);\n                }\n            }\n          hasSrcSet &&\n            setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n          hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n          return;\n        case \"input\":\n          checkControlledValueProps(\"input\", props);\n          listenToNonDelegatedEvent(\"invalid\", domElement);\n          var defaultValue = (propKey = propValue = hasSrcSet = null),\n            checked = null,\n            defaultChecked = null;\n          for (hasSrc in props)\n            if (props.hasOwnProperty(hasSrc)) {\n              var _propValue = props[hasSrc];\n              if (null != _propValue)\n                switch (hasSrc) {\n                  case \"name\":\n                    hasSrcSet = _propValue;\n                    break;\n                  case \"type\":\n                    propValue = _propValue;\n                    break;\n                  case \"checked\":\n                    checked = _propValue;\n                    break;\n                  case \"defaultChecked\":\n                    defaultChecked = _propValue;\n                    break;\n                  case \"value\":\n                    propKey = _propValue;\n                    break;\n                  case \"defaultValue\":\n                    defaultValue = _propValue;\n                    break;\n                  case \"children\":\n                  case \"dangerouslySetInnerHTML\":\n                    if (null != _propValue)\n                      throw Error(\n                        tag +\n                          \" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.\"\n                      );\n                    break;\n                  default:\n                    setProp(domElement, tag, hasSrc, _propValue, props, null);\n                }\n            }\n          validateInputProps(domElement, props);\n          initInput(\n            domElement,\n            propKey,\n            defaultValue,\n            checked,\n            defaultChecked,\n            propValue,\n            hasSrcSet,\n            !1\n          );\n          return;\n        case \"select\":\n          checkControlledValueProps(\"select\", props);\n          listenToNonDelegatedEvent(\"invalid\", domElement);\n          hasSrc = propValue = propKey = null;\n          for (hasSrcSet in props)\n            if (\n              props.hasOwnProperty(hasSrcSet) &&\n              ((defaultValue = props[hasSrcSet]), null != defaultValue)\n            )\n              switch (hasSrcSet) {\n                case \"value\":\n                  propKey = defaultValue;\n                  break;\n                case \"defaultValue\":\n                  propValue = defaultValue;\n                  break;\n                case \"multiple\":\n                  hasSrc = defaultValue;\n                default:\n                  setProp(\n                    domElement,\n                    tag,\n                    hasSrcSet,\n                    defaultValue,\n                    props,\n                    null\n                  );\n              }\n          validateSelectProps(domElement, props);\n          tag = propKey;\n          props = propValue;\n          domElement.multiple = !!hasSrc;\n          null != tag\n            ? updateOptions(domElement, !!hasSrc, tag, !1)\n            : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n          return;\n        case \"textarea\":\n          checkControlledValueProps(\"textarea\", props);\n          listenToNonDelegatedEvent(\"invalid\", domElement);\n          propKey = hasSrcSet = hasSrc = null;\n          for (propValue in props)\n            if (\n              props.hasOwnProperty(propValue) &&\n              ((defaultValue = props[propValue]), null != defaultValue)\n            )\n              switch (propValue) {\n                case \"value\":\n                  hasSrc = defaultValue;\n                  break;\n                case \"defaultValue\":\n                  hasSrcSet = defaultValue;\n                  break;\n                case \"children\":\n                  propKey = defaultValue;\n                  break;\n                case \"dangerouslySetInnerHTML\":\n                  if (null != defaultValue)\n                    throw Error(\n                      \"`dangerouslySetInnerHTML` does not make sense on <textarea>.\"\n                    );\n                  break;\n                default:\n                  setProp(\n                    domElement,\n                    tag,\n                    propValue,\n                    defaultValue,\n                    props,\n                    null\n                  );\n              }\n          validateTextareaProps(domElement, props);\n          initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n          return;\n        case \"option\":\n          validateOptionProps(domElement, props);\n          for (checked in props)\n            if (\n              props.hasOwnProperty(checked) &&\n              ((hasSrc = props[checked]), null != hasSrc)\n            )\n              switch (checked) {\n                case \"selected\":\n                  domElement.selected =\n                    hasSrc &&\n                    \"function\" !== typeof hasSrc &&\n                    \"symbol\" !== typeof hasSrc;\n                  break;\n                default:\n                  setProp(domElement, tag, checked, hasSrc, props, null);\n              }\n          return;\n        case \"dialog\":\n          listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n          listenToNonDelegatedEvent(\"toggle\", domElement);\n          listenToNonDelegatedEvent(\"cancel\", domElement);\n          listenToNonDelegatedEvent(\"close\", domElement);\n          break;\n        case \"iframe\":\n        case \"object\":\n          listenToNonDelegatedEvent(\"load\", domElement);\n          break;\n        case \"video\":\n        case \"audio\":\n          for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n            listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n          break;\n        case \"image\":\n          listenToNonDelegatedEvent(\"error\", domElement);\n          listenToNonDelegatedEvent(\"load\", domElement);\n          break;\n        case \"details\":\n          listenToNonDelegatedEvent(\"toggle\", domElement);\n          break;\n        case \"embed\":\n        case \"source\":\n        case \"link\":\n          listenToNonDelegatedEvent(\"error\", domElement),\n            listenToNonDelegatedEvent(\"load\", domElement);\n        case \"area\":\n        case \"base\":\n        case \"br\":\n        case \"col\":\n        case \"hr\":\n        case \"keygen\":\n        case \"meta\":\n        case \"param\":\n        case \"track\":\n        case \"wbr\":\n        case \"menuitem\":\n          for (defaultChecked in props)\n            if (\n              props.hasOwnProperty(defaultChecked) &&\n              ((hasSrc = props[defaultChecked]), null != hasSrc)\n            )\n              switch (defaultChecked) {\n                case \"children\":\n                case \"dangerouslySetInnerHTML\":\n                  throw Error(\n                    tag +\n                      \" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.\"\n                  );\n                default:\n                  setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n              }\n          return;\n        default:\n          if (isCustomElement(tag)) {\n            for (_propValue in props)\n              props.hasOwnProperty(_propValue) &&\n                ((hasSrc = props[_propValue]),\n                void 0 !== hasSrc &&\n                  setPropOnCustomElement(\n                    domElement,\n                    tag,\n                    _propValue,\n                    hasSrc,\n                    props,\n                    void 0\n                  ));\n            return;\n          }\n      }\n      for (defaultValue in props)\n        props.hasOwnProperty(defaultValue) &&\n          ((hasSrc = props[defaultValue]),\n          null != hasSrc &&\n            setProp(domElement, tag, defaultValue, hasSrc, props, null));\n    }\n    function updateProperties(domElement, tag, lastProps, nextProps) {\n      validatePropertiesInDevelopment(tag, nextProps);\n      switch (tag) {\n        case \"div\":\n        case \"span\":\n        case \"svg\":\n        case \"path\":\n        case \"a\":\n        case \"g\":\n        case \"p\":\n        case \"li\":\n          break;\n        case \"input\":\n          var name = null,\n            type = null,\n            value = null,\n            defaultValue = null,\n            lastDefaultValue = null,\n            checked = null,\n            defaultChecked = null;\n          for (propKey in lastProps) {\n            var lastProp = lastProps[propKey];\n            if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n              switch (propKey) {\n                case \"checked\":\n                  break;\n                case \"value\":\n                  break;\n                case \"defaultValue\":\n                  lastDefaultValue = lastProp;\n                default:\n                  nextProps.hasOwnProperty(propKey) ||\n                    setProp(\n                      domElement,\n                      tag,\n                      propKey,\n                      null,\n                      nextProps,\n                      lastProp\n                    );\n              }\n          }\n          for (var _propKey8 in nextProps) {\n            var propKey = nextProps[_propKey8];\n            lastProp = lastProps[_propKey8];\n            if (\n              nextProps.hasOwnProperty(_propKey8) &&\n              (null != propKey || null != lastProp)\n            )\n              switch (_propKey8) {\n                case \"type\":\n                  type = propKey;\n                  break;\n                case \"name\":\n                  name = propKey;\n                  break;\n                case \"checked\":\n                  checked = propKey;\n                  break;\n                case \"defaultChecked\":\n                  defaultChecked = propKey;\n                  break;\n                case \"value\":\n                  value = propKey;\n                  break;\n                case \"defaultValue\":\n                  defaultValue = propKey;\n                  break;\n                case \"children\":\n                case \"dangerouslySetInnerHTML\":\n                  if (null != propKey)\n                    throw Error(\n                      tag +\n                        \" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.\"\n                    );\n                  break;\n                default:\n                  propKey !== lastProp &&\n                    setProp(\n                      domElement,\n                      tag,\n                      _propKey8,\n                      propKey,\n                      nextProps,\n                      lastProp\n                    );\n              }\n          }\n          tag =\n            \"checkbox\" === lastProps.type || \"radio\" === lastProps.type\n              ? null != lastProps.checked\n              : null != lastProps.value;\n          nextProps =\n            \"checkbox\" === nextProps.type || \"radio\" === nextProps.type\n              ? null != nextProps.checked\n              : null != nextProps.value;\n          tag ||\n            !nextProps ||\n            didWarnUncontrolledToControlled ||\n            (console.error(\n              \"A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components\"\n            ),\n            (didWarnUncontrolledToControlled = !0));\n          !tag ||\n            nextProps ||\n            didWarnControlledToUncontrolled ||\n            (console.error(\n              \"A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components\"\n            ),\n            (didWarnControlledToUncontrolled = !0));\n          updateInput(\n            domElement,\n            value,\n            defaultValue,\n            lastDefaultValue,\n            checked,\n            defaultChecked,\n            type,\n            name\n          );\n          return;\n        case \"select\":\n          propKey = value = defaultValue = _propKey8 = null;\n          for (type in lastProps)\n            if (\n              ((lastDefaultValue = lastProps[type]),\n              lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n            )\n              switch (type) {\n                case \"value\":\n                  break;\n                case \"multiple\":\n                  propKey = lastDefaultValue;\n                default:\n                  nextProps.hasOwnProperty(type) ||\n                    setProp(\n                      domElement,\n                      tag,\n                      type,\n                      null,\n                      nextProps,\n                      lastDefaultValue\n                    );\n              }\n          for (name in nextProps)\n            if (\n              ((type = nextProps[name]),\n              (lastDefaultValue = lastProps[name]),\n              nextProps.hasOwnProperty(name) &&\n                (null != type || null != lastDefaultValue))\n            )\n              switch (name) {\n                case \"value\":\n                  _propKey8 = type;\n                  break;\n                case \"defaultValue\":\n                  defaultValue = type;\n                  break;\n                case \"multiple\":\n                  value = type;\n                default:\n                  type !== lastDefaultValue &&\n                    setProp(\n                      domElement,\n                      tag,\n                      name,\n                      type,\n                      nextProps,\n                      lastDefaultValue\n                    );\n              }\n          nextProps = defaultValue;\n          tag = value;\n          lastProps = propKey;\n          null != _propKey8\n            ? updateOptions(domElement, !!tag, _propKey8, !1)\n            : !!lastProps !== !!tag &&\n              (null != nextProps\n                ? updateOptions(domElement, !!tag, nextProps, !0)\n                : updateOptions(domElement, !!tag, tag ? [] : \"\", !1));\n          return;\n        case \"textarea\":\n          propKey = _propKey8 = null;\n          for (defaultValue in lastProps)\n            if (\n              ((name = lastProps[defaultValue]),\n              lastProps.hasOwnProperty(defaultValue) &&\n                null != name &&\n                !nextProps.hasOwnProperty(defaultValue))\n            )\n              switch (defaultValue) {\n                case \"value\":\n                  break;\n                case \"children\":\n                  break;\n                default:\n                  setProp(domElement, tag, defaultValue, null, nextProps, name);\n              }\n          for (value in nextProps)\n            if (\n              ((name = nextProps[value]),\n              (type = lastProps[value]),\n              nextProps.hasOwnProperty(value) && (null != name || null != type))\n            )\n              switch (value) {\n                case \"value\":\n                  _propKey8 = name;\n                  break;\n                case \"defaultValue\":\n                  propKey = name;\n                  break;\n                case \"children\":\n                  break;\n                case \"dangerouslySetInnerHTML\":\n                  if (null != name)\n                    throw Error(\n                      \"`dangerouslySetInnerHTML` does not make sense on <textarea>.\"\n                    );\n                  break;\n                default:\n                  name !== type &&\n                    setProp(domElement, tag, value, name, nextProps, type);\n              }\n          updateTextarea(domElement, _propKey8, propKey);\n          return;\n        case \"option\":\n          for (var _propKey13 in lastProps)\n            if (\n              ((_propKey8 = lastProps[_propKey13]),\n              lastProps.hasOwnProperty(_propKey13) &&\n                null != _propKey8 &&\n                !nextProps.hasOwnProperty(_propKey13))\n            )\n              switch (_propKey13) {\n                case \"selected\":\n                  domElement.selected = !1;\n                  break;\n                default:\n                  setProp(\n                    domElement,\n                    tag,\n                    _propKey13,\n                    null,\n                    nextProps,\n                    _propKey8\n                  );\n              }\n          for (lastDefaultValue in nextProps)\n            if (\n              ((_propKey8 = nextProps[lastDefaultValue]),\n              (propKey = lastProps[lastDefaultValue]),\n              nextProps.hasOwnProperty(lastDefaultValue) &&\n                _propKey8 !== propKey &&\n                (null != _propKey8 || null != propKey))\n            )\n              switch (lastDefaultValue) {\n                case \"selected\":\n                  domElement.selected =\n                    _propKey8 &&\n                    \"function\" !== typeof _propKey8 &&\n                    \"symbol\" !== typeof _propKey8;\n                  break;\n                default:\n                  setProp(\n                    domElement,\n                    tag,\n                    lastDefaultValue,\n                    _propKey8,\n                    nextProps,\n                    propKey\n                  );\n              }\n          return;\n        case \"img\":\n        case \"link\":\n        case \"area\":\n        case \"base\":\n        case \"br\":\n        case \"col\":\n        case \"embed\":\n        case \"hr\":\n        case \"keygen\":\n        case \"meta\":\n        case \"param\":\n        case \"source\":\n        case \"track\":\n        case \"wbr\":\n        case \"menuitem\":\n          for (var _propKey15 in lastProps)\n            (_propKey8 = lastProps[_propKey15]),\n              lastProps.hasOwnProperty(_propKey15) &&\n                null != _propKey8 &&\n                !nextProps.hasOwnProperty(_propKey15) &&\n                setProp(\n                  domElement,\n                  tag,\n                  _propKey15,\n                  null,\n                  nextProps,\n                  _propKey8\n                );\n          for (checked in nextProps)\n            if (\n              ((_propKey8 = nextProps[checked]),\n              (propKey = lastProps[checked]),\n              nextProps.hasOwnProperty(checked) &&\n                _propKey8 !== propKey &&\n                (null != _propKey8 || null != propKey))\n            )\n              switch (checked) {\n                case \"children\":\n                case \"dangerouslySetInnerHTML\":\n                  if (null != _propKey8)\n                    throw Error(\n                      tag +\n                        \" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.\"\n                    );\n                  break;\n                default:\n                  setProp(\n                    domElement,\n                    tag,\n                    checked,\n                    _propKey8,\n                    nextProps,\n                    propKey\n                  );\n              }\n          return;\n        default:\n          if (isCustomElement(tag)) {\n            for (var _propKey17 in lastProps)\n              (_propKey8 = lastProps[_propKey17]),\n                lastProps.hasOwnProperty(_propKey17) &&\n                  void 0 !== _propKey8 &&\n                  !nextProps.hasOwnProperty(_propKey17) &&\n                  setPropOnCustomElement(\n                    domElement,\n                    tag,\n                    _propKey17,\n                    void 0,\n                    nextProps,\n                    _propKey8\n                  );\n            for (defaultChecked in nextProps)\n              (_propKey8 = nextProps[defaultChecked]),\n                (propKey = lastProps[defaultChecked]),\n                !nextProps.hasOwnProperty(defaultChecked) ||\n                  _propKey8 === propKey ||\n                  (void 0 === _propKey8 && void 0 === propKey) ||\n                  setPropOnCustomElement(\n                    domElement,\n                    tag,\n                    defaultChecked,\n                    _propKey8,\n                    nextProps,\n                    propKey\n                  );\n            return;\n          }\n      }\n      for (var _propKey19 in lastProps)\n        (_propKey8 = lastProps[_propKey19]),\n          lastProps.hasOwnProperty(_propKey19) &&\n            null != _propKey8 &&\n            !nextProps.hasOwnProperty(_propKey19) &&\n            setProp(domElement, tag, _propKey19, null, nextProps, _propKey8);\n      for (lastProp in nextProps)\n        (_propKey8 = nextProps[lastProp]),\n          (propKey = lastProps[lastProp]),\n          !nextProps.hasOwnProperty(lastProp) ||\n            _propKey8 === propKey ||\n            (null == _propKey8 && null == propKey) ||\n            setProp(domElement, tag, lastProp, _propKey8, nextProps, propKey);\n    }\n    function getPropNameFromAttributeName(attrName) {\n      switch (attrName) {\n        case \"class\":\n          return \"className\";\n        case \"for\":\n          return \"htmlFor\";\n        default:\n          return attrName;\n      }\n    }\n    function getStylesObjectFromElement(domElement) {\n      var serverValueInObjectForm = {};\n      domElement = domElement.style;\n      for (var i = 0; i < domElement.length; i++) {\n        var styleName = domElement[i];\n        serverValueInObjectForm[styleName] =\n          domElement.getPropertyValue(styleName);\n      }\n      return serverValueInObjectForm;\n    }\n    function diffHydratedStyles(domElement, value$jscomp$0, serverDifferences) {\n      if (null != value$jscomp$0 && \"object\" !== typeof value$jscomp$0)\n        console.error(\n          \"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.\"\n        );\n      else {\n        var clientValue;\n        var delimiter = (clientValue = \"\"),\n          styleName;\n        for (styleName in value$jscomp$0)\n          if (value$jscomp$0.hasOwnProperty(styleName)) {\n            var value = value$jscomp$0[styleName];\n            null != value &&\n              \"boolean\" !== typeof value &&\n              \"\" !== value &&\n              (0 === styleName.indexOf(\"--\")\n                ? (checkCSSPropertyStringCoercion(value, styleName),\n                  (clientValue +=\n                    delimiter + styleName + \":\" + (\"\" + value).trim()))\n                : \"number\" !== typeof value ||\n                    0 === value ||\n                    unitlessNumbers.has(styleName)\n                  ? (checkCSSPropertyStringCoercion(value, styleName),\n                    (clientValue +=\n                      delimiter +\n                      styleName\n                        .replace(uppercasePattern, \"-$1\")\n                        .toLowerCase()\n                        .replace(msPattern$1, \"-ms-\") +\n                      \":\" +\n                      (\"\" + value).trim()))\n                  : (clientValue +=\n                      delimiter +\n                      styleName\n                        .replace(uppercasePattern, \"-$1\")\n                        .toLowerCase()\n                        .replace(msPattern$1, \"-ms-\") +\n                      \":\" +\n                      value +\n                      \"px\"),\n              (delimiter = \";\"));\n          }\n        clientValue = clientValue || null;\n        value$jscomp$0 = domElement.getAttribute(\"style\");\n        value$jscomp$0 !== clientValue &&\n          ((clientValue = normalizeMarkupForTextOrAttribute(clientValue)),\n          normalizeMarkupForTextOrAttribute(value$jscomp$0) !== clientValue &&\n            (serverDifferences.style = getStylesObjectFromElement(domElement)));\n      }\n    }\n    function hydrateAttribute(\n      domElement,\n      propKey,\n      attributeName,\n      value,\n      extraAttributes,\n      serverDifferences\n    ) {\n      extraAttributes.delete(attributeName);\n      domElement = domElement.getAttribute(attributeName);\n      if (null === domElement)\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            return;\n        }\n      else if (null != value)\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            break;\n          default:\n            if (\n              (checkAttributeStringCoercion(value, propKey),\n              domElement === \"\" + value)\n            )\n              return;\n        }\n      warnForPropDifference(propKey, domElement, value, serverDifferences);\n    }\n    function hydrateBooleanAttribute(\n      domElement,\n      propKey,\n      attributeName,\n      value,\n      extraAttributes,\n      serverDifferences\n    ) {\n      extraAttributes.delete(attributeName);\n      domElement = domElement.getAttribute(attributeName);\n      if (null === domElement) {\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n            return;\n        }\n        if (!value) return;\n      } else\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n            break;\n          default:\n            if (value) return;\n        }\n      warnForPropDifference(propKey, domElement, value, serverDifferences);\n    }\n    function hydrateBooleanishAttribute(\n      domElement,\n      propKey,\n      attributeName,\n      value,\n      extraAttributes,\n      serverDifferences\n    ) {\n      extraAttributes.delete(attributeName);\n      domElement = domElement.getAttribute(attributeName);\n      if (null === domElement)\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n            return;\n        }\n      else if (null != value)\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n            break;\n          default:\n            if (\n              (checkAttributeStringCoercion(value, attributeName),\n              domElement === \"\" + value)\n            )\n              return;\n        }\n      warnForPropDifference(propKey, domElement, value, serverDifferences);\n    }\n    function hydrateNumericAttribute(\n      domElement,\n      propKey,\n      attributeName,\n      value,\n      extraAttributes,\n      serverDifferences\n    ) {\n      extraAttributes.delete(attributeName);\n      domElement = domElement.getAttribute(attributeName);\n      if (null === domElement)\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            return;\n          default:\n            if (isNaN(value)) return;\n        }\n      else if (null != value)\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            break;\n          default:\n            if (\n              !isNaN(value) &&\n              (checkAttributeStringCoercion(value, propKey),\n              domElement === \"\" + value)\n            )\n              return;\n        }\n      warnForPropDifference(propKey, domElement, value, serverDifferences);\n    }\n    function hydrateSanitizedAttribute(\n      domElement,\n      propKey,\n      attributeName,\n      value,\n      extraAttributes,\n      serverDifferences\n    ) {\n      extraAttributes.delete(attributeName);\n      domElement = domElement.getAttribute(attributeName);\n      if (null === domElement)\n        switch (typeof value) {\n          case \"undefined\":\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            return;\n        }\n      else if (null != value)\n        switch (typeof value) {\n          case \"function\":\n          case \"symbol\":\n          case \"boolean\":\n            break;\n          default:\n            if (\n              (checkAttributeStringCoercion(value, propKey),\n              (attributeName = sanitizeURL(\"\" + value)),\n              domElement === attributeName)\n            )\n              return;\n        }\n      warnForPropDifference(propKey, domElement, value, serverDifferences);\n    }\n    function diffHydratedProperties(domElement, tag, props, hostContext) {\n      for (\n        var serverDifferences = {},\n          extraAttributes = new Set(),\n          attributes = domElement.attributes,\n          i = 0;\n        i < attributes.length;\n        i++\n      )\n        switch (attributes[i].name.toLowerCase()) {\n          case \"value\":\n            break;\n          case \"checked\":\n            break;\n          case \"selected\":\n            break;\n          default:\n            extraAttributes.add(attributes[i].name);\n        }\n      if (isCustomElement(tag))\n        for (var propKey in props) {\n          if (props.hasOwnProperty(propKey)) {\n            var value = props[propKey];\n            if (null != value)\n              if (registrationNameDependencies.hasOwnProperty(propKey))\n                \"function\" !== typeof value &&\n                  warnForInvalidEventListener(propKey, value);\n              else if (!0 !== props.suppressHydrationWarning)\n                switch (propKey) {\n                  case \"children\":\n                    (\"string\" !== typeof value && \"number\" !== typeof value) ||\n                      warnForPropDifference(\n                        \"children\",\n                        domElement.textContent,\n                        value,\n                        serverDifferences\n                      );\n                    continue;\n                  case \"suppressContentEditableWarning\":\n                  case \"suppressHydrationWarning\":\n                  case \"defaultValue\":\n                  case \"defaultChecked\":\n                  case \"innerHTML\":\n                  case \"ref\":\n                    continue;\n                  case \"dangerouslySetInnerHTML\":\n                    attributes = domElement.innerHTML;\n                    value = value ? value.__html : void 0;\n                    null != value &&\n                      ((value = normalizeHTML(domElement, value)),\n                      warnForPropDifference(\n                        propKey,\n                        attributes,\n                        value,\n                        serverDifferences\n                      ));\n                    continue;\n                  case \"style\":\n                    extraAttributes.delete(propKey);\n                    diffHydratedStyles(domElement, value, serverDifferences);\n                    continue;\n                  case \"offsetParent\":\n                  case \"offsetTop\":\n                  case \"offsetLeft\":\n                  case \"offsetWidth\":\n                  case \"offsetHeight\":\n                  case \"isContentEditable\":\n                  case \"outerText\":\n                  case \"outerHTML\":\n                    extraAttributes.delete(propKey.toLowerCase());\n                    console.error(\n                      \"Assignment to read-only property will result in a no-op: `%s`\",\n                      propKey\n                    );\n                    continue;\n                  case \"className\":\n                    extraAttributes.delete(\"class\");\n                    attributes = getValueForAttributeOnCustomComponent(\n                      domElement,\n                      \"class\",\n                      value\n                    );\n                    warnForPropDifference(\n                      \"className\",\n                      attributes,\n                      value,\n                      serverDifferences\n                    );\n                    continue;\n                  default:\n                    hostContext.context === HostContextNamespaceNone &&\n                    \"svg\" !== tag &&\n                    \"math\" !== tag\n                      ? extraAttributes.delete(propKey.toLowerCase())\n                      : extraAttributes.delete(propKey),\n                      (attributes = getValueForAttributeOnCustomComponent(\n                        domElement,\n                        propKey,\n                        value\n                      )),\n                      warnForPropDifference(\n                        propKey,\n                        attributes,\n                        value,\n                        serverDifferences\n                      );\n                }\n          }\n        }\n      else\n        for (value in props)\n          if (\n            props.hasOwnProperty(value) &&\n            ((propKey = props[value]), null != propKey)\n          )\n            if (registrationNameDependencies.hasOwnProperty(value))\n              \"function\" !== typeof propKey &&\n                warnForInvalidEventListener(value, propKey);\n            else if (!0 !== props.suppressHydrationWarning)\n              switch (value) {\n                case \"children\":\n                  (\"string\" !== typeof propKey &&\n                    \"number\" !== typeof propKey) ||\n                    warnForPropDifference(\n                      \"children\",\n                      domElement.textContent,\n                      propKey,\n                      serverDifferences\n                    );\n                  continue;\n                case \"suppressContentEditableWarning\":\n                case \"suppressHydrationWarning\":\n                case \"value\":\n                case \"checked\":\n                case \"selected\":\n                case \"defaultValue\":\n                case \"defaultChecked\":\n                case \"innerHTML\":\n                case \"ref\":\n                  continue;\n                case \"dangerouslySetInnerHTML\":\n                  attributes = domElement.innerHTML;\n                  propKey = propKey ? propKey.__html : void 0;\n                  null != propKey &&\n                    ((propKey = normalizeHTML(domElement, propKey)),\n                    attributes !== propKey &&\n                      (serverDifferences[value] = { __html: attributes }));\n                  continue;\n                case \"className\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"class\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"tabIndex\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"tabindex\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"style\":\n                  extraAttributes.delete(value);\n                  diffHydratedStyles(domElement, propKey, serverDifferences);\n                  continue;\n                case \"multiple\":\n                  extraAttributes.delete(value);\n                  warnForPropDifference(\n                    value,\n                    domElement.multiple,\n                    propKey,\n                    serverDifferences\n                  );\n                  continue;\n                case \"muted\":\n                  extraAttributes.delete(value);\n                  warnForPropDifference(\n                    value,\n                    domElement.muted,\n                    propKey,\n                    serverDifferences\n                  );\n                  continue;\n                case \"autoFocus\":\n                  extraAttributes.delete(\"autofocus\");\n                  warnForPropDifference(\n                    value,\n                    domElement.autofocus,\n                    propKey,\n                    serverDifferences\n                  );\n                  continue;\n                case \"data\":\n                  if (\"object\" !== tag) {\n                    extraAttributes.delete(value);\n                    attributes = domElement.getAttribute(\"data\");\n                    warnForPropDifference(\n                      value,\n                      attributes,\n                      propKey,\n                      serverDifferences\n                    );\n                    continue;\n                  }\n                case \"src\":\n                case \"href\":\n                  if (\n                    !(\n                      \"\" !== propKey ||\n                      (\"a\" === tag && \"href\" === value) ||\n                      (\"object\" === tag && \"data\" === value)\n                    )\n                  ) {\n                    \"src\" === value\n                      ? console.error(\n                          'An empty string (\"\") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',\n                          value,\n                          value\n                        )\n                      : console.error(\n                          'An empty string (\"\") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',\n                          value,\n                          value\n                        );\n                    continue;\n                  }\n                  hydrateSanitizedAttribute(\n                    domElement,\n                    value,\n                    value,\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"action\":\n                case \"formAction\":\n                  attributes = domElement.getAttribute(value);\n                  if (\"function\" === typeof propKey) {\n                    extraAttributes.delete(value.toLowerCase());\n                    \"formAction\" === value\n                      ? (extraAttributes.delete(\"name\"),\n                        extraAttributes.delete(\"formenctype\"),\n                        extraAttributes.delete(\"formmethod\"),\n                        extraAttributes.delete(\"formtarget\"))\n                      : (extraAttributes.delete(\"enctype\"),\n                        extraAttributes.delete(\"method\"),\n                        extraAttributes.delete(\"target\"));\n                    continue;\n                  } else if (attributes === EXPECTED_FORM_ACTION_URL) {\n                    extraAttributes.delete(value.toLowerCase());\n                    warnForPropDifference(\n                      value,\n                      \"function\",\n                      propKey,\n                      serverDifferences\n                    );\n                    continue;\n                  }\n                  hydrateSanitizedAttribute(\n                    domElement,\n                    value,\n                    value.toLowerCase(),\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkHref\":\n                  hydrateSanitizedAttribute(\n                    domElement,\n                    value,\n                    \"xlink:href\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"contentEditable\":\n                  hydrateBooleanishAttribute(\n                    domElement,\n                    value,\n                    \"contenteditable\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"spellCheck\":\n                  hydrateBooleanishAttribute(\n                    domElement,\n                    value,\n                    \"spellcheck\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"draggable\":\n                case \"autoReverse\":\n                case \"externalResourcesRequired\":\n                case \"focusable\":\n                case \"preserveAlpha\":\n                  hydrateBooleanishAttribute(\n                    domElement,\n                    value,\n                    value,\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"allowFullScreen\":\n                case \"async\":\n                case \"autoPlay\":\n                case \"controls\":\n                case \"default\":\n                case \"defer\":\n                case \"disabled\":\n                case \"disablePictureInPicture\":\n                case \"disableRemotePlayback\":\n                case \"formNoValidate\":\n                case \"hidden\":\n                case \"loop\":\n                case \"noModule\":\n                case \"noValidate\":\n                case \"open\":\n                case \"playsInline\":\n                case \"readOnly\":\n                case \"required\":\n                case \"reversed\":\n                case \"scoped\":\n                case \"seamless\":\n                case \"itemScope\":\n                  hydrateBooleanAttribute(\n                    domElement,\n                    value,\n                    value.toLowerCase(),\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"capture\":\n                case \"download\":\n                  a: {\n                    i = domElement;\n                    var attributeName = (attributes = value),\n                      serverDifferences$jscomp$0 = serverDifferences;\n                    extraAttributes.delete(attributeName);\n                    i = i.getAttribute(attributeName);\n                    if (null === i)\n                      switch (typeof propKey) {\n                        case \"undefined\":\n                        case \"function\":\n                        case \"symbol\":\n                          break a;\n                        default:\n                          if (!1 === propKey) break a;\n                      }\n                    else if (null != propKey)\n                      switch (typeof propKey) {\n                        case \"function\":\n                        case \"symbol\":\n                          break;\n                        case \"boolean\":\n                          if (!0 === propKey && \"\" === i) break a;\n                          break;\n                        default:\n                          if (\n                            (checkAttributeStringCoercion(propKey, attributes),\n                            i === \"\" + propKey)\n                          )\n                            break a;\n                      }\n                    warnForPropDifference(\n                      attributes,\n                      i,\n                      propKey,\n                      serverDifferences$jscomp$0\n                    );\n                  }\n                  continue;\n                case \"cols\":\n                case \"rows\":\n                case \"size\":\n                case \"span\":\n                  a: {\n                    i = domElement;\n                    attributeName = attributes = value;\n                    serverDifferences$jscomp$0 = serverDifferences;\n                    extraAttributes.delete(attributeName);\n                    i = i.getAttribute(attributeName);\n                    if (null === i)\n                      switch (typeof propKey) {\n                        case \"undefined\":\n                        case \"function\":\n                        case \"symbol\":\n                        case \"boolean\":\n                          break a;\n                        default:\n                          if (isNaN(propKey) || 1 > propKey) break a;\n                      }\n                    else if (null != propKey)\n                      switch (typeof propKey) {\n                        case \"function\":\n                        case \"symbol\":\n                        case \"boolean\":\n                          break;\n                        default:\n                          if (\n                            !(isNaN(propKey) || 1 > propKey) &&\n                            (checkAttributeStringCoercion(propKey, attributes),\n                            i === \"\" + propKey)\n                          )\n                            break a;\n                      }\n                    warnForPropDifference(\n                      attributes,\n                      i,\n                      propKey,\n                      serverDifferences$jscomp$0\n                    );\n                  }\n                  continue;\n                case \"rowSpan\":\n                  hydrateNumericAttribute(\n                    domElement,\n                    value,\n                    \"rowspan\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"start\":\n                  hydrateNumericAttribute(\n                    domElement,\n                    value,\n                    value,\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xHeight\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"x-height\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkActuate\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:actuate\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkArcrole\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:arcrole\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkRole\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:role\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkShow\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:show\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkTitle\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:title\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xlinkType\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xlink:type\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xmlBase\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xml:base\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xmlLang\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xml:lang\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"xmlSpace\":\n                  hydrateAttribute(\n                    domElement,\n                    value,\n                    \"xml:space\",\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                case \"inert\":\n                  \"\" !== propKey ||\n                    didWarnForNewBooleanPropsWithEmptyValue[value] ||\n                    ((didWarnForNewBooleanPropsWithEmptyValue[value] = !0),\n                    console.error(\n                      \"Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.\",\n                      value\n                    ));\n                  hydrateBooleanAttribute(\n                    domElement,\n                    value,\n                    value,\n                    propKey,\n                    extraAttributes,\n                    serverDifferences\n                  );\n                  continue;\n                default:\n                  if (\n                    !(2 < value.length) ||\n                    (\"o\" !== value[0] && \"O\" !== value[0]) ||\n                    (\"n\" !== value[1] && \"N\" !== value[1])\n                  ) {\n                    i = getAttributeAlias(value);\n                    attributes = !1;\n                    hostContext.context === HostContextNamespaceNone &&\n                    \"svg\" !== tag &&\n                    \"math\" !== tag\n                      ? extraAttributes.delete(i.toLowerCase())\n                      : ((attributeName = value.toLowerCase()),\n                        (attributeName = possibleStandardNames.hasOwnProperty(\n                          attributeName\n                        )\n                          ? possibleStandardNames[attributeName] || null\n                          : null),\n                        null !== attributeName &&\n                          attributeName !== value &&\n                          ((attributes = !0),\n                          extraAttributes.delete(attributeName)),\n                        extraAttributes.delete(i));\n                    a: if (\n                      ((attributeName = domElement),\n                      (serverDifferences$jscomp$0 = i),\n                      (i = propKey),\n                      isAttributeNameSafe(serverDifferences$jscomp$0))\n                    )\n                      if (\n                        attributeName.hasAttribute(serverDifferences$jscomp$0)\n                      )\n                        (attributeName = attributeName.getAttribute(\n                          serverDifferences$jscomp$0\n                        )),\n                          checkAttributeStringCoercion(\n                            i,\n                            serverDifferences$jscomp$0\n                          ),\n                          (i = attributeName === \"\" + i ? i : attributeName);\n                      else {\n                        switch (typeof i) {\n                          case \"function\":\n                          case \"symbol\":\n                            break a;\n                          case \"boolean\":\n                            if (\n                              ((attributeName = serverDifferences$jscomp$0\n                                .toLowerCase()\n                                .slice(0, 5)),\n                              \"data-\" !== attributeName &&\n                                \"aria-\" !== attributeName)\n                            )\n                              break a;\n                        }\n                        i = void 0 === i ? void 0 : null;\n                      }\n                    else i = void 0;\n                    attributes ||\n                      warnForPropDifference(\n                        value,\n                        i,\n                        propKey,\n                        serverDifferences\n                      );\n                  }\n              }\n      0 < extraAttributes.size &&\n        !0 !== props.suppressHydrationWarning &&\n        warnForExtraAttributes(domElement, extraAttributes, serverDifferences);\n      return 0 === Object.keys(serverDifferences).length\n        ? null\n        : serverDifferences;\n    }\n    function propNamesListJoin(list, combinator) {\n      switch (list.length) {\n        case 0:\n          return \"\";\n        case 1:\n          return list[0];\n        case 2:\n          return list[0] + \" \" + combinator + \" \" + list[1];\n        default:\n          return (\n            list.slice(0, -1).join(\", \") +\n            \", \" +\n            combinator +\n            \" \" +\n            list[list.length - 1]\n          );\n      }\n    }\n    function isLikelyStaticResource(initiatorType) {\n      switch (initiatorType) {\n        case \"css\":\n        case \"script\":\n        case \"font\":\n        case \"img\":\n        case \"image\":\n        case \"input\":\n        case \"link\":\n          return !0;\n        default:\n          return !1;\n      }\n    }\n    function estimateBandwidth() {\n      if (\"function\" === typeof performance.getEntriesByType) {\n        for (\n          var count = 0,\n            bits = 0,\n            resourceEntries = performance.getEntriesByType(\"resource\"),\n            i = 0;\n          i < resourceEntries.length;\n          i++\n        ) {\n          var entry = resourceEntries[i],\n            transferSize = entry.transferSize,\n            initiatorType = entry.initiatorType,\n            duration = entry.duration;\n          if (\n            transferSize &&\n            duration &&\n            isLikelyStaticResource(initiatorType)\n          ) {\n            initiatorType = 0;\n            duration = entry.responseEnd;\n            for (i += 1; i < resourceEntries.length; i++) {\n              var overlapEntry = resourceEntries[i],\n                overlapStartTime = overlapEntry.startTime;\n              if (overlapStartTime > duration) break;\n              var overlapTransferSize = overlapEntry.transferSize,\n                overlapInitiatorType = overlapEntry.initiatorType;\n              overlapTransferSize &&\n                isLikelyStaticResource(overlapInitiatorType) &&\n                ((overlapEntry = overlapEntry.responseEnd),\n                (initiatorType +=\n                  overlapTransferSize *\n                  (overlapEntry < duration\n                    ? 1\n                    : (duration - overlapStartTime) /\n                      (overlapEntry - overlapStartTime))));\n            }\n            --i;\n            bits +=\n              (8 * (transferSize + initiatorType)) / (entry.duration / 1e3);\n            count++;\n            if (10 < count) break;\n          }\n        }\n        if (0 < count) return bits / count / 1e6;\n      }\n      return navigator.connection &&\n        ((count = navigator.connection.downlink), \"number\" === typeof count)\n        ? count\n        : 5;\n    }\n    function getOwnerDocumentFromRootContainer(rootContainerElement) {\n      return 9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    }\n    function getOwnHostContext(namespaceURI) {\n      switch (namespaceURI) {\n        case SVG_NAMESPACE:\n          return HostContextNamespaceSvg;\n        case MATH_NAMESPACE:\n          return HostContextNamespaceMath;\n        default:\n          return HostContextNamespaceNone;\n      }\n    }\n    function getChildHostContextProd(parentNamespace, type) {\n      if (parentNamespace === HostContextNamespaceNone)\n        switch (type) {\n          case \"svg\":\n            return HostContextNamespaceSvg;\n          case \"math\":\n            return HostContextNamespaceMath;\n          default:\n            return HostContextNamespaceNone;\n        }\n      return parentNamespace === HostContextNamespaceSvg &&\n        \"foreignObject\" === type\n        ? HostContextNamespaceNone\n        : parentNamespace;\n    }\n    function shouldSetTextContent(type, props) {\n      return (\n        \"textarea\" === type ||\n        \"noscript\" === type ||\n        \"string\" === typeof props.children ||\n        \"number\" === typeof props.children ||\n        \"bigint\" === typeof props.children ||\n        (\"object\" === typeof props.dangerouslySetInnerHTML &&\n          null !== props.dangerouslySetInnerHTML &&\n          null != props.dangerouslySetInnerHTML.__html)\n      );\n    }\n    function shouldAttemptEagerTransition() {\n      var event = window.event;\n      if (event && \"popstate\" === event.type) {\n        if (event === currentPopstateTransitionEvent) return !1;\n        currentPopstateTransitionEvent = event;\n        return !0;\n      }\n      currentPopstateTransitionEvent = null;\n      return !1;\n    }\n    function resolveEventType() {\n      var event = window.event;\n      return event && event !== schedulerEvent ? event.type : null;\n    }\n    function resolveEventTimeStamp() {\n      var event = window.event;\n      return event && event !== schedulerEvent ? event.timeStamp : -1.1;\n    }\n    function handleErrorInNextTick(error) {\n      setTimeout(function () {\n        throw error;\n      });\n    }\n    function commitMount(domElement, type, newProps) {\n      switch (type) {\n        case \"button\":\n        case \"input\":\n        case \"select\":\n        case \"textarea\":\n          newProps.autoFocus && domElement.focus();\n          break;\n        case \"img\":\n          newProps.src\n            ? (domElement.src = newProps.src)\n            : newProps.srcSet && (domElement.srcset = newProps.srcSet);\n      }\n    }\n    function commitHydratedInstance() {}\n    function commitUpdate(domElement, type, oldProps, newProps) {\n      updateProperties(domElement, type, oldProps, newProps);\n      domElement[internalPropsKey] = newProps;\n    }\n    function resetTextContent(domElement) {\n      setTextContent(domElement, \"\");\n    }\n    function commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.nodeValue = newText;\n    }\n    function warnForReactChildrenConflict(container) {\n      if (!container.__reactWarnedAboutChildrenConflict) {\n        var props = container[internalPropsKey] || null;\n        if (null !== props) {\n          var fiber = getInstanceFromNode(container);\n          null !== fiber &&\n            (\"string\" === typeof props.children ||\n            \"number\" === typeof props.children\n              ? ((container.__reactWarnedAboutChildrenConflict = !0),\n                runWithFiberInDEV(fiber, function () {\n                  console.error(\n                    'Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets \"children\" text content using React. It should be a leaf with no children. Otherwise it\\'s ambiguous which children should be used.'\n                  );\n                }))\n              : null != props.dangerouslySetInnerHTML &&\n                ((container.__reactWarnedAboutChildrenConflict = !0),\n                runWithFiberInDEV(fiber, function () {\n                  console.error(\n                    'Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets \"dangerouslySetInnerHTML\" using React. It should be a leaf with no children. Otherwise it\\'s ambiguous which children should be used.'\n                  );\n                })));\n        }\n      }\n    }\n    function isSingletonScope(type) {\n      return \"head\" === type;\n    }\n    function removeChild(parentInstance, child) {\n      parentInstance.removeChild(child);\n    }\n    function removeChildFromContainer(container, child) {\n      (9 === container.nodeType\n        ? container.body\n        : \"HTML\" === container.nodeName\n          ? container.ownerDocument.body\n          : container\n      ).removeChild(child);\n    }\n    function clearHydrationBoundary(parentInstance, hydrationInstance) {\n      var node = hydrationInstance,\n        depth = 0;\n      do {\n        var nextNode = node.nextSibling;\n        parentInstance.removeChild(node);\n        if (nextNode && 8 === nextNode.nodeType)\n          if (\n            ((node = nextNode.data),\n            node === SUSPENSE_END_DATA || node === ACTIVITY_END_DATA)\n          ) {\n            if (0 === depth) {\n              parentInstance.removeChild(nextNode);\n              retryIfBlockedOn(hydrationInstance);\n              return;\n            }\n            depth--;\n          } else if (\n            node === SUSPENSE_START_DATA ||\n            node === SUSPENSE_PENDING_START_DATA ||\n            node === SUSPENSE_QUEUED_START_DATA ||\n            node === SUSPENSE_FALLBACK_START_DATA ||\n            node === ACTIVITY_START_DATA\n          )\n            depth++;\n          else if (node === PREAMBLE_CONTRIBUTION_HTML)\n            releaseSingletonInstance(\n              parentInstance.ownerDocument.documentElement\n            );\n          else if (node === PREAMBLE_CONTRIBUTION_HEAD) {\n            node = parentInstance.ownerDocument.head;\n            releaseSingletonInstance(node);\n            for (var node$jscomp$0 = node.firstChild; node$jscomp$0; ) {\n              var nextNode$jscomp$0 = node$jscomp$0.nextSibling,\n                nodeName = node$jscomp$0.nodeName;\n              node$jscomp$0[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === node$jscomp$0.rel.toLowerCase()) ||\n                node.removeChild(node$jscomp$0);\n              node$jscomp$0 = nextNode$jscomp$0;\n            }\n          } else\n            node === PREAMBLE_CONTRIBUTION_BODY &&\n              releaseSingletonInstance(parentInstance.ownerDocument.body);\n        node = nextNode;\n      } while (node);\n      retryIfBlockedOn(hydrationInstance);\n    }\n    function hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {\n      var node = suspenseInstance;\n      suspenseInstance = 0;\n      do {\n        var nextNode = node.nextSibling;\n        1 === node.nodeType\n          ? isHidden\n            ? ((node._stashedDisplay = node.style.display),\n              (node.style.display = \"none\"))\n            : ((node.style.display = node._stashedDisplay || \"\"),\n              \"\" === node.getAttribute(\"style\") &&\n                node.removeAttribute(\"style\"))\n          : 3 === node.nodeType &&\n            (isHidden\n              ? ((node._stashedText = node.nodeValue), (node.nodeValue = \"\"))\n              : (node.nodeValue = node._stashedText || \"\"));\n        if (nextNode && 8 === nextNode.nodeType)\n          if (((node = nextNode.data), node === SUSPENSE_END_DATA))\n            if (0 === suspenseInstance) break;\n            else suspenseInstance--;\n          else\n            (node !== SUSPENSE_START_DATA &&\n              node !== SUSPENSE_PENDING_START_DATA &&\n              node !== SUSPENSE_QUEUED_START_DATA &&\n              node !== SUSPENSE_FALLBACK_START_DATA) ||\n              suspenseInstance++;\n        node = nextNode;\n      } while (node);\n    }\n    function hideDehydratedBoundary(suspenseInstance) {\n      hideOrUnhideDehydratedBoundary(suspenseInstance, !0);\n    }\n    function hideInstance(instance) {\n      instance = instance.style;\n      \"function\" === typeof instance.setProperty\n        ? instance.setProperty(\"display\", \"none\", \"important\")\n        : (instance.display = \"none\");\n    }\n    function hideTextInstance(textInstance) {\n      textInstance.nodeValue = \"\";\n    }\n    function unhideDehydratedBoundary(dehydratedInstance) {\n      hideOrUnhideDehydratedBoundary(dehydratedInstance, !1);\n    }\n    function unhideInstance(instance, props) {\n      props = props[STYLE];\n      props =\n        void 0 !== props && null !== props && props.hasOwnProperty(\"display\")\n          ? props.display\n          : null;\n      instance.style.display =\n        null == props || \"boolean\" === typeof props ? \"\" : (\"\" + props).trim();\n    }\n    function unhideTextInstance(textInstance, text) {\n      textInstance.nodeValue = text;\n    }\n    function clearContainerSparingly(container) {\n      var nextNode = container.firstChild;\n      nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n      for (; nextNode; ) {\n        var node = nextNode;\n        nextNode = nextNode.nextSibling;\n        switch (node.nodeName) {\n          case \"HTML\":\n          case \"HEAD\":\n          case \"BODY\":\n            clearContainerSparingly(node);\n            detachDeletedInstance(node);\n            continue;\n          case \"SCRIPT\":\n          case \"STYLE\":\n            continue;\n          case \"LINK\":\n            if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n        }\n        container.removeChild(node);\n      }\n    }\n    function canHydrateInstance(instance, type, props, inRootOrSingleton) {\n      for (; 1 === instance.nodeType; ) {\n        var anyProps = props;\n        if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n          if (\n            !inRootOrSingleton &&\n            (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n          )\n            break;\n        } else if (!inRootOrSingleton)\n          if (\"input\" === type && \"hidden\" === instance.type) {\n            checkAttributeStringCoercion(anyProps.name, \"name\");\n            var name = null == anyProps.name ? null : \"\" + anyProps.name;\n            if (\n              \"hidden\" === anyProps.type &&\n              instance.getAttribute(\"name\") === name\n            )\n              return instance;\n          } else return instance;\n        else if (!instance[internalHoistableMarker])\n          switch (type) {\n            case \"meta\":\n              if (!instance.hasAttribute(\"itemprop\")) break;\n              return instance;\n            case \"link\":\n              name = instance.getAttribute(\"rel\");\n              if (\n                \"stylesheet\" === name &&\n                instance.hasAttribute(\"data-precedence\")\n              )\n                break;\n              else if (\n                name !== anyProps.rel ||\n                instance.getAttribute(\"href\") !==\n                  (null == anyProps.href || \"\" === anyProps.href\n                    ? null\n                    : anyProps.href) ||\n                instance.getAttribute(\"crossorigin\") !==\n                  (null == anyProps.crossOrigin\n                    ? null\n                    : anyProps.crossOrigin) ||\n                instance.getAttribute(\"title\") !==\n                  (null == anyProps.title ? null : anyProps.title)\n              )\n                break;\n              return instance;\n            case \"style\":\n              if (instance.hasAttribute(\"data-precedence\")) break;\n              return instance;\n            case \"script\":\n              name = instance.getAttribute(\"src\");\n              if (\n                (name !== (null == anyProps.src ? null : anyProps.src) ||\n                  instance.getAttribute(\"type\") !==\n                    (null == anyProps.type ? null : anyProps.type) ||\n                  instance.getAttribute(\"crossorigin\") !==\n                    (null == anyProps.crossOrigin\n                      ? null\n                      : anyProps.crossOrigin)) &&\n                name &&\n                instance.hasAttribute(\"async\") &&\n                !instance.hasAttribute(\"itemprop\")\n              )\n                break;\n              return instance;\n            default:\n              return instance;\n          }\n        instance = getNextHydratable(instance.nextSibling);\n        if (null === instance) break;\n      }\n      return null;\n    }\n    function canHydrateTextInstance(instance, text, inRootOrSingleton) {\n      if (\"\" === text) return null;\n      for (; 3 !== instance.nodeType; ) {\n        if (\n          (1 !== instance.nodeType ||\n            \"INPUT\" !== instance.nodeName ||\n            \"hidden\" !== instance.type) &&\n          !inRootOrSingleton\n        )\n          return null;\n        instance = getNextHydratable(instance.nextSibling);\n        if (null === instance) return null;\n      }\n      return instance;\n    }\n    function canHydrateHydrationBoundary(instance, inRootOrSingleton) {\n      for (; 8 !== instance.nodeType; ) {\n        if (\n          (1 !== instance.nodeType ||\n            \"INPUT\" !== instance.nodeName ||\n            \"hidden\" !== instance.type) &&\n          !inRootOrSingleton\n        )\n          return null;\n        instance = getNextHydratable(instance.nextSibling);\n        if (null === instance) return null;\n      }\n      return instance;\n    }\n    function isSuspenseInstancePending(instance) {\n      return (\n        instance.data === SUSPENSE_PENDING_START_DATA ||\n        instance.data === SUSPENSE_QUEUED_START_DATA\n      );\n    }\n    function isSuspenseInstanceFallback(instance) {\n      return (\n        instance.data === SUSPENSE_FALLBACK_START_DATA ||\n        (instance.data === SUSPENSE_PENDING_START_DATA &&\n          instance.ownerDocument.readyState !== DOCUMENT_READY_STATE_LOADING)\n      );\n    }\n    function registerSuspenseInstanceRetry(instance, callback) {\n      var ownerDocument = instance.ownerDocument;\n      if (instance.data === SUSPENSE_QUEUED_START_DATA)\n        instance._reactRetry = callback;\n      else if (\n        instance.data !== SUSPENSE_PENDING_START_DATA ||\n        ownerDocument.readyState !== DOCUMENT_READY_STATE_LOADING\n      )\n        callback();\n      else {\n        var listener = function () {\n          callback();\n          ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n        };\n        ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n        instance._reactRetry = listener;\n      }\n    }\n    function getNextHydratable(node) {\n      for (; null != node; node = node.nextSibling) {\n        var nodeType = node.nodeType;\n        if (1 === nodeType || 3 === nodeType) break;\n        if (8 === nodeType) {\n          nodeType = node.data;\n          if (\n            nodeType === SUSPENSE_START_DATA ||\n            nodeType === SUSPENSE_FALLBACK_START_DATA ||\n            nodeType === SUSPENSE_PENDING_START_DATA ||\n            nodeType === SUSPENSE_QUEUED_START_DATA ||\n            nodeType === ACTIVITY_START_DATA ||\n            nodeType === FORM_STATE_IS_MATCHING ||\n            nodeType === FORM_STATE_IS_NOT_MATCHING\n          )\n            break;\n          if (nodeType === SUSPENSE_END_DATA || nodeType === ACTIVITY_END_DATA)\n            return null;\n        }\n      }\n      return node;\n    }\n    function describeHydratableInstanceForDevWarnings(instance) {\n      if (1 === instance.nodeType) {\n        for (\n          var JSCompiler_temp_const = instance.nodeName.toLowerCase(),\n            serverDifferences = {},\n            attributes = instance.attributes,\n            i = 0;\n          i < attributes.length;\n          i++\n        ) {\n          var attr = attributes[i];\n          serverDifferences[getPropNameFromAttributeName(attr.name)] =\n            \"style\" === attr.name.toLowerCase()\n              ? getStylesObjectFromElement(instance)\n              : attr.value;\n        }\n        return { type: JSCompiler_temp_const, props: serverDifferences };\n      }\n      return 8 === instance.nodeType\n        ? instance.data === ACTIVITY_START_DATA\n          ? { type: \"Activity\", props: {} }\n          : { type: \"Suspense\", props: {} }\n        : instance.nodeValue;\n    }\n    function diffHydratedTextForDevWarnings(textInstance, text, parentProps) {\n      return null === parentProps ||\n        !0 !== parentProps[SUPPRESS_HYDRATION_WARNING]\n        ? (textInstance.nodeValue === text\n            ? (textInstance = null)\n            : ((text = normalizeMarkupForTextOrAttribute(text)),\n              (textInstance =\n                normalizeMarkupForTextOrAttribute(textInstance.nodeValue) ===\n                text\n                  ? null\n                  : textInstance.nodeValue)),\n          textInstance)\n        : null;\n    }\n    function getNextHydratableInstanceAfterHydrationBoundary(\n      hydrationInstance\n    ) {\n      hydrationInstance = hydrationInstance.nextSibling;\n      for (var depth = 0; hydrationInstance; ) {\n        if (8 === hydrationInstance.nodeType) {\n          var data = hydrationInstance.data;\n          if (data === SUSPENSE_END_DATA || data === ACTIVITY_END_DATA) {\n            if (0 === depth)\n              return getNextHydratable(hydrationInstance.nextSibling);\n            depth--;\n          } else\n            (data !== SUSPENSE_START_DATA &&\n              data !== SUSPENSE_FALLBACK_START_DATA &&\n              data !== SUSPENSE_PENDING_START_DATA &&\n              data !== SUSPENSE_QUEUED_START_DATA &&\n              data !== ACTIVITY_START_DATA) ||\n              depth++;\n        }\n        hydrationInstance = hydrationInstance.nextSibling;\n      }\n      return null;\n    }\n    function getParentHydrationBoundary(targetInstance) {\n      targetInstance = targetInstance.previousSibling;\n      for (var depth = 0; targetInstance; ) {\n        if (8 === targetInstance.nodeType) {\n          var data = targetInstance.data;\n          if (\n            data === SUSPENSE_START_DATA ||\n            data === SUSPENSE_FALLBACK_START_DATA ||\n            data === SUSPENSE_PENDING_START_DATA ||\n            data === SUSPENSE_QUEUED_START_DATA ||\n            data === ACTIVITY_START_DATA\n          ) {\n            if (0 === depth) return targetInstance;\n            depth--;\n          } else\n            (data !== SUSPENSE_END_DATA && data !== ACTIVITY_END_DATA) ||\n              depth++;\n        }\n        targetInstance = targetInstance.previousSibling;\n      }\n      return null;\n    }\n    function commitHydratedContainer(container) {\n      retryIfBlockedOn(container);\n    }\n    function commitHydratedActivityInstance(activityInstance) {\n      retryIfBlockedOn(activityInstance);\n    }\n    function commitHydratedSuspenseInstance(suspenseInstance) {\n      retryIfBlockedOn(suspenseInstance);\n    }\n    function resolveSingletonInstance(\n      type,\n      props,\n      rootContainerInstance,\n      hostContext,\n      validateDOMNestingDev\n    ) {\n      validateDOMNestingDev &&\n        validateDOMNesting(type, hostContext.ancestorInfo);\n      props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n      switch (type) {\n        case \"html\":\n          type = props.documentElement;\n          if (!type)\n            throw Error(\n              \"React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.\"\n            );\n          return type;\n        case \"head\":\n          type = props.head;\n          if (!type)\n            throw Error(\n              \"React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.\"\n            );\n          return type;\n        case \"body\":\n          type = props.body;\n          if (!type)\n            throw Error(\n              \"React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.\"\n            );\n          return type;\n        default:\n          throw Error(\n            \"resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.\"\n          );\n      }\n    }\n    function acquireSingletonInstance(\n      type,\n      props,\n      instance,\n      internalInstanceHandle\n    ) {\n      if (\n        !instance[internalContainerInstanceKey] &&\n        getInstanceFromNode(instance)\n      ) {\n        var tagName = instance.tagName.toLowerCase();\n        console.error(\n          \"You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.\",\n          tagName,\n          tagName,\n          tagName\n        );\n      }\n      switch (type) {\n        case \"html\":\n        case \"head\":\n        case \"body\":\n          break;\n        default:\n          console.error(\n            \"acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.\"\n          );\n      }\n      for (tagName = instance.attributes; tagName.length; )\n        instance.removeAttributeNode(tagName[0]);\n      setInitialProperties(instance, type, props);\n      instance[internalInstanceKey] = internalInstanceHandle;\n      instance[internalPropsKey] = props;\n    }\n    function releaseSingletonInstance(instance) {\n      for (var attributes = instance.attributes; attributes.length; )\n        instance.removeAttributeNode(attributes[0]);\n      detachDeletedInstance(instance);\n    }\n    function getHoistableRoot(container) {\n      return \"function\" === typeof container.getRootNode\n        ? container.getRootNode()\n        : 9 === container.nodeType\n          ? container\n          : container.ownerDocument;\n    }\n    function preconnectAs(rel, href, crossOrigin) {\n      var ownerDocument = globalDocument;\n      if (ownerDocument && \"string\" === typeof href && href) {\n        var limitedEscapedHref =\n          escapeSelectorAttributeValueInsideDoubleQuotes(href);\n        limitedEscapedHref =\n          'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n        \"string\" === typeof crossOrigin &&\n          (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n        preconnectsSet.has(limitedEscapedHref) ||\n          (preconnectsSet.add(limitedEscapedHref),\n          (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n          null === ownerDocument.querySelector(limitedEscapedHref) &&\n            ((href = ownerDocument.createElement(\"link\")),\n            setInitialProperties(href, \"link\", rel),\n            markNodeAsHoistable(href),\n            ownerDocument.head.appendChild(href)));\n      }\n    }\n    function getResource(type, currentProps, pendingProps, currentResource) {\n      var resourceRoot = (resourceRoot = rootInstanceStackCursor.current)\n        ? getHoistableRoot(resourceRoot)\n        : null;\n      if (!resourceRoot)\n        throw Error(\n          '\"resourceRoot\" was expected to exist. This is a bug in React.'\n        );\n      switch (type) {\n        case \"meta\":\n        case \"title\":\n          return null;\n        case \"style\":\n          return \"string\" === typeof pendingProps.precedence &&\n            \"string\" === typeof pendingProps.href\n            ? ((pendingProps = getStyleKey(pendingProps.href)),\n              (currentProps =\n                getResourcesFromRoot(resourceRoot).hoistableStyles),\n              (currentResource = currentProps.get(pendingProps)),\n              currentResource ||\n                ((currentResource = {\n                  type: \"style\",\n                  instance: null,\n                  count: 0,\n                  state: null\n                }),\n                currentProps.set(pendingProps, currentResource)),\n              currentResource)\n            : { type: \"void\", instance: null, count: 0, state: null };\n        case \"link\":\n          if (\n            \"stylesheet\" === pendingProps.rel &&\n            \"string\" === typeof pendingProps.href &&\n            \"string\" === typeof pendingProps.precedence\n          ) {\n            type = getStyleKey(pendingProps.href);\n            var _styles = getResourcesFromRoot(resourceRoot).hoistableStyles,\n              _resource = _styles.get(type);\n            if (\n              !_resource &&\n              ((resourceRoot = resourceRoot.ownerDocument || resourceRoot),\n              (_resource = {\n                type: \"stylesheet\",\n                instance: null,\n                count: 0,\n                state: { loading: NotLoaded, preload: null }\n              }),\n              _styles.set(type, _resource),\n              (_styles = resourceRoot.querySelector(\n                getStylesheetSelectorFromKey(type)\n              )) &&\n                !_styles._p &&\n                ((_resource.instance = _styles),\n                (_resource.state.loading = Loaded | Inserted)),\n              !preloadPropsMap.has(type))\n            ) {\n              var preloadProps = {\n                rel: \"preload\",\n                as: \"style\",\n                href: pendingProps.href,\n                crossOrigin: pendingProps.crossOrigin,\n                integrity: pendingProps.integrity,\n                media: pendingProps.media,\n                hrefLang: pendingProps.hrefLang,\n                referrerPolicy: pendingProps.referrerPolicy\n              };\n              preloadPropsMap.set(type, preloadProps);\n              _styles ||\n                preloadStylesheet(\n                  resourceRoot,\n                  type,\n                  preloadProps,\n                  _resource.state\n                );\n            }\n            if (currentProps && null === currentResource)\n              throw (\n                ((pendingProps =\n                  \"\\n\\n  - \" +\n                  describeLinkForResourceErrorDEV(currentProps) +\n                  \"\\n  + \" +\n                  describeLinkForResourceErrorDEV(pendingProps)),\n                Error(\n                  \"Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key.\" +\n                    pendingProps\n                ))\n              );\n            return _resource;\n          }\n          if (currentProps && null !== currentResource)\n            throw (\n              ((pendingProps =\n                \"\\n\\n  - \" +\n                describeLinkForResourceErrorDEV(currentProps) +\n                \"\\n  + \" +\n                describeLinkForResourceErrorDEV(pendingProps)),\n              Error(\n                \"Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key.\" +\n                  pendingProps\n              ))\n            );\n          return null;\n        case \"script\":\n          return (\n            (currentProps = pendingProps.async),\n            (pendingProps = pendingProps.src),\n            \"string\" === typeof pendingProps &&\n            currentProps &&\n            \"function\" !== typeof currentProps &&\n            \"symbol\" !== typeof currentProps\n              ? ((pendingProps = getScriptKey(pendingProps)),\n                (currentProps =\n                  getResourcesFromRoot(resourceRoot).hoistableScripts),\n                (currentResource = currentProps.get(pendingProps)),\n                currentResource ||\n                  ((currentResource = {\n                    type: \"script\",\n                    instance: null,\n                    count: 0,\n                    state: null\n                  }),\n                  currentProps.set(pendingProps, currentResource)),\n                currentResource)\n              : { type: \"void\", instance: null, count: 0, state: null }\n          );\n        default:\n          throw Error(\n            'getResource encountered a type it did not expect: \"' +\n              type +\n              '\". this is a bug in React.'\n          );\n      }\n    }\n    function describeLinkForResourceErrorDEV(props) {\n      var describedProps = 0,\n        description = \"<link\";\n      \"string\" === typeof props.rel\n        ? (describedProps++, (description += ' rel=\"' + props.rel + '\"'))\n        : hasOwnProperty.call(props, \"rel\") &&\n          (describedProps++,\n          (description +=\n            ' rel=\"' +\n            (null === props.rel ? \"null\" : \"invalid type \" + typeof props.rel) +\n            '\"'));\n      \"string\" === typeof props.href\n        ? (describedProps++, (description += ' href=\"' + props.href + '\"'))\n        : hasOwnProperty.call(props, \"href\") &&\n          (describedProps++,\n          (description +=\n            ' href=\"' +\n            (null === props.href\n              ? \"null\"\n              : \"invalid type \" + typeof props.href) +\n            '\"'));\n      \"string\" === typeof props.precedence\n        ? (describedProps++,\n          (description += ' precedence=\"' + props.precedence + '\"'))\n        : hasOwnProperty.call(props, \"precedence\") &&\n          (describedProps++,\n          (description +=\n            \" precedence={\" +\n            (null === props.precedence\n              ? \"null\"\n              : \"invalid type \" + typeof props.precedence) +\n            \"}\"));\n      Object.getOwnPropertyNames(props).length > describedProps &&\n        (description += \" ...\");\n      return description + \" />\";\n    }\n    function getStyleKey(href) {\n      return (\n        'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"'\n      );\n    }\n    function getStylesheetSelectorFromKey(key) {\n      return 'link[rel=\"stylesheet\"][' + key + \"]\";\n    }\n    function stylesheetPropsFromRawProps(rawProps) {\n      return assign({}, rawProps, {\n        \"data-precedence\": rawProps.precedence,\n        precedence: null\n      });\n    }\n    function preloadStylesheet(ownerDocument, key, preloadProps, state) {\n      ownerDocument.querySelector(\n        'link[rel=\"preload\"][as=\"style\"][' + key + \"]\"\n      )\n        ? (state.loading = Loaded)\n        : ((key = ownerDocument.createElement(\"link\")),\n          (state.preload = key),\n          key.addEventListener(\"load\", function () {\n            return (state.loading |= Loaded);\n          }),\n          key.addEventListener(\"error\", function () {\n            return (state.loading |= Errored);\n          }),\n          setInitialProperties(key, \"link\", preloadProps),\n          markNodeAsHoistable(key),\n          ownerDocument.head.appendChild(key));\n    }\n    function getScriptKey(src) {\n      return (\n        '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]'\n      );\n    }\n    function getScriptSelectorFromKey(key) {\n      return \"script[async]\" + key;\n    }\n    function acquireResource(hoistableRoot, resource, props) {\n      resource.count++;\n      if (null === resource.instance)\n        switch (resource.type) {\n          case \"style\":\n            var instance = hoistableRoot.querySelector(\n              'style[data-href~=\"' +\n                escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n                '\"]'\n            );\n            if (instance)\n              return (\n                (resource.instance = instance),\n                markNodeAsHoistable(instance),\n                instance\n              );\n            var styleProps = assign({}, props, {\n              \"data-href\": props.href,\n              \"data-precedence\": props.precedence,\n              href: null,\n              precedence: null\n            });\n            instance = (\n              hoistableRoot.ownerDocument || hoistableRoot\n            ).createElement(\"style\");\n            markNodeAsHoistable(instance);\n            setInitialProperties(instance, \"style\", styleProps);\n            insertStylesheet(instance, props.precedence, hoistableRoot);\n            return (resource.instance = instance);\n          case \"stylesheet\":\n            styleProps = getStyleKey(props.href);\n            var _instance = hoistableRoot.querySelector(\n              getStylesheetSelectorFromKey(styleProps)\n            );\n            if (_instance)\n              return (\n                (resource.state.loading |= Inserted),\n                (resource.instance = _instance),\n                markNodeAsHoistable(_instance),\n                _instance\n              );\n            instance = stylesheetPropsFromRawProps(props);\n            (styleProps = preloadPropsMap.get(styleProps)) &&\n              adoptPreloadPropsForStylesheet(instance, styleProps);\n            _instance = (\n              hoistableRoot.ownerDocument || hoistableRoot\n            ).createElement(\"link\");\n            markNodeAsHoistable(_instance);\n            var linkInstance = _instance;\n            linkInstance._p = new Promise(function (resolve, reject) {\n              linkInstance.onload = resolve;\n              linkInstance.onerror = reject;\n            });\n            setInitialProperties(_instance, \"link\", instance);\n            resource.state.loading |= Inserted;\n            insertStylesheet(_instance, props.precedence, hoistableRoot);\n            return (resource.instance = _instance);\n          case \"script\":\n            _instance = getScriptKey(props.src);\n            if (\n              (styleProps = hoistableRoot.querySelector(\n                getScriptSelectorFromKey(_instance)\n              ))\n            )\n              return (\n                (resource.instance = styleProps),\n                markNodeAsHoistable(styleProps),\n                styleProps\n              );\n            instance = props;\n            if ((styleProps = preloadPropsMap.get(_instance)))\n              (instance = assign({}, props)),\n                adoptPreloadPropsForScript(instance, styleProps);\n            hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n            styleProps = hoistableRoot.createElement(\"script\");\n            markNodeAsHoistable(styleProps);\n            setInitialProperties(styleProps, \"link\", instance);\n            hoistableRoot.head.appendChild(styleProps);\n            return (resource.instance = styleProps);\n          case \"void\":\n            return null;\n          default:\n            throw Error(\n              'acquireResource encountered a resource type it did not expect: \"' +\n                resource.type +\n                '\". this is a bug in React.'\n            );\n        }\n      else\n        \"stylesheet\" === resource.type &&\n          (resource.state.loading & Inserted) === NotLoaded &&\n          ((instance = resource.instance),\n          (resource.state.loading |= Inserted),\n          insertStylesheet(instance, props.precedence, hoistableRoot));\n      return resource.instance;\n    }\n    function insertStylesheet(instance, precedence, root) {\n      for (\n        var nodes = root.querySelectorAll(\n            'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n          ),\n          last = nodes.length ? nodes[nodes.length - 1] : null,\n          prior = last,\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (node.dataset.precedence === precedence) prior = node;\n        else if (prior !== last) break;\n      }\n      prior\n        ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n        : ((precedence = 9 === root.nodeType ? root.head : root),\n          precedence.insertBefore(instance, precedence.firstChild));\n    }\n    function adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n      null == stylesheetProps.crossOrigin &&\n        (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n      null == stylesheetProps.referrerPolicy &&\n        (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n      null == stylesheetProps.title &&\n        (stylesheetProps.title = preloadProps.title);\n    }\n    function adoptPreloadPropsForScript(scriptProps, preloadProps) {\n      null == scriptProps.crossOrigin &&\n        (scriptProps.crossOrigin = preloadProps.crossOrigin);\n      null == scriptProps.referrerPolicy &&\n        (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n      null == scriptProps.integrity &&\n        (scriptProps.integrity = preloadProps.integrity);\n    }\n    function getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n      if (null === tagCaches) {\n        var cache = new Map();\n        var caches = (tagCaches = new Map());\n        caches.set(ownerDocument, cache);\n      } else\n        (caches = tagCaches),\n          (cache = caches.get(ownerDocument)),\n          cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n      if (cache.has(type)) return cache;\n      cache.set(type, null);\n      ownerDocument = ownerDocument.getElementsByTagName(type);\n      for (caches = 0; caches < ownerDocument.length; caches++) {\n        var node = ownerDocument[caches];\n        if (\n          !(\n            node[internalHoistableMarker] ||\n            node[internalInstanceKey] ||\n            (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n          ) &&\n          node.namespaceURI !== SVG_NAMESPACE\n        ) {\n          var nodeKey = node.getAttribute(keyAttribute) || \"\";\n          nodeKey = type + nodeKey;\n          var existing = cache.get(nodeKey);\n          existing ? existing.push(node) : cache.set(nodeKey, [node]);\n        }\n      }\n      return cache;\n    }\n    function mountHoistable(hoistableRoot, type, instance) {\n      hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n      hoistableRoot.head.insertBefore(\n        instance,\n        \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n      );\n    }\n    function isHostHoistableType(type, props, hostContext) {\n      var outsideHostContainerContext =\n        !hostContext.ancestorInfo.containerTagInScope;\n      if (\n        hostContext.context === HostContextNamespaceSvg ||\n        null != props.itemProp\n      )\n        return (\n          !outsideHostContainerContext ||\n            null == props.itemProp ||\n            (\"meta\" !== type &&\n              \"title\" !== type &&\n              \"style\" !== type &&\n              \"link\" !== type &&\n              \"script\" !== type) ||\n            console.error(\n              \"Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.\",\n              type,\n              type\n            ),\n          !1\n        );\n      switch (type) {\n        case \"meta\":\n        case \"title\":\n          return !0;\n        case \"style\":\n          if (\n            \"string\" !== typeof props.precedence ||\n            \"string\" !== typeof props.href ||\n            \"\" === props.href\n          ) {\n            outsideHostContainerContext &&\n              console.error(\n                'Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel=\"stylesheet\" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence=\"default\"` and `href=\"some unique resource identifier\"`.'\n              );\n            break;\n          }\n          return !0;\n        case \"link\":\n          if (\n            \"string\" !== typeof props.rel ||\n            \"string\" !== typeof props.href ||\n            \"\" === props.href ||\n            props.onLoad ||\n            props.onError\n          ) {\n            if (\n              \"stylesheet\" === props.rel &&\n              \"string\" === typeof props.precedence\n            ) {\n              type = props.href;\n              var onError = props.onError,\n                disabled = props.disabled;\n              hostContext = [];\n              props.onLoad && hostContext.push(\"`onLoad`\");\n              onError && hostContext.push(\"`onError`\");\n              null != disabled && hostContext.push(\"`disabled`\");\n              onError = propNamesListJoin(hostContext, \"and\");\n              onError += 1 === hostContext.length ? \" prop\" : \" props\";\n              disabled =\n                1 === hostContext.length ? \"an \" + onError : \"the \" + onError;\n              hostContext.length &&\n                console.error(\n                  'React encountered a <link rel=\"stylesheet\" href=\"%s\" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',\n                  type,\n                  disabled,\n                  onError\n                );\n            }\n            outsideHostContainerContext &&\n              (\"string\" !== typeof props.rel ||\n              \"string\" !== typeof props.href ||\n              \"\" === props.href\n                ? console.error(\n                    \"Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag\"\n                  )\n                : (props.onError || props.onLoad) &&\n                  console.error(\n                    \"Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>.\"\n                  ));\n            break;\n          }\n          switch (props.rel) {\n            case \"stylesheet\":\n              return (\n                (type = props.precedence),\n                (props = props.disabled),\n                \"string\" !== typeof type &&\n                  outsideHostContainerContext &&\n                  console.error(\n                    'Cannot render a <link rel=\"stylesheet\" /> outside the main document without knowing its precedence. Consider adding precedence=\"default\" or moving it into the root <head> tag.'\n                  ),\n                \"string\" === typeof type && null == props\n              );\n            default:\n              return !0;\n          }\n        case \"script\":\n          type =\n            props.async &&\n            \"function\" !== typeof props.async &&\n            \"symbol\" !== typeof props.async;\n          if (\n            !type ||\n            props.onLoad ||\n            props.onError ||\n            !props.src ||\n            \"string\" !== typeof props.src\n          ) {\n            outsideHostContainerContext &&\n              (type\n                ? props.onLoad || props.onError\n                  ? console.error(\n                      \"Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>.\"\n                    )\n                  : console.error(\n                      \"Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>.\"\n                    )\n                : console.error(\n                    'Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async=\"\" or moving it into the root <head> tag.'\n                  ));\n            break;\n          }\n          return !0;\n        case \"noscript\":\n        case \"template\":\n          outsideHostContainerContext &&\n            console.error(\n              \"Cannot render <%s> outside the main document. Try moving it into the root <head> tag.\",\n              type\n            );\n      }\n      return !1;\n    }\n    function preloadResource(resource) {\n      return \"stylesheet\" === resource.type &&\n        (resource.state.loading & Settled) === NotLoaded\n        ? !1\n        : !0;\n    }\n    function suspendResource(state, hoistableRoot, resource, props) {\n      if (\n        \"stylesheet\" === resource.type &&\n        (\"string\" !== typeof props.media ||\n          !1 !== matchMedia(props.media).matches) &&\n        (resource.state.loading & Inserted) === NotLoaded\n      ) {\n        if (null === resource.instance) {\n          var key = getStyleKey(props.href),\n            instance = hoistableRoot.querySelector(\n              getStylesheetSelectorFromKey(key)\n            );\n          if (instance) {\n            hoistableRoot = instance._p;\n            null !== hoistableRoot &&\n              \"object\" === typeof hoistableRoot &&\n              \"function\" === typeof hoistableRoot.then &&\n              (state.count++,\n              (state = onUnsuspend.bind(state)),\n              hoistableRoot.then(state, state));\n            resource.state.loading |= Inserted;\n            resource.instance = instance;\n            markNodeAsHoistable(instance);\n            return;\n          }\n          instance = hoistableRoot.ownerDocument || hoistableRoot;\n          props = stylesheetPropsFromRawProps(props);\n          (key = preloadPropsMap.get(key)) &&\n            adoptPreloadPropsForStylesheet(props, key);\n          instance = instance.createElement(\"link\");\n          markNodeAsHoistable(instance);\n          var linkInstance = instance;\n          linkInstance._p = new Promise(function (resolve, reject) {\n            linkInstance.onload = resolve;\n            linkInstance.onerror = reject;\n          });\n          setInitialProperties(instance, \"link\", props);\n          resource.instance = instance;\n        }\n        null === state.stylesheets && (state.stylesheets = new Map());\n        state.stylesheets.set(resource, hoistableRoot);\n        (hoistableRoot = resource.state.preload) &&\n          (resource.state.loading & Settled) === NotLoaded &&\n          (state.count++,\n          (resource = onUnsuspend.bind(state)),\n          hoistableRoot.addEventListener(\"load\", resource),\n          hoistableRoot.addEventListener(\"error\", resource));\n      }\n    }\n    function waitForCommitToBeReady(state, timeoutOffset) {\n      state.stylesheets &&\n        0 === state.count &&\n        insertSuspendedStylesheets(state, state.stylesheets);\n      return 0 < state.count || 0 < state.imgCount\n        ? function (commit) {\n            var stylesheetTimer = setTimeout(function () {\n              state.stylesheets &&\n                insertSuspendedStylesheets(state, state.stylesheets);\n              if (state.unsuspend) {\n                var unsuspend = state.unsuspend;\n                state.unsuspend = null;\n                unsuspend();\n              }\n            }, SUSPENSEY_STYLESHEET_TIMEOUT + timeoutOffset);\n            0 < state.imgBytes &&\n              0 === estimatedBytesWithinLimit &&\n              (estimatedBytesWithinLimit =\n                125 * estimateBandwidth() * SUSPENSEY_IMAGE_TIME_ESTIMATE);\n            var imgTimer = setTimeout(\n              function () {\n                state.waitingForImages = !1;\n                if (\n                  0 === state.count &&\n                  (state.stylesheets &&\n                    insertSuspendedStylesheets(state, state.stylesheets),\n                  state.unsuspend)\n                ) {\n                  var unsuspend = state.unsuspend;\n                  state.unsuspend = null;\n                  unsuspend();\n                }\n              },\n              (state.imgBytes > estimatedBytesWithinLimit\n                ? 50\n                : SUSPENSEY_IMAGE_TIMEOUT) + timeoutOffset\n            );\n            state.unsuspend = commit;\n            return function () {\n              state.unsuspend = null;\n              clearTimeout(stylesheetTimer);\n              clearTimeout(imgTimer);\n            };\n          }\n        : null;\n    }\n    function onUnsuspend() {\n      this.count--;\n      if (0 === this.count && (0 === this.imgCount || !this.waitingForImages))\n        if (this.stylesheets)\n          insertSuspendedStylesheets(this, this.stylesheets);\n        else if (this.unsuspend) {\n          var unsuspend = this.unsuspend;\n          this.unsuspend = null;\n          unsuspend();\n        }\n    }\n    function insertSuspendedStylesheets(state, resources) {\n      state.stylesheets = null;\n      null !== state.unsuspend &&\n        (state.count++,\n        (precedencesByRoot = new Map()),\n        resources.forEach(insertStylesheetIntoRoot, state),\n        (precedencesByRoot = null),\n        onUnsuspend.call(state));\n    }\n    function insertStylesheetIntoRoot(root, resource) {\n      if (!(resource.state.loading & Inserted)) {\n        var precedences = precedencesByRoot.get(root);\n        if (precedences) var last = precedences.get(LAST_PRECEDENCE);\n        else {\n          precedences = new Map();\n          precedencesByRoot.set(root, precedences);\n          for (\n            var nodes = root.querySelectorAll(\n                \"link[data-precedence],style[data-precedence]\"\n              ),\n              i = 0;\n            i < nodes.length;\n            i++\n          ) {\n            var node = nodes[i];\n            if (\n              \"LINK\" === node.nodeName ||\n              \"not all\" !== node.getAttribute(\"media\")\n            )\n              precedences.set(node.dataset.precedence, node), (last = node);\n          }\n          last && precedences.set(LAST_PRECEDENCE, last);\n        }\n        nodes = resource.instance;\n        node = nodes.getAttribute(\"data-precedence\");\n        i = precedences.get(node) || last;\n        i === last && precedences.set(LAST_PRECEDENCE, nodes);\n        precedences.set(node, nodes);\n        this.count++;\n        last = onUnsuspend.bind(this);\n        nodes.addEventListener(\"load\", last);\n        nodes.addEventListener(\"error\", last);\n        i\n          ? i.parentNode.insertBefore(nodes, i.nextSibling)\n          : ((root = 9 === root.nodeType ? root.head : root),\n            root.insertBefore(nodes, root.firstChild));\n        resource.state.loading |= Inserted;\n      }\n    }\n    function FiberRootNode(\n      containerInfo,\n      tag,\n      hydrate,\n      identifierPrefix,\n      onUncaughtError,\n      onCaughtError,\n      onRecoverableError,\n      onDefaultTransitionIndicator,\n      formState\n    ) {\n      this.tag = 1;\n      this.containerInfo = containerInfo;\n      this.pingCache = this.current = this.pendingChildren = null;\n      this.timeoutHandle = noTimeout;\n      this.callbackNode =\n        this.next =\n        this.pendingContext =\n        this.context =\n        this.cancelPendingCommit =\n          null;\n      this.callbackPriority = 0;\n      this.expirationTimes = createLaneMap(-1);\n      this.entangledLanes =\n        this.shellSuspendCounter =\n        this.errorRecoveryDisabledLanes =\n        this.expiredLanes =\n        this.warmLanes =\n        this.pingedLanes =\n        this.suspendedLanes =\n        this.pendingLanes =\n          0;\n      this.entanglements = createLaneMap(0);\n      this.hiddenUpdates = createLaneMap(null);\n      this.identifierPrefix = identifierPrefix;\n      this.onUncaughtError = onUncaughtError;\n      this.onCaughtError = onCaughtError;\n      this.onRecoverableError = onRecoverableError;\n      this.pooledCache = null;\n      this.pooledCacheLanes = 0;\n      this.formState = formState;\n      this.incompleteTransitions = new Map();\n      this.passiveEffectDuration = this.effectDuration = -0;\n      this.memoizedUpdaters = new Set();\n      containerInfo = this.pendingUpdatersLaneMap = [];\n      for (tag = 0; 31 > tag; tag++) containerInfo.push(new Set());\n      this._debugRootType = hydrate ? \"hydrateRoot()\" : \"createRoot()\";\n    }\n    function createFiberRoot(\n      containerInfo,\n      tag,\n      hydrate,\n      initialChildren,\n      hydrationCallbacks,\n      isStrictMode,\n      identifierPrefix,\n      formState,\n      onUncaughtError,\n      onCaughtError,\n      onRecoverableError,\n      onDefaultTransitionIndicator\n    ) {\n      containerInfo = new FiberRootNode(\n        containerInfo,\n        tag,\n        hydrate,\n        identifierPrefix,\n        onUncaughtError,\n        onCaughtError,\n        onRecoverableError,\n        onDefaultTransitionIndicator,\n        formState\n      );\n      tag = ConcurrentMode;\n      !0 === isStrictMode && (tag |= StrictLegacyMode | StrictEffectsMode);\n      tag |= ProfileMode;\n      isStrictMode = createFiber(3, null, null, tag);\n      containerInfo.current = isStrictMode;\n      isStrictMode.stateNode = containerInfo;\n      tag = createCache();\n      retainCache(tag);\n      containerInfo.pooledCache = tag;\n      retainCache(tag);\n      isStrictMode.memoizedState = {\n        element: initialChildren,\n        isDehydrated: hydrate,\n        cache: tag\n      };\n      initializeUpdateQueue(isStrictMode);\n      return containerInfo;\n    }\n    function getContextForSubtree(parentComponent) {\n      if (!parentComponent) return emptyContextObject;\n      parentComponent = emptyContextObject;\n      return parentComponent;\n    }\n    function updateContainerImpl(\n      rootFiber,\n      lane,\n      element,\n      container,\n      parentComponent,\n      callback\n    ) {\n      if (\n        injectedHook &&\n        \"function\" === typeof injectedHook.onScheduleFiberRoot\n      )\n        try {\n          injectedHook.onScheduleFiberRoot(rendererID, container, element);\n        } catch (err) {\n          hasLoggedError ||\n            ((hasLoggedError = !0),\n            console.error(\n              \"React instrumentation encountered an error: %o\",\n              err\n            ));\n        }\n      parentComponent = getContextForSubtree(parentComponent);\n      null === container.context\n        ? (container.context = parentComponent)\n        : (container.pendingContext = parentComponent);\n      isRendering &&\n        null !== current &&\n        !didWarnAboutNestedUpdates &&\n        ((didWarnAboutNestedUpdates = !0),\n        console.error(\n          \"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\\n\\nCheck the render method of %s.\",\n          getComponentNameFromFiber(current) || \"Unknown\"\n        ));\n      container = createUpdate(lane);\n      container.payload = { element: element };\n      callback = void 0 === callback ? null : callback;\n      null !== callback &&\n        (\"function\" !== typeof callback &&\n          console.error(\n            \"Expected the last optional `callback` argument to be a function. Instead received: %s.\",\n            callback\n          ),\n        (container.callback = callback));\n      element = enqueueUpdate(rootFiber, container, lane);\n      null !== element &&\n        (startUpdateTimerByLane(lane, \"root.render()\", null),\n        scheduleUpdateOnFiber(element, rootFiber, lane),\n        entangleTransitions(element, rootFiber, lane));\n    }\n    function markRetryLaneImpl(fiber, retryLane) {\n      fiber = fiber.memoizedState;\n      if (null !== fiber && null !== fiber.dehydrated) {\n        var a = fiber.retryLane;\n        fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n      }\n    }\n    function markRetryLaneIfNotHydrated(fiber, retryLane) {\n      markRetryLaneImpl(fiber, retryLane);\n      (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n    }\n    function attemptContinuousHydration(fiber) {\n      if (13 === fiber.tag || 31 === fiber.tag) {\n        var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n        null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n        markRetryLaneIfNotHydrated(fiber, 67108864);\n      }\n    }\n    function attemptHydrationAtCurrentPriority(fiber) {\n      if (13 === fiber.tag || 31 === fiber.tag) {\n        var lane = requestUpdateLane(fiber);\n        lane = getBumpedLaneForHydrationByLane(lane);\n        var root = enqueueConcurrentRenderForLane(fiber, lane);\n        null !== root && scheduleUpdateOnFiber(root, fiber, lane);\n        markRetryLaneIfNotHydrated(fiber, lane);\n      }\n    }\n    function getCurrentFiberForDevTools() {\n      return current;\n    }\n    function dispatchDiscreteEvent(\n      domEventName,\n      eventSystemFlags,\n      container,\n      nativeEvent\n    ) {\n      var prevTransition = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      try {\n        (ReactDOMSharedInternals.p = DiscreteEventPriority),\n          dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n      } finally {\n        (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = prevTransition);\n      }\n    }\n    function dispatchContinuousEvent(\n      domEventName,\n      eventSystemFlags,\n      container,\n      nativeEvent\n    ) {\n      var prevTransition = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      try {\n        (ReactDOMSharedInternals.p = ContinuousEventPriority),\n          dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n      } finally {\n        (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = prevTransition);\n      }\n    }\n    function dispatchEvent(\n      domEventName,\n      eventSystemFlags,\n      targetContainer,\n      nativeEvent\n    ) {\n      if (_enabled) {\n        var blockedOn = findInstanceBlockingEvent(nativeEvent);\n        if (null === blockedOn)\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          ),\n            clearIfContinuousEvent(domEventName, nativeEvent);\n        else if (\n          queueIfContinuousEvent(\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        )\n          nativeEvent.stopPropagation();\n        else if (\n          (clearIfContinuousEvent(domEventName, nativeEvent),\n          eventSystemFlags & 4 &&\n            -1 < discreteReplayableEvents.indexOf(domEventName))\n        ) {\n          for (; null !== blockedOn; ) {\n            var fiber = getInstanceFromNode(blockedOn);\n            if (null !== fiber)\n              switch (fiber.tag) {\n                case 3:\n                  fiber = fiber.stateNode;\n                  if (fiber.current.memoizedState.isDehydrated) {\n                    var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                    if (0 !== lanes) {\n                      var root = fiber;\n                      root.pendingLanes |= 2;\n                      for (root.entangledLanes |= 2; lanes; ) {\n                        var lane = 1 << (31 - clz32(lanes));\n                        root.entanglements[1] |= lane;\n                        lanes &= ~lane;\n                      }\n                      ensureRootIsScheduled(fiber);\n                      (executionContext & (RenderContext | CommitContext)) ===\n                        NoContext &&\n                        ((workInProgressRootRenderTargetTime =\n                          now$1() + RENDER_TIMEOUT_MS),\n                        flushSyncWorkAcrossRoots_impl(0, !1));\n                    }\n                  }\n                  break;\n                case 31:\n                case 13:\n                  (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                    null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                    flushSyncWork$1(),\n                    markRetryLaneIfNotHydrated(fiber, 2);\n              }\n            fiber = findInstanceBlockingEvent(nativeEvent);\n            null === fiber &&\n              dispatchEventForPluginEventSystem(\n                domEventName,\n                eventSystemFlags,\n                nativeEvent,\n                return_targetInst,\n                targetContainer\n              );\n            if (fiber === blockedOn) break;\n            blockedOn = fiber;\n          }\n          null !== blockedOn && nativeEvent.stopPropagation();\n        } else\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            null,\n            targetContainer\n          );\n      }\n    }\n    function findInstanceBlockingEvent(nativeEvent) {\n      nativeEvent = getEventTarget(nativeEvent);\n      return findInstanceBlockingTarget(nativeEvent);\n    }\n    function findInstanceBlockingTarget(targetNode) {\n      return_targetInst = null;\n      targetNode = getClosestInstanceFromNode(targetNode);\n      if (null !== targetNode) {\n        var nearestMounted = getNearestMountedFiber(targetNode);\n        if (null === nearestMounted) targetNode = null;\n        else {\n          var tag = nearestMounted.tag;\n          if (13 === tag) {\n            targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n            if (null !== targetNode) return targetNode;\n            targetNode = null;\n          } else if (31 === tag) {\n            targetNode = getActivityInstanceFromFiber(nearestMounted);\n            if (null !== targetNode) return targetNode;\n            targetNode = null;\n          } else if (3 === tag) {\n            if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n              return 3 === nearestMounted.tag\n                ? nearestMounted.stateNode.containerInfo\n                : null;\n            targetNode = null;\n          } else nearestMounted !== targetNode && (targetNode = null);\n        }\n      }\n      return_targetInst = targetNode;\n      return null;\n    }\n    function getEventPriority(domEventName) {\n      switch (domEventName) {\n        case \"beforetoggle\":\n        case \"cancel\":\n        case \"click\":\n        case \"close\":\n        case \"contextmenu\":\n        case \"copy\":\n        case \"cut\":\n        case \"auxclick\":\n        case \"dblclick\":\n        case \"dragend\":\n        case \"dragstart\":\n        case \"drop\":\n        case \"focusin\":\n        case \"focusout\":\n        case \"input\":\n        case \"invalid\":\n        case \"keydown\":\n        case \"keypress\":\n        case \"keyup\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"paste\":\n        case \"pause\":\n        case \"play\":\n        case \"pointercancel\":\n        case \"pointerdown\":\n        case \"pointerup\":\n        case \"ratechange\":\n        case \"reset\":\n        case \"resize\":\n        case \"seeked\":\n        case \"submit\":\n        case \"toggle\":\n        case \"touchcancel\":\n        case \"touchend\":\n        case \"touchstart\":\n        case \"volumechange\":\n        case \"change\":\n        case \"selectionchange\":\n        case \"textInput\":\n        case \"compositionstart\":\n        case \"compositionend\":\n        case \"compositionupdate\":\n        case \"beforeblur\":\n        case \"afterblur\":\n        case \"beforeinput\":\n        case \"blur\":\n        case \"fullscreenchange\":\n        case \"focus\":\n        case \"hashchange\":\n        case \"popstate\":\n        case \"select\":\n        case \"selectstart\":\n          return DiscreteEventPriority;\n        case \"drag\":\n        case \"dragenter\":\n        case \"dragexit\":\n        case \"dragleave\":\n        case \"dragover\":\n        case \"mousemove\":\n        case \"mouseout\":\n        case \"mouseover\":\n        case \"pointermove\":\n        case \"pointerout\":\n        case \"pointerover\":\n        case \"scroll\":\n        case \"touchmove\":\n        case \"wheel\":\n        case \"mouseenter\":\n        case \"mouseleave\":\n        case \"pointerenter\":\n        case \"pointerleave\":\n          return ContinuousEventPriority;\n        case \"message\":\n          switch (getCurrentPriorityLevel()) {\n            case ImmediatePriority:\n              return DiscreteEventPriority;\n            case UserBlockingPriority:\n              return ContinuousEventPriority;\n            case NormalPriority$1:\n            case LowPriority:\n              return DefaultEventPriority;\n            case IdlePriority:\n              return IdleEventPriority;\n            default:\n              return DefaultEventPriority;\n          }\n        default:\n          return DefaultEventPriority;\n      }\n    }\n    function clearIfContinuousEvent(domEventName, nativeEvent) {\n      switch (domEventName) {\n        case \"focusin\":\n        case \"focusout\":\n          queuedFocus = null;\n          break;\n        case \"dragenter\":\n        case \"dragleave\":\n          queuedDrag = null;\n          break;\n        case \"mouseover\":\n        case \"mouseout\":\n          queuedMouse = null;\n          break;\n        case \"pointerover\":\n        case \"pointerout\":\n          queuedPointers.delete(nativeEvent.pointerId);\n          break;\n        case \"gotpointercapture\":\n        case \"lostpointercapture\":\n          queuedPointerCaptures.delete(nativeEvent.pointerId);\n      }\n    }\n    function accumulateOrCreateContinuousQueuedReplayableEvent(\n      existingQueuedEvent,\n      blockedOn,\n      domEventName,\n      eventSystemFlags,\n      targetContainer,\n      nativeEvent\n    ) {\n      if (\n        null === existingQueuedEvent ||\n        existingQueuedEvent.nativeEvent !== nativeEvent\n      )\n        return (\n          (existingQueuedEvent = {\n            blockedOn: blockedOn,\n            domEventName: domEventName,\n            eventSystemFlags: eventSystemFlags,\n            nativeEvent: nativeEvent,\n            targetContainers: [targetContainer]\n          }),\n          null !== blockedOn &&\n            ((blockedOn = getInstanceFromNode(blockedOn)),\n            null !== blockedOn && attemptContinuousHydration(blockedOn)),\n          existingQueuedEvent\n        );\n      existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n      blockedOn = existingQueuedEvent.targetContainers;\n      null !== targetContainer &&\n        -1 === blockedOn.indexOf(targetContainer) &&\n        blockedOn.push(targetContainer);\n      return existingQueuedEvent;\n    }\n    function queueIfContinuousEvent(\n      blockedOn,\n      domEventName,\n      eventSystemFlags,\n      targetContainer,\n      nativeEvent\n    ) {\n      switch (domEventName) {\n        case \"focusin\":\n          return (\n            (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n              queuedFocus,\n              blockedOn,\n              domEventName,\n              eventSystemFlags,\n              targetContainer,\n              nativeEvent\n            )),\n            !0\n          );\n        case \"dragenter\":\n          return (\n            (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n              queuedDrag,\n              blockedOn,\n              domEventName,\n              eventSystemFlags,\n              targetContainer,\n              nativeEvent\n            )),\n            !0\n          );\n        case \"mouseover\":\n          return (\n            (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n              queuedMouse,\n              blockedOn,\n              domEventName,\n              eventSystemFlags,\n              targetContainer,\n              nativeEvent\n            )),\n            !0\n          );\n        case \"pointerover\":\n          var pointerId = nativeEvent.pointerId;\n          queuedPointers.set(\n            pointerId,\n            accumulateOrCreateContinuousQueuedReplayableEvent(\n              queuedPointers.get(pointerId) || null,\n              blockedOn,\n              domEventName,\n              eventSystemFlags,\n              targetContainer,\n              nativeEvent\n            )\n          );\n          return !0;\n        case \"gotpointercapture\":\n          return (\n            (pointerId = nativeEvent.pointerId),\n            queuedPointerCaptures.set(\n              pointerId,\n              accumulateOrCreateContinuousQueuedReplayableEvent(\n                queuedPointerCaptures.get(pointerId) || null,\n                blockedOn,\n                domEventName,\n                eventSystemFlags,\n                targetContainer,\n                nativeEvent\n              )\n            ),\n            !0\n          );\n      }\n      return !1;\n    }\n    function attemptExplicitHydrationTarget(queuedTarget) {\n      var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n      if (null !== targetInst) {\n        var nearestMounted = getNearestMountedFiber(targetInst);\n        if (null !== nearestMounted)\n          if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n            if (\n              ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n              null !== targetInst)\n            ) {\n              queuedTarget.blockedOn = targetInst;\n              runWithPriority(queuedTarget.priority, function () {\n                attemptHydrationAtCurrentPriority(nearestMounted);\n              });\n              return;\n            }\n          } else if (31 === targetInst) {\n            if (\n              ((targetInst = getActivityInstanceFromFiber(nearestMounted)),\n              null !== targetInst)\n            ) {\n              queuedTarget.blockedOn = targetInst;\n              runWithPriority(queuedTarget.priority, function () {\n                attemptHydrationAtCurrentPriority(nearestMounted);\n              });\n              return;\n            }\n          } else if (\n            3 === targetInst &&\n            nearestMounted.stateNode.current.memoizedState.isDehydrated\n          ) {\n            queuedTarget.blockedOn =\n              3 === nearestMounted.tag\n                ? nearestMounted.stateNode.containerInfo\n                : null;\n            return;\n          }\n      }\n      queuedTarget.blockedOn = null;\n    }\n    function attemptReplayContinuousQueuedEvent(queuedEvent) {\n      if (null !== queuedEvent.blockedOn) return !1;\n      for (\n        var targetContainers = queuedEvent.targetContainers;\n        0 < targetContainers.length;\n\n      ) {\n        var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n        if (null === nextBlockedOn) {\n          nextBlockedOn = queuedEvent.nativeEvent;\n          var nativeEventClone = new nextBlockedOn.constructor(\n              nextBlockedOn.type,\n              nextBlockedOn\n            ),\n            event = nativeEventClone;\n          null !== currentReplayingEvent &&\n            console.error(\n              \"Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue.\"\n            );\n          currentReplayingEvent = event;\n          nextBlockedOn.target.dispatchEvent(nativeEventClone);\n          null === currentReplayingEvent &&\n            console.error(\n              \"Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue.\"\n            );\n          currentReplayingEvent = null;\n        } else\n          return (\n            (targetContainers = getInstanceFromNode(nextBlockedOn)),\n            null !== targetContainers &&\n              attemptContinuousHydration(targetContainers),\n            (queuedEvent.blockedOn = nextBlockedOn),\n            !1\n          );\n        targetContainers.shift();\n      }\n      return !0;\n    }\n    function attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n      attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n    }\n    function replayUnblockedEvents() {\n      hasScheduledReplayAttempt = !1;\n      null !== queuedFocus &&\n        attemptReplayContinuousQueuedEvent(queuedFocus) &&\n        (queuedFocus = null);\n      null !== queuedDrag &&\n        attemptReplayContinuousQueuedEvent(queuedDrag) &&\n        (queuedDrag = null);\n      null !== queuedMouse &&\n        attemptReplayContinuousQueuedEvent(queuedMouse) &&\n        (queuedMouse = null);\n      queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n      queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n    }\n    function scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n      queuedEvent.blockedOn === unblocked &&\n        ((queuedEvent.blockedOn = null),\n        hasScheduledReplayAttempt ||\n          ((hasScheduledReplayAttempt = !0),\n          Scheduler.unstable_scheduleCallback(\n            Scheduler.unstable_NormalPriority,\n            replayUnblockedEvents\n          )));\n    }\n    function scheduleReplayQueueIfNeeded(formReplayingQueue) {\n      lastScheduledReplayQueue !== formReplayingQueue &&\n        ((lastScheduledReplayQueue = formReplayingQueue),\n        Scheduler.unstable_scheduleCallback(\n          Scheduler.unstable_NormalPriority,\n          function () {\n            lastScheduledReplayQueue === formReplayingQueue &&\n              (lastScheduledReplayQueue = null);\n            for (var i = 0; i < formReplayingQueue.length; i += 3) {\n              var form = formReplayingQueue[i],\n                submitterOrAction = formReplayingQueue[i + 1],\n                formData = formReplayingQueue[i + 2];\n              if (\"function\" !== typeof submitterOrAction)\n                if (\n                  null === findInstanceBlockingTarget(submitterOrAction || form)\n                )\n                  continue;\n                else break;\n              var formInst = getInstanceFromNode(form);\n              null !== formInst &&\n                (formReplayingQueue.splice(i, 3),\n                (i -= 3),\n                (form = {\n                  pending: !0,\n                  data: formData,\n                  method: form.method,\n                  action: submitterOrAction\n                }),\n                Object.freeze(form),\n                startHostTransition(\n                  formInst,\n                  form,\n                  submitterOrAction,\n                  formData\n                ));\n            }\n          }\n        ));\n    }\n    function retryIfBlockedOn(unblocked) {\n      function unblock(queuedEvent) {\n        return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n      }\n      null !== queuedFocus &&\n        scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n      null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n      null !== queuedMouse &&\n        scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n      queuedPointers.forEach(unblock);\n      queuedPointerCaptures.forEach(unblock);\n      for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n        var queuedTarget = queuedExplicitHydrationTargets[i];\n        queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n      }\n      for (\n        ;\n        0 < queuedExplicitHydrationTargets.length &&\n        ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n      )\n        attemptExplicitHydrationTarget(i),\n          null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n      i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n      if (null != i)\n        for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n          var form = i[queuedTarget],\n            submitterOrAction = i[queuedTarget + 1],\n            formProps = form[internalPropsKey] || null;\n          if (\"function\" === typeof submitterOrAction)\n            formProps || scheduleReplayQueueIfNeeded(i);\n          else if (formProps) {\n            var action = null;\n            if (\n              submitterOrAction &&\n              submitterOrAction.hasAttribute(\"formAction\")\n            )\n              if (\n                ((form = submitterOrAction),\n                (formProps = submitterOrAction[internalPropsKey] || null))\n              )\n                action = formProps.formAction;\n              else {\n                if (null !== findInstanceBlockingTarget(form)) continue;\n              }\n            else action = formProps.action;\n            \"function\" === typeof action\n              ? (i[queuedTarget + 1] = action)\n              : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n            scheduleReplayQueueIfNeeded(i);\n          }\n        }\n    }\n    function defaultOnDefaultTransitionIndicator() {\n      function handleNavigate(event) {\n        event.canIntercept &&\n          \"react-transition\" === event.info &&\n          event.intercept({\n            handler: function () {\n              return new Promise(function (resolve) {\n                return (pendingResolve = resolve);\n              });\n            },\n            focusReset: \"manual\",\n            scroll: \"manual\"\n          });\n      }\n      function handleNavigateComplete() {\n        null !== pendingResolve && (pendingResolve(), (pendingResolve = null));\n        isCancelled || setTimeout(startFakeNavigation, 20);\n      }\n      function startFakeNavigation() {\n        if (!isCancelled && !navigation.transition) {\n          var currentEntry = navigation.currentEntry;\n          currentEntry &&\n            null != currentEntry.url &&\n            navigation.navigate(currentEntry.url, {\n              state: currentEntry.getState(),\n              info: \"react-transition\",\n              history: \"replace\"\n            });\n        }\n      }\n      if (\"object\" === typeof navigation) {\n        var isCancelled = !1,\n          pendingResolve = null;\n        navigation.addEventListener(\"navigate\", handleNavigate);\n        navigation.addEventListener(\"navigatesuccess\", handleNavigateComplete);\n        navigation.addEventListener(\"navigateerror\", handleNavigateComplete);\n        setTimeout(startFakeNavigation, 100);\n        return function () {\n          isCancelled = !0;\n          navigation.removeEventListener(\"navigate\", handleNavigate);\n          navigation.removeEventListener(\n            \"navigatesuccess\",\n            handleNavigateComplete\n          );\n          navigation.removeEventListener(\n            \"navigateerror\",\n            handleNavigateComplete\n          );\n          null !== pendingResolve &&\n            (pendingResolve(), (pendingResolve = null));\n        };\n      }\n    }\n    function ReactDOMRoot(internalRoot) {\n      this._internalRoot = internalRoot;\n    }\n    function ReactDOMHydrationRoot(internalRoot) {\n      this._internalRoot = internalRoot;\n    }\n    function warnIfReactDOMContainerInDEV(container) {\n      container[internalContainerInstanceKey] &&\n        (container._reactRootContainer\n          ? console.error(\n              \"You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported.\"\n            )\n          : console.error(\n              \"You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it.\"\n            ));\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var Scheduler = require(\"scheduler\"),\n      React = require(\"react\"),\n      ReactDOM = require(\"react-dom\"),\n      assign = Object.assign,\n      REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\n    Symbol.for(\"react.scope\");\n    var REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\n    Symbol.for(\"react.legacy_hidden\");\n    Symbol.for(\"react.tracing_marker\");\n    var REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\n    Symbol.for(\"react.view_transition\");\n    var MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      isArrayImpl = Array.isArray,\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      ReactDOMSharedInternals =\n        ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      NotPending = Object.freeze({\n        pending: !1,\n        data: null,\n        method: null,\n        action: null\n      }),\n      valueStack = [];\n    var fiberStack = [];\n    var index$jscomp$0 = -1,\n      contextStackCursor = createCursor(null),\n      contextFiberStackCursor = createCursor(null),\n      rootInstanceStackCursor = createCursor(null),\n      hostTransitionProviderCursor = createCursor(null),\n      disabledDepth = 0,\n      prevLog,\n      prevInfo,\n      prevWarn,\n      prevError,\n      prevGroup,\n      prevGroupCollapsed,\n      prevGroupEnd;\n    disabledLog.__reactDisabledLog = !0;\n    var prefix,\n      suffix,\n      reentry = !1;\n    var componentFrameCache = new (\n      \"function\" === typeof WeakMap ? WeakMap : Map\n    )();\n    var current = null,\n      isRendering = !1,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n      cancelCallback$1 = Scheduler.unstable_cancelCallback,\n      shouldYield = Scheduler.unstable_shouldYield,\n      requestPaint = Scheduler.unstable_requestPaint,\n      now$1 = Scheduler.unstable_now,\n      getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n      ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n      UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n      NormalPriority$1 = Scheduler.unstable_NormalPriority,\n      LowPriority = Scheduler.unstable_LowPriority,\n      IdlePriority = Scheduler.unstable_IdlePriority,\n      log$1 = Scheduler.log,\n      unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n      rendererID = null,\n      injectedHook = null,\n      hasLoggedError = !1,\n      isDevToolsPresent = \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__,\n      clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n      log = Math.log,\n      LN2 = Math.LN2,\n      nextTransitionUpdateLane = 256,\n      nextTransitionDeferredLane = 262144,\n      nextRetryLane = 4194304,\n      DiscreteEventPriority = 2,\n      ContinuousEventPriority = 8,\n      DefaultEventPriority = 32,\n      IdleEventPriority = 268435456,\n      randomKey = Math.random().toString(36).slice(2),\n      internalInstanceKey = \"__reactFiber$\" + randomKey,\n      internalPropsKey = \"__reactProps$\" + randomKey,\n      internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n      internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n      internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n      internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n      internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n      internalHoistableMarker = \"__reactMarker$\" + randomKey,\n      allNativeEvents = new Set(),\n      registrationNameDependencies = {},\n      possibleRegistrationNames = {},\n      hasReadOnlyValue = {\n        button: !0,\n        checkbox: !0,\n        image: !0,\n        hidden: !0,\n        radio: !0,\n        reset: !0,\n        submit: !0\n      },\n      VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n        \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n      ),\n      illegalAttributeNameCache = {},\n      validatedAttributeNameCache = {},\n      escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g,\n      didWarnValueDefaultValue$1 = !1,\n      didWarnCheckedDefaultChecked = !1,\n      didWarnSelectedSetOnOption = !1,\n      didWarnInvalidChild = !1,\n      didWarnInvalidInnerHTML = !1;\n    var didWarnValueDefaultValue = !1;\n    var valuePropNames = [\"value\", \"defaultValue\"],\n      didWarnValDefaultVal = !1,\n      needsEscaping = /[\"'&<>\\n\\t]|^\\s|\\s$/,\n      specialTags =\n        \"address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp\".split(\n          \" \"\n        ),\n      inScopeTags =\n        \"applet caption html table td th marquee object template foreignObject desc title\".split(\n          \" \"\n        ),\n      buttonScopeTags = inScopeTags.concat([\"button\"]),\n      impliedEndTags = \"dd dt li option optgroup p rp rt\".split(\" \"),\n      emptyAncestorInfoDev = {\n        current: null,\n        formTag: null,\n        aTagInScope: null,\n        buttonTagInScope: null,\n        nobrTagInScope: null,\n        pTagInButtonScope: null,\n        listItemTagAutoclosing: null,\n        dlItemTagAutoclosing: null,\n        containerTagInScope: null,\n        implicitRootScope: !1\n      },\n      didWarn = {},\n      shorthandToLonghand = {\n        animation:\n          \"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction\".split(\n            \" \"\n          ),\n        background:\n          \"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize\".split(\n            \" \"\n          ),\n        backgroundPosition: [\"backgroundPositionX\", \"backgroundPositionY\"],\n        border:\n          \"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth\".split(\n            \" \"\n          ),\n        borderBlockEnd: [\n          \"borderBlockEndColor\",\n          \"borderBlockEndStyle\",\n          \"borderBlockEndWidth\"\n        ],\n        borderBlockStart: [\n          \"borderBlockStartColor\",\n          \"borderBlockStartStyle\",\n          \"borderBlockStartWidth\"\n        ],\n        borderBottom: [\n          \"borderBottomColor\",\n          \"borderBottomStyle\",\n          \"borderBottomWidth\"\n        ],\n        borderColor: [\n          \"borderBottomColor\",\n          \"borderLeftColor\",\n          \"borderRightColor\",\n          \"borderTopColor\"\n        ],\n        borderImage: [\n          \"borderImageOutset\",\n          \"borderImageRepeat\",\n          \"borderImageSlice\",\n          \"borderImageSource\",\n          \"borderImageWidth\"\n        ],\n        borderInlineEnd: [\n          \"borderInlineEndColor\",\n          \"borderInlineEndStyle\",\n          \"borderInlineEndWidth\"\n        ],\n        borderInlineStart: [\n          \"borderInlineStartColor\",\n          \"borderInlineStartStyle\",\n          \"borderInlineStartWidth\"\n        ],\n        borderLeft: [\"borderLeftColor\", \"borderLeftStyle\", \"borderLeftWidth\"],\n        borderRadius: [\n          \"borderBottomLeftRadius\",\n          \"borderBottomRightRadius\",\n          \"borderTopLeftRadius\",\n          \"borderTopRightRadius\"\n        ],\n        borderRight: [\n          \"borderRightColor\",\n          \"borderRightStyle\",\n          \"borderRightWidth\"\n        ],\n        borderStyle: [\n          \"borderBottomStyle\",\n          \"borderLeftStyle\",\n          \"borderRightStyle\",\n          \"borderTopStyle\"\n        ],\n        borderTop: [\"borderTopColor\", \"borderTopStyle\", \"borderTopWidth\"],\n        borderWidth: [\n          \"borderBottomWidth\",\n          \"borderLeftWidth\",\n          \"borderRightWidth\",\n          \"borderTopWidth\"\n        ],\n        columnRule: [\"columnRuleColor\", \"columnRuleStyle\", \"columnRuleWidth\"],\n        columns: [\"columnCount\", \"columnWidth\"],\n        flex: [\"flexBasis\", \"flexGrow\", \"flexShrink\"],\n        flexFlow: [\"flexDirection\", \"flexWrap\"],\n        font: \"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight\".split(\n          \" \"\n        ),\n        fontVariant:\n          \"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition\".split(\n            \" \"\n          ),\n        gap: [\"columnGap\", \"rowGap\"],\n        grid: \"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows\".split(\n          \" \"\n        ),\n        gridArea: [\n          \"gridColumnEnd\",\n          \"gridColumnStart\",\n          \"gridRowEnd\",\n          \"gridRowStart\"\n        ],\n        gridColumn: [\"gridColumnEnd\", \"gridColumnStart\"],\n        gridColumnGap: [\"columnGap\"],\n        gridGap: [\"columnGap\", \"rowGap\"],\n        gridRow: [\"gridRowEnd\", \"gridRowStart\"],\n        gridRowGap: [\"rowGap\"],\n        gridTemplate: [\n          \"gridTemplateAreas\",\n          \"gridTemplateColumns\",\n          \"gridTemplateRows\"\n        ],\n        listStyle: [\"listStyleImage\", \"listStylePosition\", \"listStyleType\"],\n        margin: [\"marginBottom\", \"marginLeft\", \"marginRight\", \"marginTop\"],\n        marker: [\"markerEnd\", \"markerMid\", \"markerStart\"],\n        mask: \"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize\".split(\n          \" \"\n        ),\n        maskPosition: [\"maskPositionX\", \"maskPositionY\"],\n        outline: [\"outlineColor\", \"outlineStyle\", \"outlineWidth\"],\n        overflow: [\"overflowX\", \"overflowY\"],\n        padding: [\"paddingBottom\", \"paddingLeft\", \"paddingRight\", \"paddingTop\"],\n        placeContent: [\"alignContent\", \"justifyContent\"],\n        placeItems: [\"alignItems\", \"justifyItems\"],\n        placeSelf: [\"alignSelf\", \"justifySelf\"],\n        textDecoration: [\n          \"textDecorationColor\",\n          \"textDecorationLine\",\n          \"textDecorationStyle\"\n        ],\n        textEmphasis: [\"textEmphasisColor\", \"textEmphasisStyle\"],\n        transition: [\n          \"transitionDelay\",\n          \"transitionDuration\",\n          \"transitionProperty\",\n          \"transitionTimingFunction\"\n        ],\n        wordWrap: [\"overflowWrap\"]\n      },\n      uppercasePattern = /([A-Z])/g,\n      msPattern$1 = /^ms-/,\n      badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/,\n      msPattern = /^-ms-/,\n      hyphenPattern = /-(.)/g,\n      badStyleValueWithSemicolonPattern = /;\\s*$/,\n      warnedStyleNames = {},\n      warnedStyleValues = {},\n      warnedForNaNValue = !1,\n      warnedForInfinityValue = !1,\n      unitlessNumbers = new Set(\n        \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n          \" \"\n        )\n      ),\n      MATH_NAMESPACE = \"http://www.w3.org/1998/Math/MathML\",\n      SVG_NAMESPACE = \"http://www.w3.org/2000/svg\",\n      aliases = new Map([\n        [\"acceptCharset\", \"accept-charset\"],\n        [\"htmlFor\", \"for\"],\n        [\"httpEquiv\", \"http-equiv\"],\n        [\"crossOrigin\", \"crossorigin\"],\n        [\"accentHeight\", \"accent-height\"],\n        [\"alignmentBaseline\", \"alignment-baseline\"],\n        [\"arabicForm\", \"arabic-form\"],\n        [\"baselineShift\", \"baseline-shift\"],\n        [\"capHeight\", \"cap-height\"],\n        [\"clipPath\", \"clip-path\"],\n        [\"clipRule\", \"clip-rule\"],\n        [\"colorInterpolation\", \"color-interpolation\"],\n        [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n        [\"colorProfile\", \"color-profile\"],\n        [\"colorRendering\", \"color-rendering\"],\n        [\"dominantBaseline\", \"dominant-baseline\"],\n        [\"enableBackground\", \"enable-background\"],\n        [\"fillOpacity\", \"fill-opacity\"],\n        [\"fillRule\", \"fill-rule\"],\n        [\"floodColor\", \"flood-color\"],\n        [\"floodOpacity\", \"flood-opacity\"],\n        [\"fontFamily\", \"font-family\"],\n        [\"fontSize\", \"font-size\"],\n        [\"fontSizeAdjust\", \"font-size-adjust\"],\n        [\"fontStretch\", \"font-stretch\"],\n        [\"fontStyle\", \"font-style\"],\n        [\"fontVariant\", \"font-variant\"],\n        [\"fontWeight\", \"font-weight\"],\n        [\"glyphName\", \"glyph-name\"],\n        [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n        [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n        [\"horizAdvX\", \"horiz-adv-x\"],\n        [\"horizOriginX\", \"horiz-origin-x\"],\n        [\"imageRendering\", \"image-rendering\"],\n        [\"letterSpacing\", \"letter-spacing\"],\n        [\"lightingColor\", \"lighting-color\"],\n        [\"markerEnd\", \"marker-end\"],\n        [\"markerMid\", \"marker-mid\"],\n        [\"markerStart\", \"marker-start\"],\n        [\"overlinePosition\", \"overline-position\"],\n        [\"overlineThickness\", \"overline-thickness\"],\n        [\"paintOrder\", \"paint-order\"],\n        [\"panose-1\", \"panose-1\"],\n        [\"pointerEvents\", \"pointer-events\"],\n        [\"renderingIntent\", \"rendering-intent\"],\n        [\"shapeRendering\", \"shape-rendering\"],\n        [\"stopColor\", \"stop-color\"],\n        [\"stopOpacity\", \"stop-opacity\"],\n        [\"strikethroughPosition\", \"strikethrough-position\"],\n        [\"strikethroughThickness\", \"strikethrough-thickness\"],\n        [\"strokeDasharray\", \"stroke-dasharray\"],\n        [\"strokeDashoffset\", \"stroke-dashoffset\"],\n        [\"strokeLinecap\", \"stroke-linecap\"],\n        [\"strokeLinejoin\", \"stroke-linejoin\"],\n        [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n        [\"strokeOpacity\", \"stroke-opacity\"],\n        [\"strokeWidth\", \"stroke-width\"],\n        [\"textAnchor\", \"text-anchor\"],\n        [\"textDecoration\", \"text-decoration\"],\n        [\"textRendering\", \"text-rendering\"],\n        [\"transformOrigin\", \"transform-origin\"],\n        [\"underlinePosition\", \"underline-position\"],\n        [\"underlineThickness\", \"underline-thickness\"],\n        [\"unicodeBidi\", \"unicode-bidi\"],\n        [\"unicodeRange\", \"unicode-range\"],\n        [\"unitsPerEm\", \"units-per-em\"],\n        [\"vAlphabetic\", \"v-alphabetic\"],\n        [\"vHanging\", \"v-hanging\"],\n        [\"vIdeographic\", \"v-ideographic\"],\n        [\"vMathematical\", \"v-mathematical\"],\n        [\"vectorEffect\", \"vector-effect\"],\n        [\"vertAdvY\", \"vert-adv-y\"],\n        [\"vertOriginX\", \"vert-origin-x\"],\n        [\"vertOriginY\", \"vert-origin-y\"],\n        [\"wordSpacing\", \"word-spacing\"],\n        [\"writingMode\", \"writing-mode\"],\n        [\"xmlnsXlink\", \"xmlns:xlink\"],\n        [\"xHeight\", \"x-height\"]\n      ]),\n      possibleStandardNames = {\n        accept: \"accept\",\n        acceptcharset: \"acceptCharset\",\n        \"accept-charset\": \"acceptCharset\",\n        accesskey: \"accessKey\",\n        action: \"action\",\n        allowfullscreen: \"allowFullScreen\",\n        alt: \"alt\",\n        as: \"as\",\n        async: \"async\",\n        autocapitalize: \"autoCapitalize\",\n        autocomplete: \"autoComplete\",\n        autocorrect: \"autoCorrect\",\n        autofocus: \"autoFocus\",\n        autoplay: \"autoPlay\",\n        autosave: \"autoSave\",\n        capture: \"capture\",\n        cellpadding: \"cellPadding\",\n        cellspacing: \"cellSpacing\",\n        challenge: \"challenge\",\n        charset: \"charSet\",\n        checked: \"checked\",\n        children: \"children\",\n        cite: \"cite\",\n        class: \"className\",\n        classid: \"classID\",\n        classname: \"className\",\n        cols: \"cols\",\n        colspan: \"colSpan\",\n        content: \"content\",\n        contenteditable: \"contentEditable\",\n        contextmenu: \"contextMenu\",\n        controls: \"controls\",\n        controlslist: \"controlsList\",\n        coords: \"coords\",\n        crossorigin: \"crossOrigin\",\n        dangerouslysetinnerhtml: \"dangerouslySetInnerHTML\",\n        data: \"data\",\n        datetime: \"dateTime\",\n        default: \"default\",\n        defaultchecked: \"defaultChecked\",\n        defaultvalue: \"defaultValue\",\n        defer: \"defer\",\n        dir: \"dir\",\n        disabled: \"disabled\",\n        disablepictureinpicture: \"disablePictureInPicture\",\n        disableremoteplayback: \"disableRemotePlayback\",\n        download: \"download\",\n        draggable: \"draggable\",\n        enctype: \"encType\",\n        enterkeyhint: \"enterKeyHint\",\n        fetchpriority: \"fetchPriority\",\n        for: \"htmlFor\",\n        form: \"form\",\n        formmethod: \"formMethod\",\n        formaction: \"formAction\",\n        formenctype: \"formEncType\",\n        formnovalidate: \"formNoValidate\",\n        formtarget: \"formTarget\",\n        frameborder: \"frameBorder\",\n        headers: \"headers\",\n        height: \"height\",\n        hidden: \"hidden\",\n        high: \"high\",\n        href: \"href\",\n        hreflang: \"hrefLang\",\n        htmlfor: \"htmlFor\",\n        httpequiv: \"httpEquiv\",\n        \"http-equiv\": \"httpEquiv\",\n        icon: \"icon\",\n        id: \"id\",\n        imagesizes: \"imageSizes\",\n        imagesrcset: \"imageSrcSet\",\n        inert: \"inert\",\n        innerhtml: \"innerHTML\",\n        inputmode: \"inputMode\",\n        integrity: \"integrity\",\n        is: \"is\",\n        itemid: \"itemID\",\n        itemprop: \"itemProp\",\n        itemref: \"itemRef\",\n        itemscope: \"itemScope\",\n        itemtype: \"itemType\",\n        keyparams: \"keyParams\",\n        keytype: \"keyType\",\n        kind: \"kind\",\n        label: \"label\",\n        lang: \"lang\",\n        list: \"list\",\n        loop: \"loop\",\n        low: \"low\",\n        manifest: \"manifest\",\n        marginwidth: \"marginWidth\",\n        marginheight: \"marginHeight\",\n        max: \"max\",\n        maxlength: \"maxLength\",\n        media: \"media\",\n        mediagroup: \"mediaGroup\",\n        method: \"method\",\n        min: \"min\",\n        minlength: \"minLength\",\n        multiple: \"multiple\",\n        muted: \"muted\",\n        name: \"name\",\n        nomodule: \"noModule\",\n        nonce: \"nonce\",\n        novalidate: \"noValidate\",\n        open: \"open\",\n        optimum: \"optimum\",\n        pattern: \"pattern\",\n        placeholder: \"placeholder\",\n        playsinline: \"playsInline\",\n        poster: \"poster\",\n        preload: \"preload\",\n        profile: \"profile\",\n        radiogroup: \"radioGroup\",\n        readonly: \"readOnly\",\n        referrerpolicy: \"referrerPolicy\",\n        rel: \"rel\",\n        required: \"required\",\n        reversed: \"reversed\",\n        role: \"role\",\n        rows: \"rows\",\n        rowspan: \"rowSpan\",\n        sandbox: \"sandbox\",\n        scope: \"scope\",\n        scoped: \"scoped\",\n        scrolling: \"scrolling\",\n        seamless: \"seamless\",\n        selected: \"selected\",\n        shape: \"shape\",\n        size: \"size\",\n        sizes: \"sizes\",\n        span: \"span\",\n        spellcheck: \"spellCheck\",\n        src: \"src\",\n        srcdoc: \"srcDoc\",\n        srclang: \"srcLang\",\n        srcset: \"srcSet\",\n        start: \"start\",\n        step: \"step\",\n        style: \"style\",\n        summary: \"summary\",\n        tabindex: \"tabIndex\",\n        target: \"target\",\n        title: \"title\",\n        type: \"type\",\n        usemap: \"useMap\",\n        value: \"value\",\n        width: \"width\",\n        wmode: \"wmode\",\n        wrap: \"wrap\",\n        about: \"about\",\n        accentheight: \"accentHeight\",\n        \"accent-height\": \"accentHeight\",\n        accumulate: \"accumulate\",\n        additive: \"additive\",\n        alignmentbaseline: \"alignmentBaseline\",\n        \"alignment-baseline\": \"alignmentBaseline\",\n        allowreorder: \"allowReorder\",\n        alphabetic: \"alphabetic\",\n        amplitude: \"amplitude\",\n        arabicform: \"arabicForm\",\n        \"arabic-form\": \"arabicForm\",\n        ascent: \"ascent\",\n        attributename: \"attributeName\",\n        attributetype: \"attributeType\",\n        autoreverse: \"autoReverse\",\n        azimuth: \"azimuth\",\n        basefrequency: \"baseFrequency\",\n        baselineshift: \"baselineShift\",\n        \"baseline-shift\": \"baselineShift\",\n        baseprofile: \"baseProfile\",\n        bbox: \"bbox\",\n        begin: \"begin\",\n        bias: \"bias\",\n        by: \"by\",\n        calcmode: \"calcMode\",\n        capheight: \"capHeight\",\n        \"cap-height\": \"capHeight\",\n        clip: \"clip\",\n        clippath: \"clipPath\",\n        \"clip-path\": \"clipPath\",\n        clippathunits: \"clipPathUnits\",\n        cliprule: \"clipRule\",\n        \"clip-rule\": \"clipRule\",\n        color: \"color\",\n        colorinterpolation: \"colorInterpolation\",\n        \"color-interpolation\": \"colorInterpolation\",\n        colorinterpolationfilters: \"colorInterpolationFilters\",\n        \"color-interpolation-filters\": \"colorInterpolationFilters\",\n        colorprofile: \"colorProfile\",\n        \"color-profile\": \"colorProfile\",\n        colorrendering: \"colorRendering\",\n        \"color-rendering\": \"colorRendering\",\n        contentscripttype: \"contentScriptType\",\n        contentstyletype: \"contentStyleType\",\n        cursor: \"cursor\",\n        cx: \"cx\",\n        cy: \"cy\",\n        d: \"d\",\n        datatype: \"datatype\",\n        decelerate: \"decelerate\",\n        descent: \"descent\",\n        diffuseconstant: \"diffuseConstant\",\n        direction: \"direction\",\n        display: \"display\",\n        divisor: \"divisor\",\n        dominantbaseline: \"dominantBaseline\",\n        \"dominant-baseline\": \"dominantBaseline\",\n        dur: \"dur\",\n        dx: \"dx\",\n        dy: \"dy\",\n        edgemode: \"edgeMode\",\n        elevation: \"elevation\",\n        enablebackground: \"enableBackground\",\n        \"enable-background\": \"enableBackground\",\n        end: \"end\",\n        exponent: \"exponent\",\n        externalresourcesrequired: \"externalResourcesRequired\",\n        fill: \"fill\",\n        fillopacity: \"fillOpacity\",\n        \"fill-opacity\": \"fillOpacity\",\n        fillrule: \"fillRule\",\n        \"fill-rule\": \"fillRule\",\n        filter: \"filter\",\n        filterres: \"filterRes\",\n        filterunits: \"filterUnits\",\n        floodopacity: \"floodOpacity\",\n        \"flood-opacity\": \"floodOpacity\",\n        floodcolor: \"floodColor\",\n        \"flood-color\": \"floodColor\",\n        focusable: \"focusable\",\n        fontfamily: \"fontFamily\",\n        \"font-family\": \"fontFamily\",\n        fontsize: \"fontSize\",\n        \"font-size\": \"fontSize\",\n        fontsizeadjust: \"fontSizeAdjust\",\n        \"font-size-adjust\": \"fontSizeAdjust\",\n        fontstretch: \"fontStretch\",\n        \"font-stretch\": \"fontStretch\",\n        fontstyle: \"fontStyle\",\n        \"font-style\": \"fontStyle\",\n        fontvariant: \"fontVariant\",\n        \"font-variant\": \"fontVariant\",\n        fontweight: \"fontWeight\",\n        \"font-weight\": \"fontWeight\",\n        format: \"format\",\n        from: \"from\",\n        fx: \"fx\",\n        fy: \"fy\",\n        g1: \"g1\",\n        g2: \"g2\",\n        glyphname: \"glyphName\",\n        \"glyph-name\": \"glyphName\",\n        glyphorientationhorizontal: \"glyphOrientationHorizontal\",\n        \"glyph-orientation-horizontal\": \"glyphOrientationHorizontal\",\n        glyphorientationvertical: \"glyphOrientationVertical\",\n        \"glyph-orientation-vertical\": \"glyphOrientationVertical\",\n        glyphref: \"glyphRef\",\n        gradienttransform: \"gradientTransform\",\n        gradientunits: \"gradientUnits\",\n        hanging: \"hanging\",\n        horizadvx: \"horizAdvX\",\n        \"horiz-adv-x\": \"horizAdvX\",\n        horizoriginx: \"horizOriginX\",\n        \"horiz-origin-x\": \"horizOriginX\",\n        ideographic: \"ideographic\",\n        imagerendering: \"imageRendering\",\n        \"image-rendering\": \"imageRendering\",\n        in2: \"in2\",\n        in: \"in\",\n        inlist: \"inlist\",\n        intercept: \"intercept\",\n        k1: \"k1\",\n        k2: \"k2\",\n        k3: \"k3\",\n        k4: \"k4\",\n        k: \"k\",\n        kernelmatrix: \"kernelMatrix\",\n        kernelunitlength: \"kernelUnitLength\",\n        kerning: \"kerning\",\n        keypoints: \"keyPoints\",\n        keysplines: \"keySplines\",\n        keytimes: \"keyTimes\",\n        lengthadjust: \"lengthAdjust\",\n        letterspacing: \"letterSpacing\",\n        \"letter-spacing\": \"letterSpacing\",\n        lightingcolor: \"lightingColor\",\n        \"lighting-color\": \"lightingColor\",\n        limitingconeangle: \"limitingConeAngle\",\n        local: \"local\",\n        markerend: \"markerEnd\",\n        \"marker-end\": \"markerEnd\",\n        markerheight: \"markerHeight\",\n        markermid: \"markerMid\",\n        \"marker-mid\": \"markerMid\",\n        markerstart: \"markerStart\",\n        \"marker-start\": \"markerStart\",\n        markerunits: \"markerUnits\",\n        markerwidth: \"markerWidth\",\n        mask: \"mask\",\n        maskcontentunits: \"maskContentUnits\",\n        maskunits: \"maskUnits\",\n        mathematical: \"mathematical\",\n        mode: \"mode\",\n        numoctaves: \"numOctaves\",\n        offset: \"offset\",\n        opacity: \"opacity\",\n        operator: \"operator\",\n        order: \"order\",\n        orient: \"orient\",\n        orientation: \"orientation\",\n        origin: \"origin\",\n        overflow: \"overflow\",\n        overlineposition: \"overlinePosition\",\n        \"overline-position\": \"overlinePosition\",\n        overlinethickness: \"overlineThickness\",\n        \"overline-thickness\": \"overlineThickness\",\n        paintorder: \"paintOrder\",\n        \"paint-order\": \"paintOrder\",\n        panose1: \"panose1\",\n        \"panose-1\": \"panose1\",\n        pathlength: \"pathLength\",\n        patterncontentunits: \"patternContentUnits\",\n        patterntransform: \"patternTransform\",\n        patternunits: \"patternUnits\",\n        pointerevents: \"pointerEvents\",\n        \"pointer-events\": \"pointerEvents\",\n        points: \"points\",\n        pointsatx: \"pointsAtX\",\n        pointsaty: \"pointsAtY\",\n        pointsatz: \"pointsAtZ\",\n        popover: \"popover\",\n        popovertarget: \"popoverTarget\",\n        popovertargetaction: \"popoverTargetAction\",\n        prefix: \"prefix\",\n        preservealpha: \"preserveAlpha\",\n        preserveaspectratio: \"preserveAspectRatio\",\n        primitiveunits: \"primitiveUnits\",\n        property: \"property\",\n        r: \"r\",\n        radius: \"radius\",\n        refx: \"refX\",\n        refy: \"refY\",\n        renderingintent: \"renderingIntent\",\n        \"rendering-intent\": \"renderingIntent\",\n        repeatcount: \"repeatCount\",\n        repeatdur: \"repeatDur\",\n        requiredextensions: \"requiredExtensions\",\n        requiredfeatures: \"requiredFeatures\",\n        resource: \"resource\",\n        restart: \"restart\",\n        result: \"result\",\n        results: \"results\",\n        rotate: \"rotate\",\n        rx: \"rx\",\n        ry: \"ry\",\n        scale: \"scale\",\n        security: \"security\",\n        seed: \"seed\",\n        shaperendering: \"shapeRendering\",\n        \"shape-rendering\": \"shapeRendering\",\n        slope: \"slope\",\n        spacing: \"spacing\",\n        specularconstant: \"specularConstant\",\n        specularexponent: \"specularExponent\",\n        speed: \"speed\",\n        spreadmethod: \"spreadMethod\",\n        startoffset: \"startOffset\",\n        stddeviation: \"stdDeviation\",\n        stemh: \"stemh\",\n        stemv: \"stemv\",\n        stitchtiles: \"stitchTiles\",\n        stopcolor: \"stopColor\",\n        \"stop-color\": \"stopColor\",\n        stopopacity: \"stopOpacity\",\n        \"stop-opacity\": \"stopOpacity\",\n        strikethroughposition: \"strikethroughPosition\",\n        \"strikethrough-position\": \"strikethroughPosition\",\n        strikethroughthickness: \"strikethroughThickness\",\n        \"strikethrough-thickness\": \"strikethroughThickness\",\n        string: \"string\",\n        stroke: \"stroke\",\n        strokedasharray: \"strokeDasharray\",\n        \"stroke-dasharray\": \"strokeDasharray\",\n        strokedashoffset: \"strokeDashoffset\",\n        \"stroke-dashoffset\": \"strokeDashoffset\",\n        strokelinecap: \"strokeLinecap\",\n        \"stroke-linecap\": \"strokeLinecap\",\n        strokelinejoin: \"strokeLinejoin\",\n        \"stroke-linejoin\": \"strokeLinejoin\",\n        strokemiterlimit: \"strokeMiterlimit\",\n        \"stroke-miterlimit\": \"strokeMiterlimit\",\n        strokewidth: \"strokeWidth\",\n        \"stroke-width\": \"strokeWidth\",\n        strokeopacity: \"strokeOpacity\",\n        \"stroke-opacity\": \"strokeOpacity\",\n        suppresscontenteditablewarning: \"suppressContentEditableWarning\",\n        suppresshydrationwarning: \"suppressHydrationWarning\",\n        surfacescale: \"surfaceScale\",\n        systemlanguage: \"systemLanguage\",\n        tablevalues: \"tableValues\",\n        targetx: \"targetX\",\n        targety: \"targetY\",\n        textanchor: \"textAnchor\",\n        \"text-anchor\": \"textAnchor\",\n        textdecoration: \"textDecoration\",\n        \"text-decoration\": \"textDecoration\",\n        textlength: \"textLength\",\n        textrendering: \"textRendering\",\n        \"text-rendering\": \"textRendering\",\n        to: \"to\",\n        transform: \"transform\",\n        transformorigin: \"transformOrigin\",\n        \"transform-origin\": \"transformOrigin\",\n        typeof: \"typeof\",\n        u1: \"u1\",\n        u2: \"u2\",\n        underlineposition: \"underlinePosition\",\n        \"underline-position\": \"underlinePosition\",\n        underlinethickness: \"underlineThickness\",\n        \"underline-thickness\": \"underlineThickness\",\n        unicode: \"unicode\",\n        unicodebidi: \"unicodeBidi\",\n        \"unicode-bidi\": \"unicodeBidi\",\n        unicoderange: \"unicodeRange\",\n        \"unicode-range\": \"unicodeRange\",\n        unitsperem: \"unitsPerEm\",\n        \"units-per-em\": \"unitsPerEm\",\n        unselectable: \"unselectable\",\n        valphabetic: \"vAlphabetic\",\n        \"v-alphabetic\": \"vAlphabetic\",\n        values: \"values\",\n        vectoreffect: \"vectorEffect\",\n        \"vector-effect\": \"vectorEffect\",\n        version: \"version\",\n        vertadvy: \"vertAdvY\",\n        \"vert-adv-y\": \"vertAdvY\",\n        vertoriginx: \"vertOriginX\",\n        \"vert-origin-x\": \"vertOriginX\",\n        vertoriginy: \"vertOriginY\",\n        \"vert-origin-y\": \"vertOriginY\",\n        vhanging: \"vHanging\",\n        \"v-hanging\": \"vHanging\",\n        videographic: \"vIdeographic\",\n        \"v-ideographic\": \"vIdeographic\",\n        viewbox: \"viewBox\",\n        viewtarget: \"viewTarget\",\n        visibility: \"visibility\",\n        vmathematical: \"vMathematical\",\n        \"v-mathematical\": \"vMathematical\",\n        vocab: \"vocab\",\n        widths: \"widths\",\n        wordspacing: \"wordSpacing\",\n        \"word-spacing\": \"wordSpacing\",\n        writingmode: \"writingMode\",\n        \"writing-mode\": \"writingMode\",\n        x1: \"x1\",\n        x2: \"x2\",\n        x: \"x\",\n        xchannelselector: \"xChannelSelector\",\n        xheight: \"xHeight\",\n        \"x-height\": \"xHeight\",\n        xlinkactuate: \"xlinkActuate\",\n        \"xlink:actuate\": \"xlinkActuate\",\n        xlinkarcrole: \"xlinkArcrole\",\n        \"xlink:arcrole\": \"xlinkArcrole\",\n        xlinkhref: \"xlinkHref\",\n        \"xlink:href\": \"xlinkHref\",\n        xlinkrole: \"xlinkRole\",\n        \"xlink:role\": \"xlinkRole\",\n        xlinkshow: \"xlinkShow\",\n        \"xlink:show\": \"xlinkShow\",\n        xlinktitle: \"xlinkTitle\",\n        \"xlink:title\": \"xlinkTitle\",\n        xlinktype: \"xlinkType\",\n        \"xlink:type\": \"xlinkType\",\n        xmlbase: \"xmlBase\",\n        \"xml:base\": \"xmlBase\",\n        xmllang: \"xmlLang\",\n        \"xml:lang\": \"xmlLang\",\n        xmlns: \"xmlns\",\n        \"xml:space\": \"xmlSpace\",\n        xmlnsxlink: \"xmlnsXlink\",\n        \"xmlns:xlink\": \"xmlnsXlink\",\n        xmlspace: \"xmlSpace\",\n        y1: \"y1\",\n        y2: \"y2\",\n        y: \"y\",\n        ychannelselector: \"yChannelSelector\",\n        z: \"z\",\n        zoomandpan: \"zoomAndPan\"\n      },\n      ariaProperties = {\n        \"aria-current\": 0,\n        \"aria-description\": 0,\n        \"aria-details\": 0,\n        \"aria-disabled\": 0,\n        \"aria-hidden\": 0,\n        \"aria-invalid\": 0,\n        \"aria-keyshortcuts\": 0,\n        \"aria-label\": 0,\n        \"aria-roledescription\": 0,\n        \"aria-autocomplete\": 0,\n        \"aria-checked\": 0,\n        \"aria-expanded\": 0,\n        \"aria-haspopup\": 0,\n        \"aria-level\": 0,\n        \"aria-modal\": 0,\n        \"aria-multiline\": 0,\n        \"aria-multiselectable\": 0,\n        \"aria-orientation\": 0,\n        \"aria-placeholder\": 0,\n        \"aria-pressed\": 0,\n        \"aria-readonly\": 0,\n        \"aria-required\": 0,\n        \"aria-selected\": 0,\n        \"aria-sort\": 0,\n        \"aria-valuemax\": 0,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": 0,\n        \"aria-valuetext\": 0,\n        \"aria-atomic\": 0,\n        \"aria-busy\": 0,\n        \"aria-live\": 0,\n        \"aria-relevant\": 0,\n        \"aria-dropeffect\": 0,\n        \"aria-grabbed\": 0,\n        \"aria-activedescendant\": 0,\n        \"aria-colcount\": 0,\n        \"aria-colindex\": 0,\n        \"aria-colspan\": 0,\n        \"aria-controls\": 0,\n        \"aria-describedby\": 0,\n        \"aria-errormessage\": 0,\n        \"aria-flowto\": 0,\n        \"aria-labelledby\": 0,\n        \"aria-owns\": 0,\n        \"aria-posinset\": 0,\n        \"aria-rowcount\": 0,\n        \"aria-rowindex\": 0,\n        \"aria-rowspan\": 0,\n        \"aria-setsize\": 0,\n        \"aria-braillelabel\": 0,\n        \"aria-brailleroledescription\": 0,\n        \"aria-colindextext\": 0,\n        \"aria-rowindextext\": 0\n      },\n      warnedProperties$1 = {},\n      rARIA$1 = RegExp(\n        \"^(aria)-[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n      ),\n      rARIACamel$1 = RegExp(\n        \"^(aria)[A-Z][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n      ),\n      didWarnValueNull = !1,\n      warnedProperties = {},\n      EVENT_NAME_REGEX = /^on./,\n      INVALID_EVENT_NAME_REGEX = /^on[^A-Z]/,\n      rARIA = RegExp(\n        \"^(aria)-[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n      ),\n      rARIACamel = RegExp(\n        \"^(aria)[A-Z][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n      ),\n      isJavaScriptProtocol =\n        /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i,\n      currentReplayingEvent = null,\n      restoreTarget = null,\n      restoreQueue = null,\n      isInsideEventHandler = !1,\n      canUseDOM = !(\n        \"undefined\" === typeof window ||\n        \"undefined\" === typeof window.document ||\n        \"undefined\" === typeof window.document.createElement\n      ),\n      passiveBrowserEventsSupported = !1;\n    if (canUseDOM)\n      try {\n        var options$jscomp$0 = {};\n        Object.defineProperty(options$jscomp$0, \"passive\", {\n          get: function () {\n            passiveBrowserEventsSupported = !0;\n          }\n        });\n        window.addEventListener(\"test\", options$jscomp$0, options$jscomp$0);\n        window.removeEventListener(\"test\", options$jscomp$0, options$jscomp$0);\n      } catch (e) {\n        passiveBrowserEventsSupported = !1;\n      }\n    var root = null,\n      startText = null,\n      fallbackText = null,\n      EventInterface = {\n        eventPhase: 0,\n        bubbles: 0,\n        cancelable: 0,\n        timeStamp: function (event) {\n          return event.timeStamp || Date.now();\n        },\n        defaultPrevented: 0,\n        isTrusted: 0\n      },\n      SyntheticEvent = createSyntheticEvent(EventInterface),\n      UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n      SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n      lastMovementX,\n      lastMovementY,\n      lastMouseEvent,\n      MouseEventInterface = assign({}, UIEventInterface, {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        ctrlKey: 0,\n        shiftKey: 0,\n        altKey: 0,\n        metaKey: 0,\n        getModifierState: getEventModifierState,\n        button: 0,\n        buttons: 0,\n        relatedTarget: function (event) {\n          return void 0 === event.relatedTarget\n            ? event.fromElement === event.srcElement\n              ? event.toElement\n              : event.fromElement\n            : event.relatedTarget;\n        },\n        movementX: function (event) {\n          if (\"movementX\" in event) return event.movementX;\n          event !== lastMouseEvent &&\n            (lastMouseEvent && \"mousemove\" === event.type\n              ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n                (lastMovementY = event.screenY - lastMouseEvent.screenY))\n              : (lastMovementY = lastMovementX = 0),\n            (lastMouseEvent = event));\n          return lastMovementX;\n        },\n        movementY: function (event) {\n          return \"movementY\" in event ? event.movementY : lastMovementY;\n        }\n      }),\n      SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n      DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n      SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n      FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n      SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n      AnimationEventInterface = assign({}, EventInterface, {\n        animationName: 0,\n        elapsedTime: 0,\n        pseudoElement: 0\n      }),\n      SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n      ClipboardEventInterface = assign({}, EventInterface, {\n        clipboardData: function (event) {\n          return \"clipboardData\" in event\n            ? event.clipboardData\n            : window.clipboardData;\n        }\n      }),\n      SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n      CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n      SyntheticCompositionEvent = createSyntheticEvent(\n        CompositionEventInterface\n      ),\n      SyntheticInputEvent = SyntheticCompositionEvent,\n      normalizeKey = {\n        Esc: \"Escape\",\n        Spacebar: \" \",\n        Left: \"ArrowLeft\",\n        Up: \"ArrowUp\",\n        Right: \"ArrowRight\",\n        Down: \"ArrowDown\",\n        Del: \"Delete\",\n        Win: \"OS\",\n        Menu: \"ContextMenu\",\n        Apps: \"ContextMenu\",\n        Scroll: \"ScrollLock\",\n        MozPrintableKey: \"Unidentified\"\n      },\n      translateToKey = {\n        8: \"Backspace\",\n        9: \"Tab\",\n        12: \"Clear\",\n        13: \"Enter\",\n        16: \"Shift\",\n        17: \"Control\",\n        18: \"Alt\",\n        19: \"Pause\",\n        20: \"CapsLock\",\n        27: \"Escape\",\n        32: \" \",\n        33: \"PageUp\",\n        34: \"PageDown\",\n        35: \"End\",\n        36: \"Home\",\n        37: \"ArrowLeft\",\n        38: \"ArrowUp\",\n        39: \"ArrowRight\",\n        40: \"ArrowDown\",\n        45: \"Insert\",\n        46: \"Delete\",\n        112: \"F1\",\n        113: \"F2\",\n        114: \"F3\",\n        115: \"F4\",\n        116: \"F5\",\n        117: \"F6\",\n        118: \"F7\",\n        119: \"F8\",\n        120: \"F9\",\n        121: \"F10\",\n        122: \"F11\",\n        123: \"F12\",\n        144: \"NumLock\",\n        145: \"ScrollLock\",\n        224: \"Meta\"\n      },\n      modifierKeyToProp = {\n        Alt: \"altKey\",\n        Control: \"ctrlKey\",\n        Meta: \"metaKey\",\n        Shift: \"shiftKey\"\n      },\n      KeyboardEventInterface = assign({}, UIEventInterface, {\n        key: function (nativeEvent) {\n          if (nativeEvent.key) {\n            var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n            if (\"Unidentified\" !== key) return key;\n          }\n          return \"keypress\" === nativeEvent.type\n            ? ((nativeEvent = getEventCharCode(nativeEvent)),\n              13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n            : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n              ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n              : \"\";\n        },\n        code: 0,\n        location: 0,\n        ctrlKey: 0,\n        shiftKey: 0,\n        altKey: 0,\n        metaKey: 0,\n        repeat: 0,\n        locale: 0,\n        getModifierState: getEventModifierState,\n        charCode: function (event) {\n          return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n        },\n        keyCode: function (event) {\n          return \"keydown\" === event.type || \"keyup\" === event.type\n            ? event.keyCode\n            : 0;\n        },\n        which: function (event) {\n          return \"keypress\" === event.type\n            ? getEventCharCode(event)\n            : \"keydown\" === event.type || \"keyup\" === event.type\n              ? event.keyCode\n              : 0;\n        }\n      }),\n      SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n      PointerEventInterface = assign({}, MouseEventInterface, {\n        pointerId: 0,\n        width: 0,\n        height: 0,\n        pressure: 0,\n        tangentialPressure: 0,\n        tiltX: 0,\n        tiltY: 0,\n        twist: 0,\n        pointerType: 0,\n        isPrimary: 0\n      }),\n      SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n      TouchEventInterface = assign({}, UIEventInterface, {\n        touches: 0,\n        targetTouches: 0,\n        changedTouches: 0,\n        altKey: 0,\n        metaKey: 0,\n        ctrlKey: 0,\n        shiftKey: 0,\n        getModifierState: getEventModifierState\n      }),\n      SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n      TransitionEventInterface = assign({}, EventInterface, {\n        propertyName: 0,\n        elapsedTime: 0,\n        pseudoElement: 0\n      }),\n      SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n      WheelEventInterface = assign({}, MouseEventInterface, {\n        deltaX: function (event) {\n          return \"deltaX\" in event\n            ? event.deltaX\n            : \"wheelDeltaX\" in event\n              ? -event.wheelDeltaX\n              : 0;\n        },\n        deltaY: function (event) {\n          return \"deltaY\" in event\n            ? event.deltaY\n            : \"wheelDeltaY\" in event\n              ? -event.wheelDeltaY\n              : \"wheelDelta\" in event\n                ? -event.wheelDelta\n                : 0;\n        },\n        deltaZ: 0,\n        deltaMode: 0\n      }),\n      SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n      ToggleEventInterface = assign({}, EventInterface, {\n        newState: 0,\n        oldState: 0\n      }),\n      SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n      END_KEYCODES = [9, 13, 27, 32],\n      START_KEYCODE = 229,\n      canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n      documentMode = null;\n    canUseDOM &&\n      \"documentMode\" in document &&\n      (documentMode = document.documentMode);\n    var canUseTextInputEvent =\n        canUseDOM && \"TextEvent\" in window && !documentMode,\n      useFallbackCompositionData =\n        canUseDOM &&\n        (!canUseCompositionEvent ||\n          (documentMode && 8 < documentMode && 11 >= documentMode)),\n      SPACEBAR_CODE = 32,\n      SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE),\n      hasSpaceKeypress = !1,\n      isComposing = !1,\n      supportedInputTypes = {\n        color: !0,\n        date: !0,\n        datetime: !0,\n        \"datetime-local\": !0,\n        email: !0,\n        month: !0,\n        number: !0,\n        password: !0,\n        range: !0,\n        search: !0,\n        tel: !0,\n        text: !0,\n        time: !0,\n        url: !0,\n        week: !0\n      },\n      activeElement$1 = null,\n      activeElementInst$1 = null,\n      isInputEventSupported = !1;\n    canUseDOM &&\n      (isInputEventSupported =\n        isEventSupported(\"input\") &&\n        (!document.documentMode || 9 < document.documentMode));\n    var objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      skipSelectionChangeEvent =\n        canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n      activeElement = null,\n      activeElementInst = null,\n      lastSelection = null,\n      mouseDown = !1,\n      vendorPrefixes = {\n        animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n        animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n        animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n        transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n        transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n        transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n        transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n      },\n      prefixedEventNames = {},\n      style = {};\n    canUseDOM &&\n      ((style = document.createElement(\"div\").style),\n      \"AnimationEvent\" in window ||\n        (delete vendorPrefixes.animationend.animation,\n        delete vendorPrefixes.animationiteration.animation,\n        delete vendorPrefixes.animationstart.animation),\n      \"TransitionEvent\" in window ||\n        delete vendorPrefixes.transitionend.transition);\n    var ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n      ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n      ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n      TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n      TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n      TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n      TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n      topLevelEventsToReactNames = new Map(),\n      simpleEventPluginEvents =\n        \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n          \" \"\n        );\n    simpleEventPluginEvents.push(\"scrollEnd\");\n    var lastResetTime = 0;\n    if (\n      \"object\" === typeof performance &&\n      \"function\" === typeof performance.now\n    ) {\n      var localPerformance = performance;\n      var getCurrentTime = function () {\n        return localPerformance.now();\n      };\n    } else {\n      var localDate = Date;\n      getCurrentTime = function () {\n        return localDate.now();\n      };\n    }\n    var reportGlobalError =\n        \"function\" === typeof reportError\n          ? reportError\n          : function (error) {\n              if (\n                \"object\" === typeof window &&\n                \"function\" === typeof window.ErrorEvent\n              ) {\n                var event = new window.ErrorEvent(\"error\", {\n                  bubbles: !0,\n                  cancelable: !0,\n                  message:\n                    \"object\" === typeof error &&\n                    null !== error &&\n                    \"string\" === typeof error.message\n                      ? String(error.message)\n                      : String(error),\n                  error: error\n                });\n                if (!window.dispatchEvent(event)) return;\n              } else if (\n                \"object\" === typeof process &&\n                \"function\" === typeof process.emit\n              ) {\n                process.emit(\"uncaughtException\", error);\n                return;\n              }\n              console.error(error);\n            },\n      OMITTED_PROP_ERROR =\n        \"This object has been omitted by React in the console log to avoid sending too much data from the server. Try logging smaller or more specific objects.\",\n      EMPTY_ARRAY = 0,\n      COMPLEX_ARRAY = 1,\n      PRIMITIVE_ARRAY = 2,\n      ENTRIES_ARRAY = 3,\n      REMOVED = \"\\u2013\\u00a0\",\n      ADDED = \"+\\u00a0\",\n      UNCHANGED = \"\\u2007\\u00a0\",\n      supportsUserTiming =\n        \"undefined\" !== typeof console &&\n        \"function\" === typeof console.timeStamp &&\n        \"undefined\" !== typeof performance &&\n        \"function\" === typeof performance.measure,\n      COMPONENTS_TRACK = \"Components \\u269b\",\n      LANES_TRACK_GROUP = \"Scheduler \\u269b\",\n      currentTrack = \"Blocking\",\n      alreadyWarnedForDeepEquality = !1,\n      reusableComponentDevToolDetails = {\n        color: \"primary\",\n        properties: null,\n        tooltipText: \"\",\n        track: COMPONENTS_TRACK\n      },\n      reusableComponentOptions = {\n        start: -0,\n        end: -0,\n        detail: { devtools: reusableComponentDevToolDetails }\n      },\n      resuableChangedPropsEntry = [\"Changed Props\", \"\"],\n      DEEP_EQUALITY_WARNING =\n        \"This component received deeply equal props. It might benefit from useMemo or the React Compiler in its owner.\",\n      reusableDeeplyEqualPropsEntry = [\"Changed Props\", DEEP_EQUALITY_WARNING],\n      OffscreenVisible = 1,\n      OffscreenPassiveEffectsConnected = 2,\n      concurrentQueues = [],\n      concurrentQueuesIndex = 0,\n      concurrentlyUpdatedLanes = 0,\n      emptyContextObject = {};\n    Object.freeze(emptyContextObject);\n    var resolveFamily = null,\n      failedBoundaries = null,\n      NoMode = 0,\n      ConcurrentMode = 1,\n      ProfileMode = 2,\n      StrictLegacyMode = 8,\n      StrictEffectsMode = 16,\n      SuspenseyImagesMode = 32;\n    var hasBadMapPolyfill = !1;\n    try {\n      var nonExtensibleObject = Object.preventExtensions({});\n      new Map([[nonExtensibleObject, null]]);\n      new Set([nonExtensibleObject]);\n    } catch (e$3) {\n      hasBadMapPolyfill = !0;\n    }\n    var CapturedStacks = new WeakMap(),\n      forkStack = [],\n      forkStackIndex = 0,\n      treeForkProvider = null,\n      treeForkCount = 0,\n      idStack = [],\n      idStackIndex = 0,\n      treeContextProvider = null,\n      treeContextId = 1,\n      treeContextOverflow = \"\",\n      hydrationParentFiber = null,\n      nextHydratableInstance = null,\n      isHydrating = !1,\n      didSuspendOrErrorDEV = !1,\n      hydrationDiffRootDEV = null,\n      hydrationErrors = null,\n      rootOrSingletonContext = !1,\n      HydrationMismatchException = Error(\n        \"Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React.\"\n      ),\n      valueCursor = createCursor(null);\n    var rendererCursorDEV = createCursor(null);\n    var rendererSigil = {};\n    var currentlyRenderingFiber$1 = null,\n      lastContextDependency = null,\n      isDisallowedContextReadInDEV = !1,\n      AbortControllerLocal =\n        \"undefined\" !== typeof AbortController\n          ? AbortController\n          : function () {\n              var listeners = [],\n                signal = (this.signal = {\n                  aborted: !1,\n                  addEventListener: function (type, listener) {\n                    listeners.push(listener);\n                  }\n                });\n              this.abort = function () {\n                signal.aborted = !0;\n                listeners.forEach(function (listener) {\n                  return listener();\n                });\n              };\n            },\n      scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n      NormalPriority = Scheduler.unstable_NormalPriority,\n      CacheContext = {\n        $$typeof: REACT_CONTEXT_TYPE,\n        Consumer: null,\n        Provider: null,\n        _currentValue: null,\n        _currentValue2: null,\n        _threadCount: 0,\n        _currentRenderer: null,\n        _currentRenderer2: null\n      },\n      now = Scheduler.unstable_now,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          },\n      SPAWNED_UPDATE = 1,\n      PINGED_UPDATE = 2,\n      renderStartTime = -0,\n      commitStartTime = -0,\n      commitEndTime = -0,\n      commitErrors = null,\n      profilerStartTime = -1.1,\n      profilerEffectDuration = -0,\n      componentEffectDuration = -0,\n      componentEffectStartTime = -1.1,\n      componentEffectEndTime = -1.1,\n      componentEffectErrors = null,\n      componentEffectSpawnedUpdate = !1,\n      blockingClampTime = -0,\n      blockingUpdateTime = -1.1,\n      blockingUpdateTask = null,\n      blockingUpdateType = 0,\n      blockingUpdateMethodName = null,\n      blockingUpdateComponentName = null,\n      blockingEventTime = -1.1,\n      blockingEventType = null,\n      blockingEventRepeatTime = -1.1,\n      blockingSuspendedTime = -1.1,\n      transitionClampTime = -0,\n      transitionStartTime = -1.1,\n      transitionUpdateTime = -1.1,\n      transitionUpdateType = 0,\n      transitionUpdateTask = null,\n      transitionUpdateMethodName = null,\n      transitionUpdateComponentName = null,\n      transitionEventTime = -1.1,\n      transitionEventType = null,\n      transitionEventRepeatTime = -1.1,\n      transitionSuspendedTime = -1.1,\n      retryClampTime = -0,\n      idleClampTime = -0,\n      animatingLanes = 0,\n      animatingTask = null,\n      yieldReason = 0,\n      yieldStartTime = -1.1,\n      currentUpdateIsNested = !1,\n      nestedUpdateScheduled = !1,\n      currentEntangledListeners = null,\n      currentEntangledPendingCount = 0,\n      currentEntangledLane = 0,\n      currentEntangledActionThenable = null,\n      prevOnStartTransitionFinish = ReactSharedInternals.S;\n    ReactSharedInternals.S = function (transition, returnValue) {\n      globalMostRecentTransitionTime = now$1();\n      if (\n        \"object\" === typeof returnValue &&\n        null !== returnValue &&\n        \"function\" === typeof returnValue.then\n      ) {\n        if (0 > transitionStartTime && 0 > transitionUpdateTime) {\n          transitionStartTime = now();\n          var newEventTime = resolveEventTimeStamp(),\n            newEventType = resolveEventType();\n          if (\n            newEventTime !== transitionEventRepeatTime ||\n            newEventType !== transitionEventType\n          )\n            transitionEventRepeatTime = -1.1;\n          transitionEventTime = newEventTime;\n          transitionEventType = newEventType;\n        }\n        entangleAsyncAction(transition, returnValue);\n      }\n      null !== prevOnStartTransitionFinish &&\n        prevOnStartTransitionFinish(transition, returnValue);\n    };\n    var resumedCache = createCursor(null),\n      ReactStrictModeWarnings = {\n        recordUnsafeLifecycleWarnings: function () {},\n        flushPendingUnsafeLifecycleWarnings: function () {},\n        recordLegacyContextWarning: function () {},\n        flushLegacyContextWarning: function () {},\n        discardPendingWarnings: function () {}\n      },\n      pendingComponentWillMountWarnings = [],\n      pendingUNSAFE_ComponentWillMountWarnings = [],\n      pendingComponentWillReceivePropsWarnings = [],\n      pendingUNSAFE_ComponentWillReceivePropsWarnings = [],\n      pendingComponentWillUpdateWarnings = [],\n      pendingUNSAFE_ComponentWillUpdateWarnings = [],\n      didWarnAboutUnsafeLifecycles = new Set();\n    ReactStrictModeWarnings.recordUnsafeLifecycleWarnings = function (\n      fiber,\n      instance\n    ) {\n      didWarnAboutUnsafeLifecycles.has(fiber.type) ||\n        (\"function\" === typeof instance.componentWillMount &&\n          !0 !== instance.componentWillMount.__suppressDeprecationWarning &&\n          pendingComponentWillMountWarnings.push(fiber),\n        fiber.mode & StrictLegacyMode &&\n          \"function\" === typeof instance.UNSAFE_componentWillMount &&\n          pendingUNSAFE_ComponentWillMountWarnings.push(fiber),\n        \"function\" === typeof instance.componentWillReceiveProps &&\n          !0 !==\n            instance.componentWillReceiveProps.__suppressDeprecationWarning &&\n          pendingComponentWillReceivePropsWarnings.push(fiber),\n        fiber.mode & StrictLegacyMode &&\n          \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n          pendingUNSAFE_ComponentWillReceivePropsWarnings.push(fiber),\n        \"function\" === typeof instance.componentWillUpdate &&\n          !0 !== instance.componentWillUpdate.__suppressDeprecationWarning &&\n          pendingComponentWillUpdateWarnings.push(fiber),\n        fiber.mode & StrictLegacyMode &&\n          \"function\" === typeof instance.UNSAFE_componentWillUpdate &&\n          pendingUNSAFE_ComponentWillUpdateWarnings.push(fiber));\n    };\n    ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings = function () {\n      var componentWillMountUniqueNames = new Set();\n      0 < pendingComponentWillMountWarnings.length &&\n        (pendingComponentWillMountWarnings.forEach(function (fiber) {\n          componentWillMountUniqueNames.add(\n            getComponentNameFromFiber(fiber) || \"Component\"\n          );\n          didWarnAboutUnsafeLifecycles.add(fiber.type);\n        }),\n        (pendingComponentWillMountWarnings = []));\n      var UNSAFE_componentWillMountUniqueNames = new Set();\n      0 < pendingUNSAFE_ComponentWillMountWarnings.length &&\n        (pendingUNSAFE_ComponentWillMountWarnings.forEach(function (fiber) {\n          UNSAFE_componentWillMountUniqueNames.add(\n            getComponentNameFromFiber(fiber) || \"Component\"\n          );\n          didWarnAboutUnsafeLifecycles.add(fiber.type);\n        }),\n        (pendingUNSAFE_ComponentWillMountWarnings = []));\n      var componentWillReceivePropsUniqueNames = new Set();\n      0 < pendingComponentWillReceivePropsWarnings.length &&\n        (pendingComponentWillReceivePropsWarnings.forEach(function (fiber) {\n          componentWillReceivePropsUniqueNames.add(\n            getComponentNameFromFiber(fiber) || \"Component\"\n          );\n          didWarnAboutUnsafeLifecycles.add(fiber.type);\n        }),\n        (pendingComponentWillReceivePropsWarnings = []));\n      var UNSAFE_componentWillReceivePropsUniqueNames = new Set();\n      0 < pendingUNSAFE_ComponentWillReceivePropsWarnings.length &&\n        (pendingUNSAFE_ComponentWillReceivePropsWarnings.forEach(\n          function (fiber) {\n            UNSAFE_componentWillReceivePropsUniqueNames.add(\n              getComponentNameFromFiber(fiber) || \"Component\"\n            );\n            didWarnAboutUnsafeLifecycles.add(fiber.type);\n          }\n        ),\n        (pendingUNSAFE_ComponentWillReceivePropsWarnings = []));\n      var componentWillUpdateUniqueNames = new Set();\n      0 < pendingComponentWillUpdateWarnings.length &&\n        (pendingComponentWillUpdateWarnings.forEach(function (fiber) {\n          componentWillUpdateUniqueNames.add(\n            getComponentNameFromFiber(fiber) || \"Component\"\n          );\n          didWarnAboutUnsafeLifecycles.add(fiber.type);\n        }),\n        (pendingComponentWillUpdateWarnings = []));\n      var UNSAFE_componentWillUpdateUniqueNames = new Set();\n      0 < pendingUNSAFE_ComponentWillUpdateWarnings.length &&\n        (pendingUNSAFE_ComponentWillUpdateWarnings.forEach(function (fiber) {\n          UNSAFE_componentWillUpdateUniqueNames.add(\n            getComponentNameFromFiber(fiber) || \"Component\"\n          );\n          didWarnAboutUnsafeLifecycles.add(fiber.type);\n        }),\n        (pendingUNSAFE_ComponentWillUpdateWarnings = []));\n      if (0 < UNSAFE_componentWillMountUniqueNames.size) {\n        var sortedNames = setToSortedString(\n          UNSAFE_componentWillMountUniqueNames\n        );\n        console.error(\n          \"Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\\n\\nPlease update the following components: %s\",\n          sortedNames\n        );\n      }\n      0 < UNSAFE_componentWillReceivePropsUniqueNames.size &&\n        ((sortedNames = setToSortedString(\n          UNSAFE_componentWillReceivePropsUniqueNames\n        )),\n        console.error(\n          \"Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move data fetching code or side effects to componentDidUpdate.\\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state\\n\\nPlease update the following components: %s\",\n          sortedNames\n        ));\n      0 < UNSAFE_componentWillUpdateUniqueNames.size &&\n        ((sortedNames = setToSortedString(\n          UNSAFE_componentWillUpdateUniqueNames\n        )),\n        console.error(\n          \"Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move data fetching code or side effects to componentDidUpdate.\\n\\nPlease update the following components: %s\",\n          sortedNames\n        ));\n      0 < componentWillMountUniqueNames.size &&\n        ((sortedNames = setToSortedString(componentWillMountUniqueNames)),\n        console.warn(\n          \"componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\\n\\nPlease update the following components: %s\",\n          sortedNames\n        ));\n      0 < componentWillReceivePropsUniqueNames.size &&\n        ((sortedNames = setToSortedString(\n          componentWillReceivePropsUniqueNames\n        )),\n        console.warn(\n          \"componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move data fetching code or side effects to componentDidUpdate.\\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state\\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\\n\\nPlease update the following components: %s\",\n          sortedNames\n        ));\n      0 < componentWillUpdateUniqueNames.size &&\n        ((sortedNames = setToSortedString(componentWillUpdateUniqueNames)),\n        console.warn(\n          \"componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\\n\\n* Move data fetching code or side effects to componentDidUpdate.\\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\\n\\nPlease update the following components: %s\",\n          sortedNames\n        ));\n    };\n    var pendingLegacyContextWarning = new Map(),\n      didWarnAboutLegacyContext = new Set();\n    ReactStrictModeWarnings.recordLegacyContextWarning = function (\n      fiber,\n      instance\n    ) {\n      var strictRoot = null;\n      for (var node = fiber; null !== node; )\n        node.mode & StrictLegacyMode && (strictRoot = node),\n          (node = node.return);\n      null === strictRoot\n        ? console.error(\n            \"Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.\"\n          )\n        : !didWarnAboutLegacyContext.has(fiber.type) &&\n          ((node = pendingLegacyContextWarning.get(strictRoot)),\n          null != fiber.type.contextTypes ||\n            null != fiber.type.childContextTypes ||\n            (null !== instance &&\n              \"function\" === typeof instance.getChildContext)) &&\n          (void 0 === node &&\n            ((node = []), pendingLegacyContextWarning.set(strictRoot, node)),\n          node.push(fiber));\n    };\n    ReactStrictModeWarnings.flushLegacyContextWarning = function () {\n      pendingLegacyContextWarning.forEach(function (fiberArray) {\n        if (0 !== fiberArray.length) {\n          var firstFiber = fiberArray[0],\n            uniqueNames = new Set();\n          fiberArray.forEach(function (fiber) {\n            uniqueNames.add(getComponentNameFromFiber(fiber) || \"Component\");\n            didWarnAboutLegacyContext.add(fiber.type);\n          });\n          var sortedNames = setToSortedString(uniqueNames);\n          runWithFiberInDEV(firstFiber, function () {\n            console.error(\n              \"Legacy context API has been detected within a strict-mode tree.\\n\\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\\n\\nPlease update the following components: %s\\n\\nLearn more about this warning here: https://react.dev/link/legacy-context\",\n              sortedNames\n            );\n          });\n        }\n      });\n    };\n    ReactStrictModeWarnings.discardPendingWarnings = function () {\n      pendingComponentWillMountWarnings = [];\n      pendingUNSAFE_ComponentWillMountWarnings = [];\n      pendingComponentWillReceivePropsWarnings = [];\n      pendingUNSAFE_ComponentWillReceivePropsWarnings = [];\n      pendingComponentWillUpdateWarnings = [];\n      pendingUNSAFE_ComponentWillUpdateWarnings = [];\n      pendingLegacyContextWarning = new Map();\n    };\n    var callComponent = {\n        react_stack_bottom_frame: function (Component, props, secondArg) {\n          var wasRendering = isRendering;\n          isRendering = !0;\n          try {\n            return Component(props, secondArg);\n          } finally {\n            isRendering = wasRendering;\n          }\n        }\n      },\n      callComponentInDEV =\n        callComponent.react_stack_bottom_frame.bind(callComponent),\n      callRender = {\n        react_stack_bottom_frame: function (instance) {\n          var wasRendering = isRendering;\n          isRendering = !0;\n          try {\n            return instance.render();\n          } finally {\n            isRendering = wasRendering;\n          }\n        }\n      },\n      callRenderInDEV = callRender.react_stack_bottom_frame.bind(callRender),\n      callComponentDidMount = {\n        react_stack_bottom_frame: function (finishedWork, instance) {\n          try {\n            instance.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        }\n      },\n      callComponentDidMountInDEV =\n        callComponentDidMount.react_stack_bottom_frame.bind(\n          callComponentDidMount\n        ),\n      callComponentDidUpdate = {\n        react_stack_bottom_frame: function (\n          finishedWork,\n          instance,\n          prevProps,\n          prevState,\n          snapshot\n        ) {\n          try {\n            instance.componentDidUpdate(prevProps, prevState, snapshot);\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        }\n      },\n      callComponentDidUpdateInDEV =\n        callComponentDidUpdate.react_stack_bottom_frame.bind(\n          callComponentDidUpdate\n        ),\n      callComponentDidCatch = {\n        react_stack_bottom_frame: function (instance, errorInfo) {\n          var stack = errorInfo.stack;\n          instance.componentDidCatch(errorInfo.value, {\n            componentStack: null !== stack ? stack : \"\"\n          });\n        }\n      },\n      callComponentDidCatchInDEV =\n        callComponentDidCatch.react_stack_bottom_frame.bind(\n          callComponentDidCatch\n        ),\n      callComponentWillUnmount = {\n        react_stack_bottom_frame: function (\n          current,\n          nearestMountedAncestor,\n          instance\n        ) {\n          try {\n            instance.componentWillUnmount();\n          } catch (error) {\n            captureCommitPhaseError(current, nearestMountedAncestor, error);\n          }\n        }\n      },\n      callComponentWillUnmountInDEV =\n        callComponentWillUnmount.react_stack_bottom_frame.bind(\n          callComponentWillUnmount\n        ),\n      callCreate = {\n        react_stack_bottom_frame: function (effect) {\n          var create = effect.create;\n          effect = effect.inst;\n          create = create();\n          return (effect.destroy = create);\n        }\n      },\n      callCreateInDEV = callCreate.react_stack_bottom_frame.bind(callCreate),\n      callDestroy = {\n        react_stack_bottom_frame: function (\n          current,\n          nearestMountedAncestor,\n          destroy\n        ) {\n          try {\n            destroy();\n          } catch (error) {\n            captureCommitPhaseError(current, nearestMountedAncestor, error);\n          }\n        }\n      },\n      callDestroyInDEV = callDestroy.react_stack_bottom_frame.bind(callDestroy),\n      callLazyInit = {\n        react_stack_bottom_frame: function (lazy) {\n          var init = lazy._init;\n          return init(lazy._payload);\n        }\n      },\n      callLazyInitInDEV =\n        callLazyInit.react_stack_bottom_frame.bind(callLazyInit),\n      SuspenseException = Error(\n        \"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`.\"\n      ),\n      SuspenseyCommitException = Error(\n        \"Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React.\"\n      ),\n      SuspenseActionException = Error(\n        \"Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary.\"\n      ),\n      noopSuspenseyCommitThenable = {\n        then: function () {\n          console.error(\n            'Internal React error: A listener was unexpectedly attached to a \"noop\" thenable. This is a bug in React. Please file an issue.'\n          );\n        }\n      },\n      suspendedThenable = null,\n      needsToResetSuspendedThenableDEV = !1,\n      thenableState$1 = null,\n      thenableIndexCounter$1 = 0,\n      currentDebugInfo = null,\n      didWarnAboutMaps;\n    var didWarnAboutGenerators = (didWarnAboutMaps = !1);\n    var ownerHasKeyUseWarning = {};\n    var ownerHasFunctionTypeWarning = {};\n    var ownerHasSymbolTypeWarning = {};\n    warnForMissingKey = function (returnFiber, workInProgress, child) {\n      if (\n        null !== child &&\n        \"object\" === typeof child &&\n        child._store &&\n        ((!child._store.validated && null == child.key) ||\n          2 === child._store.validated)\n      ) {\n        if (\"object\" !== typeof child._store)\n          throw Error(\n            \"React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.\"\n          );\n        child._store.validated = 1;\n        var componentName = getComponentNameFromFiber(returnFiber),\n          componentKey = componentName || \"null\";\n        if (!ownerHasKeyUseWarning[componentKey]) {\n          ownerHasKeyUseWarning[componentKey] = !0;\n          child = child._owner;\n          returnFiber = returnFiber._debugOwner;\n          var currentComponentErrorInfo = \"\";\n          returnFiber &&\n            \"number\" === typeof returnFiber.tag &&\n            (componentKey = getComponentNameFromFiber(returnFiber)) &&\n            (currentComponentErrorInfo =\n              \"\\n\\nCheck the render method of `\" + componentKey + \"`.\");\n          currentComponentErrorInfo ||\n            (componentName &&\n              (currentComponentErrorInfo =\n                \"\\n\\nCheck the top-level render call using <\" +\n                componentName +\n                \">.\"));\n          var childOwnerAppendix = \"\";\n          null != child &&\n            returnFiber !== child &&\n            ((componentName = null),\n            \"number\" === typeof child.tag\n              ? (componentName = getComponentNameFromFiber(child))\n              : \"string\" === typeof child.name && (componentName = child.name),\n            componentName &&\n              (childOwnerAppendix =\n                \" It was passed a child from \" + componentName + \".\"));\n          runWithFiberInDEV(workInProgress, function () {\n            console.error(\n              'Each child in a list should have a unique \"key\" prop.%s%s See https://react.dev/link/warning-keys for more information.',\n              currentComponentErrorInfo,\n              childOwnerAppendix\n            );\n          });\n        }\n      }\n    };\n    var reconcileChildFibers = createChildReconciler(!0),\n      mountChildFibers = createChildReconciler(!1),\n      UpdateState = 0,\n      ReplaceState = 1,\n      ForceUpdate = 2,\n      CaptureUpdate = 3,\n      hasForceUpdate = !1;\n    var didWarnUpdateInsideUpdate = !1;\n    var currentlyProcessingQueue = null;\n    var didReadFromEntangledAsyncAction = !1,\n      currentTreeHiddenStackCursor = createCursor(null),\n      prevEntangledRenderLanesCursor = createCursor(0),\n      suspenseHandlerStackCursor = createCursor(null),\n      shellBoundary = null,\n      SubtreeSuspenseContextMask = 1,\n      ForceSuspenseFallback = 2,\n      suspenseStackCursor = createCursor(0),\n      NoFlags = 0,\n      HasEffect = 1,\n      Insertion = 2,\n      Layout = 4,\n      Passive = 8,\n      didWarnUncachedGetSnapshot;\n    var didWarnAboutMismatchedHooksForComponent = new Set();\n    var didWarnAboutUseWrappedInTryCatch = new Set();\n    var didWarnAboutAsyncClientComponent = new Set();\n    var didWarnAboutUseFormState = new Set();\n    var renderLanes = 0,\n      currentlyRenderingFiber = null,\n      currentHook = null,\n      workInProgressHook = null,\n      didScheduleRenderPhaseUpdate = !1,\n      didScheduleRenderPhaseUpdateDuringThisPass = !1,\n      shouldDoubleInvokeUserFnsInHooksDEV = !1,\n      localIdCounter = 0,\n      thenableIndexCounter = 0,\n      thenableState = null,\n      globalClientIdCounter = 0,\n      RE_RENDER_LIMIT = 25,\n      currentHookNameInDev = null,\n      hookTypesDev = null,\n      hookTypesUpdateIndexDev = -1,\n      ignorePreviousDependencies = !1,\n      ContextOnlyDispatcher = {\n        readContext: readContext,\n        use: use,\n        useCallback: throwInvalidHookError,\n        useContext: throwInvalidHookError,\n        useEffect: throwInvalidHookError,\n        useImperativeHandle: throwInvalidHookError,\n        useLayoutEffect: throwInvalidHookError,\n        useInsertionEffect: throwInvalidHookError,\n        useMemo: throwInvalidHookError,\n        useReducer: throwInvalidHookError,\n        useRef: throwInvalidHookError,\n        useState: throwInvalidHookError,\n        useDebugValue: throwInvalidHookError,\n        useDeferredValue: throwInvalidHookError,\n        useTransition: throwInvalidHookError,\n        useSyncExternalStore: throwInvalidHookError,\n        useId: throwInvalidHookError,\n        useHostTransitionStatus: throwInvalidHookError,\n        useFormState: throwInvalidHookError,\n        useActionState: throwInvalidHookError,\n        useOptimistic: throwInvalidHookError,\n        useMemoCache: throwInvalidHookError,\n        useCacheRefresh: throwInvalidHookError\n      };\n    ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;\n    var HooksDispatcherOnMountInDEV = null,\n      HooksDispatcherOnMountWithHookTypesInDEV = null,\n      HooksDispatcherOnUpdateInDEV = null,\n      HooksDispatcherOnRerenderInDEV = null,\n      InvalidNestedHooksDispatcherOnMountInDEV = null,\n      InvalidNestedHooksDispatcherOnUpdateInDEV = null,\n      InvalidNestedHooksDispatcherOnRerenderInDEV = null;\n    HooksDispatcherOnMountInDEV = {\n      readContext: function (context) {\n        return readContext(context);\n      },\n      use: use,\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        return mountCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        mountHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        return mountEffect(create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        return mountImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        mountEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        return mountLayoutEffect(create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        mountHookTypesDev();\n        checkDepsAreArrayDev(deps);\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        mountHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function (initialValue) {\n        currentHookNameInDev = \"useRef\";\n        mountHookTypesDev();\n        return mountRef(initialValue);\n      },\n      useState: function (initialState) {\n        currentHookNameInDev = \"useState\";\n        mountHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountState(initialState);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        mountHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        mountHookTypesDev();\n        return mountDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        mountHookTypesDev();\n        return mountTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        mountHookTypesDev();\n        return mountSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        mountHookTypesDev();\n        return mountId();\n      },\n      useFormState: function (action, initialState) {\n        currentHookNameInDev = \"useFormState\";\n        mountHookTypesDev();\n        warnOnUseFormStateInDev();\n        return mountActionState(action, initialState);\n      },\n      useActionState: function (action, initialState) {\n        currentHookNameInDev = \"useActionState\";\n        mountHookTypesDev();\n        return mountActionState(action, initialState);\n      },\n      useOptimistic: function (passthrough) {\n        currentHookNameInDev = \"useOptimistic\";\n        mountHookTypesDev();\n        return mountOptimistic(passthrough);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useMemoCache: useMemoCache,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        mountHookTypesDev();\n        return mountRefresh();\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        mountHookTypesDev();\n        return mountEvent(callback);\n      }\n    };\n    HooksDispatcherOnMountWithHookTypesInDEV = {\n      readContext: function (context) {\n        return readContext(context);\n      },\n      use: use,\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        updateHookTypesDev();\n        return mountCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        updateHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        updateHookTypesDev();\n        return mountEffect(create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        updateHookTypesDev();\n        return mountImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        updateHookTypesDev();\n        mountEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        updateHookTypesDev();\n        return mountLayoutEffect(create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function (initialValue) {\n        currentHookNameInDev = \"useRef\";\n        updateHookTypesDev();\n        return mountRef(initialValue);\n      },\n      useState: function (initialState) {\n        currentHookNameInDev = \"useState\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountState(initialState);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        updateHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        updateHookTypesDev();\n        return mountDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        updateHookTypesDev();\n        return mountTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        updateHookTypesDev();\n        return mountSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        updateHookTypesDev();\n        return mountId();\n      },\n      useActionState: function (action, initialState) {\n        currentHookNameInDev = \"useActionState\";\n        updateHookTypesDev();\n        return mountActionState(action, initialState);\n      },\n      useFormState: function (action, initialState) {\n        currentHookNameInDev = \"useFormState\";\n        updateHookTypesDev();\n        warnOnUseFormStateInDev();\n        return mountActionState(action, initialState);\n      },\n      useOptimistic: function (passthrough) {\n        currentHookNameInDev = \"useOptimistic\";\n        updateHookTypesDev();\n        return mountOptimistic(passthrough);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useMemoCache: useMemoCache,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        updateHookTypesDev();\n        return mountRefresh();\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        updateHookTypesDev();\n        return mountEvent(callback);\n      }\n    };\n    HooksDispatcherOnUpdateInDEV = {\n      readContext: function (context) {\n        return readContext(context);\n      },\n      use: use,\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        updateHookTypesDev();\n        return updateCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        updateHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        updateHookTypesDev();\n        updateEffectImpl(2048, Passive, create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        updateHookTypesDev();\n        return updateImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        updateHookTypesDev();\n        return updateEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        updateHookTypesDev();\n        return updateEffectImpl(4, Layout, create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function () {\n        currentHookNameInDev = \"useRef\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useState: function () {\n        currentHookNameInDev = \"useState\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateReducer(basicStateReducer);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        updateHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        updateHookTypesDev();\n        return updateDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        updateHookTypesDev();\n        return updateTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        updateHookTypesDev();\n        return updateSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useFormState: function (action) {\n        currentHookNameInDev = \"useFormState\";\n        updateHookTypesDev();\n        warnOnUseFormStateInDev();\n        return updateActionState(action);\n      },\n      useActionState: function (action) {\n        currentHookNameInDev = \"useActionState\";\n        updateHookTypesDev();\n        return updateActionState(action);\n      },\n      useOptimistic: function (passthrough, reducer) {\n        currentHookNameInDev = \"useOptimistic\";\n        updateHookTypesDev();\n        return updateOptimistic(passthrough, reducer);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useMemoCache: useMemoCache,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        updateHookTypesDev();\n        return updateEvent(callback);\n      }\n    };\n    HooksDispatcherOnRerenderInDEV = {\n      readContext: function (context) {\n        return readContext(context);\n      },\n      use: use,\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        updateHookTypesDev();\n        return updateCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        updateHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        updateHookTypesDev();\n        updateEffectImpl(2048, Passive, create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        updateHookTypesDev();\n        return updateImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        updateHookTypesDev();\n        return updateEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        updateHookTypesDev();\n        return updateEffectImpl(4, Layout, create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnRerenderInDEV;\n        try {\n          return updateMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnRerenderInDEV;\n        try {\n          return rerenderReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function () {\n        currentHookNameInDev = \"useRef\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useState: function () {\n        currentHookNameInDev = \"useState\";\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnRerenderInDEV;\n        try {\n          return rerenderReducer(basicStateReducer);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        updateHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        updateHookTypesDev();\n        return rerenderDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        updateHookTypesDev();\n        return rerenderTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        updateHookTypesDev();\n        return updateSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useFormState: function (action) {\n        currentHookNameInDev = \"useFormState\";\n        updateHookTypesDev();\n        warnOnUseFormStateInDev();\n        return rerenderActionState(action);\n      },\n      useActionState: function (action) {\n        currentHookNameInDev = \"useActionState\";\n        updateHookTypesDev();\n        return rerenderActionState(action);\n      },\n      useOptimistic: function (passthrough, reducer) {\n        currentHookNameInDev = \"useOptimistic\";\n        updateHookTypesDev();\n        return rerenderOptimistic(passthrough, reducer);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useMemoCache: useMemoCache,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        updateHookTypesDev();\n        return updateEvent(callback);\n      }\n    };\n    InvalidNestedHooksDispatcherOnMountInDEV = {\n      readContext: function (context) {\n        warnInvalidContextAccess();\n        return readContext(context);\n      },\n      use: function (usable) {\n        warnInvalidHookAccess();\n        return use(usable);\n      },\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountEffect(create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        mountEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountLayoutEffect(create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function (initialValue) {\n        currentHookNameInDev = \"useRef\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountRef(initialValue);\n      },\n      useState: function (initialState) {\n        currentHookNameInDev = \"useState\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnMountInDEV;\n        try {\n          return mountState(initialState);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountId();\n      },\n      useFormState: function (action, initialState) {\n        currentHookNameInDev = \"useFormState\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountActionState(action, initialState);\n      },\n      useActionState: function (action, initialState) {\n        currentHookNameInDev = \"useActionState\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountActionState(action, initialState);\n      },\n      useOptimistic: function (passthrough) {\n        currentHookNameInDev = \"useOptimistic\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountOptimistic(passthrough);\n      },\n      useMemoCache: function (size) {\n        warnInvalidHookAccess();\n        return useMemoCache(size);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        mountHookTypesDev();\n        return mountRefresh();\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        warnInvalidHookAccess();\n        mountHookTypesDev();\n        return mountEvent(callback);\n      }\n    };\n    InvalidNestedHooksDispatcherOnUpdateInDEV = {\n      readContext: function (context) {\n        warnInvalidContextAccess();\n        return readContext(context);\n      },\n      use: function (usable) {\n        warnInvalidHookAccess();\n        return use(usable);\n      },\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        updateEffectImpl(2048, Passive, create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEffectImpl(4, Layout, create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function () {\n        currentHookNameInDev = \"useRef\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useState: function () {\n        currentHookNameInDev = \"useState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateReducer(basicStateReducer);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useFormState: function (action) {\n        currentHookNameInDev = \"useFormState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateActionState(action);\n      },\n      useActionState: function (action) {\n        currentHookNameInDev = \"useActionState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateActionState(action);\n      },\n      useOptimistic: function (passthrough, reducer) {\n        currentHookNameInDev = \"useOptimistic\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateOptimistic(passthrough, reducer);\n      },\n      useMemoCache: function (size) {\n        warnInvalidHookAccess();\n        return useMemoCache(size);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEvent(callback);\n      }\n    };\n    InvalidNestedHooksDispatcherOnRerenderInDEV = {\n      readContext: function (context) {\n        warnInvalidContextAccess();\n        return readContext(context);\n      },\n      use: function (usable) {\n        warnInvalidHookAccess();\n        return use(usable);\n      },\n      useCallback: function (callback, deps) {\n        currentHookNameInDev = \"useCallback\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateCallback(callback, deps);\n      },\n      useContext: function (context) {\n        currentHookNameInDev = \"useContext\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return readContext(context);\n      },\n      useEffect: function (create, deps) {\n        currentHookNameInDev = \"useEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        updateEffectImpl(2048, Passive, create, deps);\n      },\n      useImperativeHandle: function (ref, create, deps) {\n        currentHookNameInDev = \"useImperativeHandle\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateImperativeHandle(ref, create, deps);\n      },\n      useInsertionEffect: function (create, deps) {\n        currentHookNameInDev = \"useInsertionEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEffectImpl(4, Insertion, create, deps);\n      },\n      useLayoutEffect: function (create, deps) {\n        currentHookNameInDev = \"useLayoutEffect\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEffectImpl(4, Layout, create, deps);\n      },\n      useMemo: function (create, deps) {\n        currentHookNameInDev = \"useMemo\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return updateMemo(create, deps);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useReducer: function (reducer, initialArg, init) {\n        currentHookNameInDev = \"useReducer\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return rerenderReducer(reducer, initialArg, init);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useRef: function () {\n        currentHookNameInDev = \"useRef\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useState: function () {\n        currentHookNameInDev = \"useState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        var prevDispatcher = ReactSharedInternals.H;\n        ReactSharedInternals.H = InvalidNestedHooksDispatcherOnUpdateInDEV;\n        try {\n          return rerenderReducer(basicStateReducer);\n        } finally {\n          ReactSharedInternals.H = prevDispatcher;\n        }\n      },\n      useDebugValue: function () {\n        currentHookNameInDev = \"useDebugValue\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n      },\n      useDeferredValue: function (value, initialValue) {\n        currentHookNameInDev = \"useDeferredValue\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return rerenderDeferredValue(value, initialValue);\n      },\n      useTransition: function () {\n        currentHookNameInDev = \"useTransition\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return rerenderTransition();\n      },\n      useSyncExternalStore: function (\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      ) {\n        currentHookNameInDev = \"useSyncExternalStore\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateSyncExternalStore(\n          subscribe,\n          getSnapshot,\n          getServerSnapshot\n        );\n      },\n      useId: function () {\n        currentHookNameInDev = \"useId\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useFormState: function (action) {\n        currentHookNameInDev = \"useFormState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return rerenderActionState(action);\n      },\n      useActionState: function (action) {\n        currentHookNameInDev = \"useActionState\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return rerenderActionState(action);\n      },\n      useOptimistic: function (passthrough, reducer) {\n        currentHookNameInDev = \"useOptimistic\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return rerenderOptimistic(passthrough, reducer);\n      },\n      useMemoCache: function (size) {\n        warnInvalidHookAccess();\n        return useMemoCache(size);\n      },\n      useHostTransitionStatus: useHostTransitionStatus,\n      useCacheRefresh: function () {\n        currentHookNameInDev = \"useCacheRefresh\";\n        updateHookTypesDev();\n        return updateWorkInProgressHook().memoizedState;\n      },\n      useEffectEvent: function (callback) {\n        currentHookNameInDev = \"useEffectEvent\";\n        warnInvalidHookAccess();\n        updateHookTypesDev();\n        return updateEvent(callback);\n      }\n    };\n    var fakeInternalInstance = {};\n    var didWarnAboutStateAssignmentForComponent = new Set();\n    var didWarnAboutUninitializedState = new Set();\n    var didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate = new Set();\n    var didWarnAboutLegacyLifecyclesAndDerivedState = new Set();\n    var didWarnAboutDirectlyAssigningPropsToState = new Set();\n    var didWarnAboutUndefinedDerivedState = new Set();\n    var didWarnAboutContextTypes$1 = new Set();\n    var didWarnAboutChildContextTypes = new Set();\n    var didWarnAboutInvalidateContextType = new Set();\n    var didWarnOnInvalidCallback = new Set();\n    Object.freeze(fakeInternalInstance);\n    var classComponentUpdater = {\n        enqueueSetState: function (inst, payload, callback) {\n          inst = inst._reactInternals;\n          var lane = requestUpdateLane(inst),\n            update = createUpdate(lane);\n          update.payload = payload;\n          void 0 !== callback &&\n            null !== callback &&\n            (warnOnInvalidCallback(callback), (update.callback = callback));\n          payload = enqueueUpdate(inst, update, lane);\n          null !== payload &&\n            (startUpdateTimerByLane(lane, \"this.setState()\", inst),\n            scheduleUpdateOnFiber(payload, inst, lane),\n            entangleTransitions(payload, inst, lane));\n        },\n        enqueueReplaceState: function (inst, payload, callback) {\n          inst = inst._reactInternals;\n          var lane = requestUpdateLane(inst),\n            update = createUpdate(lane);\n          update.tag = ReplaceState;\n          update.payload = payload;\n          void 0 !== callback &&\n            null !== callback &&\n            (warnOnInvalidCallback(callback), (update.callback = callback));\n          payload = enqueueUpdate(inst, update, lane);\n          null !== payload &&\n            (startUpdateTimerByLane(lane, \"this.replaceState()\", inst),\n            scheduleUpdateOnFiber(payload, inst, lane),\n            entangleTransitions(payload, inst, lane));\n        },\n        enqueueForceUpdate: function (inst, callback) {\n          inst = inst._reactInternals;\n          var lane = requestUpdateLane(inst),\n            update = createUpdate(lane);\n          update.tag = ForceUpdate;\n          void 0 !== callback &&\n            null !== callback &&\n            (warnOnInvalidCallback(callback), (update.callback = callback));\n          callback = enqueueUpdate(inst, update, lane);\n          null !== callback &&\n            (startUpdateTimerByLane(lane, \"this.forceUpdate()\", inst),\n            scheduleUpdateOnFiber(callback, inst, lane),\n            entangleTransitions(callback, inst, lane));\n        }\n      },\n      componentName = null,\n      errorBoundaryName = null,\n      SelectiveHydrationException = Error(\n        \"This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue.\"\n      ),\n      didReceiveUpdate = !1;\n    var didWarnAboutBadClass = {};\n    var didWarnAboutContextTypeOnFunctionComponent = {};\n    var didWarnAboutContextTypes = {};\n    var didWarnAboutGetDerivedStateOnFunctionComponent = {};\n    var didWarnAboutReassigningProps = !1;\n    var didWarnAboutRevealOrder = {};\n    var didWarnAboutTailOptions = {};\n    var SUSPENDED_MARKER = {\n        dehydrated: null,\n        treeContext: null,\n        retryLane: 0,\n        hydrationErrors: null\n      },\n      hasWarnedAboutUsingNoValuePropOnContextProvider = !1,\n      didWarnAboutUndefinedSnapshotBeforeUpdate = null;\n    didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();\n    var offscreenSubtreeIsHidden = !1,\n      offscreenSubtreeWasHidden = !1,\n      needsFormReset = !1,\n      PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n      nextEffect = null,\n      inProgressLanes = null,\n      inProgressRoot = null,\n      hostParent = null,\n      hostParentIsContainer = !1,\n      currentHoistableRoot = null,\n      inHydratedSubtree = !1,\n      suspenseyCommitFlag = 8192,\n      DefaultAsyncDispatcher = {\n        getCacheForType: function (resourceType) {\n          var cache = readContext(CacheContext),\n            cacheForType = cache.data.get(resourceType);\n          void 0 === cacheForType &&\n            ((cacheForType = resourceType()),\n            cache.data.set(resourceType, cacheForType));\n          return cacheForType;\n        },\n        cacheSignal: function () {\n          return readContext(CacheContext).controller.signal;\n        },\n        getOwner: function () {\n          return current;\n        }\n      };\n    if (\"function\" === typeof Symbol && Symbol.for) {\n      var symbolFor = Symbol.for;\n      symbolFor(\"selector.component\");\n      symbolFor(\"selector.has_pseudo_class\");\n      symbolFor(\"selector.role\");\n      symbolFor(\"selector.test_id\");\n      symbolFor(\"selector.text\");\n    }\n    var commitHooks = [],\n      PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n      NoContext = 0,\n      RenderContext = 2,\n      CommitContext = 4,\n      RootInProgress = 0,\n      RootFatalErrored = 1,\n      RootErrored = 2,\n      RootSuspended = 3,\n      RootSuspendedWithDelay = 4,\n      RootSuspendedAtTheShell = 6,\n      RootCompleted = 5,\n      executionContext = NoContext,\n      workInProgressRoot = null,\n      workInProgress = null,\n      workInProgressRootRenderLanes = 0,\n      NotSuspended = 0,\n      SuspendedOnError = 1,\n      SuspendedOnData = 2,\n      SuspendedOnImmediate = 3,\n      SuspendedOnInstance = 4,\n      SuspendedOnInstanceAndReadyToContinue = 5,\n      SuspendedOnDeprecatedThrowPromise = 6,\n      SuspendedAndReadyToContinue = 7,\n      SuspendedOnHydration = 8,\n      SuspendedOnAction = 9,\n      workInProgressSuspendedReason = NotSuspended,\n      workInProgressThrownValue = null,\n      workInProgressRootDidSkipSuspendedSiblings = !1,\n      workInProgressRootIsPrerendering = !1,\n      workInProgressRootDidAttachPingListener = !1,\n      entangledRenderLanes = 0,\n      workInProgressRootExitStatus = RootInProgress,\n      workInProgressRootSkippedLanes = 0,\n      workInProgressRootInterleavedUpdatedLanes = 0,\n      workInProgressRootPingedLanes = 0,\n      workInProgressDeferredLane = 0,\n      workInProgressSuspendedRetryLanes = 0,\n      workInProgressRootConcurrentErrors = null,\n      workInProgressRootRecoverableErrors = null,\n      workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n      globalMostRecentFallbackTime = 0,\n      globalMostRecentTransitionTime = 0,\n      FALLBACK_THROTTLE_MS = 300,\n      workInProgressRootRenderTargetTime = Infinity,\n      RENDER_TIMEOUT_MS = 500,\n      workInProgressTransitions = null,\n      workInProgressUpdateTask = null,\n      legacyErrorBoundariesThatAlreadyFailed = null,\n      IMMEDIATE_COMMIT = 0,\n      ABORTED_VIEW_TRANSITION_COMMIT = 1,\n      DELAYED_PASSIVE_COMMIT = 2,\n      ANIMATION_STARTED_COMMIT = 3,\n      NO_PENDING_EFFECTS = 0,\n      PENDING_MUTATION_PHASE = 1,\n      PENDING_LAYOUT_PHASE = 2,\n      PENDING_AFTER_MUTATION_PHASE = 3,\n      PENDING_SPAWNED_WORK = 4,\n      PENDING_PASSIVE_PHASE = 5,\n      pendingEffectsStatus = 0,\n      pendingEffectsRoot = null,\n      pendingFinishedWork = null,\n      pendingEffectsLanes = 0,\n      pendingEffectsRemainingLanes = 0,\n      pendingEffectsRenderEndTime = -0,\n      pendingPassiveTransitions = null,\n      pendingRecoverableErrors = null,\n      pendingSuspendedCommitReason = null,\n      pendingDelayedCommitReason = IMMEDIATE_COMMIT,\n      pendingSuspendedViewTransitionReason = null,\n      NESTED_UPDATE_LIMIT = 50,\n      nestedUpdateCount = 0,\n      rootWithNestedUpdates = null,\n      isFlushingPassiveEffects = !1,\n      didScheduleUpdateDuringPassiveEffects = !1,\n      NESTED_PASSIVE_UPDATE_LIMIT = 50,\n      nestedPassiveUpdateCount = 0,\n      rootWithPassiveNestedUpdates = null,\n      isRunningInsertionEffect = !1,\n      didWarnStateUpdateForNotYetMountedComponent = null,\n      didWarnAboutUpdateInRender = !1;\n    var didWarnAboutUpdateInRenderForAnotherComponent = new Set();\n    var fakeActCallbackNode$1 = {},\n      firstScheduledRoot = null,\n      lastScheduledRoot = null,\n      didScheduleMicrotask = !1,\n      didScheduleMicrotask_act = !1,\n      mightHavePendingSyncWork = !1,\n      isFlushingWork = !1,\n      currentEventTransitionLane = 0,\n      fakeActCallbackNode = {};\n    (function () {\n      for (var i = 0; i < simpleEventPluginEvents.length; i++) {\n        var eventName = simpleEventPluginEvents[i],\n          domEventName = eventName.toLowerCase();\n        eventName = eventName[0].toUpperCase() + eventName.slice(1);\n        registerSimpleEvent(domEventName, \"on\" + eventName);\n      }\n      registerSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\n      registerSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\n      registerSimpleEvent(ANIMATION_START, \"onAnimationStart\");\n      registerSimpleEvent(\"dblclick\", \"onDoubleClick\");\n      registerSimpleEvent(\"focusin\", \"onFocus\");\n      registerSimpleEvent(\"focusout\", \"onBlur\");\n      registerSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\n      registerSimpleEvent(TRANSITION_START, \"onTransitionStart\");\n      registerSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\n      registerSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\n    })();\n    registerDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\n    registerDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\n    registerDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\n    registerDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\n    registerTwoPhaseEvent(\n      \"onChange\",\n      \"change click focusin focusout input keydown keyup selectionchange\".split(\n        \" \"\n      )\n    );\n    registerTwoPhaseEvent(\n      \"onSelect\",\n      \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n        \" \"\n      )\n    );\n    registerTwoPhaseEvent(\"onBeforeInput\", [\n      \"compositionend\",\n      \"keypress\",\n      \"textInput\",\n      \"paste\"\n    ]);\n    registerTwoPhaseEvent(\n      \"onCompositionEnd\",\n      \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n    );\n    registerTwoPhaseEvent(\n      \"onCompositionStart\",\n      \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n    );\n    registerTwoPhaseEvent(\n      \"onCompositionUpdate\",\n      \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n    );\n    var mediaEventTypes =\n        \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n          \" \"\n        ),\n      nonDelegatedEvents = new Set(\n        \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n          .split(\" \")\n          .concat(mediaEventTypes)\n      ),\n      listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2),\n      didWarnControlledToUncontrolled = !1,\n      didWarnUncontrolledToControlled = !1,\n      didWarnFormActionType = !1,\n      didWarnFormActionName = !1,\n      didWarnFormActionTarget = !1,\n      didWarnFormActionMethod = !1,\n      didWarnPopoverTargetObject = !1;\n    var didWarnForNewBooleanPropsWithEmptyValue = {};\n    var NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n      NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g,\n      xlinkNamespace = \"http://www.w3.org/1999/xlink\",\n      xmlNamespace = \"http://www.w3.org/XML/1998/namespace\",\n      EXPECTED_FORM_ACTION_URL =\n        \"javascript:throw new Error('React form unexpectedly submitted.')\",\n      SUPPRESS_HYDRATION_WARNING = \"suppressHydrationWarning\",\n      ACTIVITY_START_DATA = \"&\",\n      ACTIVITY_END_DATA = \"/&\",\n      SUSPENSE_START_DATA = \"$\",\n      SUSPENSE_END_DATA = \"/$\",\n      SUSPENSE_PENDING_START_DATA = \"$?\",\n      SUSPENSE_QUEUED_START_DATA = \"$~\",\n      SUSPENSE_FALLBACK_START_DATA = \"$!\",\n      PREAMBLE_CONTRIBUTION_HTML = \"html\",\n      PREAMBLE_CONTRIBUTION_BODY = \"body\",\n      PREAMBLE_CONTRIBUTION_HEAD = \"head\",\n      FORM_STATE_IS_MATCHING = \"F!\",\n      FORM_STATE_IS_NOT_MATCHING = \"F\",\n      DOCUMENT_READY_STATE_LOADING = \"loading\",\n      STYLE = \"style\",\n      HostContextNamespaceNone = 0,\n      HostContextNamespaceSvg = 1,\n      HostContextNamespaceMath = 2,\n      eventsEnabled = null,\n      selectionInformation = null,\n      warnedUnknownTags = { dialog: !0, webview: !0 },\n      currentPopstateTransitionEvent = null,\n      schedulerEvent = void 0,\n      scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n      cancelTimeout =\n        \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n      noTimeout = -1,\n      localPromise = \"function\" === typeof Promise ? Promise : void 0,\n      scheduleMicrotask =\n        \"function\" === typeof queueMicrotask\n          ? queueMicrotask\n          : \"undefined\" !== typeof localPromise\n            ? function (callback) {\n                return localPromise\n                  .resolve(null)\n                  .then(callback)\n                  .catch(handleErrorInNextTick);\n              }\n            : scheduleTimeout,\n      previousHydratableOnEnteringScopedSingleton = null,\n      NotLoaded = 0,\n      Loaded = 1,\n      Errored = 2,\n      Settled = 3,\n      Inserted = 4,\n      preloadPropsMap = new Map(),\n      preconnectsSet = new Set(),\n      previousDispatcher = ReactDOMSharedInternals.d;\n    ReactDOMSharedInternals.d = {\n      f: function () {\n        var previousWasRendering = previousDispatcher.f(),\n          wasRendering = flushSyncWork$1();\n        return previousWasRendering || wasRendering;\n      },\n      r: function (form) {\n        var formInst = getInstanceFromNode(form);\n        null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n          ? requestFormReset$1(formInst)\n          : previousDispatcher.r(form);\n      },\n      D: function (href) {\n        previousDispatcher.D(href);\n        preconnectAs(\"dns-prefetch\", href, null);\n      },\n      C: function (href, crossOrigin) {\n        previousDispatcher.C(href, crossOrigin);\n        preconnectAs(\"preconnect\", href, crossOrigin);\n      },\n      L: function (href, as, options) {\n        previousDispatcher.L(href, as, options);\n        var ownerDocument = globalDocument;\n        if (ownerDocument && href && as) {\n          var preloadSelector =\n            'link[rel=\"preload\"][as=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n            '\"]';\n          \"image\" === as\n            ? options && options.imageSrcSet\n              ? ((preloadSelector +=\n                  '[imagesrcset=\"' +\n                  escapeSelectorAttributeValueInsideDoubleQuotes(\n                    options.imageSrcSet\n                  ) +\n                  '\"]'),\n                \"string\" === typeof options.imageSizes &&\n                  (preloadSelector +=\n                    '[imagesizes=\"' +\n                    escapeSelectorAttributeValueInsideDoubleQuotes(\n                      options.imageSizes\n                    ) +\n                    '\"]'))\n              : (preloadSelector +=\n                  '[href=\"' +\n                  escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n                  '\"]')\n            : (preloadSelector +=\n                '[href=\"' +\n                escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n                '\"]');\n          var key = preloadSelector;\n          switch (as) {\n            case \"style\":\n              key = getStyleKey(href);\n              break;\n            case \"script\":\n              key = getScriptKey(href);\n          }\n          preloadPropsMap.has(key) ||\n            ((href = assign(\n              {\n                rel: \"preload\",\n                href:\n                  \"image\" === as && options && options.imageSrcSet\n                    ? void 0\n                    : href,\n                as: as\n              },\n              options\n            )),\n            preloadPropsMap.set(key, href),\n            null !== ownerDocument.querySelector(preloadSelector) ||\n              (\"style\" === as &&\n                ownerDocument.querySelector(\n                  getStylesheetSelectorFromKey(key)\n                )) ||\n              (\"script\" === as &&\n                ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n              ((as = ownerDocument.createElement(\"link\")),\n              setInitialProperties(as, \"link\", href),\n              markNodeAsHoistable(as),\n              ownerDocument.head.appendChild(as)));\n        }\n      },\n      m: function (href, options) {\n        previousDispatcher.m(href, options);\n        var ownerDocument = globalDocument;\n        if (ownerDocument && href) {\n          var as =\n              options && \"string\" === typeof options.as ? options.as : \"script\",\n            preloadSelector =\n              'link[rel=\"modulepreload\"][as=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n              '\"][href=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n              '\"]',\n            key = preloadSelector;\n          switch (as) {\n            case \"audioworklet\":\n            case \"paintworklet\":\n            case \"serviceworker\":\n            case \"sharedworker\":\n            case \"worker\":\n            case \"script\":\n              key = getScriptKey(href);\n          }\n          if (\n            !preloadPropsMap.has(key) &&\n            ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n            preloadPropsMap.set(key, href),\n            null === ownerDocument.querySelector(preloadSelector))\n          ) {\n            switch (as) {\n              case \"audioworklet\":\n              case \"paintworklet\":\n              case \"serviceworker\":\n              case \"sharedworker\":\n              case \"worker\":\n              case \"script\":\n                if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n                  return;\n            }\n            as = ownerDocument.createElement(\"link\");\n            setInitialProperties(as, \"link\", href);\n            markNodeAsHoistable(as);\n            ownerDocument.head.appendChild(as);\n          }\n        }\n      },\n      X: function (src, options) {\n        previousDispatcher.X(src, options);\n        var ownerDocument = globalDocument;\n        if (ownerDocument && src) {\n          var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n            key = getScriptKey(src),\n            resource = scripts.get(key);\n          resource ||\n            ((resource = ownerDocument.querySelector(\n              getScriptSelectorFromKey(key)\n            )),\n            resource ||\n              ((src = assign({ src: src, async: !0 }, options)),\n              (options = preloadPropsMap.get(key)) &&\n                adoptPreloadPropsForScript(src, options),\n              (resource = ownerDocument.createElement(\"script\")),\n              markNodeAsHoistable(resource),\n              setInitialProperties(resource, \"link\", src),\n              ownerDocument.head.appendChild(resource)),\n            (resource = {\n              type: \"script\",\n              instance: resource,\n              count: 1,\n              state: null\n            }),\n            scripts.set(key, resource));\n        }\n      },\n      S: function (href, precedence, options) {\n        previousDispatcher.S(href, precedence, options);\n        var ownerDocument = globalDocument;\n        if (ownerDocument && href) {\n          var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n            key = getStyleKey(href);\n          precedence = precedence || \"default\";\n          var resource = styles.get(key);\n          if (!resource) {\n            var state = { loading: NotLoaded, preload: null };\n            if (\n              (resource = ownerDocument.querySelector(\n                getStylesheetSelectorFromKey(key)\n              ))\n            )\n              state.loading = Loaded | Inserted;\n            else {\n              href = assign(\n                {\n                  rel: \"stylesheet\",\n                  href: href,\n                  \"data-precedence\": precedence\n                },\n                options\n              );\n              (options = preloadPropsMap.get(key)) &&\n                adoptPreloadPropsForStylesheet(href, options);\n              var link = (resource = ownerDocument.createElement(\"link\"));\n              markNodeAsHoistable(link);\n              setInitialProperties(link, \"link\", href);\n              link._p = new Promise(function (resolve, reject) {\n                link.onload = resolve;\n                link.onerror = reject;\n              });\n              link.addEventListener(\"load\", function () {\n                state.loading |= Loaded;\n              });\n              link.addEventListener(\"error\", function () {\n                state.loading |= Errored;\n              });\n              state.loading |= Inserted;\n              insertStylesheet(resource, precedence, ownerDocument);\n            }\n            resource = {\n              type: \"stylesheet\",\n              instance: resource,\n              count: 1,\n              state: state\n            };\n            styles.set(key, resource);\n          }\n        }\n      },\n      M: function (src, options) {\n        previousDispatcher.M(src, options);\n        var ownerDocument = globalDocument;\n        if (ownerDocument && src) {\n          var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n            key = getScriptKey(src),\n            resource = scripts.get(key);\n          resource ||\n            ((resource = ownerDocument.querySelector(\n              getScriptSelectorFromKey(key)\n            )),\n            resource ||\n              ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n              (options = preloadPropsMap.get(key)) &&\n                adoptPreloadPropsForScript(src, options),\n              (resource = ownerDocument.createElement(\"script\")),\n              markNodeAsHoistable(resource),\n              setInitialProperties(resource, \"link\", src),\n              ownerDocument.head.appendChild(resource)),\n            (resource = {\n              type: \"script\",\n              instance: resource,\n              count: 1,\n              state: null\n            }),\n            scripts.set(key, resource));\n        }\n      }\n    };\n    var globalDocument = \"undefined\" === typeof document ? null : document,\n      tagCaches = null,\n      SUSPENSEY_STYLESHEET_TIMEOUT = 6e4,\n      SUSPENSEY_IMAGE_TIMEOUT = 800,\n      SUSPENSEY_IMAGE_TIME_ESTIMATE = 500,\n      estimatedBytesWithinLimit = 0,\n      LAST_PRECEDENCE = null,\n      precedencesByRoot = null,\n      NotPendingTransition = NotPending,\n      HostTransitionContext = {\n        $$typeof: REACT_CONTEXT_TYPE,\n        Provider: null,\n        Consumer: null,\n        _currentValue: NotPendingTransition,\n        _currentValue2: NotPendingTransition,\n        _threadCount: 0\n      },\n      badgeFormat = \"%c%s%c\",\n      badgeStyle =\n        \"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px\",\n      resetStyle = \"\",\n      pad = \" \",\n      bind = Function.prototype.bind;\n    var didWarnAboutNestedUpdates = !1;\n    var overrideHookState = null,\n      overrideHookStateDeletePath = null,\n      overrideHookStateRenamePath = null,\n      overrideProps = null,\n      overridePropsDeletePath = null,\n      overridePropsRenamePath = null,\n      scheduleUpdate = null,\n      scheduleRetry = null,\n      setErrorHandler = null,\n      setSuspenseHandler = null;\n    overrideHookState = function (fiber, id, path, value) {\n      id = findHook(fiber, id);\n      null !== id &&\n        ((path = copyWithSetImpl(id.memoizedState, path, 0, value)),\n        (id.memoizedState = path),\n        (id.baseState = path),\n        (fiber.memoizedProps = assign({}, fiber.memoizedProps)),\n        (path = enqueueConcurrentRenderForLane(fiber, 2)),\n        null !== path && scheduleUpdateOnFiber(path, fiber, 2));\n    };\n    overrideHookStateDeletePath = function (fiber, id, path) {\n      id = findHook(fiber, id);\n      null !== id &&\n        ((path = copyWithDeleteImpl(id.memoizedState, path, 0)),\n        (id.memoizedState = path),\n        (id.baseState = path),\n        (fiber.memoizedProps = assign({}, fiber.memoizedProps)),\n        (path = enqueueConcurrentRenderForLane(fiber, 2)),\n        null !== path && scheduleUpdateOnFiber(path, fiber, 2));\n    };\n    overrideHookStateRenamePath = function (fiber, id, oldPath, newPath) {\n      id = findHook(fiber, id);\n      null !== id &&\n        ((oldPath = copyWithRename(id.memoizedState, oldPath, newPath)),\n        (id.memoizedState = oldPath),\n        (id.baseState = oldPath),\n        (fiber.memoizedProps = assign({}, fiber.memoizedProps)),\n        (oldPath = enqueueConcurrentRenderForLane(fiber, 2)),\n        null !== oldPath && scheduleUpdateOnFiber(oldPath, fiber, 2));\n    };\n    overrideProps = function (fiber, path, value) {\n      fiber.pendingProps = copyWithSetImpl(fiber.memoizedProps, path, 0, value);\n      fiber.alternate && (fiber.alternate.pendingProps = fiber.pendingProps);\n      path = enqueueConcurrentRenderForLane(fiber, 2);\n      null !== path && scheduleUpdateOnFiber(path, fiber, 2);\n    };\n    overridePropsDeletePath = function (fiber, path) {\n      fiber.pendingProps = copyWithDeleteImpl(fiber.memoizedProps, path, 0);\n      fiber.alternate && (fiber.alternate.pendingProps = fiber.pendingProps);\n      path = enqueueConcurrentRenderForLane(fiber, 2);\n      null !== path && scheduleUpdateOnFiber(path, fiber, 2);\n    };\n    overridePropsRenamePath = function (fiber, oldPath, newPath) {\n      fiber.pendingProps = copyWithRename(\n        fiber.memoizedProps,\n        oldPath,\n        newPath\n      );\n      fiber.alternate && (fiber.alternate.pendingProps = fiber.pendingProps);\n      oldPath = enqueueConcurrentRenderForLane(fiber, 2);\n      null !== oldPath && scheduleUpdateOnFiber(oldPath, fiber, 2);\n    };\n    scheduleUpdate = function (fiber) {\n      var root = enqueueConcurrentRenderForLane(fiber, 2);\n      null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n    };\n    scheduleRetry = function (fiber) {\n      var lane = claimNextRetryLane(),\n        root = enqueueConcurrentRenderForLane(fiber, lane);\n      null !== root && scheduleUpdateOnFiber(root, fiber, lane);\n    };\n    setErrorHandler = function (newShouldErrorImpl) {\n      shouldErrorImpl = newShouldErrorImpl;\n    };\n    setSuspenseHandler = function (newShouldSuspendImpl) {\n      shouldSuspendImpl = newShouldSuspendImpl;\n    };\n    var _enabled = !0,\n      return_targetInst = null,\n      hasScheduledReplayAttempt = !1,\n      queuedFocus = null,\n      queuedDrag = null,\n      queuedMouse = null,\n      queuedPointers = new Map(),\n      queuedPointerCaptures = new Map(),\n      queuedExplicitHydrationTargets = [],\n      discreteReplayableEvents =\n        \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n          \" \"\n        ),\n      lastScheduledReplayQueue = null;\n    ReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n      function (children) {\n        var root = this._internalRoot;\n        if (null === root) throw Error(\"Cannot update an unmounted root.\");\n        var args = arguments;\n        \"function\" === typeof args[1]\n          ? console.error(\n              \"does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().\"\n            )\n          : isValidContainer(args[1])\n            ? console.error(\n                \"You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root.\"\n              )\n            : \"undefined\" !== typeof args[1] &&\n              console.error(\n                \"You passed a second argument to root.render(...) but it only accepts one argument.\"\n              );\n        args = children;\n        var current = root.current,\n          lane = requestUpdateLane(current);\n        updateContainerImpl(current, lane, args, root, null, null);\n      };\n    ReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n      function () {\n        var args = arguments;\n        \"function\" === typeof args[0] &&\n          console.error(\n            \"does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().\"\n          );\n        args = this._internalRoot;\n        if (null !== args) {\n          this._internalRoot = null;\n          var container = args.containerInfo;\n          (executionContext & (RenderContext | CommitContext)) !== NoContext &&\n            console.error(\n              \"Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\"\n            );\n          updateContainerImpl(args.current, 2, null, args, null, null);\n          flushSyncWork$1();\n          container[internalContainerInstanceKey] = null;\n        }\n      };\n    ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (\n      target\n    ) {\n      if (target) {\n        var updatePriority = resolveUpdatePriority();\n        target = { blockedOn: null, target: target, priority: updatePriority };\n        for (\n          var i = 0;\n          i < queuedExplicitHydrationTargets.length &&\n          0 !== updatePriority &&\n          updatePriority < queuedExplicitHydrationTargets[i].priority;\n          i++\n        );\n        queuedExplicitHydrationTargets.splice(i, 0, target);\n        0 === i && attemptExplicitHydrationTarget(target);\n      }\n    };\n    (function () {\n      var isomorphicReactPackageVersion = React.version;\n      if (\"19.2.3\" !== isomorphicReactPackageVersion)\n        throw Error(\n          'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n            (isomorphicReactPackageVersion +\n              \"\\n  - react-dom:  19.2.3\\nLearn more: https://react.dev/warnings/version-mismatch\")\n        );\n    })();\n    (\"function\" === typeof Map &&\n      null != Map.prototype &&\n      \"function\" === typeof Map.prototype.forEach &&\n      \"function\" === typeof Set &&\n      null != Set.prototype &&\n      \"function\" === typeof Set.prototype.clear &&\n      \"function\" === typeof Set.prototype.forEach) ||\n      console.error(\n        \"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills\"\n      );\n    ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n      var fiber = componentOrElement._reactInternals;\n      if (void 0 === fiber) {\n        if (\"function\" === typeof componentOrElement.render)\n          throw Error(\"Unable to find node on an unmounted component.\");\n        componentOrElement = Object.keys(componentOrElement).join(\",\");\n        throw Error(\n          \"Argument appears to not be a ReactComponent. Keys: \" +\n            componentOrElement\n        );\n      }\n      componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n      componentOrElement =\n        null !== componentOrElement\n          ? findCurrentHostFiberImpl(componentOrElement)\n          : null;\n      componentOrElement =\n        null === componentOrElement ? null : componentOrElement.stateNode;\n      return componentOrElement;\n    };\n    if (\n      !(function () {\n        var internals = {\n          bundleType: 1,\n          version: \"19.2.3\",\n          rendererPackageName: \"react-dom\",\n          currentDispatcherRef: ReactSharedInternals,\n          reconcilerVersion: \"19.2.3\"\n        };\n        internals.overrideHookState = overrideHookState;\n        internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n        internals.overrideHookStateRenamePath = overrideHookStateRenamePath;\n        internals.overrideProps = overrideProps;\n        internals.overridePropsDeletePath = overridePropsDeletePath;\n        internals.overridePropsRenamePath = overridePropsRenamePath;\n        internals.scheduleUpdate = scheduleUpdate;\n        internals.scheduleRetry = scheduleRetry;\n        internals.setErrorHandler = setErrorHandler;\n        internals.setSuspenseHandler = setSuspenseHandler;\n        internals.scheduleRefresh = scheduleRefresh;\n        internals.scheduleRoot = scheduleRoot;\n        internals.setRefreshHandler = setRefreshHandler;\n        internals.getCurrentFiber = getCurrentFiberForDevTools;\n        return injectInternals(internals);\n      })() &&\n      canUseDOM &&\n      window.top === window.self &&\n      ((-1 < navigator.userAgent.indexOf(\"Chrome\") &&\n        -1 === navigator.userAgent.indexOf(\"Edge\")) ||\n        -1 < navigator.userAgent.indexOf(\"Firefox\"))\n    ) {\n      var protocol = window.location.protocol;\n      /^(https?|file):$/.test(protocol) &&\n        console.info(\n          \"%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools\" +\n            (\"file:\" === protocol\n              ? \"\\nYou might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq\"\n              : \"\"),\n          \"font-weight:bold\"\n        );\n    }\n    exports.createRoot = function (container, options) {\n      if (!isValidContainer(container))\n        throw Error(\"Target container is not a DOM element.\");\n      warnIfReactDOMContainerInDEV(container);\n      var isStrictMode = !1,\n        identifierPrefix = \"\",\n        onUncaughtError = defaultOnUncaughtError,\n        onCaughtError = defaultOnCaughtError,\n        onRecoverableError = defaultOnRecoverableError;\n      null !== options &&\n        void 0 !== options &&\n        (options.hydrate\n          ? console.warn(\n              \"hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead.\"\n            )\n          : \"object\" === typeof options &&\n            null !== options &&\n            options.$$typeof === REACT_ELEMENT_TYPE &&\n            console.error(\n              \"You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\\n\\n  let root = createRoot(domContainer);\\n  root.render(<App />);\"\n            ),\n        !0 === options.unstable_strictMode && (isStrictMode = !0),\n        void 0 !== options.identifierPrefix &&\n          (identifierPrefix = options.identifierPrefix),\n        void 0 !== options.onUncaughtError &&\n          (onUncaughtError = options.onUncaughtError),\n        void 0 !== options.onCaughtError &&\n          (onCaughtError = options.onCaughtError),\n        void 0 !== options.onRecoverableError &&\n          (onRecoverableError = options.onRecoverableError));\n      options = createFiberRoot(\n        container,\n        1,\n        !1,\n        null,\n        null,\n        isStrictMode,\n        identifierPrefix,\n        null,\n        onUncaughtError,\n        onCaughtError,\n        onRecoverableError,\n        defaultOnDefaultTransitionIndicator\n      );\n      container[internalContainerInstanceKey] = options.current;\n      listenToAllSupportedEvents(container);\n      return new ReactDOMRoot(options);\n    };\n    exports.hydrateRoot = function (container, initialChildren, options) {\n      if (!isValidContainer(container))\n        throw Error(\"Target container is not a DOM element.\");\n      warnIfReactDOMContainerInDEV(container);\n      void 0 === initialChildren &&\n        console.error(\n          \"Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)\"\n        );\n      var isStrictMode = !1,\n        identifierPrefix = \"\",\n        onUncaughtError = defaultOnUncaughtError,\n        onCaughtError = defaultOnCaughtError,\n        onRecoverableError = defaultOnRecoverableError,\n        formState = null;\n      null !== options &&\n        void 0 !== options &&\n        (!0 === options.unstable_strictMode && (isStrictMode = !0),\n        void 0 !== options.identifierPrefix &&\n          (identifierPrefix = options.identifierPrefix),\n        void 0 !== options.onUncaughtError &&\n          (onUncaughtError = options.onUncaughtError),\n        void 0 !== options.onCaughtError &&\n          (onCaughtError = options.onCaughtError),\n        void 0 !== options.onRecoverableError &&\n          (onRecoverableError = options.onRecoverableError),\n        void 0 !== options.formState && (formState = options.formState));\n      initialChildren = createFiberRoot(\n        container,\n        1,\n        !0,\n        initialChildren,\n        null != options ? options : null,\n        isStrictMode,\n        identifierPrefix,\n        formState,\n        onUncaughtError,\n        onCaughtError,\n        onRecoverableError,\n        defaultOnDefaultTransitionIndicator\n      );\n      initialChildren.context = getContextForSubtree(null);\n      options = initialChildren.current;\n      isStrictMode = requestUpdateLane(options);\n      isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n      identifierPrefix = createUpdate(isStrictMode);\n      identifierPrefix.callback = null;\n      enqueueUpdate(options, identifierPrefix, isStrictMode);\n      startUpdateTimerByLane(isStrictMode, \"hydrateRoot()\", null);\n      options = isStrictMode;\n      initialChildren.current.lanes = options;\n      markRootUpdated$1(initialChildren, options);\n      ensureRootIsScheduled(initialChildren);\n      container[internalContainerInstanceKey] = initialChildren.current;\n      listenToAllSupportedEvents(container);\n      return new ReactDOMHydrationRoot(initialChildren);\n    };\n    exports.version = \"19.2.3\";\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","/**\n * @license React\n * react-dom.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function noop() {}\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function createPortal$1(children, containerInfo, implementation) {\n      var key =\n        3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n      try {\n        testStringCoercion(key);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      JSCompiler_inline_result &&\n        (console.error(\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            key[Symbol.toStringTag]) ||\n            key.constructor.name ||\n            \"Object\"\n        ),\n        testStringCoercion(key));\n      return {\n        $$typeof: REACT_PORTAL_TYPE,\n        key: null == key ? null : \"\" + key,\n        children: children,\n        containerInfo: containerInfo,\n        implementation: implementation\n      };\n    }\n    function getCrossOriginStringAs(as, input) {\n      if (\"font\" === as) return \"\";\n      if (\"string\" === typeof input)\n        return \"use-credentials\" === input ? input : \"\";\n    }\n    function getValueDescriptorExpectingObjectForWarning(thing) {\n      return null === thing\n        ? \"`null`\"\n        : void 0 === thing\n          ? \"`undefined`\"\n          : \"\" === thing\n            ? \"an empty string\"\n            : 'something with type \"' + typeof thing + '\"';\n    }\n    function getValueDescriptorExpectingEnumForWarning(thing) {\n      return null === thing\n        ? \"`null`\"\n        : void 0 === thing\n          ? \"`undefined`\"\n          : \"\" === thing\n            ? \"an empty string\"\n            : \"string\" === typeof thing\n              ? JSON.stringify(thing)\n              : \"number\" === typeof thing\n                ? \"`\" + thing + \"`\"\n                : 'something with type \"' + typeof thing + '\"';\n    }\n    function resolveDispatcher() {\n      var dispatcher = ReactSharedInternals.H;\n      null === dispatcher &&\n        console.error(\n          \"Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\\n1. You might have mismatching versions of React and the renderer (such as React DOM)\\n2. You might be breaking the Rules of Hooks\\n3. You might have more than one copy of React in the same app\\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.\"\n        );\n      return dispatcher;\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      Internals = {\n        d: {\n          f: noop,\n          r: function () {\n            throw Error(\n              \"Invalid form element. requestFormReset must be passed a form that was rendered by React.\"\n            );\n          },\n          D: noop,\n          C: noop,\n          L: noop,\n          m: noop,\n          X: noop,\n          S: noop,\n          M: noop\n        },\n        p: 0,\n        findDOMNode: null\n      },\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\n    (\"function\" === typeof Map &&\n      null != Map.prototype &&\n      \"function\" === typeof Map.prototype.forEach &&\n      \"function\" === typeof Set &&\n      null != Set.prototype &&\n      \"function\" === typeof Set.prototype.clear &&\n      \"function\" === typeof Set.prototype.forEach) ||\n      console.error(\n        \"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\"\n      );\n    exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n      Internals;\n    exports.createPortal = function (children, container) {\n      var key =\n        2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n      if (\n        !container ||\n        (1 !== container.nodeType &&\n          9 !== container.nodeType &&\n          11 !== container.nodeType)\n      )\n        throw Error(\"Target container is not a DOM element.\");\n      return createPortal$1(children, container, null, key);\n    };\n    exports.flushSync = function (fn) {\n      var previousTransition = ReactSharedInternals.T,\n        previousUpdatePriority = Internals.p;\n      try {\n        if (((ReactSharedInternals.T = null), (Internals.p = 2), fn))\n          return fn();\n      } finally {\n        (ReactSharedInternals.T = previousTransition),\n          (Internals.p = previousUpdatePriority),\n          Internals.d.f() &&\n            console.error(\n              \"flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.\"\n            );\n      }\n    };\n    exports.preconnect = function (href, options) {\n      \"string\" === typeof href && href\n        ? null != options && \"object\" !== typeof options\n          ? console.error(\n              \"ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.\",\n              getValueDescriptorExpectingEnumForWarning(options)\n            )\n          : null != options &&\n            \"string\" !== typeof options.crossOrigin &&\n            console.error(\n              \"ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.\",\n              getValueDescriptorExpectingObjectForWarning(options.crossOrigin)\n            )\n        : console.error(\n            \"ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.\",\n            getValueDescriptorExpectingObjectForWarning(href)\n          );\n      \"string\" === typeof href &&\n        (options\n          ? ((options = options.crossOrigin),\n            (options =\n              \"string\" === typeof options\n                ? \"use-credentials\" === options\n                  ? options\n                  : \"\"\n                : void 0))\n          : (options = null),\n        Internals.d.C(href, options));\n    };\n    exports.prefetchDNS = function (href) {\n      if (\"string\" !== typeof href || !href)\n        console.error(\n          \"ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.\",\n          getValueDescriptorExpectingObjectForWarning(href)\n        );\n      else if (1 < arguments.length) {\n        var options = arguments[1];\n        \"object\" === typeof options && options.hasOwnProperty(\"crossOrigin\")\n          ? console.error(\n              \"ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.\",\n              getValueDescriptorExpectingEnumForWarning(options)\n            )\n          : console.error(\n              \"ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.\",\n              getValueDescriptorExpectingEnumForWarning(options)\n            );\n      }\n      \"string\" === typeof href && Internals.d.D(href);\n    };\n    exports.preinit = function (href, options) {\n      \"string\" === typeof href && href\n        ? null == options || \"object\" !== typeof options\n          ? console.error(\n              \"ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.\",\n              getValueDescriptorExpectingEnumForWarning(options)\n            )\n          : \"style\" !== options.as &&\n            \"script\" !== options.as &&\n            console.error(\n              'ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are \"style\" and \"script\".',\n              getValueDescriptorExpectingEnumForWarning(options.as)\n            )\n        : console.error(\n            \"ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.\",\n            getValueDescriptorExpectingObjectForWarning(href)\n          );\n      if (\n        \"string\" === typeof href &&\n        options &&\n        \"string\" === typeof options.as\n      ) {\n        var as = options.as,\n          crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n          integrity =\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          fetchPriority =\n            \"string\" === typeof options.fetchPriority\n              ? options.fetchPriority\n              : void 0;\n        \"style\" === as\n          ? Internals.d.S(\n              href,\n              \"string\" === typeof options.precedence\n                ? options.precedence\n                : void 0,\n              {\n                crossOrigin: crossOrigin,\n                integrity: integrity,\n                fetchPriority: fetchPriority\n              }\n            )\n          : \"script\" === as &&\n            Internals.d.X(href, {\n              crossOrigin: crossOrigin,\n              integrity: integrity,\n              fetchPriority: fetchPriority,\n              nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n            });\n      }\n    };\n    exports.preinitModule = function (href, options) {\n      var encountered = \"\";\n      (\"string\" === typeof href && href) ||\n        (encountered +=\n          \" The `href` argument encountered was \" +\n          getValueDescriptorExpectingObjectForWarning(href) +\n          \".\");\n      void 0 !== options && \"object\" !== typeof options\n        ? (encountered +=\n            \" The `options` argument encountered was \" +\n            getValueDescriptorExpectingObjectForWarning(options) +\n            \".\")\n        : options &&\n          \"as\" in options &&\n          \"script\" !== options.as &&\n          (encountered +=\n            \" The `as` option encountered was \" +\n            getValueDescriptorExpectingEnumForWarning(options.as) +\n            \".\");\n      if (encountered)\n        console.error(\n          \"ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s\",\n          encountered\n        );\n      else\n        switch (\n          ((encountered =\n            options && \"string\" === typeof options.as ? options.as : \"script\"),\n          encountered)\n        ) {\n          case \"script\":\n            break;\n          default:\n            (encountered =\n              getValueDescriptorExpectingEnumForWarning(encountered)),\n              console.error(\n                'ReactDOM.preinitModule(): Currently the only supported \"as\" type for this function is \"script\" but received \"%s\" instead. This warning was generated for `href` \"%s\". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',\n                encountered,\n                href\n              );\n        }\n      if (\"string\" === typeof href)\n        if (\"object\" === typeof options && null !== options) {\n          if (null == options.as || \"script\" === options.as)\n            (encountered = getCrossOriginStringAs(\n              options.as,\n              options.crossOrigin\n            )),\n              Internals.d.M(href, {\n                crossOrigin: encountered,\n                integrity:\n                  \"string\" === typeof options.integrity\n                    ? options.integrity\n                    : void 0,\n                nonce:\n                  \"string\" === typeof options.nonce ? options.nonce : void 0\n              });\n        } else null == options && Internals.d.M(href);\n    };\n    exports.preload = function (href, options) {\n      var encountered = \"\";\n      (\"string\" === typeof href && href) ||\n        (encountered +=\n          \" The `href` argument encountered was \" +\n          getValueDescriptorExpectingObjectForWarning(href) +\n          \".\");\n      null == options || \"object\" !== typeof options\n        ? (encountered +=\n            \" The `options` argument encountered was \" +\n            getValueDescriptorExpectingObjectForWarning(options) +\n            \".\")\n        : (\"string\" === typeof options.as && options.as) ||\n          (encountered +=\n            \" The `as` option encountered was \" +\n            getValueDescriptorExpectingObjectForWarning(options.as) +\n            \".\");\n      encountered &&\n        console.error(\n          'ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel=\"preload\" as=\"...\" />` tag.%s',\n          encountered\n        );\n      if (\n        \"string\" === typeof href &&\n        \"object\" === typeof options &&\n        null !== options &&\n        \"string\" === typeof options.as\n      ) {\n        encountered = options.as;\n        var crossOrigin = getCrossOriginStringAs(\n          encountered,\n          options.crossOrigin\n        );\n        Internals.d.L(href, encountered, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n          type: \"string\" === typeof options.type ? options.type : void 0,\n          fetchPriority:\n            \"string\" === typeof options.fetchPriority\n              ? options.fetchPriority\n              : void 0,\n          referrerPolicy:\n            \"string\" === typeof options.referrerPolicy\n              ? options.referrerPolicy\n              : void 0,\n          imageSrcSet:\n            \"string\" === typeof options.imageSrcSet\n              ? options.imageSrcSet\n              : void 0,\n          imageSizes:\n            \"string\" === typeof options.imageSizes\n              ? options.imageSizes\n              : void 0,\n          media: \"string\" === typeof options.media ? options.media : void 0\n        });\n      }\n    };\n    exports.preloadModule = function (href, options) {\n      var encountered = \"\";\n      (\"string\" === typeof href && href) ||\n        (encountered +=\n          \" The `href` argument encountered was \" +\n          getValueDescriptorExpectingObjectForWarning(href) +\n          \".\");\n      void 0 !== options && \"object\" !== typeof options\n        ? (encountered +=\n            \" The `options` argument encountered was \" +\n            getValueDescriptorExpectingObjectForWarning(options) +\n            \".\")\n        : options &&\n          \"as\" in options &&\n          \"string\" !== typeof options.as &&\n          (encountered +=\n            \" The `as` option encountered was \" +\n            getValueDescriptorExpectingObjectForWarning(options.as) +\n            \".\");\n      encountered &&\n        console.error(\n          'ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel=\"modulepreload\" as=\"...\" />` tag.%s',\n          encountered\n        );\n      \"string\" === typeof href &&\n        (options\n          ? ((encountered = getCrossOriginStringAs(\n              options.as,\n              options.crossOrigin\n            )),\n            Internals.d.m(href, {\n              as:\n                \"string\" === typeof options.as && \"script\" !== options.as\n                  ? options.as\n                  : void 0,\n              crossOrigin: encountered,\n              integrity:\n                \"string\" === typeof options.integrity\n                  ? options.integrity\n                  : void 0\n            }))\n          : Internals.d.m(href));\n    };\n    exports.requestFormReset = function (form) {\n      Internals.d.r(form);\n    };\n    exports.unstable_batchedUpdates = function (fn, a) {\n      return fn(a);\n    };\n    exports.useFormState = function (action, initialState, permalink) {\n      return resolveDispatcher().useFormState(action, initialState, permalink);\n    };\n    exports.useFormStatus = function () {\n      return resolveDispatcher().useHostTransitionStatus();\n    };\n    exports.version = \"19.2.3\";\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      isValidElement(node)\n        ? node._store && (node._store.validated = 1)\n        : \"object\" === typeof node &&\n          null !== node &&\n          node.$$typeof === REACT_LAZY_TYPE &&\n          (\"fulfilled\" === node._payload.status\n            ? isValidElement(node._payload.value) &&\n              node._payload.value._store &&\n              (node._payload.value._store.validated = 1)\n            : node._store && (node._store.validated = 1));\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    var React = require(\"react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsx = function (type, config, maybeKey) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !1,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.jsxs = function (type, config, maybeKey) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !0,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n","/**\n * @license React\n * react.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function defineDeprecationWarning(methodName, info) {\n      Object.defineProperty(Component.prototype, methodName, {\n        get: function () {\n          console.warn(\n            \"%s(...) is deprecated in plain JavaScript React classes. %s\",\n            info[0],\n            info[1]\n          );\n        }\n      });\n    }\n    function getIteratorFn(maybeIterable) {\n      if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n        return null;\n      maybeIterable =\n        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n        maybeIterable[\"@@iterator\"];\n      return \"function\" === typeof maybeIterable ? maybeIterable : null;\n    }\n    function warnNoop(publicInstance, callerName) {\n      publicInstance =\n        ((publicInstance = publicInstance.constructor) &&\n          (publicInstance.displayName || publicInstance.name)) ||\n        \"ReactClass\";\n      var warningKey = publicInstance + \".\" + callerName;\n      didWarnStateUpdateForUnmountedComponent[warningKey] ||\n        (console.error(\n          \"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.\",\n          callerName,\n          publicInstance\n        ),\n        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));\n    }\n    function Component(props, context, updater) {\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n    }\n    function ComponentDummy() {}\n    function PureComponent(props, context, updater) {\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n    }\n    function noop() {}\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function cloneAndReplaceKey(oldElement, newKey) {\n      newKey = ReactElement(\n        oldElement.type,\n        newKey,\n        oldElement.props,\n        oldElement._owner,\n        oldElement._debugStack,\n        oldElement._debugTask\n      );\n      oldElement._store &&\n        (newKey._store.validated = oldElement._store.validated);\n      return newKey;\n    }\n    function validateChildKeys(node) {\n      isValidElement(node)\n        ? node._store && (node._store.validated = 1)\n        : \"object\" === typeof node &&\n          null !== node &&\n          node.$$typeof === REACT_LAZY_TYPE &&\n          (\"fulfilled\" === node._payload.status\n            ? isValidElement(node._payload.value) &&\n              node._payload.value._store &&\n              (node._payload.value._store.validated = 1)\n            : node._store && (node._store.validated = 1));\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    function escape(key) {\n      var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n      return (\n        \"$\" +\n        key.replace(/[=:]/g, function (match) {\n          return escaperLookup[match];\n        })\n      );\n    }\n    function getElementKey(element, index) {\n      return \"object\" === typeof element &&\n        null !== element &&\n        null != element.key\n        ? (checkKeyStringCoercion(element.key), escape(\"\" + element.key))\n        : index.toString(36);\n    }\n    function resolveThenable(thenable) {\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n        default:\n          switch (\n            (\"string\" === typeof thenable.status\n              ? thenable.then(noop, noop)\n              : ((thenable.status = \"pending\"),\n                thenable.then(\n                  function (fulfilledValue) {\n                    \"pending\" === thenable.status &&\n                      ((thenable.status = \"fulfilled\"),\n                      (thenable.value = fulfilledValue));\n                  },\n                  function (error) {\n                    \"pending\" === thenable.status &&\n                      ((thenable.status = \"rejected\"),\n                      (thenable.reason = error));\n                  }\n                )),\n            thenable.status)\n          ) {\n            case \"fulfilled\":\n              return thenable.value;\n            case \"rejected\":\n              throw thenable.reason;\n          }\n      }\n      throw thenable;\n    }\n    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n      var type = typeof children;\n      if (\"undefined\" === type || \"boolean\" === type) children = null;\n      var invokeCallback = !1;\n      if (null === children) invokeCallback = !0;\n      else\n        switch (type) {\n          case \"bigint\":\n          case \"string\":\n          case \"number\":\n            invokeCallback = !0;\n            break;\n          case \"object\":\n            switch (children.$$typeof) {\n              case REACT_ELEMENT_TYPE:\n              case REACT_PORTAL_TYPE:\n                invokeCallback = !0;\n                break;\n              case REACT_LAZY_TYPE:\n                return (\n                  (invokeCallback = children._init),\n                  mapIntoArray(\n                    invokeCallback(children._payload),\n                    array,\n                    escapedPrefix,\n                    nameSoFar,\n                    callback\n                  )\n                );\n            }\n        }\n      if (invokeCallback) {\n        invokeCallback = children;\n        callback = callback(invokeCallback);\n        var childKey =\n          \"\" === nameSoFar ? \".\" + getElementKey(invokeCallback, 0) : nameSoFar;\n        isArrayImpl(callback)\n          ? ((escapedPrefix = \"\"),\n            null != childKey &&\n              (escapedPrefix =\n                childKey.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n            mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n              return c;\n            }))\n          : null != callback &&\n            (isValidElement(callback) &&\n              (null != callback.key &&\n                ((invokeCallback && invokeCallback.key === callback.key) ||\n                  checkKeyStringCoercion(callback.key)),\n              (escapedPrefix = cloneAndReplaceKey(\n                callback,\n                escapedPrefix +\n                  (null == callback.key ||\n                  (invokeCallback && invokeCallback.key === callback.key)\n                    ? \"\"\n                    : (\"\" + callback.key).replace(\n                        userProvidedKeyEscapeRegex,\n                        \"$&/\"\n                      ) + \"/\") +\n                  childKey\n              )),\n              \"\" !== nameSoFar &&\n                null != invokeCallback &&\n                isValidElement(invokeCallback) &&\n                null == invokeCallback.key &&\n                invokeCallback._store &&\n                !invokeCallback._store.validated &&\n                (escapedPrefix._store.validated = 2),\n              (callback = escapedPrefix)),\n            array.push(callback));\n        return 1;\n      }\n      invokeCallback = 0;\n      childKey = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n      if (isArrayImpl(children))\n        for (var i = 0; i < children.length; i++)\n          (nameSoFar = children[i]),\n            (type = childKey + getElementKey(nameSoFar, i)),\n            (invokeCallback += mapIntoArray(\n              nameSoFar,\n              array,\n              escapedPrefix,\n              type,\n              callback\n            ));\n      else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n        for (\n          i === children.entries &&\n            (didWarnAboutMaps ||\n              console.warn(\n                \"Using Maps as children is not supported. Use an array of keyed ReactElements instead.\"\n              ),\n            (didWarnAboutMaps = !0)),\n            children = i.call(children),\n            i = 0;\n          !(nameSoFar = children.next()).done;\n\n        )\n          (nameSoFar = nameSoFar.value),\n            (type = childKey + getElementKey(nameSoFar, i++)),\n            (invokeCallback += mapIntoArray(\n              nameSoFar,\n              array,\n              escapedPrefix,\n              type,\n              callback\n            ));\n      else if (\"object\" === type) {\n        if (\"function\" === typeof children.then)\n          return mapIntoArray(\n            resolveThenable(children),\n            array,\n            escapedPrefix,\n            nameSoFar,\n            callback\n          );\n        array = String(children);\n        throw Error(\n          \"Objects are not valid as a React child (found: \" +\n            (\"[object Object]\" === array\n              ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n              : array) +\n            \"). If you meant to render a collection of children, use an array instead.\"\n        );\n      }\n      return invokeCallback;\n    }\n    function mapChildren(children, func, context) {\n      if (null == children) return children;\n      var result = [],\n        count = 0;\n      mapIntoArray(children, result, \"\", \"\", function (child) {\n        return func.call(context, child, count++);\n      });\n      return result;\n    }\n    function lazyInitializer(payload) {\n      if (-1 === payload._status) {\n        var ioInfo = payload._ioInfo;\n        null != ioInfo && (ioInfo.start = ioInfo.end = performance.now());\n        ioInfo = payload._result;\n        var thenable = ioInfo();\n        thenable.then(\n          function (moduleObject) {\n            if (0 === payload._status || -1 === payload._status) {\n              payload._status = 1;\n              payload._result = moduleObject;\n              var _ioInfo = payload._ioInfo;\n              null != _ioInfo && (_ioInfo.end = performance.now());\n              void 0 === thenable.status &&\n                ((thenable.status = \"fulfilled\"),\n                (thenable.value = moduleObject));\n            }\n          },\n          function (error) {\n            if (0 === payload._status || -1 === payload._status) {\n              payload._status = 2;\n              payload._result = error;\n              var _ioInfo2 = payload._ioInfo;\n              null != _ioInfo2 && (_ioInfo2.end = performance.now());\n              void 0 === thenable.status &&\n                ((thenable.status = \"rejected\"), (thenable.reason = error));\n            }\n          }\n        );\n        ioInfo = payload._ioInfo;\n        if (null != ioInfo) {\n          ioInfo.value = thenable;\n          var displayName = thenable.displayName;\n          \"string\" === typeof displayName && (ioInfo.name = displayName);\n        }\n        -1 === payload._status &&\n          ((payload._status = 0), (payload._result = thenable));\n      }\n      if (1 === payload._status)\n        return (\n          (ioInfo = payload._result),\n          void 0 === ioInfo &&\n            console.error(\n              \"lazy: Expected the result of a dynamic import() call. Instead received: %s\\n\\nYour code should look like: \\n  const MyComponent = lazy(() => import('./MyComponent'))\\n\\nDid you accidentally put curly braces around the import?\",\n              ioInfo\n            ),\n          \"default\" in ioInfo ||\n            console.error(\n              \"lazy: Expected the result of a dynamic import() call. Instead received: %s\\n\\nYour code should look like: \\n  const MyComponent = lazy(() => import('./MyComponent'))\",\n              ioInfo\n            ),\n          ioInfo.default\n        );\n      throw payload._result;\n    }\n    function resolveDispatcher() {\n      var dispatcher = ReactSharedInternals.H;\n      null === dispatcher &&\n        console.error(\n          \"Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\\n1. You might have mismatching versions of React and the renderer (such as React DOM)\\n2. You might be breaking the Rules of Hooks\\n3. You might have more than one copy of React in the same app\\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.\"\n        );\n      return dispatcher;\n    }\n    function releaseAsyncTransition() {\n      ReactSharedInternals.asyncTransitions--;\n    }\n    function enqueueTask(task) {\n      if (null === enqueueTaskImpl)\n        try {\n          var requireString = (\"require\" + Math.random()).slice(0, 7);\n          enqueueTaskImpl = (module && module[requireString]).call(\n            module,\n            \"timers\"\n          ).setImmediate;\n        } catch (_err) {\n          enqueueTaskImpl = function (callback) {\n            !1 === didWarnAboutMessageChannel &&\n              ((didWarnAboutMessageChannel = !0),\n              \"undefined\" === typeof MessageChannel &&\n                console.error(\n                  \"This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning.\"\n                ));\n            var channel = new MessageChannel();\n            channel.port1.onmessage = callback;\n            channel.port2.postMessage(void 0);\n          };\n        }\n      return enqueueTaskImpl(task);\n    }\n    function aggregateErrors(errors) {\n      return 1 < errors.length && \"function\" === typeof AggregateError\n        ? new AggregateError(errors)\n        : errors[0];\n    }\n    function popActScope(prevActQueue, prevActScopeDepth) {\n      prevActScopeDepth !== actScopeDepth - 1 &&\n        console.error(\n          \"You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. \"\n        );\n      actScopeDepth = prevActScopeDepth;\n    }\n    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {\n      var queue = ReactSharedInternals.actQueue;\n      if (null !== queue)\n        if (0 !== queue.length)\n          try {\n            flushActQueue(queue);\n            enqueueTask(function () {\n              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);\n            });\n            return;\n          } catch (error) {\n            ReactSharedInternals.thrownErrors.push(error);\n          }\n        else ReactSharedInternals.actQueue = null;\n      0 < ReactSharedInternals.thrownErrors.length\n        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),\n          (ReactSharedInternals.thrownErrors.length = 0),\n          reject(queue))\n        : resolve(returnValue);\n    }\n    function flushActQueue(queue) {\n      if (!isFlushing) {\n        isFlushing = !0;\n        var i = 0;\n        try {\n          for (; i < queue.length; i++) {\n            var callback = queue[i];\n            do {\n              ReactSharedInternals.didUsePromise = !1;\n              var continuation = callback(!1);\n              if (null !== continuation) {\n                if (ReactSharedInternals.didUsePromise) {\n                  queue[i] = callback;\n                  queue.splice(0, i);\n                  return;\n                }\n                callback = continuation;\n              } else break;\n            } while (1);\n          }\n          queue.length = 0;\n        } catch (error) {\n          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);\n        } finally {\n          isFlushing = !1;\n        }\n      }\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n      didWarnStateUpdateForUnmountedComponent = {},\n      ReactNoopUpdateQueue = {\n        isMounted: function () {\n          return !1;\n        },\n        enqueueForceUpdate: function (publicInstance) {\n          warnNoop(publicInstance, \"forceUpdate\");\n        },\n        enqueueReplaceState: function (publicInstance) {\n          warnNoop(publicInstance, \"replaceState\");\n        },\n        enqueueSetState: function (publicInstance) {\n          warnNoop(publicInstance, \"setState\");\n        }\n      },\n      assign = Object.assign,\n      emptyObject = {};\n    Object.freeze(emptyObject);\n    Component.prototype.isReactComponent = {};\n    Component.prototype.setState = function (partialState, callback) {\n      if (\n        \"object\" !== typeof partialState &&\n        \"function\" !== typeof partialState &&\n        null != partialState\n      )\n        throw Error(\n          \"takes an object of state variables to update or a function which returns an object of state variables.\"\n        );\n      this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n    };\n    Component.prototype.forceUpdate = function (callback) {\n      this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n    };\n    var deprecatedAPIs = {\n      isMounted: [\n        \"isMounted\",\n        \"Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.\"\n      ],\n      replaceState: [\n        \"replaceState\",\n        \"Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236).\"\n      ]\n    };\n    for (fnName in deprecatedAPIs)\n      deprecatedAPIs.hasOwnProperty(fnName) &&\n        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);\n    ComponentDummy.prototype = Component.prototype;\n    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();\n    deprecatedAPIs.constructor = PureComponent;\n    assign(deprecatedAPIs, Component.prototype);\n    deprecatedAPIs.isPureReactComponent = !0;\n    var isArrayImpl = Array.isArray,\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals = {\n        H: null,\n        A: null,\n        T: null,\n        S: null,\n        actQueue: null,\n        asyncTransitions: 0,\n        isBatchingLegacy: !1,\n        didScheduleLegacyUpdate: !1,\n        didUsePromise: !1,\n        thrownErrors: [],\n        getCurrentStack: null,\n        recentlyCreatedOwnerStacks: 0\n      },\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    deprecatedAPIs = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = deprecatedAPIs.react_stack_bottom_frame.bind(\n      deprecatedAPIs,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutMaps = !1,\n      userProvidedKeyEscapeRegex = /\\/+/g,\n      reportGlobalError =\n        \"function\" === typeof reportError\n          ? reportError\n          : function (error) {\n              if (\n                \"object\" === typeof window &&\n                \"function\" === typeof window.ErrorEvent\n              ) {\n                var event = new window.ErrorEvent(\"error\", {\n                  bubbles: !0,\n                  cancelable: !0,\n                  message:\n                    \"object\" === typeof error &&\n                    null !== error &&\n                    \"string\" === typeof error.message\n                      ? String(error.message)\n                      : String(error),\n                  error: error\n                });\n                if (!window.dispatchEvent(event)) return;\n              } else if (\n                \"object\" === typeof process &&\n                \"function\" === typeof process.emit\n              ) {\n                process.emit(\"uncaughtException\", error);\n                return;\n              }\n              console.error(error);\n            },\n      didWarnAboutMessageChannel = !1,\n      enqueueTaskImpl = null,\n      actScopeDepth = 0,\n      didWarnNoAwaitAct = !1,\n      isFlushing = !1,\n      queueSeveralMicrotasks =\n        \"function\" === typeof queueMicrotask\n          ? function (callback) {\n              queueMicrotask(function () {\n                return queueMicrotask(callback);\n              });\n            }\n          : enqueueTask;\n    deprecatedAPIs = Object.freeze({\n      __proto__: null,\n      c: function (size) {\n        return resolveDispatcher().useMemoCache(size);\n      }\n    });\n    var fnName = {\n      map: mapChildren,\n      forEach: function (children, forEachFunc, forEachContext) {\n        mapChildren(\n          children,\n          function () {\n            forEachFunc.apply(this, arguments);\n          },\n          forEachContext\n        );\n      },\n      count: function (children) {\n        var n = 0;\n        mapChildren(children, function () {\n          n++;\n        });\n        return n;\n      },\n      toArray: function (children) {\n        return (\n          mapChildren(children, function (child) {\n            return child;\n          }) || []\n        );\n      },\n      only: function (children) {\n        if (!isValidElement(children))\n          throw Error(\n            \"React.Children.only expected to receive a single React element child.\"\n          );\n        return children;\n      }\n    };\n    exports.Activity = REACT_ACTIVITY_TYPE;\n    exports.Children = fnName;\n    exports.Component = Component;\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.Profiler = REACT_PROFILER_TYPE;\n    exports.PureComponent = PureComponent;\n    exports.StrictMode = REACT_STRICT_MODE_TYPE;\n    exports.Suspense = REACT_SUSPENSE_TYPE;\n    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n      ReactSharedInternals;\n    exports.__COMPILER_RUNTIME = deprecatedAPIs;\n    exports.act = function (callback) {\n      var prevActQueue = ReactSharedInternals.actQueue,\n        prevActScopeDepth = actScopeDepth;\n      actScopeDepth++;\n      var queue = (ReactSharedInternals.actQueue =\n          null !== prevActQueue ? prevActQueue : []),\n        didAwaitActCall = !1;\n      try {\n        var result = callback();\n      } catch (error) {\n        ReactSharedInternals.thrownErrors.push(error);\n      }\n      if (0 < ReactSharedInternals.thrownErrors.length)\n        throw (\n          (popActScope(prevActQueue, prevActScopeDepth),\n          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),\n          (ReactSharedInternals.thrownErrors.length = 0),\n          callback)\n        );\n      if (\n        null !== result &&\n        \"object\" === typeof result &&\n        \"function\" === typeof result.then\n      ) {\n        var thenable = result;\n        queueSeveralMicrotasks(function () {\n          didAwaitActCall ||\n            didWarnNoAwaitAct ||\n            ((didWarnNoAwaitAct = !0),\n            console.error(\n              \"You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);\"\n            ));\n        });\n        return {\n          then: function (resolve, reject) {\n            didAwaitActCall = !0;\n            thenable.then(\n              function (returnValue) {\n                popActScope(prevActQueue, prevActScopeDepth);\n                if (0 === prevActScopeDepth) {\n                  try {\n                    flushActQueue(queue),\n                      enqueueTask(function () {\n                        return recursivelyFlushAsyncActWork(\n                          returnValue,\n                          resolve,\n                          reject\n                        );\n                      });\n                  } catch (error$0) {\n                    ReactSharedInternals.thrownErrors.push(error$0);\n                  }\n                  if (0 < ReactSharedInternals.thrownErrors.length) {\n                    var _thrownError = aggregateErrors(\n                      ReactSharedInternals.thrownErrors\n                    );\n                    ReactSharedInternals.thrownErrors.length = 0;\n                    reject(_thrownError);\n                  }\n                } else resolve(returnValue);\n              },\n              function (error) {\n                popActScope(prevActQueue, prevActScopeDepth);\n                0 < ReactSharedInternals.thrownErrors.length\n                  ? ((error = aggregateErrors(\n                      ReactSharedInternals.thrownErrors\n                    )),\n                    (ReactSharedInternals.thrownErrors.length = 0),\n                    reject(error))\n                  : reject(error);\n              }\n            );\n          }\n        };\n      }\n      var returnValue$jscomp$0 = result;\n      popActScope(prevActQueue, prevActScopeDepth);\n      0 === prevActScopeDepth &&\n        (flushActQueue(queue),\n        0 !== queue.length &&\n          queueSeveralMicrotasks(function () {\n            didAwaitActCall ||\n              didWarnNoAwaitAct ||\n              ((didWarnNoAwaitAct = !0),\n              console.error(\n                \"A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\\n\\nawait act(() => ...)\"\n              ));\n          }),\n        (ReactSharedInternals.actQueue = null));\n      if (0 < ReactSharedInternals.thrownErrors.length)\n        throw (\n          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),\n          (ReactSharedInternals.thrownErrors.length = 0),\n          callback)\n        );\n      return {\n        then: function (resolve, reject) {\n          didAwaitActCall = !0;\n          0 === prevActScopeDepth\n            ? ((ReactSharedInternals.actQueue = queue),\n              enqueueTask(function () {\n                return recursivelyFlushAsyncActWork(\n                  returnValue$jscomp$0,\n                  resolve,\n                  reject\n                );\n              }))\n            : resolve(returnValue$jscomp$0);\n        }\n      };\n    };\n    exports.cache = function (fn) {\n      return function () {\n        return fn.apply(null, arguments);\n      };\n    };\n    exports.cacheSignal = function () {\n      return null;\n    };\n    exports.captureOwnerStack = function () {\n      var getCurrentStack = ReactSharedInternals.getCurrentStack;\n      return null === getCurrentStack ? null : getCurrentStack();\n    };\n    exports.cloneElement = function (element, config, children) {\n      if (null === element || void 0 === element)\n        throw Error(\n          \"The argument must be a React element, but you passed \" +\n            element +\n            \".\"\n        );\n      var props = assign({}, element.props),\n        key = element.key,\n        owner = element._owner;\n      if (null != config) {\n        var JSCompiler_inline_result;\n        a: {\n          if (\n            hasOwnProperty.call(config, \"ref\") &&\n            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(\n              config,\n              \"ref\"\n            ).get) &&\n            JSCompiler_inline_result.isReactWarning\n          ) {\n            JSCompiler_inline_result = !1;\n            break a;\n          }\n          JSCompiler_inline_result = void 0 !== config.ref;\n        }\n        JSCompiler_inline_result && (owner = getOwner());\n        hasValidKey(config) &&\n          (checkKeyStringCoercion(config.key), (key = \"\" + config.key));\n        for (propName in config)\n          !hasOwnProperty.call(config, propName) ||\n            \"key\" === propName ||\n            \"__self\" === propName ||\n            \"__source\" === propName ||\n            (\"ref\" === propName && void 0 === config.ref) ||\n            (props[propName] = config[propName]);\n      }\n      var propName = arguments.length - 2;\n      if (1 === propName) props.children = children;\n      else if (1 < propName) {\n        JSCompiler_inline_result = Array(propName);\n        for (var i = 0; i < propName; i++)\n          JSCompiler_inline_result[i] = arguments[i + 2];\n        props.children = JSCompiler_inline_result;\n      }\n      props = ReactElement(\n        element.type,\n        key,\n        props,\n        owner,\n        element._debugStack,\n        element._debugTask\n      );\n      for (key = 2; key < arguments.length; key++)\n        validateChildKeys(arguments[key]);\n      return props;\n    };\n    exports.createContext = function (defaultValue) {\n      defaultValue = {\n        $$typeof: REACT_CONTEXT_TYPE,\n        _currentValue: defaultValue,\n        _currentValue2: defaultValue,\n        _threadCount: 0,\n        Provider: null,\n        Consumer: null\n      };\n      defaultValue.Provider = defaultValue;\n      defaultValue.Consumer = {\n        $$typeof: REACT_CONSUMER_TYPE,\n        _context: defaultValue\n      };\n      defaultValue._currentRenderer = null;\n      defaultValue._currentRenderer2 = null;\n      return defaultValue;\n    };\n    exports.createElement = function (type, config, children) {\n      for (var i = 2; i < arguments.length; i++)\n        validateChildKeys(arguments[i]);\n      i = {};\n      var key = null;\n      if (null != config)\n        for (propName in (didWarnAboutOldJSXRuntime ||\n          !(\"__self\" in config) ||\n          \"key\" in config ||\n          ((didWarnAboutOldJSXRuntime = !0),\n          console.warn(\n            \"Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform\"\n          )),\n        hasValidKey(config) &&\n          (checkKeyStringCoercion(config.key), (key = \"\" + config.key)),\n        config))\n          hasOwnProperty.call(config, propName) &&\n            \"key\" !== propName &&\n            \"__self\" !== propName &&\n            \"__source\" !== propName &&\n            (i[propName] = config[propName]);\n      var childrenLength = arguments.length - 2;\n      if (1 === childrenLength) i.children = children;\n      else if (1 < childrenLength) {\n        for (\n          var childArray = Array(childrenLength), _i = 0;\n          _i < childrenLength;\n          _i++\n        )\n          childArray[_i] = arguments[_i + 2];\n        Object.freeze && Object.freeze(childArray);\n        i.children = childArray;\n      }\n      if (type && type.defaultProps)\n        for (propName in ((childrenLength = type.defaultProps), childrenLength))\n          void 0 === i[propName] && (i[propName] = childrenLength[propName]);\n      key &&\n        defineKeyPropWarningGetter(\n          i,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return ReactElement(\n        type,\n        key,\n        i,\n        getOwner(),\n        propName ? Error(\"react-stack-top-frame\") : unknownOwnerDebugStack,\n        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.createRef = function () {\n      var refObject = { current: null };\n      Object.seal(refObject);\n      return refObject;\n    };\n    exports.forwardRef = function (render) {\n      null != render && render.$$typeof === REACT_MEMO_TYPE\n        ? console.error(\n            \"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...)).\"\n          )\n        : \"function\" !== typeof render\n          ? console.error(\n              \"forwardRef requires a render function but was given %s.\",\n              null === render ? \"null\" : typeof render\n            )\n          : 0 !== render.length &&\n            2 !== render.length &&\n            console.error(\n              \"forwardRef render functions accept exactly two parameters: props and ref. %s\",\n              1 === render.length\n                ? \"Did you forget to use the ref parameter?\"\n                : \"Any additional parameter will be undefined.\"\n            );\n      null != render &&\n        null != render.defaultProps &&\n        console.error(\n          \"forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?\"\n        );\n      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },\n        ownName;\n      Object.defineProperty(elementType, \"displayName\", {\n        enumerable: !1,\n        configurable: !0,\n        get: function () {\n          return ownName;\n        },\n        set: function (name) {\n          ownName = name;\n          render.name ||\n            render.displayName ||\n            (Object.defineProperty(render, \"name\", { value: name }),\n            (render.displayName = name));\n        }\n      });\n      return elementType;\n    };\n    exports.isValidElement = isValidElement;\n    exports.lazy = function (ctor) {\n      ctor = { _status: -1, _result: ctor };\n      var lazyType = {\n          $$typeof: REACT_LAZY_TYPE,\n          _payload: ctor,\n          _init: lazyInitializer\n        },\n        ioInfo = {\n          name: \"lazy\",\n          start: -1,\n          end: -1,\n          value: null,\n          owner: null,\n          debugStack: Error(\"react-stack-top-frame\"),\n          debugTask: console.createTask ? console.createTask(\"lazy()\") : null\n        };\n      ctor._ioInfo = ioInfo;\n      lazyType._debugInfo = [{ awaited: ioInfo }];\n      return lazyType;\n    };\n    exports.memo = function (type, compare) {\n      null == type &&\n        console.error(\n          \"memo: The first argument must be a component. Instead received: %s\",\n          null === type ? \"null\" : typeof type\n        );\n      compare = {\n        $$typeof: REACT_MEMO_TYPE,\n        type: type,\n        compare: void 0 === compare ? null : compare\n      };\n      var ownName;\n      Object.defineProperty(compare, \"displayName\", {\n        enumerable: !1,\n        configurable: !0,\n        get: function () {\n          return ownName;\n        },\n        set: function (name) {\n          ownName = name;\n          type.name ||\n            type.displayName ||\n            (Object.defineProperty(type, \"name\", { value: name }),\n            (type.displayName = name));\n        }\n      });\n      return compare;\n    };\n    exports.startTransition = function (scope) {\n      var prevTransition = ReactSharedInternals.T,\n        currentTransition = {};\n      currentTransition._updatedFibers = new Set();\n      ReactSharedInternals.T = currentTransition;\n      try {\n        var returnValue = scope(),\n          onStartTransitionFinish = ReactSharedInternals.S;\n        null !== onStartTransitionFinish &&\n          onStartTransitionFinish(currentTransition, returnValue);\n        \"object\" === typeof returnValue &&\n          null !== returnValue &&\n          \"function\" === typeof returnValue.then &&\n          (ReactSharedInternals.asyncTransitions++,\n          returnValue.then(releaseAsyncTransition, releaseAsyncTransition),\n          returnValue.then(noop, reportGlobalError));\n      } catch (error) {\n        reportGlobalError(error);\n      } finally {\n        null === prevTransition &&\n          currentTransition._updatedFibers &&\n          ((scope = currentTransition._updatedFibers.size),\n          currentTransition._updatedFibers.clear(),\n          10 < scope &&\n            console.warn(\n              \"Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.\"\n            )),\n          null !== prevTransition &&\n            null !== currentTransition.types &&\n            (null !== prevTransition.types &&\n              prevTransition.types !== currentTransition.types &&\n              console.error(\n                \"We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React.\"\n              ),\n            (prevTransition.types = currentTransition.types)),\n          (ReactSharedInternals.T = prevTransition);\n      }\n    };\n    exports.unstable_useCacheRefresh = function () {\n      return resolveDispatcher().useCacheRefresh();\n    };\n    exports.use = function (usable) {\n      return resolveDispatcher().use(usable);\n    };\n    exports.useActionState = function (action, initialState, permalink) {\n      return resolveDispatcher().useActionState(\n        action,\n        initialState,\n        permalink\n      );\n    };\n    exports.useCallback = function (callback, deps) {\n      return resolveDispatcher().useCallback(callback, deps);\n    };\n    exports.useContext = function (Context) {\n      var dispatcher = resolveDispatcher();\n      Context.$$typeof === REACT_CONSUMER_TYPE &&\n        console.error(\n          \"Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?\"\n        );\n      return dispatcher.useContext(Context);\n    };\n    exports.useDebugValue = function (value, formatterFn) {\n      return resolveDispatcher().useDebugValue(value, formatterFn);\n    };\n    exports.useDeferredValue = function (value, initialValue) {\n      return resolveDispatcher().useDeferredValue(value, initialValue);\n    };\n    exports.useEffect = function (create, deps) {\n      null == create &&\n        console.warn(\n          \"React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?\"\n        );\n      return resolveDispatcher().useEffect(create, deps);\n    };\n    exports.useEffectEvent = function (callback) {\n      return resolveDispatcher().useEffectEvent(callback);\n    };\n    exports.useId = function () {\n      return resolveDispatcher().useId();\n    };\n    exports.useImperativeHandle = function (ref, create, deps) {\n      return resolveDispatcher().useImperativeHandle(ref, create, deps);\n    };\n    exports.useInsertionEffect = function (create, deps) {\n      null == create &&\n        console.warn(\n          \"React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?\"\n        );\n      return resolveDispatcher().useInsertionEffect(create, deps);\n    };\n    exports.useLayoutEffect = function (create, deps) {\n      null == create &&\n        console.warn(\n          \"React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?\"\n        );\n      return resolveDispatcher().useLayoutEffect(create, deps);\n    };\n    exports.useMemo = function (create, deps) {\n      return resolveDispatcher().useMemo(create, deps);\n    };\n    exports.useOptimistic = function (passthrough, reducer) {\n      return resolveDispatcher().useOptimistic(passthrough, reducer);\n    };\n    exports.useReducer = function (reducer, initialArg, init) {\n      return resolveDispatcher().useReducer(reducer, initialArg, init);\n    };\n    exports.useRef = function (initialValue) {\n      return resolveDispatcher().useRef(initialValue);\n    };\n    exports.useState = function (initialState) {\n      return resolveDispatcher().useState(initialState);\n    };\n    exports.useSyncExternalStore = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot\n    ) {\n      return resolveDispatcher().useSyncExternalStore(\n        subscribe,\n        getSnapshot,\n        getServerSnapshot\n      );\n    };\n    exports.useTransition = function () {\n      return resolveDispatcher().useTransition();\n    };\n    exports.version = \"19.2.3\";\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function performWorkUntilDeadline() {\n      needsPaint = !1;\n      if (isMessageLoopRunning) {\n        var currentTime = exports.unstable_now();\n        startTime = currentTime;\n        var hasMoreWork = !0;\n        try {\n          a: {\n            isHostCallbackScheduled = !1;\n            isHostTimeoutScheduled &&\n              ((isHostTimeoutScheduled = !1),\n              localClearTimeout(taskTimeoutID),\n              (taskTimeoutID = -1));\n            isPerformingWork = !0;\n            var previousPriorityLevel = currentPriorityLevel;\n            try {\n              b: {\n                advanceTimers(currentTime);\n                for (\n                  currentTask = peek(taskQueue);\n                  null !== currentTask &&\n                  !(\n                    currentTask.expirationTime > currentTime &&\n                    shouldYieldToHost()\n                  );\n\n                ) {\n                  var callback = currentTask.callback;\n                  if (\"function\" === typeof callback) {\n                    currentTask.callback = null;\n                    currentPriorityLevel = currentTask.priorityLevel;\n                    var continuationCallback = callback(\n                      currentTask.expirationTime <= currentTime\n                    );\n                    currentTime = exports.unstable_now();\n                    if (\"function\" === typeof continuationCallback) {\n                      currentTask.callback = continuationCallback;\n                      advanceTimers(currentTime);\n                      hasMoreWork = !0;\n                      break b;\n                    }\n                    currentTask === peek(taskQueue) && pop(taskQueue);\n                    advanceTimers(currentTime);\n                  } else pop(taskQueue);\n                  currentTask = peek(taskQueue);\n                }\n                if (null !== currentTask) hasMoreWork = !0;\n                else {\n                  var firstTimer = peek(timerQueue);\n                  null !== firstTimer &&\n                    requestHostTimeout(\n                      handleTimeout,\n                      firstTimer.startTime - currentTime\n                    );\n                  hasMoreWork = !1;\n                }\n              }\n              break a;\n            } finally {\n              (currentTask = null),\n                (currentPriorityLevel = previousPriorityLevel),\n                (isPerformingWork = !1);\n            }\n            hasMoreWork = void 0;\n          }\n        } finally {\n          hasMoreWork\n            ? schedulePerformWorkUntilDeadline()\n            : (isMessageLoopRunning = !1);\n        }\n      }\n    }\n    function push(heap, node) {\n      var index = heap.length;\n      heap.push(node);\n      a: for (; 0 < index; ) {\n        var parentIndex = (index - 1) >>> 1,\n          parent = heap[parentIndex];\n        if (0 < compare(parent, node))\n          (heap[parentIndex] = node),\n            (heap[index] = parent),\n            (index = parentIndex);\n        else break a;\n      }\n    }\n    function peek(heap) {\n      return 0 === heap.length ? null : heap[0];\n    }\n    function pop(heap) {\n      if (0 === heap.length) return null;\n      var first = heap[0],\n        last = heap.pop();\n      if (last !== first) {\n        heap[0] = last;\n        a: for (\n          var index = 0, length = heap.length, halfLength = length >>> 1;\n          index < halfLength;\n\n        ) {\n          var leftIndex = 2 * (index + 1) - 1,\n            left = heap[leftIndex],\n            rightIndex = leftIndex + 1,\n            right = heap[rightIndex];\n          if (0 > compare(left, last))\n            rightIndex < length && 0 > compare(right, left)\n              ? ((heap[index] = right),\n                (heap[rightIndex] = last),\n                (index = rightIndex))\n              : ((heap[index] = left),\n                (heap[leftIndex] = last),\n                (index = leftIndex));\n          else if (rightIndex < length && 0 > compare(right, last))\n            (heap[index] = right),\n              (heap[rightIndex] = last),\n              (index = rightIndex);\n          else break a;\n        }\n      }\n      return first;\n    }\n    function compare(a, b) {\n      var diff = a.sortIndex - b.sortIndex;\n      return 0 !== diff ? diff : a.id - b.id;\n    }\n    function advanceTimers(currentTime) {\n      for (var timer = peek(timerQueue); null !== timer; ) {\n        if (null === timer.callback) pop(timerQueue);\n        else if (timer.startTime <= currentTime)\n          pop(timerQueue),\n            (timer.sortIndex = timer.expirationTime),\n            push(taskQueue, timer);\n        else break;\n        timer = peek(timerQueue);\n      }\n    }\n    function handleTimeout(currentTime) {\n      isHostTimeoutScheduled = !1;\n      advanceTimers(currentTime);\n      if (!isHostCallbackScheduled)\n        if (null !== peek(taskQueue))\n          (isHostCallbackScheduled = !0),\n            isMessageLoopRunning ||\n              ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n        else {\n          var firstTimer = peek(timerQueue);\n          null !== firstTimer &&\n            requestHostTimeout(\n              handleTimeout,\n              firstTimer.startTime - currentTime\n            );\n        }\n    }\n    function shouldYieldToHost() {\n      return needsPaint\n        ? !0\n        : exports.unstable_now() - startTime < frameInterval\n          ? !1\n          : !0;\n    }\n    function requestHostTimeout(callback, ms) {\n      taskTimeoutID = localSetTimeout(function () {\n        callback(exports.unstable_now());\n      }, ms);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    exports.unstable_now = void 0;\n    if (\n      \"object\" === typeof performance &&\n      \"function\" === typeof performance.now\n    ) {\n      var localPerformance = performance;\n      exports.unstable_now = function () {\n        return localPerformance.now();\n      };\n    } else {\n      var localDate = Date,\n        initialTime = localDate.now();\n      exports.unstable_now = function () {\n        return localDate.now() - initialTime;\n      };\n    }\n    var taskQueue = [],\n      timerQueue = [],\n      taskIdCounter = 1,\n      currentTask = null,\n      currentPriorityLevel = 3,\n      isPerformingWork = !1,\n      isHostCallbackScheduled = !1,\n      isHostTimeoutScheduled = !1,\n      needsPaint = !1,\n      localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n      localClearTimeout =\n        \"function\" === typeof clearTimeout ? clearTimeout : null,\n      localSetImmediate =\n        \"undefined\" !== typeof setImmediate ? setImmediate : null,\n      isMessageLoopRunning = !1,\n      taskTimeoutID = -1,\n      frameInterval = 5,\n      startTime = -1;\n    if (\"function\" === typeof localSetImmediate)\n      var schedulePerformWorkUntilDeadline = function () {\n        localSetImmediate(performWorkUntilDeadline);\n      };\n    else if (\"undefined\" !== typeof MessageChannel) {\n      var channel = new MessageChannel(),\n        port = channel.port2;\n      channel.port1.onmessage = performWorkUntilDeadline;\n      schedulePerformWorkUntilDeadline = function () {\n        port.postMessage(null);\n      };\n    } else\n      schedulePerformWorkUntilDeadline = function () {\n        localSetTimeout(performWorkUntilDeadline, 0);\n      };\n    exports.unstable_IdlePriority = 5;\n    exports.unstable_ImmediatePriority = 1;\n    exports.unstable_LowPriority = 4;\n    exports.unstable_NormalPriority = 3;\n    exports.unstable_Profiling = null;\n    exports.unstable_UserBlockingPriority = 2;\n    exports.unstable_cancelCallback = function (task) {\n      task.callback = null;\n    };\n    exports.unstable_forceFrameRate = function (fps) {\n      0 > fps || 125 < fps\n        ? console.error(\n            \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n          )\n        : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n    };\n    exports.unstable_getCurrentPriorityLevel = function () {\n      return currentPriorityLevel;\n    };\n    exports.unstable_next = function (eventHandler) {\n      switch (currentPriorityLevel) {\n        case 1:\n        case 2:\n        case 3:\n          var priorityLevel = 3;\n          break;\n        default:\n          priorityLevel = currentPriorityLevel;\n      }\n      var previousPriorityLevel = currentPriorityLevel;\n      currentPriorityLevel = priorityLevel;\n      try {\n        return eventHandler();\n      } finally {\n        currentPriorityLevel = previousPriorityLevel;\n      }\n    };\n    exports.unstable_requestPaint = function () {\n      needsPaint = !0;\n    };\n    exports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n      switch (priorityLevel) {\n        case 1:\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n          break;\n        default:\n          priorityLevel = 3;\n      }\n      var previousPriorityLevel = currentPriorityLevel;\n      currentPriorityLevel = priorityLevel;\n      try {\n        return eventHandler();\n      } finally {\n        currentPriorityLevel = previousPriorityLevel;\n      }\n    };\n    exports.unstable_scheduleCallback = function (\n      priorityLevel,\n      callback,\n      options\n    ) {\n      var currentTime = exports.unstable_now();\n      \"object\" === typeof options && null !== options\n        ? ((options = options.delay),\n          (options =\n            \"number\" === typeof options && 0 < options\n              ? currentTime + options\n              : currentTime))\n        : (options = currentTime);\n      switch (priorityLevel) {\n        case 1:\n          var timeout = -1;\n          break;\n        case 2:\n          timeout = 250;\n          break;\n        case 5:\n          timeout = 1073741823;\n          break;\n        case 4:\n          timeout = 1e4;\n          break;\n        default:\n          timeout = 5e3;\n      }\n      timeout = options + timeout;\n      priorityLevel = {\n        id: taskIdCounter++,\n        callback: callback,\n        priorityLevel: priorityLevel,\n        startTime: options,\n        expirationTime: timeout,\n        sortIndex: -1\n      };\n      options > currentTime\n        ? ((priorityLevel.sortIndex = options),\n          push(timerQueue, priorityLevel),\n          null === peek(taskQueue) &&\n            priorityLevel === peek(timerQueue) &&\n            (isHostTimeoutScheduled\n              ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n              : (isHostTimeoutScheduled = !0),\n            requestHostTimeout(handleTimeout, options - currentTime)))\n        : ((priorityLevel.sortIndex = timeout),\n          push(taskQueue, priorityLevel),\n          isHostCallbackScheduled ||\n            isPerformingWork ||\n            ((isHostCallbackScheduled = !0),\n            isMessageLoopRunning ||\n              ((isMessageLoopRunning = !0),\n              schedulePerformWorkUntilDeadline())));\n      return priorityLevel;\n    };\n    exports.unstable_shouldYield = shouldYieldToHost;\n    exports.unstable_wrapCallback = function (callback) {\n      var parentPriorityLevel = currentPriorityLevel;\n      return function () {\n        var previousPriorityLevel = currentPriorityLevel;\n        currentPriorityLevel = parentPriorityLevel;\n        try {\n          return callback.apply(this, arguments);\n        } finally {\n          currentPriorityLevel = previousPriorityLevel;\n        }\n      };\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baage.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// Franois Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","var h = Object.defineProperty;\nvar p = (e, t, a) => t in e ? h(e, t, { enumerable: !0, configurable: !0, writable: !0, value: a }) : e[t] = a;\nvar n = (e, t, a) => p(e, typeof t != \"symbol\" ? t + \"\" : t, a);\nclass c extends Error {\n  constructor(a, s) {\n    super(a);\n    n(this, \"data\");\n    this.data = s;\n  }\n  toString() {\n    return this.message;\n  }\n}\nasync function f(e, t) {\n  const a = SillyTavern.getContext(), s = new FormData();\n  s.append(\"avatar\", new Blob([JSON.stringify(e)], { type: \"application/json\" }), \"character.json\"), s.append(\"file_type\", \"json\");\n  const r = a.getRequestHeaders();\n  delete r[\"Content-Type\"];\n  const o = await fetch(\"/api/characters/import\", {\n    method: \"POST\",\n    headers: r,\n    body: s,\n    cache: \"no-cache\"\n  });\n  if (!o.ok)\n    throw new c(o.statusText, o);\n  t && await a.getCharacters();\n}\nasync function w(e, t) {\n  var o;\n  const a = SillyTavern.getContext();\n  if (!e.avatar)\n    throw new Error(\"`data.avatar` (character filename) is required to save character attributes.\");\n  e == null || delete e.json_data, (o = e == null ? void 0 : e.data) == null || delete o.json_data;\n  const s = a.getRequestHeaders(), r = await fetch(\"/api/characters/merge-attributes\", {\n    method: \"POST\",\n    headers: s,\n    body: JSON.stringify(e),\n    cache: \"no-cache\"\n  });\n  if (!r.ok) {\n    const i = await r.json().catch(() => ({ message: r.statusText }));\n    throw new c(i.message || `Request failed with status ${r.status}`, r);\n  }\n  t && await a.getCharacters();\n}\nexport {\n  c as CustomError,\n  f as createCharacter,\n  w as saveCharacter\n};\n","import { renderStoryString as y } from \"../../../../power-user.js\";\nimport { persona_description_positions as Dt } from \"../../../../power-user.js\";\nimport { getMaxContextSize as S, parseMesExamples as v, baseChatReplace as C, chat_metadata as o, sendMessageAsUser as b, name1 as I, this_chid as A, name2 as w, updateMessageBlock as P } from \"../../../../../script.js\";\nimport { characters as Gt, depth_prompt_depth_default as Bt, depth_prompt_role_default as zt, extension_prompt_types as Kt, main_api as Lt, name1 as Ut, name2 as Yt, systemUserName as Ht, system_avatar as jt, this_chid as qt } from \"../../../../../script.js\";\nimport { createWorldInfoEntry as E, createNewWorldInfo as T } from \"../../../../world-info.js\";\nimport { METADATA_KEY as Qt, selected_world_info as Xt, wi_anchor_position as Zt, world_info as $t, world_info_include_names as te, world_names as ee } from \"../../../../world-info.js\";\nimport { sendMessageAs as R, sendNarratorMessage as W } from \"../../../../slash-commands.js\";\nimport { user_avatar as F } from \"../../../../personas.js\";\nimport { user_avatar as oe } from \"../../../../personas.js\";\nimport { formatInstructModeExamples as N, formatInstructModeSystemPrompt as O } from \"../../../../instruct-mode.js\";\nimport { appendFileContent as k, hideChatMessageRange as D } from \"../../../../chats.js\";\nimport { getPromptRole as V, prepareOpenAIMessages as G, setOpenAIMessages as B, setOpenAIMessageExamples as z, formatWorldInfo as K, getPromptPosition as L } from \"../../../../openai.js\";\nimport { metadata_keys as p } from \"../../../../authors-note.js\";\nimport { getGroupDepthPrompts as U } from \"../../../../group-chats.js\";\nimport { groups as ae, is_group_generating as se, selected_group as ie } from \"../../../../group-chats.js\";\nimport { getRegexedString as Y, runRegexScript as H } from \"../../../regex/engine.js\";\nimport { regex_placement as me } from \"../../../regex/engine.js\";\nimport { getCharaFilename as j } from \"../../../../utils.js\";\nimport { removeFromArray as ue, runAfterAnimation as ce } from \"../../../../utils.js\";\nimport { commonEnumProviders as _e, enumIcons as de } from \"../../../../slash-commands/SlashCommandCommonEnumsProvider.js\";\nimport { SlashCommandEnumValue as xe, enumTypes as he } from \"../../../../slash-commands/SlashCommandEnumValue.js\";\nimport { Popup as ye, fixToastrForDialogs as Se } from \"../../../../popup.js\";\nimport { default as Ce } from \"../../../../../lib/dialog-polyfill.esm.js\";\nasync function q(t, ...e) {\n  await SillyTavern.getContext().SlashCommandParser.commands[t].callback(...e);\n}\nasync function it(t, e, { escapeHtml: r = !0 } = {}) {\n  await q(\"echo\", { severity: t, escapeHtml: (!!r).toString() }, e);\n}\nfunction pt(t) {\n  return S(t);\n}\nfunction mt(t, e) {\n  return v(t, e);\n}\nfunction lt(t, e, r) {\n  return C(t, e, r);\n}\nfunction ut(t, e, r) {\n  return N(t, e, r);\n}\nfunction ct(t, e) {\n  return O(t, e);\n}\nfunction ft(t, {\n  customStoryString: e,\n  customInstructSettings: r\n} = {}) {\n  return y(t, { customStoryString: e, customInstructSettings: r });\n}\nfunction _t(t) {\n  return V(t);\n}\nfunction dt() {\n  return {\n    prompt: o[p.prompt],\n    interval: o[p.interval],\n    position: o[p.position],\n    depth: o[p.depth],\n    role: o[p.role]\n  };\n}\nfunction gt(t, e) {\n  return U(t, e);\n}\nfunction xt({\n  name2: t,\n  charDescription: e,\n  charPersonality: r,\n  Scenario: a,\n  worldInfoBefore: n,\n  worldInfoAfter: s,\n  bias: i,\n  type: m,\n  quietPrompt: l,\n  quietImage: u,\n  extensionPrompts: c,\n  cyclePrompt: f,\n  systemPromptOverride: _,\n  jailbreakPromptOverride: d,\n  personaDescription: g,\n  messages: x,\n  messageExamples: h\n}, M) {\n  return G(\n    {\n      name2: t,\n      charDescription: e,\n      charPersonality: r,\n      Scenario: a,\n      worldInfoBefore: n,\n      worldInfoAfter: s,\n      bias: i,\n      type: m,\n      quietPrompt: l,\n      quietImage: u,\n      cyclePrompt: f,\n      systemPromptOverride: _,\n      jailbreakPromptOverride: d,\n      personaDescription: g,\n      extensionPrompts: c,\n      messages: x,\n      messageExamples: h\n    },\n    M\n  );\n}\nfunction ht(t) {\n  return B(t);\n}\nfunction Mt(t) {\n  return z(t);\n}\nfunction yt(t, e, {\n  characterOverride: r,\n  isMarkdown: a,\n  isPrompt: n,\n  isEdit: s,\n  depth: i\n}) {\n  return Y(t, e, { characterOverride: r, isMarkdown: a, isPrompt: n, isEdit: s, depth: i });\n}\nfunction St(t, e, { characterOverride: r = null } = {}) {\n  return H(t, e, { characterOverride: r });\n}\nasync function vt(t, e) {\n  return await k(t, e);\n}\nfunction Ct(t, {\n  wiFormat: e\n} = {}) {\n  return K(t, { wiFormat: e });\n}\nfunction bt(t) {\n  return L(t);\n}\nfunction It(t, {\n  manualAvatarKey: e\n} = {}) {\n  return j(t, { manualAvatarKey: e });\n}\nfunction At(t, e) {\n  return E(t, e);\n}\nasync function wt(t, { interactive: e = !1 } = {}) {\n  return await T(t, { interactive: e });\n}\nasync function Pt(t, e, r, a, n) {\n  if (e === \"user\")\n    await b(t, null, n, !1, r ?? I, F ?? a);\n  else if (e === \"assistant\") {\n    const s = r ?? w, i = a ?? SillyTavern.getContext().characters[A].avatar;\n    await R({ name: s, at: n, avatar: i }, t);\n  } else\n    await W({ name: r, at: n }, t);\n}\nfunction Et(t, e) {\n  o.variables || (o.variables = {}), o.variables[t] = e;\n}\nfunction Tt(t) {\n  var e, r;\n  return (r = (e = o) == null ? void 0 : e.variables) == null ? void 0 : r[t];\n}\nfunction Rt(t, e) {\n  const r = SillyTavern.getContext();\n  r.extensionSettings.variables.global[t] = e;\n}\nfunction Wt(t) {\n  return SillyTavern.getContext().extensionSettings.variables.global[t];\n}\nfunction Ft(t, e, { rerenderMessage: r = !0 } = {}) {\n  P(t, e, { rerenderMessage: r });\n}\nasync function Nt(t, e, r) {\n  await D(t, e, r);\n}\nexport {\n  ye as STPopup,\n  xe as SlashCommandEnumValue,\n  Qt as WI_METADATA_KEY,\n  Gt as characters,\n  _e as commonEnumProviders,\n  Bt as depth_prompt_depth_default,\n  zt as depth_prompt_role_default,\n  Ce as dialogPolyfill,\n  de as enumIcons,\n  he as enumTypes,\n  Kt as extension_prompt_types,\n  Se as fixToastrForDialogs,\n  ae as groups,\n  se as is_group_generating,\n  Lt as main_api,\n  Ut as name1,\n  Yt as name2,\n  Dt as persona_description_positions,\n  me as regex_placement,\n  ue as removeFromArray,\n  ce as runAfterAnimation,\n  ie as selected_group,\n  Xt as selected_world_info,\n  Pt as sendChatMessage,\n  vt as st_appendFileContent,\n  lt as st_baseChatReplace,\n  wt as st_createNewWorldInfo,\n  At as st_createWorldInfoEntry,\n  it as st_echo,\n  ut as st_formatInstructModeExamples,\n  ct as st_formatInstructModeSystemPrompt,\n  Ct as st_formatWorldInfo,\n  dt as st_getAuthorNote,\n  It as st_getCharaFilename,\n  Wt as st_getGlobalVariable,\n  gt as st_getGroupDepthPrompts,\n  Tt as st_getLocalVariable,\n  pt as st_getMaxContextSize,\n  bt as st_getPromptPosition,\n  _t as st_getPromptRole,\n  yt as st_getRegexedString,\n  Nt as st_hideChatMessageRange,\n  mt as st_parseMesExamples,\n  xt as st_prepareOpenAIMessages,\n  ft as st_renderStoryString,\n  q as st_runCommandCallback,\n  St as st_runRegexScript,\n  Rt as st_setGlobalVariable,\n  Et as st_setLocalVariable,\n  Mt as st_setOpenAIMessageExamples,\n  ht as st_setOpenAIMessages,\n  Ft as st_updateMessageBlock,\n  Ht as systemUserName,\n  jt as system_avatar,\n  qt as this_chid,\n  oe as user_avatar,\n  Zt as wi_anchor_position,\n  $t as world_info,\n  te as world_info_include_names,\n  ee as world_names\n};\n","var S = Object.defineProperty;\nvar d = (c, o, a) => o in c ? S(c, o, { enumerable: !0, configurable: !0, writable: !0, value: a }) : c[o] = a;\nvar u = (c, o, a) => d(c, typeof o != \"symbol\" ? o + \"\" : o, a);\nclass m {\n  constructor(o, a) {\n    u(this, \"settingsKey\");\n    u(this, \"defaultSettings\");\n    this.settingsKey = o, this.defaultSettings = a;\n  }\n  /**\n   * If defaultSettings has \"version\" and \"formatVersion\" properties, they will be used to track version and format version changes.\n   *\n   * For example, if you want to show a notification when a new version is released, you can check \"result.version.changed\".\n   *\n   * @param [options={}]\n   * @param [options.strategy='recursive'] - 'recursive' will migrate old settings with the default settings.\n   *\n   * For complex settings, you can specify a custom migration strategy. For example, if you change the field name from \"old\" to \"new\", you can use:\n   * @example\n   * [\n   *   {\n   *     from: 'FORMAT-0.1.0',\n   *     to: 'FORMAT-0.1.1',\n   *     action: (previous) => {\n   *       const data = {\n   *         ...previous,\n   *         new: previous.old,\n   *       };\n   *       delete data.old;\n   *       return data;\n   *     },\n   *   },\n   * ]\n   */\n  async initializeSettings(o = {}) {\n    const { strategy: a = \"recursive\" } = o, l = this.defaultSettings.version, g = this.defaultSettings.formatVersion, e = SillyTavern.getContext().extensionSettings[this.settingsKey], h = {\n      version: {\n        changed: !1,\n        new: l ?? \"\"\n      },\n      formatVersion: {\n        changed: !1,\n        new: g ?? \"\"\n      },\n      oldSettings: null,\n      newSettings: this.defaultSettings\n    };\n    if (!e)\n      return SillyTavern.getContext().extensionSettings[this.settingsKey] = this.defaultSettings, this.saveSettings(), h;\n    const s = {\n      ...h,\n      oldSettings: structuredClone(e),\n      version: {\n        changed: !1,\n        old: e.version,\n        new: e.version\n      },\n      formatVersion: {\n        changed: !1,\n        old: e.formatVersion,\n        new: e.formatVersion\n      }\n    };\n    if (a === \"recursive\") {\n      let f = function(i, n) {\n        let r = !1;\n        for (const t of Object.keys(n))\n          i[t] === void 0 ? (i[t] = n[t], r = !0) : typeof n[t] == \"object\" && n[t] !== null && (i[t] = i[t] || {}, f(i[t], n[t]) && (r = !0));\n        return r;\n      };\n      l && e.version !== l && (s.version.changed = !0, s.version.new = l, e.version = l), g && g !== \"*\" && e.formatVersion !== g && (s.formatVersion.changed = !0, s.formatVersion.new = g, e.formatVersion = g), (f(e, this.defaultSettings) || s.version.changed || s.formatVersion.changed) && this.saveSettings();\n    } else if (Array.isArray(a)) {\n      l && !e.version && (e.version = l, s.version.changed = !0, s.version.new = l), g && !e.formatVersion && (e.formatVersion = g, s.formatVersion.changed = !0, s.formatVersion.new = g);\n      let f = structuredClone(e), i = e.formatVersion;\n      try {\n        let n;\n        do {\n          n = !1;\n          let r = a.find((t) => t.from === i);\n          if (r && r.to > i)\n            f = await r.action(f), i = r.to, f.formatVersion = r.to, n = !0;\n          else\n            for (const t of a)\n              if (t.from === \"*\" && t.to > i && i !== t.to) {\n                f = await t.action(f), i = t.to, f.formatVersion = t.to, n = !0;\n                break;\n              }\n        } while (n);\n        if (i !== e.formatVersion) {\n          s.formatVersion.changed = !0, s.formatVersion.new = i;\n          const r = this.defaultSettings.version;\n          r && (f.version = r);\n        }\n        if (s.formatVersion.changed) {\n          for (const r of Object.keys(e))\n            delete e[r];\n          Object.assign(e, f), this.saveSettings();\n        }\n      } catch (n) {\n        throw console.error(\"Failed to apply version changes:\", n), new Error(`Version migration failed: ${n instanceof Error ? n.message : n}`, {\n          cause: n\n        });\n      }\n    }\n    return s.newSettings = e, s;\n  }\n  getSettings() {\n    return SillyTavern.getContext().extensionSettings[this.settingsKey];\n  }\n  updateSetting(o, a) {\n    SillyTavern.getContext().extensionSettings[this.settingsKey][o] = a, this.saveSettings();\n  }\n  saveSettings() {\n    SillyTavern.getContext().saveSettingsDebounced();\n  }\n  resetSettings() {\n    SillyTavern.getContext().extensionSettings[this.settingsKey] = this.defaultSettings, this.saveSettings();\n  }\n}\nexport {\n  m as ExtensionSettingsManager\n};\n","import W from \"fuse.js\";\nfunction K(E, s = {}) {\n  const d = typeof E == \"string\" ? document.querySelector(E) : E;\n  if (!d)\n    throw new Error(`Could not find container: ${E}`);\n  const j = s.placeholderText || \"Select items...\", M = s.closeOnSelect ?? !1, u = s.enableSearch ?? !1, N = s.multiple ?? !0, q = s.searchPlaceholderText || \"Search...\", J = s.searchNoResultsText || \"No results found\", R = s.searchDebounceMs ?? 200;\n  let c = [...s.initialList || []];\n  d.innerHTML = \"\", d.classList.add(\"fancy-dropdown-container\"), Object.assign(d.style, {\n    position: \"relative\",\n    userSelect: \"none\"\n    // Note: 'user-select' becomes 'userSelect'\n  });\n  const x = document.createElement(\"div\");\n  x.className = \"fancy-dropdown-trigger\", Object.assign(x.style, {\n    padding: \"8px 12px\",\n    border: \"1px solid var(--border-color)\",\n    backgroundColor: \"var(--bg-color)\",\n    color: \"var(--text-color)\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  });\n  const S = document.createElement(\"span\");\n  S.className = \"fancy-dropdown-trigger-text\", S.textContent = j;\n  const b = document.createElement(\"i\");\n  b.className = \"fas fa-chevron-down\", b.style.marginLeft = \"8px\", x.append(S, b), d.append(x);\n  const f = document.createElement(\"div\");\n  f.className = \"fancy-dropdown-list\", Object.assign(f.style, {\n    position: \"absolute\",\n    top: \"100%\",\n    left: \"0\",\n    right: \"0\",\n    maxHeight: \"300px\",\n    display: \"none\",\n    // Hidden by default\n    zIndex: \"1050\",\n    border: \"1px solid var(--border-color)\",\n    borderTop: \"none\",\n    backgroundColor: \"var(--bg-color-popup, var(--bg-color-secondary, var(--greyCAIbg, var(--grey30))))\",\n    color: \"var(--text-color)\",\n    borderRadius: \"0 0 4px 4px\",\n    boxShadow: \"0 4px 8px var(--black50a)\",\n    overflowY: \"auto\"\n  }), d.append(f);\n  let n = null, O = null, g = null, L = null;\n  u && (O = document.createElement(\"div\"), O.className = \"fancy-dropdown-search-wrapper\", Object.assign(O.style, {\n    padding: \"8px\",\n    borderBottom: \"1px solid var(--border-color)\",\n    // Separator\n    position: \"sticky\",\n    // Keep search bar visible while scrolling options\n    top: \"0\",\n    // Stick to the top of the list container\n    backgroundColor: \"inherit\"\n    // Inherit background from list\n  }), n = document.createElement(\"input\"), n.type = \"text\", n.className = \"fancy-dropdown-search-input\", n.placeholder = q, Object.assign(n.style, {\n    width: \"100%\",\n    padding: \"6px 10px\",\n    border: \"1px solid var(--border-color)\",\n    borderRadius: \"3px\",\n    boxSizing: \"border-box\",\n    // Include padding/border in width\n    backgroundColor: \"var(--bg-color)\",\n    // Use main bg for input\n    color: \"var(--text-color)\"\n  }), n.addEventListener(\"click\", (e) => e.stopPropagation()), O.append(n), f.append(O), g = document.createElement(\"div\"), g.className = \"fancy-dropdown-no-results\", g.textContent = J, Object.assign(g.style, {\n    padding: \"8px 12px\",\n    textAlign: \"center\",\n    color: \"var(--text-color-secondary, var(--grey50))\",\n    // Dimmer text color\n    display: \"none\"\n    // Hidden initially\n  }), f.append(g));\n  let y = !1, T = null;\n  const F = (e) => typeof e == \"string\" ? e : e.label, v = (e) => typeof e == \"string\" ? e : e.value;\n  let t = (s.initialValues || []).filter(\n    (e) => c.some((a) => v(a) === e)\n  );\n  const I = () => {\n    var r, o;\n    if (!u) return;\n    const e = {\n      // Default Fuse.js options - allow overriding\n      includeScore: !1,\n      threshold: 0.4,\n      isCaseSensitive: !1,\n      findAllMatches: !0,\n      ...s.searchFuseOptions || {},\n      // Ensure keys handle both string and object types if not overridden\n      keys: ((r = s.searchFuseOptions) == null ? void 0 : r.keys) || [\n        { name: \"label\", weight: 0.7 },\n        { name: \"value\", weight: 0.3 }\n      ]\n    }, a = c.map(\n      (l) => typeof l == \"string\" ? { value: l, label: l } : l\n    );\n    !((o = s.searchFuseOptions) != null && o.keys) && c.every((l) => typeof l == \"string\") && (e.keys = [\"label\"]), T = new W(a, e);\n  }, z = () => {\n    if (t.length === 0)\n      S.textContent = j;\n    else if (t.length === 1) {\n      const e = t[0], a = c.find((o) => v(o) === e), r = a ? F(a) : e;\n      S.textContent = r;\n    } else\n      S.textContent = `${t.length} items selected`;\n  }, h = (e) => {\n    let a = !1;\n    f.querySelectorAll(\".fancy-dropdown-item\").forEach((o) => {\n      const l = o.dataset.value, i = t.includes(l), p = o.querySelector(\".checkmark\");\n      i ? (o.classList.add(\"selected\"), p && (p.style.display = \"inline-block\")) : (o.classList.remove(\"selected\"), p && (p.style.display = \"none\")), e !== void 0 ? e.includes(l) ? (o.style.display = \"flex\", a = !0) : o.style.display = \"none\" : (o.style.display = \"flex\", a = !0);\n    }), u && g && (e !== void 0 && !a ? g.style.display = \"block\" : g.style.display = \"none\"), z();\n  }, m = (e) => {\n    if (!u || !T) {\n      h();\n      return;\n    }\n    const a = e.trim();\n    if (a === \"\") {\n      h(void 0);\n      return;\n    }\n    const o = T.search(a).map((l) => l.item.value);\n    h(o);\n  }, $ = () => {\n    n && (L && clearTimeout(L), L = window.setTimeout(() => {\n      n && m(n.value);\n    }, R));\n  }, P = () => {\n    y || (y = !0, f.style.display = \"block\", b.classList.remove(\"fa-chevron-down\"), b.classList.add(\"fa-chevron-up\"), u && n && setTimeout(() => n == null ? void 0 : n.focus(), 50));\n  }, C = () => {\n    y && (y = !1, f.style.display = \"none\", u && n && (n.value = \"\", m(\"\")), b.classList.remove(\"fa-chevron-up\"), b.classList.add(\"fa-chevron-down\"), L && clearTimeout(L));\n  };\n  x.addEventListener(\"click\", (e) => {\n    e.stopPropagation(), y ? C() : P();\n  }), document.addEventListener(\"click\", (e) => {\n    y && d && !d.contains(e.target) && C();\n  }), u && n && n.addEventListener(\"input\", $);\n  const A = (e, a) => {\n    const r = v(e), o = F(e), l = document.createElement(\"div\");\n    l.className = \"fancy-dropdown-item\", l.dataset.value = r, Object.assign(l.style, {\n      padding: \"8px 12px\",\n      cursor: \"pointer\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    }), l.addEventListener(\"mouseenter\", () => {\n      l.style.backgroundColor = \"var(--hover-color, var(--white20a))\";\n    }), l.addEventListener(\"mouseleave\", () => {\n      l.style.backgroundColor = \"\";\n    });\n    const i = document.createElement(\"span\");\n    i.textContent = o, l.append(i);\n    const p = document.createElement(\"i\");\n    return p.className = \"checkmark fa-solid fa-check\", Object.assign(p.style, {\n      marginLeft: \"8px\",\n      display: a ? \"inline-block\" : \"none\"\n    }), l.append(p), l.addEventListener(\"click\", function(D) {\n      D.stopPropagation();\n      const V = D.currentTarget.dataset.value, B = [...t];\n      let k;\n      N ? t.includes(V) ? k = t.filter((w) => w !== V) : k = [...t, V] : t.includes(V) ? k = [] : k = [V], (async () => {\n        if (s.onBeforeSelection)\n          try {\n            if (!await Promise.resolve(s.onBeforeSelection(B, k)))\n              return !1;\n          } catch (w) {\n            return console.error(\"onBeforeSelection callback failed:\", w), !1;\n          }\n        return !0;\n      })().then((w) => {\n        w && (t = k, u && n && n.value.trim() !== \"\" ? m(n.value) : h(void 0), s.onSelectChange && Promise.resolve(s.onSelectChange(B, t)).catch(\n          (H) => console.error(\"onSelectChange callback failed:\", H)\n        ), M && C());\n      });\n    }), g ? f.insertBefore(l, g) : f.append(l), l;\n  };\n  return c.length > 0 && c.forEach((e) => {\n    const a = v(e);\n    A(e, t.includes(a));\n  }), I(), h(), {\n    container: d,\n    // Expose the main container element\n    dropdownTrigger: x,\n    // Expose trigger element\n    dropdownList: f,\n    // Expose list element\n    getValues: () => [...t],\n    setValues: (e) => {\n      const a = [...t];\n      t = [...e.filter((l) => c.some((i) => v(i) === l))], u && n && n.value !== \"\" ? (n.value = \"\", m(\"\")) : h(), JSON.stringify(a.sort()) !== JSON.stringify(t.sort()) && s.onSelectChange && Promise.resolve(s.onSelectChange(a, t)).catch(\n        (l) => console.error(\"onSelectChange callback failed:\", l)\n      );\n    },\n    getOptions: () => c.map((e) => typeof e == \"string\" ? { value: e, label: e } : e),\n    addOption: (e, a = !1) => {\n      const r = v(e);\n      if (c.some((i) => v(i) === r)) return;\n      c.push(e), A(e, a), I();\n      let o = !1;\n      const l = [...t];\n      a && !t.includes(r) ? (N ? t.push(r) : t = [r], o = !0) : a && !N && t.length > 0 && t[0] !== r && (t = [r], o = !0), u && n && n.value !== \"\" ? m(n.value) : h(), o && s.onSelectChange && Promise.resolve(s.onSelectChange(l, t)).catch(\n        (i) => console.error(\"onSelectChange callback failed:\", i)\n      );\n    },\n    removeOption: (e) => {\n      const a = c.length;\n      if (c = c.filter((p) => v(p) !== e), c.length === a) return;\n      let r = !1;\n      const o = [...t], l = t.indexOf(e);\n      l > -1 && (t.splice(l, 1), r = !0);\n      const i = f.querySelector(\n        `.fancy-dropdown-item[data-value=\"${e}\"]`\n      );\n      i == null || i.remove(), I(), u && n && n.value !== \"\" ? m(n.value) : h(), r && s.onSelectChange && Promise.resolve(s.onSelectChange(o, t)).catch(\n        (p) => console.error(\"onSelectChange callback failed:\", p)\n      );\n    },\n    selectAll: () => {\n      if (!N) return;\n      const e = [...t], a = c.map(v);\n      t = [.../* @__PURE__ */ new Set([...t, ...a])];\n      const r = JSON.stringify(e.sort()) !== JSON.stringify(t.sort());\n      u && n && n.value !== \"\" ? m(n.value) : h(), r && s.onSelectChange && Promise.resolve(s.onSelectChange(e, t)).catch(\n        (o) => console.error(\"onSelectChange callback failed:\", o)\n      );\n    },\n    deselectAll: () => {\n      const e = [...t];\n      t.length > 0 && (t = [], u && n && n.value !== \"\" ? m(n.value) : h(), s.onSelectChange && Promise.resolve(s.onSelectChange(e, t)).catch(\n        (a) => console.error(\"onSelectChange callback failed:\", a)\n      ));\n    },\n    disable: () => {\n      d.style.pointerEvents = \"none\", d.style.opacity = \"0.6\", y && C();\n    },\n    enable: () => {\n      d.style.pointerEvents = \"auto\", d.style.opacity = \"1\";\n    },\n    open: P,\n    close: C,\n    toggle: () => y ? C() : P()\n  };\n}\nexport {\n  K as buildFancyDropdown\n};\n","var d = Object.defineProperty;\nvar w = (l, t, e) => t in l ? d(l, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : l[t] = e;\nvar u = (l, t, e) => w(l, typeof t != \"symbol\" ? t + \"\" : t, e);\nclass M {\n  constructor() {\n    u(this, \"requestMap\");\n    this.requestMap = /* @__PURE__ */ new Map();\n  }\n  async abortRequest(t) {\n    var a;\n    const e = this.requestMap.get(t);\n    if (e) {\n      if (e.abortController)\n        try {\n          e.abortController.abort();\n        } catch {\n        }\n      (a = e.options) != null && a.onFinish && await e.options.onFinish(t), this.requestMap.delete(t);\n    }\n  }\n  /**\n   * @returns return value is not important because request would be finished anyway. So use \"options\".\n   */\n  async generateRequest(t, e) {\n    var h;\n    const a = SillyTavern.getContext(), r = a.uuidv4(), n = ((h = t == null ? void 0 : t.custom) == null ? void 0 : h.stream) ?? !1;\n    if (this.requestMap.set(r, {\n      abortController: e == null ? void 0 : e.abortController,\n      isStream: n,\n      options: e\n    }), n)\n      try {\n        const c = await a.ConnectionManagerRequestService.sendRequest(\n          t.profileId,\n          t.prompt,\n          t.maxTokens,\n          t.custom,\n          t.overridePayload\n        );\n        e != null && e.onStart && await e.onStart(r);\n        let f;\n        for await (const i of c())\n          f = i, e != null && e.onEntry && await e.onEntry(r, i);\n        e != null && e.onFinish && await e.onFinish(r, f);\n      } catch (c) {\n        e != null && e.onFinish && await e.onFinish(r, void 0, c);\n      } finally {\n        this.requestMap.delete(r);\n      }\n    else\n      try {\n        e != null && e.onStart && await e.onStart(r);\n        const c = await a.ConnectionManagerRequestService.sendRequest(\n          t.profileId,\n          t.prompt,\n          t.maxTokens,\n          t.custom,\n          t.overridePayload\n        );\n        this.requestMap.get(r) && (e != null && e.onEntry && await e.onEntry(r, c), e != null && e.onFinish && await e.onFinish(r, c));\n      } catch (c) {\n        e != null && e.onFinish && await e.onFinish(r, void 0, c);\n      } finally {\n        this.requestMap.delete(r);\n      }\n    return r;\n  }\n  getActiveRequest(t) {\n    var e;\n    return (e = this.requestMap.get(t)) == null ? void 0 : e.abortController;\n  }\n  getAllActiveRequests() {\n    const t = /* @__PURE__ */ new Map();\n    for (const [e, a] of this.requestMap)\n      t.set(e, a.abortController);\n    return t;\n  }\n}\nexport {\n  M as Generator\n};\n","import { createCharacter as e, saveCharacter as t } from \"./character-utils.js\";\nimport { ExtensionSettingsManager as p } from \"./extension-settings-manager.js\";\nimport { buildFancyDropdown as n } from \"./fancy-dropdown.js\";\nimport { Generator as m } from \"./generate.js\";\nimport { buildPresetSelect as d } from \"./preset-select.js\";\nimport { buildPrompt as s } from \"./prompt-builder.js\";\nimport { buildSortableList as c } from \"./sortable-list.js\";\nimport { applyWorldInfoEntry as u, getWorldInfo as y, getWorldInfos as I } from \"./world-info-utils.js\";\nexport {\n  p as ExtensionSettingsManager,\n  m as Generator,\n  u as applyWorldInfoEntry,\n  n as buildFancyDropdown,\n  d as buildPresetSelect,\n  s as buildPrompt,\n  c as buildSortableList,\n  e as createCharacter,\n  y as getWorldInfo,\n  I as getWorldInfos,\n  t as saveCharacter\n};\n","import { st_echo as v } from \"./config.js\";\nfunction A(y, e = {}) {\n  var x;\n  const C = SillyTavern.getContext(), P = e.readOnlyValues || [], a = document.querySelector(y);\n  if (!a)\n    throw new Error(`Could not find preset select: ${y}`);\n  const i = (t) => e.label ? e.label(t) : t, u = document.createElement(\"div\");\n  u.className = \"preset-select-container\", u.style.display = \"flex\", u.style.alignItems = \"center\";\n  const g = (t) => P.includes(t);\n  if ((x = a.parentNode) == null || x.insertBefore(u, a), u.appendChild(a), e.initialList && e.initialList.length > 0) {\n    a.innerHTML = \"\";\n    const t = (r) => typeof r == \"string\" ? r : r.value;\n    for (const r of e.initialList) {\n      const c = document.createElement(\"option\"), n = t(r);\n      c.value = n, c.textContent = i(n), g(n) && (c.dataset.readonly = \"true\"), a.appendChild(c);\n    }\n  }\n  if (e.initialValue) {\n    const t = Array.from(a.options).find((r) => r.value === e.initialValue);\n    t && (a.value = t.value);\n  }\n  let m = a.value;\n  if (a.addEventListener(\"change\", async () => {\n    const t = a.value;\n    e.onSelectChange && m !== t && await e.onSelectChange(m, t), m = t;\n  }), e.create) {\n    const t = document.createElement(\"i\");\n    t.className = \"menu_button fa-solid fa-file-circle-plus\";\n    const r = i(\"\");\n    t.title = `Create a new ${r}`, t.setAttribute(\"data-i18n\", `[title]Create a new ${r}`), t.addEventListener(\"click\", async () => {\n      var f, h, d;\n      (f = e.create) != null && f.onPopupOpen && await e.create.onPopupOpen();\n      const c = i(\"\"), n = await C.Popup.show.input(\n        `Create a new ${c}`,\n        `Please enter a name for the new ${c}:`,\n        \"\"\n      );\n      if (n === null || n.trim() === \"\") return;\n      let l = n.trim();\n      if (Array.from(a.options).some((p) => p.value === l)) {\n        await v(\"warning\", `A ${i(l)} with this name already exists.`);\n        return;\n      }\n      if ((h = e.create) != null && h.onBeforeCreate && !await e.create.onBeforeCreate(l))\n        return;\n      if ((d = e.create) != null && d.onAfterCreate) {\n        const p = await e.create.onAfterCreate(l);\n        typeof p == \"string\" && (l = p);\n      }\n      const w = document.createElement(\"option\");\n      w.value = l, w.textContent = i(l), a.appendChild(w);\n      const s = a.value;\n      a.value = l, e.onSelectChange && s !== l && await e.onSelectChange(s, l), m = l;\n    }), u.appendChild(t);\n  }\n  if (e.rename) {\n    const t = document.createElement(\"i\");\n    t.className = \"menu_button fa-solid fa-pencil\";\n    const r = i(\"\");\n    t.title = `Rename a ${r}`, t.setAttribute(\"data-i18n\", `[title]Rename a ${r}`), t.addEventListener(\"click\", async () => {\n      var s, f, h;\n      if (a.selectedIndex === -1) {\n        await v(\"warning\", `Please select a ${i(\"\")} to rename.`);\n        return;\n      }\n      const c = a.options[a.selectedIndex];\n      let n = c.value;\n      if (g(n)) {\n        await v(\"warning\", `This ${i(n)} cannot be renamed as it is read-only.`);\n        return;\n      }\n      (s = e.rename) != null && s.onPopupOpen && await e.rename.onPopupOpen();\n      const l = await C.Popup.show.input(\n        `Rename ${i(n)}`,\n        `Please enter a new name for \"${n}\":`,\n        n\n      );\n      if (l === null || l.trim() === \"\" || l === n) return;\n      let o = l.trim();\n      if (Array.from(a.options).some(\n        (d) => d.value === o && d !== c\n      )) {\n        await v(\"warning\", `A ${i(o)} with this name already exists.`);\n        return;\n      }\n      if (!((f = e.rename) != null && f.onBeforeRename && !await e.rename.onBeforeRename(n, o))) {\n        if ((h = e.rename) != null && h.onAfterRename) {\n          const d = await e.rename.onAfterRename(n, o);\n          typeof d == \"string\" && (o = d);\n        }\n        c.value = o, c.textContent = i(o), n === m && (m = o), e.onSelectChange && a.value === o && await e.onSelectChange(n, o);\n      }\n    }), u.appendChild(t);\n  }\n  if (e.delete) {\n    const t = document.createElement(\"i\");\n    t.className = \"menu_button fa-solid fa-trash-can\";\n    const r = i(\"\");\n    t.title = `Delete a ${r}`, t.setAttribute(\"data-i18n\", `[title]Delete a ${r}`), t.addEventListener(\"click\", async () => {\n      var h, d, p;\n      if (a.selectedIndex === -1) {\n        await v(\"warning\", `Please select a ${i(\"\")} to delete.`);\n        return;\n      }\n      const c = a.options[a.selectedIndex], n = c.value, l = a.selectedIndex;\n      if (g(n)) {\n        await v(\"warning\", `This ${i(n)} cannot be deleted as it is read-only.`);\n        return;\n      }\n      if ((h = e.delete) != null && h.onPopupOpen && await e.delete.onPopupOpen(), !await C.Popup.show.confirm(\n        `Delete ${i(n)}`,\n        `Are you sure you want to delete \"${n}\"?`\n      ) || (d = e.delete) != null && d.onBeforeDelete && !await e.delete.onBeforeDelete(n))\n        return;\n      const w = n;\n      let s = -1, f;\n      a.options.length > 1 && (s = l < a.options.length - 1 ? l : l - 1, f = a.options[s].value), a.removeChild(c), s >= 0 ? (a.selectedIndex = s, m = f, e.onSelectChange && await e.onSelectChange(w, f)) : (e.onSelectChange && await e.onSelectChange(w, void 0), m = void 0), (p = e.delete) != null && p.onAfterDelete && await e.delete.onAfterDelete(w);\n    }), u.appendChild(t);\n  }\n  return {\n    select: a,\n    container: u\n  };\n}\nexport {\n  A as buildPresetSelect\n};\n","var It = Object.defineProperty;\nvar Dt = (l, s, o) => s in l ? It(l, s, { enumerable: !0, configurable: !0, writable: !0, value: o }) : l[s] = o;\nvar U = (l, s, o) => Dt(l, typeof s != \"symbol\" ? s + \"\" : s, o);\nimport { st_parseMesExamples as xt, st_getRegexedString as Bt, st_appendFileContent as Ft, st_baseChatReplace as q, st_formatInstructModeExamples as $t, st_formatInstructModeSystemPrompt as jt, st_renderStoryString as zt, st_setOpenAIMessages as Ht, st_setOpenAIMessageExamples as qt, st_formatWorldInfo as Mt, st_getPromptPosition as I, st_getPromptRole as w, st_getGroupDepthPrompts as Wt, st_getAuthorNote as Gt, st_getMaxContextSize as X, st_prepareOpenAIMessages as Qt } from \"./config.js\";\nimport { Tokenizer as Jt } from \"./tokenizer.js\";\nimport { regex_placement as Tt } from \"../../../regex/engine.js\";\nimport { world_info_include_names as Kt, wi_anchor_position as Lt } from \"../../../../world-info.js\";\nimport { name1 as b, name2 as T, this_chid as W, extension_prompt_types as v, depth_prompt_role_default as Vt, depth_prompt_depth_default as Xt } from \"../../../../../script.js\";\nimport { persona_description_positions as Ct } from \"../../../../power-user.js\";\nimport { selected_group as kt } from \"../../../../group-chats.js\";\nclass Yt {\n  constructor(s) {\n    U(this, \"messages\", []);\n    U(this, \"tokenizer\");\n    U(this, \"maxContext\");\n    U(this, \"currentTokenCount\", 0);\n    this.tokenizer = new Jt(), this.maxContext = s;\n  }\n  getTokenCount(s) {\n    var o, m;\n    return s.content ? ((m = (o = s.source) == null ? void 0 : o.extra) == null ? void 0 : m.token_count) ?? this.tokenizer.encode(s.content).length : 0;\n  }\n  canFit(s) {\n    return this.currentTokenCount + this.getTokenCount(s) <= this.maxContext;\n  }\n  add(s) {\n    if (!s.content) return !0;\n    const o = this.getTokenCount(s);\n    return this.currentTokenCount + o > this.maxContext ? !1 : (this.messages.push(s), this.currentTokenCount += o, !0);\n  }\n  addFront(s) {\n    if (!s.content) return !0;\n    const o = this.getTokenCount(s);\n    return this.currentTokenCount + o > this.maxContext ? !1 : (this.messages.unshift(s), this.currentTokenCount += o, !0);\n  }\n  addMany(s) {\n    const o = s.filter((c) => c.content), m = o.map((c) => this.getTokenCount(c)), D = m.reduce((c, h) => c + h, 0);\n    if (this.currentTokenCount + D <= this.maxContext)\n      return this.messages.push(...o), this.currentTokenCount += D, !0;\n    let E = 0;\n    const u = [];\n    for (let c = o.length - 1; c >= 0; c--) {\n      const h = o[c], O = m[c];\n      if (this.currentTokenCount + E + O <= this.maxContext)\n        u.unshift(h), E += O;\n      else\n        break;\n    }\n    return u.length > 0 && (this.messages.push(...u), this.currentTokenCount += E), u.length === o.length;\n  }\n  insert(s, o) {\n    if (!o.content) return !0;\n    const m = this.getTokenCount(o);\n    return this.currentTokenCount + m > this.maxContext ? !1 : (this.messages.splice(s, 0, o), this.currentTokenCount += m, !0);\n  }\n  getMessages() {\n    return this.messages;\n  }\n}\nasync function ce(l, {\n  targetCharacterId: s,\n  presetName: o,\n  instructName: m,\n  contextName: D,\n  syspromptName: E,\n  maxContext: u,\n  includeNames: c,\n  ignoreCharacterFields: h,\n  ignoreAuthorNote: O,\n  ignoreWorldInfo: Y,\n  messageIndexesBetween: C\n} = {}) {\n  var st, it, at, pt, ct, lt, ut, mt, ft, dt, gt, ht, _t, Pt;\n  if (![\"textgenerationwebui\", \"openai\"].includes(l))\n    throw new Error(\"Unsupported API\");\n  const n = SillyTavern.getContext();\n  let { description: G, personality: Q, persona: Z, scenario: J, mesExamples: wt, system: _, jailbreak: bt } = h ? {\n    description: \"\",\n    personality: \"\",\n    persona: \"\",\n    scenario: \"\",\n    mesExamples: \"\",\n    system: \"\",\n    jailbreak: \"\"\n  } : n.getCharacterCardFields({\n    chid: s\n  });\n  const S = l === \"textgenerationwebui\" ? (st = n.getPresetManager(\"instruct\")) == null ? void 0 : st.getCompletionPresetByName(m) : void 0, K = !!(S != null && S.enabled);\n  let P = xt(wt, K);\n  function vt() {\n    var e, p;\n    if (typeof u == \"number\")\n      return u;\n    if (!u)\n      return X();\n    if (u === \"active\" || !o)\n      return X();\n    if (typeof u == \"number\")\n      return u;\n    let t;\n    if (l === \"textgenerationwebui\") {\n      const r = (e = n.getPresetManager(\"textgenerationwebui\")) == null ? void 0 : e.getCompletionPresetByName(o);\n      t = r == null ? void 0 : r.max_length;\n    } else {\n      const r = (p = n.getPresetManager(\"openai\")) == null ? void 0 : p.getCompletionPresetByName(o);\n      t = r == null ? void 0 : r.openai_max_context;\n    }\n    return typeof t == \"number\" ? t : X();\n  }\n  let y = [];\n  const L = vt();\n  if (L <= 0)\n    return { result: [], warnings: y };\n  const a = new Yt(L), Et = n.ToolManager.isToolCallingSupported(), tt = (C == null ? void 0 : C.start) ?? 0, et = C != null && C.end ? C.end + 1 : void 0;\n  let k = tt === -1 && et === 0 ? [] : n.chat.slice(tt, et).filter((t) => {\n    var e;\n    return !t.is_system || Et && Array.isArray((e = t.extra) == null ? void 0 : e.tool_invocations);\n  });\n  k = await Promise.all(\n    k.map(async (t, e) => {\n      var $, j;\n      let p = t.mes, r = t.is_user ? Tt.USER_INPUT : Tt.AI_OUTPUT, i = { isPrompt: !0, depth: k.length - e - 1 }, f = Bt(p, r, i);\n      return f = await Ft(t, f), ($ = t == null ? void 0 : t.extra) != null && $.append_title && ((j = t == null ? void 0 : t.extra) != null && j.title) && (f = `${f}\n\n${t.extra.title}`), {\n        ...t,\n        mes: f,\n        index: e\n      };\n    })\n  );\n  const Ot = k.map((t) => Kt ? `${t.name}: ${t.mes}` : t.mes).reverse(), { worldInfoString: Zt, worldInfoBefore: B, worldInfoAfter: F, worldInfoExamples: St, worldInfoDepth: At, anBefore: ot, anAfter: nt } = Y ? {\n    worldInfoString: \"\",\n    worldInfoBefore: \"\",\n    worldInfoAfter: \"\",\n    worldInfoExamples: [],\n    worldInfoDepth: [],\n    anBefore: [],\n    anAfter: []\n  } : await n.getWorldInfoPrompt(Ot, L, !1);\n  for (const t of St) {\n    const e = t.content;\n    if (e.length === 0)\n      continue;\n    const p = q(e, b, T), r = xt(p, K);\n    t.position === Lt.before ? P.unshift(...r) : P.push(...r);\n  }\n  function rt() {\n    const t = [];\n    for (let e = k.length - 1; e >= 0; e--) {\n      const p = k[e], r = p.name === \"System\" && !p.is_user ? \"system\" : p.is_user ? \"user\" : \"assistant\";\n      t.unshift({\n        role: r,\n        content: c && r != \"system\" ? `${p.name}: ${p.mes}` : p.mes,\n        source: p\n      });\n    }\n    a.addMany(t);\n  }\n  if (l === \"textgenerationwebui\") {\n    const t = [...P];\n    P && (P = $t(P, b, T));\n    const e = (it = n.getPresetManager(\"sysprompt\")) == null ? void 0 : it.getCompletionPresetByName(E);\n    e && (_ = n.powerUserSettings.prefer_character_prompt && _ ? _ : q(e.content, b, T), _ = K ? jt(\n      n.substituteParams(_, b, T, e.content),\n      S\n    ) : _);\n    const p = {\n      description: G,\n      personality: Q,\n      persona: n.powerUserSettings.persona_description_position == Ct.IN_PROMPT ? Z : \"\",\n      scenario: J,\n      system: _,\n      char: T,\n      user: b,\n      wiBefore: B,\n      wiAfter: F,\n      loreBefore: B,\n      loreAfter: F,\n      mesExamples: P.join(\"\"),\n      mesExamplesRaw: t.join(\"\")\n    }, r = (at = n.getPresetManager(\"context\")) == null ? void 0 : at.getCompletionPresetByName(D);\n    let i = zt(p, {\n      customInstructSettings: S,\n      customStoryString: r == null ? void 0 : r.story_string\n    });\n    i && a.add({ role: \"system\", content: i, ignoreInstruct: !0 }), rt();\n  } else {\n    let t = function(g) {\n      const M = d.find((V) => V.identifier === g);\n      if (M)\n        return M;\n      const yt = i.prompts.find((V) => V.identifier === g);\n      if (yt)\n        return yt;\n    }, e = Ht(k), p = qt(P);\n    async function r() {\n      let [g, M] = await Qt(\n        {\n          name2: T,\n          charDescription: G,\n          charPersonality: Q,\n          Scenario: J,\n          worldInfoBefore: B,\n          worldInfoAfter: F,\n          extensionPrompts: n.extensionPrompts,\n          bias: \"\",\n          type: \"normal\",\n          quietPrompt: void 0,\n          quietImage: void 0,\n          cyclePrompt: \"\",\n          systemPromptOverride: _,\n          jailbreakPromptOverride: bt,\n          personaDescription: Z,\n          messages: e,\n          messageExamples: p\n        },\n        !1\n      );\n      a.addMany(g);\n    }\n    if (!o)\n      return y.push(\"No preset name provided. Using default preset.\"), await r(), { result: a.getMessages(), warnings: y };\n    const i = (pt = n.getPresetManager(\"openai\")) == null ? void 0 : pt.getCompletionPresetByName(o);\n    if (!i)\n      return console.warn(`Preset not found: ${o}. Using current preset.`), y.push(`Preset not found: ${o}. Using current preset.`), r(), { result: a.getMessages(), warnings: y };\n    let f = (ct = i.prompt_order) == null ? void 0 : ct.find((g) => g.character_id === W);\n    if (!f && i.prompt_order && i.prompt_order.length > 0 && (f = i.prompt_order[i.prompt_order.length - 1]), !f)\n      return console.warn(`No prompt order found for preset: ${o}. Using current preset.`), y.push(`No prompt order found for preset: ${o}. Using current preset.`), r(), { result: a.getMessages(), warnings: y };\n    const $ = J && i.scenario_format ? n.substituteParams(i.scenario_format) : \"\", j = Q && i.personality_format ? n.substituteParams(i.personality_format) : \"\", Nt = n.substituteParams(i.group_nudge_prompt), Ut = i.impersonation_prompt ? n.substituteParams(i.impersonation_prompt) : \"\", d = [];\n    Y || d.push(\n      {\n        role: \"system\",\n        content: Mt(B, { wiFormat: i.wi_format }),\n        identifier: \"worldInfoBefore\"\n      },\n      {\n        role: \"system\",\n        content: Mt(F, { wiFormat: i.wi_format }),\n        identifier: \"worldInfoAfter\"\n      }\n    ), h || d.push(\n      { role: \"system\", content: G, identifier: \"charDescription\" },\n      { role: \"system\", content: j, identifier: \"charPersonality\" },\n      { role: \"system\", content: $, identifier: \"scenario\" }\n    ), d.push(\n      { role: \"system\", content: Ut, identifier: \"impersonate\" },\n      { role: \"system\", content: Nt, identifier: \"groupNudge\" }\n    );\n    const A = n.extensionPrompts[\"1_memory\"];\n    A && A.value && d.push({\n      role: w(A.role),\n      content: A.value,\n      identifier: \"summary\",\n      position: I(A.position)\n    });\n    const R = n.extensionPrompts[\"2_floating_prompt\"];\n    !O && R && R.value && d.push({\n      role: w(R.role),\n      content: R.value,\n      identifier: \"authorsNote\",\n      position: I(R.position)\n    });\n    const z = n.extensionPrompts[\"3_vectors\"];\n    z && z.value && d.push({\n      role: \"system\",\n      content: z.value,\n      identifier: \"vectorsMemory\",\n      position: I(z.position)\n    });\n    const N = n.extensionPrompts[\"4_vectors_data_bank\"];\n    N && N.value && d.push({\n      role: w(N.role),\n      content: N.value,\n      identifier: \"vectorsDataBank\",\n      position: I(N.position)\n    });\n    const H = n.extensionPrompts.chromadb;\n    H && H.value && d.push({\n      role: \"system\",\n      content: H.value,\n      identifier: \"smartContext\",\n      position: I(H.position)\n    }), !h && n.powerUserSettings.persona_description && n.powerUserSettings.persona_description_position === Ct.IN_PROMPT && d.push({\n      role: \"system\",\n      content: n.powerUserSettings.persona_description,\n      identifier: \"personaDescription\"\n    }), f.order.forEach((g) => {\n      if (!g.enabled)\n        return;\n      const M = t(g.identifier);\n      if (M && M.content) {\n        a.add({\n          role: M.role ?? \"system\",\n          content: n.substituteParams(M.content)\n        });\n        return;\n      }\n      g.identifier === \"chatHistory\" && rt();\n    });\n  }\n  const Rt = [\n    \"1_memory\",\n    \"2_floating_prompt\",\n    \"3_vectors\",\n    \"4_vectors_data_bank\",\n    \"chromadb\",\n    \"PERSONA_DESCRIPTION\",\n    \"QUIET_PROMPT\",\n    \"DEPTH_PROMPT\"\n  ];\n  for (const t in n.extensionPrompts)\n    if (Object.hasOwn(n.extensionPrompts, t)) {\n      const e = n.extensionPrompts[t];\n      if (Rt.includes(t) || !n.extensionPrompts[t].value || ![v.BEFORE_PROMPT, v.IN_PROMPT].includes(e.position) || typeof e.filter == \"function\" && !await e.filter()) continue;\n      const r = {\n        role: w(e.role) ?? \"system\",\n        content: e.value\n      };\n      if (e.position === v.BEFORE_PROMPT)\n        a.insert(e.depth, r);\n      else if (e.position === v.IN_PROMPT) {\n        const i = a.getMessages();\n        a.insert(i.length - e.depth, r);\n      }\n    }\n  for (const t of At) {\n    const e = a.getMessages();\n    a.insert(e.length - t.depth, {\n      role: w(t.role),\n      content: t.entries.join(`\n`)\n    });\n  }\n  if (!h) {\n    const t = Wt(kt, Number(W));\n    if (kt && Array.isArray(t) && t.length > 0)\n      t.filter((e) => e.text).forEach((e, p) => {\n        const r = a.getMessages();\n        a.insert(r.length - e.depth, { role: e.role, content: e.text });\n      });\n    else {\n      const e = q(\n        (dt = (ft = (mt = (ut = (lt = n.characters[W]) == null ? void 0 : lt.data) == null ? void 0 : ut.extensions) == null ? void 0 : mt.depth_prompt) == null ? void 0 : ft.prompt) == null ? void 0 : dt.trim(),\n        b,\n        T\n      ) || \"\";\n      if (e) {\n        const p = Xt, r = ((Pt = (_t = (ht = (gt = n.characters[W]) == null ? void 0 : gt.data) == null ? void 0 : ht.extensions) == null ? void 0 : _t.depth_prompt) == null ? void 0 : Pt.role) ?? Vt, i = a.getMessages();\n        a.insert(i.length - p, {\n          role: w(r),\n          content: e\n        });\n      }\n    }\n  }\n  let x = -1;\n  if (!O) {\n    const t = Gt();\n    if (t.prompt) {\n      t.prompt = q(t.prompt, b, T);\n      const e = { role: w(t.role), content: t.prompt };\n      switch (t.position) {\n        case v.IN_PROMPT:\n          a.insert(1, e), x = 1;\n          break;\n        case v.IN_CHAT:\n          x = a.getMessages().length - t.depth, a.insert(x, e);\n          break;\n        case v.BEFORE_PROMPT:\n          a.addFront(e), x = 0;\n          break;\n      }\n    }\n  }\n  return x >= 0 && (ot.length > 0 && (a.insert(x, { role: \"system\", content: ot.join(`\n`) }), x++), nt.length > 0 && a.insert(x + 1, { role: \"system\", content: nt.join(`\n`) })), { result: a.getMessages(), warnings: y };\n}\nexport {\n  ce as buildPrompt\n};\n","import B from \"sortablejs\";\nfunction N(p, c = {}) {\n  const m = typeof p == \"string\" ? document.querySelector(p) : p;\n  if (!m)\n    throw new Error(`Could not find container: ${p}`);\n  const h = c.showToggleButton ?? !1, v = c.showDeleteButton ?? !1, S = c.showSelectInput ?? !1;\n  let r = [...c.initialList || []], f = null;\n  m.innerHTML = \"\", m.classList.add(\"sortable-list-container\");\n  const g = document.createElement(\"ul\");\n  g.className = \"sortable-list\", Object.assign(g.style, {\n    listStyle: \"none\",\n    padding: \"0\",\n    margin: \"0\"\n  }), m.appendChild(g);\n  const L = (t) => r.find((e) => e.id === t), x = (t) => g.querySelector(`li[data-id=\"${t}\"]`), C = (t) => {\n    const e = document.createElement(\"li\");\n    e.className = \"sortable-list-item\", e.dataset.id = t.id, Object.assign(e.style, {\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: \"8px 12px\",\n      border: \"1px solid var(--SmartThemeBorderColor, #ccc)\",\n      color: \"var(--SmartThemeBodyColor, #333)\",\n      marginBottom: \"2px\"\n    });\n    const l = document.createElement(\"span\");\n    l.className = \"drag-handle\", l.innerHTML = '<i class=\"fas fa-bars\"></i>', Object.assign(l.style, {\n      cursor: \"grab\",\n      marginRight: \"10px\",\n      color: \"var(--SmartThemeBodyColor, #555)\",\n      flexShrink: \"0\"\n    }), e.appendChild(l);\n    const o = document.createElement(\"span\");\n    o.className = \"item-label\", o.style.flexGrow = \"1\", o.style.marginRight = \"10px\", o.style.overflow = \"hidden\", o.style.textOverflow = \"ellipsis\", o.style.whiteSpace = \"nowrap\", c.renderLabel ? c.renderLabel(o, t) : o.textContent = t.label, e.appendChild(o);\n    const a = \"10px\", s = t.showSelect ?? !0, i = t.canSelect ?? !0;\n    let d = null;\n    if (S && s)\n      if (i) {\n        if (d = document.createElement(\"select\"), d.className = \"select-input text_pole\", d.style.marginRight = a, d.style.flexShrink = \"0\", d.style.width = \"unset\", t.selectOptions && t.selectOptions.length > 0)\n          t.selectOptions.forEach((n) => {\n            const u = document.createElement(\"option\");\n            u.value = n.value, u.textContent = n.label, n.value === t.selectValue && (u.selected = !0), d.appendChild(u);\n          });\n        else {\n          const n = document.createElement(\"option\");\n          n.textContent = \"--\", n.disabled = !0, n.selected = !0, d.appendChild(n), d.disabled = !0;\n        }\n        d.addEventListener(\"change\", (n) => {\n          n.stopPropagation(), k(t.id, n);\n        }), e.appendChild(d);\n      } else {\n        const n = document.createElement(\"span\");\n        n.style.marginRight = a, n.style.display = \"inline-block\", n.style.flexShrink = \"0\", e.appendChild(n);\n      }\n    else if (S && !s) {\n      const n = document.createElement(\"span\");\n      n.style.marginRight = a, n.style.display = \"inline-block\", n.style.flexShrink = \"0\", e.appendChild(n);\n    }\n    const b = t.canToggle ?? !0;\n    if (h && b) {\n      const n = document.createElement(\"span\");\n      n.className = \"toggle-button\", n.innerHTML = `<i class=\"fas ${t.enabled ? \"fa-toggle-on\" : \"fa-toggle-off\"}\"></i>`, Object.assign(n.style, {\n        cursor: \"pointer\",\n        marginRight: a,\n        fontSize: \"1.2em\",\n        color: t.enabled ? \"var(--success-color, #4CAF50)\" : \"var(--SmartThemeBodyColor, #555)\",\n        flexShrink: \"0\"\n        // Prevent shrinking\n        // Optional: width: '24px', textAlign: 'center' for alignment\n      }), n.addEventListener(\"click\", (u) => {\n        u.stopPropagation(), O(t.id);\n      }), e.appendChild(n);\n    } else if (h && !b) {\n      const n = document.createElement(\"span\");\n      n.style.marginRight = a, n.style.display = \"inline-block\", n.style.flexShrink = \"0\", e.appendChild(n);\n    }\n    const y = t.canDelete ?? !0;\n    if (v && y) {\n      const n = document.createElement(\"span\");\n      n.className = \"delete-button\", n.innerHTML = '<i class=\"fas fa-trash-can\"></i>', Object.assign(n.style, {\n        cursor: \"pointer\",\n        color: \"var(--error-color, #f44336)\",\n        // No margin needed if it's the last element\n        flexShrink: \"0\"\n        // Prevent shrinking\n        // Optional: width: '18px', textAlign: 'center' for alignment\n      }), n.addEventListener(\"click\", (u) => {\n        u.stopPropagation(), T(t.id);\n      }), e.appendChild(n);\n    } else if (v && !y) {\n      const n = document.createElement(\"span\");\n      n.style.display = \"inline-block\", n.style.flexShrink = \"0\", e.appendChild(n);\n    }\n    return h && (e.style.opacity = t.enabled ? \"1\" : \"0.6\"), e;\n  }, E = () => {\n    g.innerHTML = \"\", r.forEach((t) => {\n      const e = C(t);\n      g.appendChild(e);\n    });\n  }, I = (t, e = {}) => {\n    const l = L(t), o = x(t);\n    if (!l || !o) return;\n    if (\"label\" in e && c.renderLabel || \"selectOptions\" in e || \"showSelect\" in e || \"canSelect\" in e || \"canToggle\" in e || \"canDelete\" in e) {\n      const s = C(l);\n      o.replaceWith(s);\n      return;\n    }\n    if (\"label\" in e && !c.renderLabel) {\n      const s = o.querySelector(\".item-label\");\n      s && (s.textContent = l.label);\n    }\n    if (\"selectValue\" in e && S) {\n      const s = o.querySelector(\".select-input\");\n      s && (s.value = l.selectValue ?? \"\");\n    }\n    if (\"enabled\" in e && h && (l.canToggle ?? !0)) {\n      const s = o.querySelector(\".toggle-button i\"), i = o.querySelector(\".toggle-button\");\n      s && (s.className = `fas ${l.enabled ? \"fa-toggle-on\" : \"fa-toggle-off\"}`), i && (i.style.color = l.enabled ? \"var(--success-color, #4CAF50)\" : \"var(--SmartThemeBodyColor, #555)\");\n    }\n    if (\"enabled\" in e && h) {\n      o.style.opacity = l.enabled ? \"1\" : \"0.6\";\n      const s = o.querySelector(\".select-input\");\n      s && (s.disabled = !l.enabled || !(l.canSelect ?? !0));\n    }\n  }, O = async (t) => {\n    const e = r.findIndex((s) => s.id === t);\n    if (e === -1 || !(r[e].canToggle ?? !0)) return;\n    const l = r[e], o = !l.enabled;\n    if (c.onToggle)\n      try {\n        await Promise.resolve(c.onToggle(t, o));\n      } catch (s) {\n        console.error(\"onToggle callback failed:\", s);\n        return;\n      }\n    const a = { enabled: o };\n    r[e] = { ...l, ...a }, I(t, a);\n  }, T = async (t) => {\n    var o;\n    const e = r.findIndex((a) => a.id === t);\n    if (e === -1 || !(r[e].canDelete ?? !0)) return;\n    let l = !0;\n    if (c.onDelete)\n      try {\n        l = await Promise.resolve(c.onDelete(t));\n      } catch (a) {\n        console.error(\"onDelete callback failed:\", a), l = !1;\n      }\n    l && (r.splice(e, 1), (o = x(t)) == null || o.remove());\n  }, k = async (t, e) => {\n    const l = r.findIndex((d) => d.id === t);\n    if (l === -1 || !(r[l].canSelect ?? !0)) return;\n    const o = r[l], a = e.target, s = a.value;\n    if (c.onSelectChange)\n      try {\n        await Promise.resolve(c.onSelectChange(t, s));\n      } catch (d) {\n        console.error(\"onSelectChange callback failed:\", d), a.value = o.selectValue ?? \"\";\n        return;\n      }\n    const i = { selectValue: s };\n    r[l] = { ...o, ...i };\n  }, w = () => {\n    f && f.destroy();\n    const t = {\n      handle: \".drag-handle\",\n      animation: 150,\n      ghostClass: \"sortable-ghost\",\n      chosenClass: \"sortable-chosen\",\n      dragClass: \"sortable-drag\",\n      filter: \".select-input, .toggle-button, .delete-button\",\n      // Prevent drag on controls\n      preventOnFilter: !1,\n      onEnd: (e) => {\n        const { oldIndex: l, newIndex: o } = e;\n        if (l === void 0 || o === void 0 || l === o)\n          return;\n        const a = Array.from(g.children).map((i) => i.dataset.id).filter((i) => i !== void 0);\n        r.sort((i, d) => {\n          const b = a.indexOf(i.id), y = a.indexOf(d.id);\n          return b - y;\n        });\n        const s = r.map((i) => i.id);\n        c.onOrderChange && Promise.resolve(c.onOrderChange(s)).catch(\n          (i) => console.error(\"onOrderChange callback failed:\", i)\n        );\n      },\n      ...c.sortableJsOptions || {}\n    };\n    f = B.create(g, t);\n  };\n  return E(), w(), {\n    /** Gets the current list of items with their data. */\n    getList: () => [...r],\n    /** Gets the current order of item IDs. */\n    getOrder: () => r.map((t) => t.id),\n    /** Adds a new item to the list. */\n    addItem: (t, e) => {\n      if (r.some((s) => s.id === t.id)) {\n        console.warn(`SortableList: Item with ID \"${t.id}\" already exists. Skipping add.`);\n        return;\n      }\n      const l = e === void 0 || e < 0 || e > r.length ? r.length : e;\n      r.splice(l, 0, t);\n      const o = C(t), a = g.children[l];\n      g.insertBefore(o, a ?? null);\n    },\n    removeItem: (t) => {\n      var l;\n      const e = r.findIndex((o) => o.id === t);\n      e > -1 && (r.splice(e, 1), (l = x(t)) == null || l.remove());\n    },\n    /** Updates the data and visuals for an existing item. */\n    updateItem: (t, e) => {\n      const l = r.findIndex((o) => o.id === t);\n      if (l > -1) {\n        const o = r[l];\n        \"id\" in e && (console.warn(\"SortableList: Cannot change item ID via updateItem.\"), delete e.id), r[l] = { ...o, ...e }, I(t, e);\n      }\n    },\n    /** Replaces the entire list content. */\n    setList: (t) => {\n      r = [...t], E(), w();\n    },\n    /** Destroys the SortableJS instance and removes elements. */\n    destroy: () => {\n      f && (f.destroy(), f = null), m.innerHTML = \"\", m.classList.remove(\"sortable-list-container\"), r = [];\n    },\n    /** Gets the underlying SortableJS instance for advanced manipulation (use with caution). */\n    getSortableInstance: () => f\n  };\n}\nexport {\n  N as buildSortableList\n};\n","class t {\n  /**\n   * Encodes a string into a sequence of tokens using a simple heuristic.\n   * This is a placeholder for a real tokenizer.\n   */\n  encode(e) {\n    const n = Math.ceil(e.length / 4);\n    return new Array(n).fill(\" \");\n  }\n  /**\n   * Decodes a sequence of tokens back into a string.\n   * This is a placeholder and doesn't actually decode.\n   */\n  decode(e) {\n    return e.join(\"\");\n  }\n}\nexport {\n  t as Tokenizer\n};\n","import { st_getCharaFilename as g, st_createWorldInfoEntry as W } from \"./config.js\";\nimport { selected_world_info as _, world_names as j, METADATA_KEY as x, world_info as O } from \"../../../../world-info.js\";\nasync function k(s, i, u) {\n  var l, h, I;\n  function c(o) {\n    return s.includes(\"all\") || s.includes(o);\n  }\n  const r = SillyTavern.getContext();\n  let t = {};\n  const a = i ? _ : j;\n  if (c(\"global\") && (a != null && a.length))\n    for (const o of a) {\n      const e = await C(o);\n      e && (t[o] || (t[o] = []), Object.values(e).forEach((f) => {\n        t[o].push(f);\n      }));\n    }\n  if (c(\"chat\")) {\n    const o = r.chatMetadata[x];\n    if (o && !t[o]) {\n      t[o] = [];\n      const e = await r.loadWorldInfo(o);\n      e && Object.values(e.entries).forEach((f) => {\n        t[o].push(f);\n      });\n    }\n  }\n  if (c(\"character\") && u) {\n    const o = r.characters[u];\n    let e = /* @__PURE__ */ new Set();\n    const f = (h = (l = o == null ? void 0 : o.data) == null ? void 0 : l.extensions) == null ? void 0 : h.world;\n    f && e.add(f);\n    const m = g(u), y = (I = O.charLore) == null ? void 0 : I.find((d) => d.name === m);\n    y && (e = /* @__PURE__ */ new Set([...e, ...y.extraBooks]));\n    for (const d of e) {\n      const b = await r.loadWorldInfo(d);\n      !b || t[d] || (t[d] = [], Object.values(b.entries).forEach((v) => {\n        t[d].push(v);\n      }));\n    }\n  }\n  if (c(\"persona\")) {\n    const o = r.powerUserSettings.persona_description_lorebook;\n    if (o && !t[o]) {\n      t[o] = [];\n      const e = await r.loadWorldInfo(o);\n      e && Object.values(e.entries).forEach((f) => {\n        t[o].push(f);\n      });\n    }\n  }\n  return t;\n}\nasync function A({\n  entry: s,\n  selectedWorldName: i,\n  skipSave: u = !1,\n  skipReload: c = !1,\n  operation: r = \"auto\"\n}) {\n  const t = SillyTavern.getContext(), a = await t.loadWorldInfo(i);\n  if (!a)\n    throw new Error(\"Failed to load world info\");\n  const w = Object.values(a.entries), p = w.length > 0 ? w[w.length - 1] : void 0;\n  let n;\n  if (r === \"update\" || r === \"auto\") {\n    const l = Object.values(a.entries).find((h) => h.uid === s.uid);\n    if (l)\n      (r === \"auto\" || r === \"update\") && (n = l);\n    else if (r === \"update\")\n      throw new Error(\"Entry not found for update operation\");\n  }\n  const E = n ? \"update\" : \"add\";\n  if (!n) {\n    if (n = W(i, a), !n)\n      throw new Error(\"Failed to create entry\");\n    if (p) {\n      const l = n.uid;\n      Object.assign(n, p), n.uid = l;\n    }\n  }\n  return n.key = s.key, n.content = s.content, n.comment = s.comment, u || await t.saveWorldInfo(i, a), c || t.reloadWorldInfoEditor(i, !0), {\n    entry: n,\n    operation: E\n  };\n}\nasync function C(s) {\n  const i = await SillyTavern.getContext().loadWorldInfo(s);\n  return i ? Object.values(i.entries) : null;\n}\nexport {\n  A as applyWorldInfoEntry,\n  C as getWorldInfo,\n  k as getWorldInfos\n};\n","/**!\n * Sortable 1.15.6\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.6\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction matches( /**HTMLElement*/el, /**String*/selector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n  return false;\n}\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\nfunction closest( /**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n  return null;\n}\nvar R_SPACE = /\\s+/g;\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\nfunction css(el, prop, val) {\n  var style = el && el.style;\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n    } while (!selfOnly && (el = el.parentNode));\n  }\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n  return matrixFn && new matrixFn(appliedTransforms);\n}\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n      i = 0,\n      n = list.length;\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n    return list;\n  }\n  return [];\n}\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode;\n\n    // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect();\n\n          // Set relative to edges of padding box of container\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n      } while (container = container.parentNode);\n    }\n  }\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n      scaleX = elMatrix && elMatrix.a,\n      scaleY = elMatrix && elMatrix.d;\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n    elSideVal = getRect(el)[elSide];\n\n  /* jshint boss:true */\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n      visible = void 0;\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n  return false;\n}\n\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n    i = 0,\n    children = el.children;\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n      currentChild++;\n    }\n    i++;\n  }\n  return null;\n}\n\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n  return last || null;\n}\n\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\nfunction index(el, selector) {\n  var index = 0;\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n\n  /* jshint boss:true */\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n  return index;\n}\n\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n    offsetTop = 0,\n    winScroller = getWindowScrollingElement();\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n        scaleX = elMatrix.a,\n        scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n  return [offsetLeft, offsetTop];\n}\n\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n  return -1;\n}\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n  } while (elem = elem.parentNode);\n  return getWindowScrollingElement();\n}\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n  return dst;\n}\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\nvar _throttleTimeout;\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n        _this = this;\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\nfunction getChildContainingRectFromElement(container, options, ghostEl) {\n  var rect = {};\n  Array.from(container.children).forEach(function (child) {\n    var _rect$left, _rect$top, _rect$right, _rect$bottom;\n    if (!closest(child, options.draggable, container, false) || child.animated || child === ghostEl) return;\n    var childRect = getRect(child);\n    rect.left = Math.min((_rect$left = rect.left) !== null && _rect$left !== void 0 ? _rect$left : Infinity, childRect.left);\n    rect.top = Math.min((_rect$top = rect.top) !== null && _rect$top !== void 0 ? _rect$top : Infinity, childRect.top);\n    rect.right = Math.max((_rect$right = rect.right) !== null && _rect$right !== void 0 ? _rect$right : -Infinity, childRect.right);\n    rect.bottom = Math.max((_rect$bottom = rect.bottom) !== null && _rect$bottom !== void 0 ? _rect$bottom : -Infinity, childRect.bottom);\n  });\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n    animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect);\n\n        // If animating: compensate for current animation\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n      var animating = false,\n        animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n          target = state.target,\n          fromRect = target.fromRect,\n          toRect = getRect(target),\n          prevFromRect = target.prevFromRect,\n          prevToRect = target.prevToRect,\n          animatingRect = state.rect,\n          targetMatrix = matrix(target, true);\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n        target.toRect = toRect;\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) &&\n          // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        }\n\n        // if fromRect != toRect: animate\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n          if (!time) {\n            time = _this.options.animation;\n          }\n          _this.animate(target, animatingRect, toRect, time);\n        }\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d,\n          translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n          translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\nfunction repaint(target) {\n  return target.offsetWidth;\n}\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n    this.eventCanceled = false;\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return;\n      // Fire global events if it exists in this sortable\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n\n      // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized;\n\n      // Add default options from plugin\n      _extends(defaults, initialized.defaults);\n    });\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return;\n\n      // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n    rootEl = _ref.rootEl,\n    name = _ref.name,\n    targetEl = _ref.targetEl,\n    cloneEl = _ref.cloneEl,\n    toEl = _ref.toEl,\n    fromEl = _ref.fromEl,\n    oldIndex = _ref.oldIndex,\n    newIndex = _ref.newIndex,\n    oldDraggableIndex = _ref.oldDraggableIndex,\n    newDraggableIndex = _ref.newDraggableIndex,\n    originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n    options = sortable.options,\n    onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    originalEvent = _ref.evt,\n    data = _objectWithoutProperties(_ref, _excluded);\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\nvar dragEl,\n  parentEl,\n  ghostEl,\n  rootEl,\n  nextEl,\n  lastDownEl,\n  cloneEl,\n  cloneHidden,\n  oldIndex,\n  newIndex,\n  oldDraggableIndex,\n  newDraggableIndex,\n  activeGroup,\n  putSortable,\n  awaitingDragStarted = false,\n  ignoreNextClick = false,\n  sortables = [],\n  tapEvt,\n  touchEvt,\n  lastDx,\n  lastDy,\n  tapDistanceLeft,\n  tapDistanceTop,\n  moved,\n  lastTarget,\n  lastDirection,\n  pastFirstInvertThresh = false,\n  isCircumstantialInvert = false,\n  targetMoveDistance,\n  // For positioning ghost absolutely\n  ghostRelativeParent,\n  ghostRelativeParentInitialScroll = [],\n  // (left, top)\n\n  _silent = false,\n  savedInputChecked = [];\n\n/** @const */\nvar documentExists = typeof document !== 'undefined',\n  PositionGhostAbsolutely = IOS,\n  CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n  // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n  supportCssPointerEvents = function () {\n    if (!documentExists) return;\n    // false when <= IE11\n    if (IE11OrLess) {\n      return false;\n    }\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n  _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n  _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n  /**\r\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n   * @param  {Number} x      X position\r\n   * @param  {Number} y      Y position\r\n   * @return {HTMLElement}   Element of the first found nearest Sortable\r\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      var threshold = sortable[expando].options.emptyInsertThreshold;\n      if (!threshold || lastChild(sortable)) return;\n      var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n      if (insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n  _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n    var group = {};\n    var originalGroup = options.group;\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n  _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n  _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  };\n\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n  this.el = el; // root element\n  this.options = options = _extends({}, options);\n\n  // Export instance\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    // Disabled on Safari: #1571; Enabled on Safari IOS: #2244\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && (!Safari || IOS),\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults);\n\n  // Set default options\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n  _prepareGroup(options);\n\n  // Bind all private methods\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  }\n\n  // Setup drag mode\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  }\n\n  // Bind events\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n  sortables.push(this.el);\n\n  // Restore sorting\n  options.store && options.store.get && this.sort(options.store.get(this) || []);\n\n  // Add animation state manager\n  _extends(this, AnimationStateManager());\n}\nSortable.prototype = /** @lends Sortable.prototype */{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart( /** Event|TouchEvent */evt) {\n    if (!evt.cancelable) return;\n    var _this = this,\n      el = this.el,\n      options = this.options,\n      preventOnFilter = options.preventOnFilter,\n      type = evt.type,\n      touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n      target = (touch || evt).target,\n      originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n      filter = options.filter;\n    _saveInputCheckedState(el);\n\n    // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n    if (dragEl) {\n      return;\n    }\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    }\n\n    // cancel dnd if original target is content editable\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    // Safari ignores further event handling after mousedown\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n    target = closest(target, options.draggable, el, false);\n    if (target && target.animated) {\n      return;\n    }\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    }\n\n    // Get the index of the dragged element within its parent\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable);\n\n    // Check filter\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n      if (filter) {\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    }\n\n    // Prepare `dragstart`\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart( /** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n    var _this = this,\n      el = _this.el,\n      options = _this.options,\n      ownerDocument = el.ownerDocument,\n      dragStartFn;\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n          return;\n        }\n        // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n        _this._disableDelayedDragEvents();\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        }\n\n        // Bind the events: dragstart/dragend\n        _this._triggerDragStart(evt, touch);\n\n        // Drag start event\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        });\n\n        // Chosen item\n        toggleClass(dragEl, options.chosenClass, true);\n      };\n\n      // Disable \"draggable\"\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      if (options.supportPointer) {\n        on(ownerDocument, 'pointerup', _this._onDrop);\n        // Native D&D triggers pointercancel\n        !this.nativeDraggable && on(ownerDocument, 'pointercancel', _this._onDrop);\n      } else {\n        on(ownerDocument, 'mouseup', _this._onDrop);\n        on(ownerDocument, 'touchend', _this._onDrop);\n        on(ownerDocument, 'touchcancel', _this._onDrop);\n      }\n\n      // Make dragEl draggable (must be before delay for FireFox)\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n      pluginEvent('delayStart', this, {\n        evt: evt\n      });\n\n      // Delay is impossible for native DnD in Edge or IE\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n          return;\n        }\n        // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n        if (options.supportPointer) {\n          on(ownerDocument, 'pointerup', _this._disableDelayedDrag);\n          on(ownerDocument, 'pointercancel', _this._disableDelayedDrag);\n        } else {\n          on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        }\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler( /** TouchEvent|PointerEvent **/e) {\n    var touch = e.touches ? e.touches[0] : e;\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'pointerup', this._disableDelayedDrag);\n    off(ownerDocument, 'pointercancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart( /** Event */evt, /** Touch */touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n    try {\n      if (document.selection) {\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n    awaitingDragStarted = false;\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n      var options = this.options;\n\n      // Apply effect\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost();\n\n      // Drag start event\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n      _hideGhostForTarget();\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n          target = parent; // store last element\n        }\n        /* jshint boss:true */ while (parent = getParentOrHost(parent));\n      }\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove( /**TouchEvent*/evt) {\n    if (tapEvt) {\n      var options = this.options,\n        fallbackTolerance = options.fallbackTolerance,\n        fallbackOffset = options.fallbackOffset,\n        touch = evt.touches ? evt.touches[0] : evt,\n        ghostMatrix = ghostEl && matrix(ghostEl, true),\n        scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n        scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n        relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n        dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n        dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1);\n\n      // only set the status to dragging, when we are actually dragging\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n        this._onDragStart(evt, true);\n      }\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n        rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n        options = this.options;\n\n      // Position absolutely\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl);\n\n      // Set transform-origin\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart( /**Event*/evt, /**boolean*/fallback) {\n    var _this = this;\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n      return;\n    }\n    pluginEvent('setupClone', this);\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n      this._hideClone();\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    }\n\n    // #1143: IFrame support workaround\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n      _this._hideClone();\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true);\n\n    // Set proper drop events\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n      on(document, 'drop', _this);\n\n      // #1276 fix:\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n    window.getSelection().removeAllRanges();\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver( /**Event*/evt) {\n    var el = this.el,\n      target = evt.target,\n      dragRect,\n      targetRect,\n      revert,\n      options = this.options,\n      group = options.group,\n      activeSortable = Sortable.active,\n      isOwner = activeGroup === group,\n      canSort = options.sort,\n      fromSortable = putSortable || activeSortable,\n      vertical,\n      _this = this,\n      completedFired = false;\n    if (_silent) return;\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    }\n\n    // Capture animation state\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n      _this.captureAnimationState();\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    }\n\n    // Return invocation when dragEl is inserted (or completed)\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        }\n\n        // Animation\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      }\n\n      // Null lastTarget if it is not inside a previously swapped element\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      }\n\n      // no bubbling and not fallback\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n        // Do not detect for empty insert if already inserted\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    }\n\n    // Call when dragEl has been inserted\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n    ignoreNextClick = false;\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n      if (revert) {\n        parentEl = rootEl; // actualization\n        capture();\n        this._hideClone();\n        dragOverEvent('revert');\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n        return completed(true);\n      }\n      var elLastChild = lastChild(el, options.draggable);\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        }\n\n        // if there is a last element, it is the target\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n        if (target) {\n          targetRect = getRect(target);\n        }\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n        target = firstChild;\n        targetRect = getRect(target);\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n          targetBeforeFirstSwap,\n          differentLevel = dragEl.parentNode !== el,\n          differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n          side1 = vertical ? 'top' : 'left',\n          scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n          scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        }\n        // If dragEl is already beside target: Do not insert\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n          after = false;\n        after = direction === 1;\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          }\n\n          // Undo chrome's scroll adjustment (has no effect on other browsers)\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n          parentEl = dragEl.parentNode; // actualization\n\n          // must be done before animation\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n          changed();\n          return completed(true);\n        }\n      }\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'pointercancel', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop( /**Event*/evt) {\n    var el = this.el,\n      options = this.options;\n\n    // Get the index of the dragged element within its parent\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode;\n\n    // Get again after plugin event\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    if (Sortable.eventCanceled) {\n      this._nulling();\n      return;\n    }\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n    _cancelNextTick(this.cloneId);\n    _cancelNextTick(this._dragStartId);\n\n    // Unbind events\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n    this._offMoveEvents();\n    this._offUpEvents();\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n    css(dragEl, 'transform', '');\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n        _disableDraggable(dragEl);\n        dragEl.style['will-change'] = '';\n\n        // Remove classes\n        // ghostClass is added in dragStarted\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n        toggleClass(dragEl, this.options.chosenClass, false);\n\n        // Drag stop event\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            // Remove event\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n\n            // drag from one list and drop into another\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          });\n\n          // Save sorting\n          this.save();\n        }\n      }\n    }\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent( /**Event*/evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n        break;\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n          _globalDragOver(evt);\n        }\n        break;\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n      el,\n      children = this.el.children,\n      i = 0,\n      n = children.length,\n      options = this.options;\n    for (; i < n; i++) {\n      el = children[i];\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n    return order;\n  },\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n      rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    }\n    // Remove draggable attributes\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n    this._onDrop();\n    this._disableDelayedDragEvents();\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n      return;\n    }\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return;\n\n      // show clone at dragEl or original position\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\nfunction _globalDragOver( /**Event*/evt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n  evt.cancelable && evt.preventDefault();\n}\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n    sortable = fromEl[expando],\n    onMoveFn = sortable.options.onMove,\n    retVal;\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n  return retVal;\n}\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\nfunction _unsilent() {\n  _silent = false;\n}\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var firstElRect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX < childContainingRect.left - spacer || evt.clientY < firstElRect.top && evt.clientX < firstElRect.right : evt.clientY < childContainingRect.top - spacer || evt.clientY < firstElRect.bottom && evt.clientX < firstElRect.left;\n}\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var lastElRect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX > childContainingRect.right + spacer || evt.clientY > lastElRect.bottom && evt.clientX > lastElRect.left : evt.clientY > childContainingRect.bottom + spacer || evt.clientX > lastElRect.right && evt.clientY > lastElRect.top;\n}\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n    targetLength = vertical ? targetRect.height : targetRect.width,\n    targetS1 = vertical ? targetRect.top : targetRect.left,\n    targetS2 = vertical ? targetRect.bottom : targetRect.right,\n    invert = false;\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n  invert = invert || invertSwap;\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n  return 0;\n}\n\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n    i = str.length,\n    sum = 0;\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n  return sum.toString(36);\n}\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n}\n\n// Fixed #973:\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n}\n\n// Export utils\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild,\n  expando: expando\n};\n\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\nSortable.get = function (element) {\n  return element[expando];\n};\n\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n};\n\n// Export\nSortable.version = version;\n\nvar autoScrolls = [],\n  scrollEl,\n  scrollRootEl,\n  scrolling = false,\n  lastAutoScrollX,\n  lastAutoScrollY,\n  touchEvt$1,\n  pointerElemChangedInterval;\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    };\n\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt;\n\n      // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback);\n\n        // Listener for pointer element change\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval();\n          // Detect for pointer elem change, emulating native DnD behaviour\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n    y = (evt.touches ? evt.touches[0] : evt).clientY,\n    sens = options.scrollSensitivity,\n    speed = options.scrollSpeed,\n    winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n    scrollCustomFn;\n\n  // New scroll root, set scrollEl\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n  var layersOut = 0;\n  var currentParent = scrollEl;\n  do {\n    var el = currentParent,\n      rect = getRect(el),\n      top = rect.top,\n      bottom = rect.bottom,\n      left = rect.left,\n      right = rect.right,\n      width = rect.width,\n      height = rect.height,\n      canScrollX = void 0,\n      canScrollY = void 0,\n      scrollWidth = el.scrollWidth,\n      scrollHeight = el.scrollHeight,\n      elCSS = css(el),\n      scrollPosX = el.scrollLeft,\n      scrollPosY = el.scrollTop;\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n          }\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    dragEl = _ref.dragEl,\n    activeSortable = _ref.activeSortable,\n    dispatchSortableEvent = _ref.dispatchSortableEvent,\n    hideGhostForTarget = _ref.hideGhostForTarget,\n    unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\nfunction Revert() {}\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n      putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n    this.sortable.animateAll();\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\nfunction Remove() {}\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n      putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n        target = _ref2.target,\n        onMove = _ref2.onMove,\n        activeSortable = _ref2.activeSortable,\n        changed = _ref2.changed,\n        cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n        options = this.options;\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n        putSortable = _ref3.putSortable,\n        dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n    p2 = n2.parentNode,\n    i1,\n    i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n  multiDragClones = [],\n  lastMultiDragSelect,\n  // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n  initialFolding = false,\n  // Initial multi-drag fold when drag started\n  folding = false,\n  // Folding any other time\n  dragStarted = false,\n  dragEl$1,\n  clonesFromRect,\n  clonesHidden;\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n        cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n      sortable._hideClone();\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n        rootEl = _ref3.rootEl,\n        dispatchSortableEvent = _ref3.dispatchSortableEvent,\n        cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n        rootEl = _ref4.rootEl,\n        cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n      var sortable = _ref5.sortable,\n        cloneNowHidden = _ref5.cloneNowHidden,\n        cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      });\n\n      // Sort multi-drag elements\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n\n        sortable.captureAnimationState();\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        }\n\n        // Remove all auxiliary multidrag items from el, if sorting enabled\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n        completed = _ref8.completed,\n        cancel = _ref8.cancel;\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n        rootEl = _ref9.rootEl,\n        sortable = _ref9.sortable,\n        dragRect = _ref9.dragRect;\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n        isOwner = _ref10.isOwner,\n        insertion = _ref10.insertion,\n        activeSortable = _ref10.activeSortable,\n        parentEl = _ref10.parentEl,\n        putSortable = _ref10.putSortable;\n      var options = this.options;\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n        initialFolding = false;\n        // If leaving sort:false root, or already folding - Fold to new location\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute);\n\n            // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        }\n\n        // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n            activeSortable._showClone(sortable);\n\n            // Unfold animation for clones if showing from hidden\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n        isOwner = _ref11.isOwner,\n        activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n        rootEl = _ref12.rootEl,\n        parentEl = _ref12.parentEl,\n        sortable = _ref12.sortable,\n        dispatchSortableEvent = _ref12.dispatchSortableEvent,\n        oldIndex = _ref12.oldIndex,\n        putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n        children = parentEl.children;\n\n      // Multi-drag selection\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n\n          // Modifier activated, select from last to dragEl\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n              currentIndex = index(dragEl$1);\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              (function () {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                var n, i;\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n                var filter = options.filter;\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  // Check if element is draggable\n                  if (!closest(children[i], options.draggable, parentEl, false)) continue;\n                  // Check if element is filtered\n                  var filtered = filter && (typeof filter === 'function' ? filter.call(sortable, evt, children[i], sortable) : filter.split(',').some(function (criteria) {\n                    return closest(children[i], criteria.trim(), parentEl, false);\n                  }));\n                  if (filtered) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n                  dispatchEvent({\n                    sortable: sortable,\n                    rootEl: rootEl,\n                    name: 'select',\n                    targetEl: children[i],\n                    originalEvent: evt\n                  });\n                }\n              })();\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      }\n\n      // Multi-drag drop\n      if (dragStarted && this.isMultiDrag) {\n        folding = false;\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n            multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect;\n\n                  // Prepare unfold animation\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            }\n\n            // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n              multiDragIndex++;\n            });\n\n            // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n              if (update) {\n                dispatchSortableEvent('update');\n                dispatchSortableEvent('sort');\n              }\n            }\n          }\n\n          // Must be done after capturing individual rects (scroll bar)\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n        multiDragSortable = toSortable;\n      }\n\n      // Remove clones if necessary\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n      // Only deselect if selection is in this sortable\n      if (multiDragSortable !== this.sortable) return;\n\n      // Only deselect if target is not item in this sortable\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return;\n\n      // Only deselect if left click\n      if (evt && evt.button !== 0) return;\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n          multiDragSortable = sortable;\n        }\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n          index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n      var oldIndicies = [],\n        newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        });\n\n        // multiDragElements will already be sorted if folding\n        var newIndex;\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n        return key;\n      }\n    }\n  });\n}\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","// ============================================\n// Slash Command Helper Functions (Pure/Testable)\n// ============================================\n\nimport type { STContext } from '../types/st';\nimport type { TrackedState } from '../types/state';\nimport { getMessageState } from '../utils/messageState';\n\n/**\n * Get the most recent message ID from the chat.\n */\nexport function getMostRecentMessageId(context: STContext): number {\n\treturn context.chat.length - 1;\n}\n\n/**\n * Get stored state for a message by ID.\n */\nexport function getStateForMessage(context: STContext, messageId: number): TrackedState | null {\n\tconst message = context.chat[messageId];\n\tif (!message) return null;\n\tconst stateData = getMessageState(message);\n\treturn stateData?.state ?? null;\n}\n\n/**\n * Count messages that have extracted state.\n */\nexport function countExtractedMessages(context: STContext): { extracted: number; total: number } {\n\tlet extracted = 0;\n\tconst total = context.chat.length;\n\n\tfor (let i = 0; i < total; i++) {\n\t\tconst message = context.chat[i];\n\t\tif (getMessageState(message)) {\n\t\t\textracted++;\n\t\t}\n\t}\n\n\treturn { extracted, total };\n}\n","// ============================================\n// BlazeTracker Slash Commands (STScript)\n// ============================================\n\nimport type { STContext } from '../types/st';\nimport type { TrackedState, NarrativeDateTime } from '../types/state';\nimport { EXTENSION_NAME } from '../constants';\nimport {\n\tdoExtractState,\n\trenderMessageState,\n\trenderAllStates,\n\tunmountAllRoots,\n\textractionInProgress,\n} from '../ui/stateDisplay';\nimport { setBatchExtractionInProgress } from '../extractors/extractState';\nimport { getMessageState, setMessageState } from '../utils/messageState';\nimport { updateInjectionFromChat } from '../injectors/injectState';\nimport {\n\tgetOrInitializeNarrativeState,\n\tsaveNarrativeState,\n\taddChapter,\n\tgetNarrativeState,\n\tinitializeNarrativeState,\n\tsetNarrativeState,\n} from '../state/narrativeState';\nimport { EXTENSION_KEY } from '../constants';\nimport { extractChapterBoundary } from '../extractors/extractChapter';\nimport { getMostRecentMessageId, getStateForMessage, countExtractedMessages } from './helpers';\n\n// Slash command types are retrieved from SillyTavern context at registration time\n\n \nfunction log(..._args: unknown[]) {\n\t// Logging disabled for production\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n\n/**\n * Get default time for chapter extraction.\n */\nfunction getDefaultTime(): NarrativeDateTime {\n\treturn {\n\t\tyear: 2024,\n\t\tmonth: 1,\n\t\tday: 1,\n\t\tdayOfWeek: 'Monday',\n\t\thour: 12,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t};\n}\n\n// ============================================\n// Command: /bt-extract\n// ============================================\n\nasync function extractCommand(args: Record<string, string>, _value: string): Promise<string> {\n\tconst context = SillyTavern.getContext() as STContext;\n\n\t// Parse message ID from args or use most recent\n\tlet messageId: number;\n\tif (args.id !== undefined && args.id !== '') {\n\t\tmessageId = parseInt(args.id, 10);\n\t\tif (isNaN(messageId) || messageId < 0 || messageId >= context.chat.length) {\n\t\t\treturn `Error: Invalid message ID \"${args.id}\". Valid range: 0-${context.chat.length - 1}`;\n\t\t}\n\t} else {\n\t\tmessageId = getMostRecentMessageId(context);\n\t}\n\n\tif (messageId <= 0) {\n\t\treturn 'Error: No messages to extract (chat is empty or only has system message)';\n\t}\n\n\tlog('Slash command: extracting state for message', messageId);\n\n\t// Note: Milestone clearing for re-extraction happens inside doExtractState\n\t// so it applies to all extraction triggers (swiping, editing, fire button, etc.)\n\n\ttry {\n\t\tconst result = await doExtractState(messageId, { isManual: true });\n\n\t\tif (result) {\n\t\t\tupdateInjectionFromChat();\n\t\t\treturn `Successfully extracted state for message ${messageId}`;\n\t\t} else {\n\t\t\treturn `Extraction returned no result for message ${messageId} (may have been aborted or already in progress)`;\n\t\t}\n\t} catch (e: any) {\n\t\tlog('Extraction error:', e);\n\t\treturn `Error extracting state: ${e.message}`;\n\t}\n}\n\n// ============================================\n// Command: /bt-chapter\n// ============================================\n\nasync function chapterCommand(args: Record<string, string>, _value: string): Promise<string> {\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst lastMessageId = getMostRecentMessageId(context);\n\n\tif (lastMessageId <= 0) {\n\t\treturn 'Error: No messages in chat';\n\t}\n\n\t// Get the current state\n\tconst message = context.chat[lastMessageId];\n\tlet stateData = getMessageState(message);\n\n\t// If no state, run extraction first\n\tif (!stateData?.state) {\n\t\tif (extractionInProgress.has(lastMessageId)) {\n\t\t\treturn 'Error: Extraction already in progress for this message. Please wait.';\n\t\t}\n\n\t\tconst extractResult = await doExtractState(lastMessageId, { isManual: true });\n\t\tif (!extractResult?.state) {\n\t\t\treturn 'Error: Failed to extract state for the most recent message.';\n\t\t}\n\t\tstateData = extractResult;\n\t}\n\n\tconst state = stateData.state;\n\tconst currentEvents = state.currentEvents ?? [];\n\n\tif (currentEvents.length === 0) {\n\t\treturn 'Error: No events in current chapter to finalize. Need at least one event.';\n\t}\n\n\tconst narrativeState = getOrInitializeNarrativeState();\n\tconst currentChapter = state.currentChapter ?? 0;\n\n\t// Get time range from events\n\tconst startTime = currentEvents[0]?.timestamp ?? state.time ?? getDefaultTime();\n\tconst endTime = state.time ?? getDefaultTime();\n\tconst primaryLocation = state.location\n\t\t? `${state.location.area} - ${state.location.place}`\n\t\t: 'Unknown';\n\n\tlog('Slash command: forcing chapter break at chapter', currentChapter);\n\n\ttry {\n\t\t// Extract chapter summary via LLM (force create since this is an explicit command)\n\t\tconst chapterResult = await extractChapterBoundary({\n\t\t\tevents: currentEvents,\n\t\t\tnarrativeState,\n\t\t\tchapterIndex: currentChapter,\n\t\t\tstartTime,\n\t\t\tendTime,\n\t\t\tprimaryLocation,\n\t\t\tforceCreate: true,\n\t\t});\n\n\t\tif (!chapterResult.chapter) {\n\t\t\treturn 'Error: Failed to generate chapter summary';\n\t\t}\n\n\t\t// Allow title override\n\t\tif (args.title) {\n\t\t\tchapterResult.chapter.title = args.title;\n\t\t}\n\n\t\t// Add chapter to narrative state\n\t\taddChapter(narrativeState, chapterResult.chapter);\n\t\tawait saveNarrativeState(narrativeState);\n\n\t\t// Update the message state - increment chapter, clear events, show chapter ended\n\t\tconst updatedState: TrackedState = {\n\t\t\t...state,\n\t\t\tcurrentChapter: currentChapter + 1,\n\t\t\tcurrentEvents: undefined,\n\t\t\tchapterEnded: {\n\t\t\t\tindex: currentChapter,\n\t\t\t\ttitle: chapterResult.chapter.title,\n\t\t\t\tsummary: chapterResult.chapter.summary,\n\t\t\t\teventCount: currentEvents.length,\n\t\t\t\treason: 'manual',\n\t\t\t},\n\t\t};\n\n\t\tconst newStateData = {\n\t\t\tstate: updatedState,\n\t\t\textractedAt: new Date().toISOString(),\n\t\t};\n\n\t\tsetMessageState(message, newStateData);\n\t\tawait context.saveChat();\n\n\t\t// Re-render the state display with the new state data\n\t\trenderMessageState(lastMessageId, newStateData);\n\t\tupdateInjectionFromChat();\n\n\t\treturn `Chapter ${currentChapter + 1} created: \"${chapterResult.chapter.title}\" (${currentEvents.length} events archived)`;\n\t} catch (e: any) {\n\t\tlog('Chapter creation error:', e);\n\t\treturn `Error creating chapter: ${e.message}`;\n\t}\n}\n\n// ============================================\n// Command: /bt-extract-all\n// ============================================\n\nasync function extractAllCommand(_args: Record<string, string>, _value: string): Promise<string> {\n\tconst context = SillyTavern.getContext() as STContext;\n\n\tconst totalMessages = context.chat.length;\n\n\tif (totalMessages <= 1) {\n\t\treturn 'Error: No messages to extract (chat is empty or only has system message)';\n\t}\n\n\t// Get current state info for confirmation message\n\tconst currentNarrativeState = getNarrativeState();\n\tconst chapterCount = currentNarrativeState?.chapters.length ?? 0;\n\tconst relationshipCount = currentNarrativeState?.relationships.length ?? 0;\n\n\t// Show confirmation popup\n\tconst confirmMessage =\n\t\t`This will DELETE all BlazeTracker data FOR THIS CHAT and re-extract from scratch:\\n\\n` +\n\t\t` ${chapterCount} chapter(s)\\n` +\n\t\t` ${relationshipCount} relationship(s) (including all milestones)\\n` +\n\t\t` All per-message state data\\n\\n` +\n\t\t`Other chats are not affected. This cannot be undone. Continue?`;\n\n\tconst confirmed =\n\t\t(await (context as any).callGenericPopup?.(confirmMessage, 1 /* CONFIRM */)) ??\n\t\twindow.confirm(confirmMessage);\n\n\tif (!confirmed) {\n\t\treturn 'Extraction cancelled.';\n\t}\n\n\tlog('Slash command: extracting all messages');\n\n\t// Unmount all roots first to prevent stale UI during extraction\n\tunmountAllRoots();\n\n\t// Clear all existing state before starting\n\tlog('Clearing all existing BlazeTracker state...');\n\n\t// 1. Reset narrative state (chapters, relationships)\n\tconst freshNarrativeState = initializeNarrativeState();\n\tsetNarrativeState(freshNarrativeState);\n\n\t// 2. Clear all per-message states\n\tfor (let i = 1; i < totalMessages; i++) {\n\t\tconst message = context.chat[i];\n\t\tif (message.extra && message.extra[EXTENSION_KEY]) {\n\t\t\tdelete message.extra[EXTENSION_KEY];\n\t\t}\n\t}\n\n\t// Save the cleared state\n\tawait context.saveChat();\n\tlog('All state cleared, starting fresh extraction...');\n\n\tlet extracted = 0;\n\tlet failed = 0;\n\n\t// Set batch flag to prevent GENERATION_ENDED handler from interfering\n\tsetBatchExtractionInProgress(true);\n\n\ttry {\n\t\t// Start from message 1 (skip system message at 0)\n\t\tfor (let i = 1; i < totalMessages; i++) {\n\t\t\ttry {\n\t\t\t\t// Show progress via toastr if available\n\t\t\t\twindow.toastr?.info(\n\t\t\t\t\t`Extracting message ${i}/${totalMessages - 1}...`,\n\t\t\t\t\tEXTENSION_NAME,\n\t\t\t\t\t{ timeOut: 1000 },\n\t\t\t\t);\n\n\t\t\t\tconst result = await doExtractState(i);\n\n\t\t\t\tif (result) {\n\t\t\t\t\textracted++;\n\t\t\t\t} else {\n\t\t\t\t\tfailed++;\n\t\t\t\t}\n\t\t\t} catch (e: any) {\n\t\t\t\tlog(`Failed to extract message ${i}:`, e);\n\t\t\t\tfailed++;\n\t\t\t}\n\t\t}\n\t} finally {\n\t\t// Always clear the batch flag when done\n\t\tsetBatchExtractionInProgress(false);\n\t}\n\n\t// Final update\n\trenderAllStates();\n\tupdateInjectionFromChat();\n\n\tconst results: string[] = [];\n\tif (extracted > 0) results.push(`${extracted} extracted`);\n\tif (failed > 0) results.push(`${failed} failed`);\n\n\treturn `Extraction complete (full reset): ${results.join(', ')}`;\n}\n\n/**\n * Run extraction on all messages (used by legacy data migration).\n * Assumes state has already been cleared/initialized.\n */\nexport async function runExtractAll(): Promise<{ extracted: number; failed: number }> {\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst totalMessages = context.chat.length;\n\n\tlet extracted = 0;\n\tlet failed = 0;\n\n\t// Set batch flag to prevent GENERATION_ENDED handler from interfering\n\tsetBatchExtractionInProgress(true);\n\n\ttry {\n\t\t// Start from message 1 (skip system message at 0)\n\t\tfor (let i = 1; i < totalMessages; i++) {\n\t\t\ttry {\n\t\t\t\twindow.toastr?.info(\n\t\t\t\t\t`Extracting message ${i}/${totalMessages - 1}...`,\n\t\t\t\t\tEXTENSION_NAME,\n\t\t\t\t\t{ timeOut: 1000 },\n\t\t\t\t);\n\n\t\t\t\tconst result = await doExtractState(i);\n\n\t\t\t\tif (result) {\n\t\t\t\t\textracted++;\n\t\t\t\t} else {\n\t\t\t\t\tfailed++;\n\t\t\t\t}\n\t\t\t} catch (e: any) {\n\t\t\t\tlog(`Failed to extract message ${i}:`, e);\n\t\t\t\tfailed++;\n\t\t\t}\n\t\t}\n\t} finally {\n\t\tsetBatchExtractionInProgress(false);\n\t}\n\n\t// Final update\n\trenderAllStates();\n\tupdateInjectionFromChat();\n\n\treturn { extracted, failed };\n}\n\n// ============================================\n// Command: /bt-status\n// ============================================\n\nasync function statusCommand(_args: Record<string, string>, _value: string): Promise<string> {\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst { extracted, total } = countExtractedMessages(context);\n\tconst narrativeState = getNarrativeState();\n\n\t// Build status rows\n\tconst rows: Array<{ label: string; value: string }> = [\n\t\t{ label: 'Messages Extracted', value: `${extracted} / ${total}` },\n\t];\n\n\tif (narrativeState) {\n\t\trows.push({ label: 'Chapters', value: String(narrativeState.chapters.length) });\n\t\trows.push({ label: 'Relationships', value: String(narrativeState.relationships.length) });\n\t} else {\n\t\trows.push({ label: 'Narrative State', value: 'Not initialized' });\n\t}\n\n\t// Get current events from most recent state\n\tconst lastMessageId = getMostRecentMessageId(context);\n\tif (lastMessageId > 0) {\n\t\tconst state = getStateForMessage(context, lastMessageId);\n\t\tif (state?.currentEvents) {\n\t\t\trows.push({ label: 'Current Chapter Events', value: String(state.currentEvents.length) });\n\t\t}\n\t}\n\n\t// Create popup content\n\tconst container = document.createElement('div');\n\tcontainer.innerHTML = `\n\t\t<div style=\"padding: 15px; min-width: 300px;\">\n\t\t\t<h3 style=\"margin: 0 0 15px 0; color: var(--SmartThemeEmColor, #8af);\">\n\t\t\t\t<i class=\"fa-solid fa-fire\" style=\"margin-right: 8px;\"></i>BlazeTracker Status\n\t\t\t</h3>\n\t\t\t<table style=\"width: 100%; border-collapse: collapse;\">\n\t\t\t\t${rows\n\t\t\t\t\t.map(\n\t\t\t\t\t\trow => `\n\t\t\t\t\t<tr style=\"border-bottom: 1px solid rgba(255,255,255,0.1);\">\n\t\t\t\t\t\t<td style=\"padding: 8px 12px 8px 0; opacity: 0.8;\">${row.label}</td>\n\t\t\t\t\t\t<td style=\"padding: 8px 0; font-weight: 600; text-align: right;\">${row.value}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t`,\n\t\t\t\t\t)\n\t\t\t\t\t.join('')}\n\t\t\t</table>\n\t\t</div>\n\t`;\n\n\t// Show popup\n\tawait context.callGenericPopup(container, context.POPUP_TYPE.TEXT, null, {\n\t\tokButton: 'Close',\n\t});\n\n\treturn '';\n}\n\n// ============================================\n// Registration\n// ============================================\n\nexport function registerSlashCommands(): void {\n\ttry {\n\t\t// Get slash command classes from SillyTavern context\n\t\tconst context = SillyTavern.getContext() as any;\n\t\tconst SlashCommandParser = context.SlashCommandParser;\n\t\tconst SlashCommand = context.SlashCommand;\n\t\tconst SlashCommandNamedArgument = context.SlashCommandNamedArgument;\n\t\tconst ARGUMENT_TYPE = context.ARGUMENT_TYPE;\n\n\t\tif (!SlashCommandParser || !SlashCommand) {\n\t\t\tconsole.warn(\n\t\t\t\t`[${EXTENSION_NAME}] Slash command API not available, skipping registration`,\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// /bt-extract - Extract state for a message\n\t\tSlashCommandParser.addCommandObject(\n\t\t\tSlashCommand.fromProps({\n\t\t\t\tname: 'bt-extract',\n\t\t\t\tcallback: extractCommand,\n\t\t\t\tnamedArgumentList: [\n\t\t\t\t\tSlashCommandNamedArgument.fromProps({\n\t\t\t\t\t\tname: 'id',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Message ID to extract (defaults to most recent)',\n\t\t\t\t\t\ttypeList: [ARGUMENT_TYPE.NUMBER],\n\t\t\t\t\t\tisRequired: false,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\thelpString: `\n\t\t\t\t<div>\n\t\t\t\t\tExtract BlazeTracker state for a message.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<strong>Usage:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><code>/bt-extract</code> - Extract most recent message</li>\n\t\t\t\t\t\t<li><code>/bt-extract id=5</code> - Extract message #5</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\t\treturns: ARGUMENT_TYPE.STRING,\n\t\t\t}),\n\t\t);\n\n\t\t// /bt-chapter - Force chapter break\n\t\tSlashCommandParser.addCommandObject(\n\t\t\tSlashCommand.fromProps({\n\t\t\t\tname: 'bt-chapter',\n\t\t\t\tcallback: chapterCommand,\n\t\t\t\tnamedArgumentList: [\n\t\t\t\t\tSlashCommandNamedArgument.fromProps({\n\t\t\t\t\t\tname: 'title',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Override the auto-generated chapter title',\n\t\t\t\t\t\ttypeList: [ARGUMENT_TYPE.STRING],\n\t\t\t\t\t\tisRequired: false,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\thelpString: `\n\t\t\t\t<div>\n\t\t\t\t\tForce a chapter break at the current point in the narrative.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<strong>Usage:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><code>/bt-chapter</code> - Create chapter with auto-generated title</li>\n\t\t\t\t\t\t<li><code>/bt-chapter title=\"The Great Escape\"</code> - Create chapter with custom title</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<br>\n\t\t\t\t\tRequires extracted state with at least one event. Run /bt-extract first if needed.\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\t\treturns: ARGUMENT_TYPE.STRING,\n\t\t\t}),\n\t\t);\n\n\t\t// /bt-extract-all - Extract all messages (full reset)\n\t\tSlashCommandParser.addCommandObject(\n\t\t\tSlashCommand.fromProps({\n\t\t\t\tname: 'bt-extract-all',\n\t\t\t\tcallback: extractAllCommand,\n\t\t\t\thelpString: `\n\t\t\t\t<div>\n\t\t\t\t\tExtract BlazeTracker state for all messages in the chat.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<strong>WARNING:</strong> This command clears ALL existing BlazeTracker data\n\t\t\t\t\t(relationships, chapters, events, per-message state) before starting fresh extraction.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t<strong>Usage:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><code>/bt-extract-all</code> - Clear all state and re-extract everything</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<br>\n\t\t\t\t\t<em>Note: This can take a while for long chats as it makes multiple API calls.</em>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\t\treturns: ARGUMENT_TYPE.STRING,\n\t\t\t}),\n\t\t);\n\n\t\t// /bt-status - Show BlazeTracker status\n\t\tSlashCommandParser.addCommandObject(\n\t\t\tSlashCommand.fromProps({\n\t\t\t\tname: 'bt-status',\n\t\t\t\tcallback: statusCommand,\n\t\t\t\thelpString: `\n\t\t\t\t<div>\n\t\t\t\t\tShow BlazeTracker status for the current chat.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tDisplays:\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>Messages extracted vs total</li>\n\t\t\t\t\t\t<li>Number of chapters</li>\n\t\t\t\t\t\t<li>Number of relationships</li>\n\t\t\t\t\t\t<li>Events in current chapter</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\t\treturns: ARGUMENT_TYPE.STRING,\n\t\t\t}),\n\t\t);\n\n\t\tlog(\n\t\t\t'Slash commands registered: /bt-extract, /bt-chapter, /bt-extract-all, /bt-status',\n\t\t);\n\t} catch (e) {\n\t\tconsole.error(`[${EXTENSION_NAME}] Failed to register slash commands:`, e);\n\t}\n}\n","export const EXTENSION_NAME = 'BlazeTracker';\nexport const EXTENSION_KEY = 'blazetracker';\n","// ============================================\n// Chapter Extractor\n// ============================================\n\nimport { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asString, asStringArray, asBoolean, isObject } from '../utils/json';\nimport type {\n\tChapter,\n\tChapterOutcomes,\n\tNarrativeDateTime,\n\tTimestampedEvent,\n\tNarrativeState,\n} from '../types/state';\nimport { createEmptyChapter, createEmptyOutcomes, finalizeChapter } from '../state/chapters';\nimport { formatEventsForInjection } from '../state/events';\nimport { formatRelationshipsForPrompt } from '../state/relationships';\n\n// ============================================\n// Schema & Example\n// ============================================\n\nexport const CHAPTER_BOUNDARY_SCHEMA = {\n\ttype: 'object',\n\tdescription: 'Chapter boundary analysis result',\n\tadditionalProperties: false,\n\tproperties: {\n\t\tisChapterBoundary: {\n\t\t\ttype: 'boolean',\n\t\t\tdescription: 'Whether this represents a true narrative chapter boundary',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdescription: 'A short, evocative title for the chapter (3-6 words)',\n\t\t},\n\t\tsummary: {\n\t\t\ttype: 'string',\n\t\t\tdescription: '2-3 sentence summary of what happened in the chapter',\n\t\t},\n\t\toutcomes: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\trelationshipChanges: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\tdescription: 'Brief descriptions of relationship shifts',\n\t\t\t\t},\n\t\t\t\tsecretsRevealed: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\tdescription: 'Secrets that came to light',\n\t\t\t\t},\n\t\t\t\tnewComplications: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\tdescription: 'New problems or tensions introduced',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\trequired: ['isChapterBoundary', 'title', 'summary'],\n};\n\nconst CHAPTER_EXAMPLE = JSON.stringify(\n\t{\n\t\tisChapterBoundary: true,\n\t\ttitle: 'The Midnight Confession',\n\t\tsummary: 'Elena revealed her past to Marcus under the stars, leading to an unexpected moment of vulnerability. Their relationship deepened as secrets were shared and trust was established.',\n\t\toutcomes: {\n\t\t\trelationshipChanges: [\n\t\t\t\t'Elena and Marcus grew closer through shared vulnerability',\n\t\t\t],\n\t\t\tsecretsRevealed: [\"Elena's criminal past\"],\n\t\t\tnewComplications: [\"Marcus must now decide whether to keep Elena's secret\"],\n\t\t},\n\t},\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are a narrative analysis agent for roleplay. Analyze chapter boundaries and summarize story progression. Return only valid JSON.';\n\n// ============================================\n// Public API\n// ============================================\n\nexport interface ExtractChapterParams {\n\tevents: TimestampedEvent[];\n\tnarrativeState: NarrativeState;\n\tchapterIndex: number;\n\tstartTime: NarrativeDateTime;\n\tendTime: NarrativeDateTime;\n\tprimaryLocation: string;\n\t/** If true, always create a chapter regardless of LLM's boundary assessment */\n\tforceCreate?: boolean;\n\tabortSignal?: AbortSignal;\n}\n\nexport interface ChapterExtractionResult {\n\tisChapterBoundary: boolean;\n\tchapter?: Chapter;\n}\n\n/**\n * Extract chapter information when a potential boundary is detected.\n * Returns the chapter if it's a true boundary, null otherwise.\n */\nexport async function extractChapterBoundary(\n\tparams: ExtractChapterParams,\n): Promise<ChapterExtractionResult> {\n\tconst settings = getSettings();\n\n\tconst schemaStr = JSON.stringify(CHAPTER_BOUNDARY_SCHEMA, null, 2);\n\tconst eventsStr = formatEventsForInjection(params.events);\n\tconst relationshipsStr = formatRelationshipsForPrompt(params.narrativeState.relationships);\n\n\tconst prompt = getPrompt('chapter_boundary')\n\t\t.replace('{{currentEvents}}', eventsStr)\n\t\t.replace('{{currentRelationships}}', relationshipsStr)\n\t\t.replace('{{schema}}', schemaStr)\n\t\t.replace('{{schemaExample}}', CHAPTER_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: settings.maxResponseTokens,\n\t\t\ttemperature: getTemperature('chapter_boundary'),\n\t\t\tabortSignal: params.abortSignal,\n\t\t});\n\n\t\tconst parsed = parseJsonResponse(response, {\n\t\t\tshape: 'object',\n\t\t\tmoduleName: 'BlazeTracker/Chapter',\n\t\t});\n\n\t\tconst result = validateChapterData(parsed);\n\n\t\t// If not forcing and LLM says it's not a boundary, return false\n\t\tif (!params.forceCreate && !result.isChapterBoundary) {\n\t\t\treturn { isChapterBoundary: false };\n\t\t}\n\n\t\t// Create the chapter with extracted data (either forced or natural boundary)\n\t\tconst chapter = createEmptyChapter(params.chapterIndex);\n\t\tchapter.title = result.title;\n\t\tchapter.summary = result.summary;\n\t\tchapter.outcomes = result.outcomes;\n\n\t\t// Finalize with time range and events\n\t\tconst finalizedChapter = finalizeChapter(\n\t\t\tchapter,\n\t\t\tparams.events,\n\t\t\tparams.startTime,\n\t\t\tparams.endTime,\n\t\t\tparams.primaryLocation,\n\t\t);\n\n\t\treturn {\n\t\t\tisChapterBoundary: true,\n\t\t\tchapter: finalizedChapter,\n\t\t};\n\t} catch (error) {\n\t\tconsole.warn('[BlazeTracker] Chapter extraction failed:', error);\n\t\t// On error, assume it's not a chapter boundary\n\t\treturn { isChapterBoundary: false };\n\t}\n}\n\n// ============================================\n// Validation\n// ============================================\n\ninterface ValidatedChapterData {\n\tisChapterBoundary: boolean;\n\ttitle: string;\n\tsummary: string;\n\toutcomes: ChapterOutcomes;\n}\n\nfunction validateChapterData(data: unknown): ValidatedChapterData {\n\tif (!isObject(data)) {\n\t\treturn {\n\t\t\tisChapterBoundary: false,\n\t\t\ttitle: '',\n\t\t\tsummary: '',\n\t\t\toutcomes: createEmptyOutcomes(),\n\t\t};\n\t}\n\n\tconst isChapterBoundary = asBoolean(data.isChapterBoundary, false);\n\tconst title = asString(data.title, 'Untitled Chapter');\n\tconst summary = asString(data.summary, '');\n\tconst outcomes = validateOutcomes(data.outcomes);\n\n\treturn {\n\t\tisChapterBoundary,\n\t\ttitle,\n\t\tsummary,\n\t\toutcomes,\n\t};\n}\n\nfunction validateOutcomes(data: unknown): ChapterOutcomes {\n\tif (!isObject(data)) {\n\t\treturn createEmptyOutcomes();\n\t}\n\n\treturn {\n\t\trelationshipChanges: asStringArray(data.relationshipChanges),\n\t\tsecretsRevealed: asStringArray(data.secretsRevealed),\n\t\tnewComplications: asStringArray(data.newComplications),\n\t};\n}\n","import { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asStringOrNull, asStringArray, isObject } from '../utils/json';\nimport type { Character, CharacterOutfit } from '../types/state';\nimport type { LocationState } from './extractLocation';\n\n// ============================================\n// Schema & Example\n// ============================================\n\nexport const CHARACTERS_SCHEMA = {\n\ttype: 'array',\n\tdescription: 'All characters present in the current scene',\n\titems: {\n\t\ttype: 'object',\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\tname: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: \"Character's name as used in the scene\",\n\t\t\t},\n\t\t\tposition: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription:\n\t\t\t\t\t\"Physical position and where (e.g. 'sitting at the bar', 'leaning against the wall'). Be detailed about who they're facing/interacting with.\",\n\t\t\t},\n\t\t\tactivity: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription:\n\t\t\t\t\t\"Current activity if any (e.g. 'nursing a whiskey', 'texting on phone')\",\n\t\t\t},\n\t\t\tmood: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdescription: 'Current emotional states',\n\t\t\t\tminItems: 1,\n\t\t\t\tmaxItems: 5,\n\t\t\t\titems: { type: 'string' },\n\t\t\t},\n\t\t\tphysicalState: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdescription: 'Physical conditions affecting the character',\n\t\t\t\tmaxItems: 5,\n\t\t\t\titems: { type: 'string' },\n\t\t\t},\n\t\t\toutfit: {\n\t\t\t\ttype: 'object',\n\t\t\t\tdescription:\n\t\t\t\t\t'Clothing items currently worn. Set to null if removed or if species would not wear clothes (pony, Pokmon, etc.)',\n\t\t\t\tproperties: {\n\t\t\t\t\thead: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription: 'Headwear (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\tneck: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Neckwear - necklaces, chokers, scarves, ties (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\tjacket: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription: 'Outer layer (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\tback: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Items worn on back - backpacks, quivers, cloaks, capes (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\ttorso: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription: 'Shirt/top (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\tlegs: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription: 'Pants/skirt (null if none)',\n\t\t\t\t\t},\n\t\t\t\t\tunderwear: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Underwear, be descriptive if partially removed',\n\t\t\t\t\t},\n\t\t\t\t\tsocks: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Socks/stockings, specify which foot if only one',\n\t\t\t\t\t},\n\t\t\t\t\tfootwear: {\n\t\t\t\t\t\ttype: ['string', 'null'],\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Shoes/boots, specify which foot if only one',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\trequired: [\n\t\t\t\t\t'head',\n\t\t\t\t\t'neck',\n\t\t\t\t\t'jacket',\n\t\t\t\t\t'back',\n\t\t\t\t\t'torso',\n\t\t\t\t\t'legs',\n\t\t\t\t\t'underwear',\n\t\t\t\t\t'socks',\n\t\t\t\t\t'footwear',\n\t\t\t\t],\n\t\t\t},\n\t\t\tdispositions: {\n\t\t\t\ttype: 'object',\n\t\t\t\tdescription: 'Feelings toward other characters in the scene',\n\t\t\t\tadditionalProperties: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tmaxItems: 5,\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\trequired: [\n\t\t\t'name',\n\t\t\t'position',\n\t\t\t'activity',\n\t\t\t'mood',\n\t\t\t'physicalState',\n\t\t\t'outfit',\n\t\t\t'dispositions',\n\t\t],\n\t},\n};\n\nconst CHARACTERS_EXAMPLE = JSON.stringify(\n\t[\n\t\t{\n\t\t\tname: 'Elena',\n\t\t\tposition: 'Sitting in the booth, facing the entrance',\n\t\t\tactivity: 'Watching the door nervously, hands wrapped around a coffee mug',\n\t\t\tmood: ['anxious', 'hopeful'],\n\t\t\tphysicalState: ['tired'],\n\t\t\toutfit: {\n\t\t\t\thead: null,\n\t\t\t\tneck: 'Silver pendant necklace',\n\t\t\t\tjacket: null,\n\t\t\t\tback: null,\n\t\t\t\ttorso: 'Dark red blouse',\n\t\t\t\tlegs: 'Black jeans',\n\t\t\t\tunderwear: 'Black lace bra and matching panties',\n\t\t\t\tsocks: 'Black tights',\n\t\t\t\tfootwear: 'Black ankle boots',\n\t\t\t},\n\t\t\tdispositions: {\n\t\t\t\tMarcus: ['suspicious', 'curious'],\n\t\t\t\tSarah: ['trusting', 'protective'],\n\t\t\t},\n\t\t},\n\t],\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are a character state analysis agent for roleplay scenes. Return only valid JSON.';\n\n// ============================================\n// Public API\n// ============================================\n\nexport async function extractCharacters(\n\tisInitial: boolean,\n\tmessages: string,\n\tlocation: LocationState,\n\tuserInfo: string,\n\tcharacterInfo: string,\n\tpreviousCharacters: Character[] | null,\n\tabortSignal?: AbortSignal,\n): Promise<Character[]> {\n\tconst settings = getSettings();\n\n\tconst locationStr = `${location.area} - ${location.place} (${location.position})`;\n\tconst schemaStr = JSON.stringify(CHARACTERS_SCHEMA, null, 2);\n\n\tconst prompt = isInitial\n\t\t? getPrompt('characters_initial')\n\t\t\t\t.replace('{{userInfo}}', userInfo)\n\t\t\t\t.replace('{{characterInfo}}', characterInfo)\n\t\t\t\t.replace('{{location}}', locationStr)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', CHARACTERS_EXAMPLE)\n\t\t: getPrompt('characters_update')\n\t\t\t\t.replace('{{location}}', locationStr)\n\t\t\t\t.replace(\n\t\t\t\t\t'{{previousState}}',\n\t\t\t\t\tJSON.stringify(previousCharacters, null, 2),\n\t\t\t\t)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', CHARACTERS_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId: settings.profileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature(isInitial ? 'characters_initial' : 'characters_update'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'array',\n\t\tmoduleName: 'BlazeTracker/Characters',\n\t});\n\n\treturn validateCharacters(parsed);\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateCharacters(data: unknown): Character[] {\n\tif (!Array.isArray(data)) {\n\t\tthrow new Error('Invalid characters: expected array');\n\t}\n\n\treturn data.map(validateCharacter);\n}\n\nfunction validateCharacter(data: unknown): Character {\n\tif (!isObject(data)) {\n\t\tthrow new Error('Invalid character: expected object');\n\t}\n\n\tconst name = data.name;\n\tif (!name || typeof name !== 'string') {\n\t\tthrow new Error('Invalid character: missing name');\n\t}\n\n\tconst position = data.position;\n\tif (!position || typeof position !== 'string') {\n\t\tthrow new Error(`Invalid character ${name}: missing position`);\n\t}\n\n\tconst outfit = validateOutfit(data.outfit);\n\n\treturn {\n\t\tname,\n\t\tposition,\n\t\tactivity: typeof data.activity === 'string' ? data.activity : undefined,\n\t\t// Note: goals removed in v1.0.0, now tracked in CharacterArc\n\t\tmood: Array.isArray(data.mood) ? asStringArray(data.mood, 5) : ['neutral'],\n\t\tphysicalState: Array.isArray(data.physicalState)\n\t\t\t? asStringArray(data.physicalState, 5)\n\t\t\t: undefined,\n\t\toutfit,\n\t\t// Note: dispositions removed in v1.0.0, now tracked in Relationship\n\t};\n}\n\nfunction validateOutfit(data: unknown): CharacterOutfit {\n\tif (!isObject(data)) {\n\t\treturn {\n\t\t\thead: null,\n\t\t\tneck: null,\n\t\t\tjacket: null,\n\t\t\tback: null,\n\t\t\ttorso: null,\n\t\t\tlegs: null,\n\t\t\tunderwear: null,\n\t\t\tsocks: null,\n\t\t\tfootwear: null,\n\t\t};\n\t}\n\n\treturn {\n\t\thead: asStringOrNull(data.head),\n\t\tneck: asStringOrNull(data.neck),\n\t\tjacket: asStringOrNull(data.jacket),\n\t\tback: asStringOrNull(data.back),\n\t\ttorso: asStringOrNull(data.torso),\n\t\tlegs: asStringOrNull(data.legs),\n\t\tunderwear: asStringOrNull(data.underwear),\n\t\tsocks: asStringOrNull(data.socks),\n\t\tfootwear: asStringOrNull(data.footwear),\n\t};\n}\n","import { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asNumber } from '../utils/json';\nimport type { NarrativeDateTime, Climate, ProceduralClimate } from '../types/state';\nimport type { LocationState } from './extractLocation';\nimport {\n\textractProceduralClimate,\n\tisLegacyClimate,\n\ttype ExtractClimateParams,\n\ttype ExtractClimateResult,\n} from '../weather';\nimport type { ForecastCacheEntry, LocationMapping } from '../weather/types';\n\n// ============================================\n// Types\n// ============================================\n\nexport type WeatherType = Climate['weather'];\n\n// Alias for backward compatibility\nexport type ClimateState = Climate;\n\n// Extended result type that includes cache updates for procedural weather\nexport interface ClimateExtractionResult {\n\tclimate: Climate | ProceduralClimate;\n\ttransition: string | null;\n\tforecastCache?: ForecastCacheEntry[];\n\tlocationMappings?: LocationMapping[];\n}\n\n// ============================================\n// Schema & Example (Legacy)\n// ============================================\n\nexport const CLIMATE_SCHEMA = {\n\ttype: 'object',\n\tdescription: 'Current climate/weather conditions',\n\tadditionalProperties: false,\n\tproperties: {\n\t\tweather: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['sunny', 'cloudy', 'snowy', 'rainy', 'windy', 'thunderstorm'],\n\t\t\tdescription:\n\t\t\t\t'The current weather in the locale (if characters are indoors, give the weather outdoors)',\n\t\t},\n\t\ttemperature: {\n\t\t\ttype: 'number',\n\t\t\tdescription:\n\t\t\t\t'Current temperature in Fahrenheit (if characters are indoors, give the indoor temperature)',\n\t\t},\n\t},\n\trequired: ['weather', 'temperature'],\n};\n\nconst CLIMATE_EXAMPLE = JSON.stringify(\n\t{\n\t\tweather: 'rainy',\n\t\ttemperature: 52,\n\t},\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are a climate analysis agent for roleplay scenes. Return only valid JSON.';\nconst VALID_WEATHER: readonly WeatherType[] = [\n\t'sunny',\n\t'cloudy',\n\t'snowy',\n\t'rainy',\n\t'windy',\n\t'thunderstorm',\n];\n\n// ============================================\n// Public API\n// ============================================\n\nexport interface ExtractClimateOptions {\n\tisInitial: boolean;\n\tmessages: string;\n\tnarrativeTime: NarrativeDateTime;\n\tlocation: LocationState;\n\tcharacterInfo: string;\n\tpreviousClimate: Climate | ProceduralClimate | null;\n\tforecastCache: ForecastCacheEntry[];\n\tlocationMappings: LocationMapping[];\n\tabortSignal?: AbortSignal;\n}\n\n/**\n * Main climate extraction function.\n * Uses procedural weather system if enabled, otherwise falls back to LLM extraction.\n */\nexport async function extractClimateWithContext(\n\toptions: ExtractClimateOptions,\n): Promise<ClimateExtractionResult> {\n\tconst settings = getSettings();\n\n\tif (settings.useProceduralWeather) {\n\t\treturn extractProceduralClimateWrapper(options);\n\t} else {\n\t\tconst climate = await extractLegacyClimate(\n\t\t\toptions.isInitial,\n\t\t\toptions.messages,\n\t\t\toptions.narrativeTime,\n\t\t\toptions.location,\n\t\t\toptions.characterInfo,\n\t\t\tisLegacyClimate(options.previousClimate) ? options.previousClimate : null,\n\t\t\toptions.abortSignal,\n\t\t);\n\n\t\treturn {\n\t\t\tclimate,\n\t\t\ttransition: null,\n\t\t\t// Return unchanged caches when using legacy mode\n\t\t\tforecastCache: options.forecastCache,\n\t\t\tlocationMappings: options.locationMappings,\n\t\t};\n\t}\n}\n\n/**\n * Legacy extraction function for backward compatibility.\n * Uses LLM to extract climate data.\n */\nexport async function extractClimate(\n\tisInitial: boolean,\n\tmessages: string,\n\tnarrativeTime: NarrativeDateTime,\n\tlocation: LocationState,\n\tcharacterInfo: string,\n\tpreviousClimate: ClimateState | null,\n\tabortSignal?: AbortSignal,\n): Promise<ClimateState> {\n\treturn extractLegacyClimate(\n\t\tisInitial,\n\t\tmessages,\n\t\tnarrativeTime,\n\t\tlocation,\n\t\tcharacterInfo,\n\t\tpreviousClimate,\n\t\tabortSignal,\n\t);\n}\n\n// ============================================\n// Procedural Weather Wrapper\n// ============================================\n\nasync function extractProceduralClimateWrapper(\n\toptions: ExtractClimateOptions,\n): Promise<ClimateExtractionResult> {\n\tconst params: ExtractClimateParams = {\n\t\tisInitial: options.isInitial,\n\t\tcurrentTime: options.narrativeTime,\n\t\tcurrentLocation: options.location,\n\t\tpreviousClimate: options.previousClimate,\n\t\tnarrativeContext: options.messages,\n\t\tforecastCache: options.forecastCache,\n\t\tlocationMappings: options.locationMappings,\n\t\tabortSignal: options.abortSignal,\n\t};\n\n\tconst result: ExtractClimateResult = await extractProceduralClimate(params);\n\n\treturn {\n\t\tclimate: result.climate,\n\t\ttransition: result.transition,\n\t\tforecastCache: result.forecastCache,\n\t\tlocationMappings: result.locationMappings,\n\t};\n}\n\n// ============================================\n// Legacy LLM Extraction\n// ============================================\n\nasync function extractLegacyClimate(\n\tisInitial: boolean,\n\tmessages: string,\n\tnarrativeTime: NarrativeDateTime,\n\tlocation: LocationState,\n\tcharacterInfo: string,\n\tpreviousClimate: ClimateState | null,\n\tabortSignal?: AbortSignal,\n): Promise<ClimateState> {\n\tconst settings = getSettings();\n\n\tconst timeStr = formatNarrativeTime(narrativeTime);\n\tconst locationStr = `${location.area} - ${location.place} (${location.position})`;\n\tconst schemaStr = JSON.stringify(CLIMATE_SCHEMA, null, 2);\n\n\tconst prompt = isInitial\n\t\t? getPrompt('climate_initial')\n\t\t\t\t.replace('{{narrativeTime}}', timeStr)\n\t\t\t\t.replace('{{location}}', locationStr)\n\t\t\t\t.replace('{{characterInfo}}', characterInfo)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', CLIMATE_EXAMPLE)\n\t\t: getPrompt('climate_update')\n\t\t\t\t.replace('{{narrativeTime}}', timeStr)\n\t\t\t\t.replace('{{location}}', locationStr)\n\t\t\t\t.replace(\n\t\t\t\t\t'{{previousState}}',\n\t\t\t\t\tJSON.stringify(previousClimate, null, 2),\n\t\t\t\t)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', CLIMATE_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId: settings.profileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature(isInitial ? 'climate_initial' : 'climate_update'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'object',\n\t\tmoduleName: 'BlazeTracker/Climate',\n\t});\n\n\treturn validateClimate(parsed);\n}\n\n// ============================================\n// Internal: Helpers\n// ============================================\n\nfunction formatNarrativeTime(time: NarrativeDateTime): string {\n\tconst monthNames = [\n\t\t'January',\n\t\t'February',\n\t\t'March',\n\t\t'April',\n\t\t'May',\n\t\t'June',\n\t\t'July',\n\t\t'August',\n\t\t'September',\n\t\t'October',\n\t\t'November',\n\t\t'December',\n\t];\n\n\tconst hour12 = time.hour % 12 || 12;\n\tconst ampm = time.hour < 12 ? 'AM' : 'PM';\n\tconst minuteStr = String(time.minute).padStart(2, '0');\n\n\treturn `${time.dayOfWeek}, ${monthNames[time.month - 1]} ${time.day}, ${time.year} at ${hour12}:${minuteStr} ${ampm}`;\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateClimate(data: unknown): ClimateState {\n\tif (typeof data !== 'object' || data === null) {\n\t\tthrow new Error('Invalid climate: expected object');\n\t}\n\n\tconst obj = data as Record<string, unknown>;\n\tconst weather = VALID_WEATHER.includes(obj.weather as WeatherType)\n\t\t? (obj.weather as WeatherType)\n\t\t: 'sunny';\n\tconst temperature = asNumber(obj.temperature, 70);\n\n\treturn { weather, temperature };\n}\n\n// ============================================\n// Type Guards\n// ============================================\n\nexport { isLegacyClimate } from '../weather';\n","// ============================================\n// Event Extractor\n// ============================================\n\nimport { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asString, asStringArray, isObject } from '../utils/json';\nimport type {\n\tTimestampedEvent,\n\tNarrativeDateTime,\n\tTensionType,\n\tTensionLevel,\n\tRelationshipSignal,\n\tMilestoneEvent,\n\tMilestoneType,\n\tDirectionalChange,\n\tLocationState,\n\tRelationship,\n\tEventType,\n\tCharacter,\n} from '../types/state';\nimport { EVENT_TYPES } from '../types/state';\nimport { sortPair } from '../state/relationships';\n\n// ============================================\n// Schema & Example\n// ============================================\n\nexport const EVENT_SCHEMA = {\n\ttype: 'object',\n\tdescription: 'A significant event extracted from the messages',\n\tadditionalProperties: false,\n\tproperties: {\n\t\tsummary: {\n\t\t\ttype: 'string',\n\t\t\tdescription:\n\t\t\t\t'Detailed 2-sentence summary capturing what happened, who was involved, and the emotional context',\n\t\t},\n\t\teventTypes: {\n\t\t\ttype: 'array',\n\t\t\titems: { type: 'string', enum: [...EVENT_TYPES] },\n\t\t\tdescription: 'All applicable event type flags (can select multiple)',\n\t\t},\n\t\teventPairs: {\n\t\t\ttype: 'object',\n\t\t\tdescription:\n\t\t\t\t'REQUIRED: Maps each event type to the pair(s) of characters involved. Value is either [char1, char2] for single pair, or [[char1, char2], [char3, char4]] for multiple pairs.',\n\t\t\tadditionalProperties: {\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\tminItems: 2,\n\t\t\t\t\t\tmaxItems: 2,\n\t\t\t\t\t\tdescription: 'Single pair: [char1, char2]',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\t\tminItems: 2,\n\t\t\t\t\t\t\tmaxItems: 2,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Multiple pairs: [[char1, char2], [char3, char4]]',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\teventDetails: {\n\t\t\ttype: 'object',\n\t\t\tdescription:\n\t\t\t\t'Brief clarifying details for event types that need context. Key is the event type, value is a short phrase explaining what specifically happened.',\n\t\t\tadditionalProperties: { type: 'string' },\n\t\t},\n\t\twitnesses: {\n\t\t\ttype: 'array',\n\t\t\tdescription: 'Characters who witnessed or participated in this event',\n\t\t\titems: { type: 'string' },\n\t\t},\n\t\trelationshipSignals: {\n\t\t\ttype: 'array',\n\t\t\tdescription:\n\t\t\t\t'Optional signals if events affect relationships. One entry per affected pair.',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tpair: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\tminItems: 2,\n\t\t\t\t\t\tmaxItems: 2,\n\t\t\t\t\t\tdescription: 'The two characters involved',\n\t\t\t\t\t},\n\t\t\t\t\tchanges: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tfrom: {\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t'Character whose attitude is changing',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttoward: {\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t'Character they feel differently about',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfeeling: {\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t'New or changed feeling',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trequired: ['from', 'toward', 'feeling'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\trequired: ['summary', 'eventTypes', 'eventPairs', 'witnesses'],\n};\n\n// Multiple examples showing different scenarios\nconst EVENT_EXAMPLES = [\n\t// Example 1: Single pair, emotional moment\n\t{\n\t\tsummary: \"After hours of tense silence, Elena finally broke down and confessed her past as a thief to Marcus, her voice trembling as she revealed the crimes she'd committed before they met. Marcus listened without interrupting, his expression unreadable, before finally reaching across the table to take her hand.\",\n\t\teventTypes: ['secret_shared', 'emotional', 'confession'],\n\t\teventPairs: {\n\t\t\tsecret_shared: ['Elena', 'Marcus'],\n\t\t\temotional: ['Elena', 'Marcus'],\n\t\t\tconfession: ['Elena', 'Marcus'],\n\t\t},\n\t\teventDetails: {\n\t\t\tsecret_shared: \"Elena's past as a thief and the crimes she committed\",\n\t\t\temotional: 'Elena broke down crying while revealing her past',\n\t\t\tconfession: 'Elena admitted her criminal history to Marcus',\n\t\t},\n\t\twitnesses: ['Elena', 'Marcus'],\n\t\trelationshipSignals: [\n\t\t\t{\n\t\t\t\tpair: ['Elena', 'Marcus'],\n\t\t\t\tchanges: [\n\t\t\t\t\t{ from: 'Elena', toward: 'Marcus', feeling: 'vulnerable' },\n\t\t\t\t\t{ from: 'Marcus', toward: 'Elena', feeling: 'protective' },\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n\t// Example 2: Combat with multiple enemies (same event type, different pairs)\n\t{\n\t\tsummary: \"The ambush came from both sides - Jake barely dodged Viper's knife before spinning to block Razor's bat. He managed to disarm Viper with a swift kick, then turned his fury on Razor, slamming him against the alley wall.\",\n\t\teventTypes: ['combat', 'danger'],\n\t\teventPairs: {\n\t\t\tcombat: [\n\t\t\t\t['Jake', 'Viper'],\n\t\t\t\t['Jake', 'Razor'],\n\t\t\t],\n\t\t\tdanger: ['Jake', 'Viper'],\n\t\t},\n\t\teventDetails: {\n\t\t\tcombat: 'Jake fought off both Viper and Razor in the alley ambush',\n\t\t\tdanger: 'Jake was ambushed by two armed attackers',\n\t\t},\n\t\twitnesses: ['Jake', 'Viper', 'Razor'],\n\t\trelationshipSignals: [\n\t\t\t{\n\t\t\t\tpair: ['Jake', 'Viper'],\n\t\t\t\tchanges: [{ from: 'Viper', toward: 'Jake', feeling: 'vengeful' }],\n\t\t\t},\n\t\t\t{\n\t\t\t\tpair: ['Jake', 'Razor'],\n\t\t\t\tchanges: [{ from: 'Razor', toward: 'Jake', feeling: 'fearful' }],\n\t\t\t},\n\t\t],\n\t},\n\t// Example 3: Mixed - combat AND emotional support from different people\n\t{\n\t\tsummary: 'After Sarah dispatched the last of the guards, she found Alex trembling in the corner. She knelt beside him, pulling him into a fierce embrace while promising they would make it out together.',\n\t\teventTypes: ['combat', 'emotional', 'supportive', 'intimate_embrace'],\n\t\teventPairs: {\n\t\t\tcombat: ['Sarah', 'Guard'],\n\t\t\temotional: ['Sarah', 'Alex'],\n\t\t\tsupportive: ['Sarah', 'Alex'],\n\t\t\tintimate_embrace: ['Sarah', 'Alex'],\n\t\t},\n\t\teventDetails: {\n\t\t\tcombat: 'Sarah fought and defeated the guards',\n\t\t\temotional: 'Alex was traumatized and trembling',\n\t\t\tsupportive: 'Sarah comforted and reassured Alex',\n\t\t\tintimate_embrace: 'Sarah pulled Alex into a protective embrace',\n\t\t},\n\t\twitnesses: ['Sarah', 'Alex', 'Guard'],\n\t\trelationshipSignals: [\n\t\t\t{\n\t\t\t\tpair: ['Sarah', 'Alex'],\n\t\t\t\tchanges: [\n\t\t\t\t\t{ from: 'Alex', toward: 'Sarah', feeling: 'grateful' },\n\t\t\t\t\t{ from: 'Sarah', toward: 'Alex', feeling: 'protective' },\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n];\n\nconst EVENT_EXAMPLE = JSON.stringify(EVENT_EXAMPLES[0], null, 2);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are an event analysis agent for roleplay. Extract significant events and relationship changes. Return only valid JSON.';\n\n// ============================================\n// Public API\n// ============================================\n\nexport interface ExtractEventParams {\n\tmessages: string;\n\tmessageId: number;\n\tcurrentTime: NarrativeDateTime;\n\tcurrentLocation: LocationState;\n\tcurrentTensionType: TensionType;\n\tcurrentTensionLevel: TensionLevel;\n\trelationships: Relationship[];\n\tcharacters?: Character[];\n\tabortSignal?: AbortSignal;\n}\n\n/** A pair can be a single [char1, char2] or multiple [[char1, char2], [char3, char4]] */\nexport type EventPairValue = [string, string] | [string, string][];\n\nexport interface ExtractedEventData {\n\tsummary: string;\n\teventTypes: EventType[];\n\teventPairs: Record<string, EventPairValue>;\n\teventDetails?: Record<string, string>;\n\twitnesses: string[];\n\trelationshipSignals?: RelationshipSignal[];\n}\n\n/**\n * Extract a significant event from the recent messages.\n * Returns null if no significant event occurred.\n */\nexport async function extractEvent(params: ExtractEventParams): Promise<TimestampedEvent | null> {\n\tconst settings = getSettings();\n\n\tif (!settings.trackEvents) {\n\t\treturn null;\n\t}\n\n\t// Format relationships for context\n\tconst relationshipsContext = formatRelationshipsForPrompt(params.relationships);\n\n\tconst schemaStr = JSON.stringify(EVENT_SCHEMA, null, 2);\n\tconst locationStr = `${params.currentLocation.area} - ${params.currentLocation.place}`;\n\n\tconst prompt = getPrompt('event_extract')\n\t\t.replace('{{messages}}', params.messages)\n\t\t.replace('{{currentRelationships}}', relationshipsContext)\n\t\t.replace('{{schema}}', schemaStr)\n\t\t.replace('{{schemaExample}}', EVENT_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: settings.maxResponseTokens,\n\t\t\ttemperature: getTemperature('event_extract'),\n\t\t\tabortSignal: params.abortSignal,\n\t\t});\n\n\t\tconst parsed = parseJsonResponse(response, {\n\t\t\tshape: 'object',\n\t\t\tmoduleName: 'BlazeTracker/Event',\n\t\t});\n\n\t\tconst eventData = validateEventData(parsed, params.relationships);\n\n\t\t// If the summary indicates no significant event, return null\n\t\tif (!eventData || isNoEventResponse(eventData.summary)) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Process relationship signals and add milestones\n\t\t// We use the first signal as the primary one for the event (for backward compat)\n\t\tlet relationshipSignal: RelationshipSignal | undefined;\n\n\t\tif (eventData.relationshipSignals && eventData.relationshipSignals.length > 0) {\n\t\t\t// Process each relationship signal - infer milestones based on eventPairs\n\t\t\tconst processedSignals = await Promise.all(\n\t\t\t\teventData.relationshipSignals.map(async signal => {\n\t\t\t\t\t// Find event types that apply to this pair\n\t\t\t\t\tconst pairKey = sortPair(signal.pair[0], signal.pair[1])\n\t\t\t\t\t\t.join('|')\n\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t\tconst eventTypesForPair = eventData.eventTypes.filter(\n\t\t\t\t\t\tet => {\n\t\t\t\t\t\t\tconst etPairValue =\n\t\t\t\t\t\t\t\teventData.eventPairs[et];\n\t\t\t\t\t\t\tif (!etPairValue) return false;\n\t\t\t\t\t\t\t// Normalize to array of pairs and check if any match\n\t\t\t\t\t\t\tconst etPairs = normalizePairs(etPairValue);\n\t\t\t\t\t\t\treturn etPairs.some(p => {\n\t\t\t\t\t\t\t\tconst etPairKey = sortPair(\n\t\t\t\t\t\t\t\t\tp[0],\n\t\t\t\t\t\t\t\t\tp[1],\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.join('|')\n\t\t\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t\t\t\t\treturn etPairKey === pairKey;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\n\t\t\t\t\t// Infer milestones from the event types for this pair\n\t\t\t\t\tconst existingRelationship = findRelationshipForPair(\n\t\t\t\t\t\tparams.relationships,\n\t\t\t\t\t\tsignal.pair,\n\t\t\t\t\t);\n\t\t\t\t\tconst milestoneTypes = inferMilestoneTypesFromEventTypes(\n\t\t\t\t\t\teventTypesForPair,\n\t\t\t\t\t\texistingRelationship,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (milestoneTypes.length > 0) {\n\t\t\t\t\t\tconst milestones =\n\t\t\t\t\t\t\tawait createMilestonesWithDescriptions(\n\t\t\t\t\t\t\t\tmilestoneTypes,\n\t\t\t\t\t\t\t\tsignal.pair,\n\t\t\t\t\t\t\t\tparams.messages,\n\t\t\t\t\t\t\t\tparams.currentTime,\n\t\t\t\t\t\t\t\tparams.currentLocation,\n\t\t\t\t\t\t\t\tparams.characters ?? [],\n\t\t\t\t\t\t\t\texistingRelationship ?? undefined,\n\t\t\t\t\t\t\t\teventData.eventDetails ?? {},\n\t\t\t\t\t\t\t\tparams.messageId,\n\t\t\t\t\t\t\t\tparams.abortSignal,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn { ...signal, milestones };\n\t\t\t\t\t}\n\n\t\t\t\t\treturn signal;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\t// Use the first signal as the primary relationship signal for the event\n\t\t\trelationshipSignal = processedSignals[0];\n\t\t}\n\n\t\t// Create the timestamped event using scene's tension values\n\t\treturn {\n\t\t\ttimestamp: params.currentTime,\n\t\t\tsummary: eventData.summary,\n\t\t\teventTypes: eventData.eventTypes,\n\t\t\ttensionType: params.currentTensionType,\n\t\t\ttensionLevel: params.currentTensionLevel,\n\t\t\twitnesses: eventData.witnesses,\n\t\t\tlocation: locationStr,\n\t\t\trelationshipSignal,\n\t\t};\n\t} catch (error) {\n\t\tconsole.warn('[BlazeTracker] Event extraction failed:', error);\n\t\treturn null;\n\t}\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateEventTypes(data: unknown): EventType[] {\n\tif (!Array.isArray(data)) {\n\t\treturn ['conversation']; // Default fallback\n\t}\n\n\tconst valid = data.filter(\n\t\t(t): t is EventType =>\n\t\t\ttypeof t === 'string' && EVENT_TYPES.includes(t as EventType),\n\t);\n\n\treturn valid.length > 0 ? valid : ['conversation'];\n}\n\n/**\n * Map event types to potential milestone types.\n */\nconst EVENT_TYPE_TO_MILESTONE: Partial<Record<EventType, MilestoneType>> = {\n\t// Bonding\n\tlaugh: 'first_laugh',\n\tgift: 'first_gift',\n\tdate: 'first_date',\n\ti_love_you: 'first_i_love_you',\n\tsleepover: 'first_sleepover',\n\tshared_meal: 'first_shared_meal',\n\t// Physical intimacy\n\tintimate_touch: 'first_touch',\n\tintimate_kiss: 'first_kiss',\n\tintimate_embrace: 'first_embrace',\n\tintimate_heated: 'first_heated',\n\t// Sexual milestones (atomic)\n\tintimate_foreplay: 'first_foreplay',\n\tintimate_oral: 'first_oral',\n\tintimate_manual: 'first_manual',\n\tintimate_penetrative: 'first_penetrative',\n\tintimate_climax: 'first_climax',\n\t// Emotional\n\tconfession: 'confession',\n\tsecret_shared: 'secret_shared',\n\tsecret_revealed: 'secret_revealed',\n\t// Commitment\n\tpromise: 'promise_made',\n\tbetrayal: 'betrayal',\n\t// Life events\n\texclusivity: 'promised_exclusivity',\n\tmarriage: 'marriage',\n\tpregnancy: 'pregnancy',\n\tchildbirth: 'had_child',\n\t// Conflicts\n\targument: 'first_conflict',\n\tcombat: 'first_conflict',\n};\n\n/**\n * Infer milestone types from event types, checking against existing relationship milestones.\n * Returns all applicable milestone types that don't already exist (multiple possible from one event).\n */\nfunction inferMilestoneTypesFromEventTypes(\n\teventTypes: EventType[],\n\texistingRelationship: Relationship | undefined,\n): MilestoneType[] {\n\tconst existingMilestoneTypes = new Set(\n\t\texistingRelationship?.milestones.map(m => m.type) ?? [],\n\t);\n\n\tconst milestoneTypes: MilestoneType[] = [];\n\tconst addedTypes = new Set<MilestoneType>();\n\n\t// Check for first_meeting if no existing relationship\n\tif (!existingRelationship && !existingMilestoneTypes.has('first_meeting')) {\n\t\tmilestoneTypes.push('first_meeting');\n\t\taddedTypes.add('first_meeting');\n\t}\n\n\t// Check all event types for potential milestones\n\tfor (const eventType of eventTypes) {\n\t\tconst milestoneType = EVENT_TYPE_TO_MILESTONE[eventType];\n\t\tif (!milestoneType) continue;\n\n\t\t// Skip if already have this milestone in the relationship\n\t\tif (existingMilestoneTypes.has(milestoneType)) continue;\n\n\t\t// Skip if we've already added this milestone type in this batch\n\t\tif (addedTypes.has(milestoneType)) continue;\n\n\t\tmilestoneTypes.push(milestoneType);\n\t\taddedTypes.add(milestoneType);\n\t}\n\n\treturn milestoneTypes;\n}\n\n/**\n * Format character info for the milestone prompt.\n */\nfunction formatCharacterForMilestone(char: Character): string {\n\tconst parts: string[] = [`${char.name}:`];\n\n\tif (char.position) {\n\t\tparts.push(`Position: ${char.position}`);\n\t}\n\n\tif (char.mood?.length) {\n\t\tparts.push(`Mood: ${char.mood.join(', ')}`);\n\t}\n\n\t// Format outfit - only non-null slots\n\tconst outfitParts: string[] = [];\n\tif (char.outfit) {\n\t\tfor (const [slot, item] of Object.entries(char.outfit)) {\n\t\t\tif (item) {\n\t\t\t\toutfitParts.push(`${slot}: ${item}`);\n\t\t\t}\n\t\t}\n\t}\n\tif (outfitParts.length > 0) {\n\t\tparts.push(`Wearing: ${outfitParts.join(', ')}`);\n\t}\n\n\treturn parts.join(' | ');\n}\n\n/**\n * Format relationship feelings for the milestone prompt.\n */\nfunction formatRelationshipForMilestone(\n\trelationship: Relationship,\n\tchar1: string,\n\tchar2: string,\n): string {\n\tconst [a, b] = relationship.pair;\n\tconst parts: string[] = [`${a} & ${b} (${relationship.status}):`];\n\n\t// Figure out which attitude is which\n\tconst aIsChar1 = a.toLowerCase() === char1.toLowerCase();\n\tconst aToB = relationship.aToB;\n\tconst bToA = relationship.bToA;\n\n\tif (aIsChar1) {\n\t\tif (aToB.feelings?.length) {\n\t\t\tparts.push(`${char1} feels: ${aToB.feelings.join(', ')}`);\n\t\t}\n\t\tif (bToA.feelings?.length) {\n\t\t\tparts.push(`${char2} feels: ${bToA.feelings.join(', ')}`);\n\t\t}\n\t} else {\n\t\tif (bToA.feelings?.length) {\n\t\t\tparts.push(`${char1} feels: ${bToA.feelings.join(', ')}`);\n\t\t}\n\t\tif (aToB.feelings?.length) {\n\t\t\tparts.push(`${char2} feels: ${aToB.feelings.join(', ')}`);\n\t\t}\n\t}\n\n\treturn parts.join(' | ');\n}\n\n/**\n * Map milestone types to the event types that provide relevant details.\n */\nconst MILESTONE_TO_EVENT_TYPE: Partial<Record<MilestoneType, string[]>> = {\n\t// Physical intimacy\n\tfirst_touch: ['intimate_touch'],\n\tfirst_kiss: ['intimate_kiss'],\n\tfirst_embrace: ['intimate_embrace'],\n\tfirst_heated: ['intimate_heated'],\n\t// Sexual milestones\n\tfirst_foreplay: ['intimate_foreplay'],\n\tfirst_oral: ['intimate_oral'],\n\tfirst_manual: ['intimate_manual'],\n\tfirst_penetrative: ['intimate_penetrative'],\n\tfirst_climax: ['intimate_climax'],\n\t// Emotional\n\tconfession: ['confession'],\n\temotional_intimacy: ['emotional'],\n\t// Secrets\n\tsecret_shared: ['secret_shared'],\n\tsecret_revealed: ['secret_revealed'],\n\t// Commitment\n\tpromise_made: ['promise'],\n\tbetrayal: ['betrayal'],\n\t// Life events\n\tpromised_exclusivity: ['exclusivity'],\n\tmarriage: ['marriage'],\n\tpregnancy: ['pregnancy'],\n\thad_child: ['childbirth'],\n\t// Conflicts\n\tfirst_conflict: ['argument', 'combat'],\n};\n\n/**\n * Get relevant event details for a milestone type.\n */\nfunction getEventDetailsForMilestone(\n\tmilestoneType: MilestoneType,\n\teventDetails: Record<string, string>,\n): string {\n\tconst relevantEventTypes = MILESTONE_TO_EVENT_TYPE[milestoneType] ?? [];\n\tconst details: string[] = [];\n\n\tfor (const eventType of relevantEventTypes) {\n\t\tif (eventDetails[eventType]) {\n\t\t\tdetails.push(eventDetails[eventType]);\n\t\t}\n\t}\n\n\treturn details.length > 0 ? details.join('; ') : '';\n}\n\n/**\n * Extract a grounded description for a milestone from the messages.\n */\nasync function extractMilestoneDescription(\n\tmilestoneType: MilestoneType,\n\tcharacterPair: [string, string],\n\tmessages: string,\n\tcurrentTime: NarrativeDateTime,\n\tlocation: LocationState,\n\tcharacters: Character[],\n\trelationship: Relationship | undefined,\n\teventDetails: Record<string, string>,\n\tabortSignal?: AbortSignal,\n): Promise<string> {\n\tconst settings = getSettings();\n\n\t// Format time of day\n\tconst hour = currentTime.hour;\n\tconst timeOfDay =\n\t\thour < 6\n\t\t\t? 'late night'\n\t\t\t: hour < 9\n\t\t\t\t? 'early morning'\n\t\t\t\t: hour < 12\n\t\t\t\t\t? 'morning'\n\t\t\t\t\t: hour < 14\n\t\t\t\t\t\t? 'midday'\n\t\t\t\t\t\t: hour < 17\n\t\t\t\t\t\t\t? 'afternoon'\n\t\t\t\t\t\t\t: hour < 20\n\t\t\t\t\t\t\t\t? 'evening'\n\t\t\t\t\t\t\t\t: 'night';\n\n\t// Format location\n\tconst locationStr = [location.area, location.place, location.position]\n\t\t.filter(Boolean)\n\t\t.join(' - ');\n\n\t// Format props\n\tconst propsStr = location.props?.length ? location.props.join(', ') : 'none specified';\n\n\t// Format character info for the pair\n\tconst [char1Name, char2Name] = characterPair;\n\tconst char1 = characters.find(c => c.name.toLowerCase() === char1Name.toLowerCase());\n\tconst char2 = characters.find(c => c.name.toLowerCase() === char2Name.toLowerCase());\n\n\tconst charactersStr = [\n\t\tchar1 ? formatCharacterForMilestone(char1) : `${char1Name}: (no details)`,\n\t\tchar2 ? formatCharacterForMilestone(char2) : `${char2Name}: (no details)`,\n\t].join('\\n');\n\n\t// Format relationship feelings\n\tconst relationshipStr = relationship\n\t\t? formatRelationshipForMilestone(relationship, char1Name, char2Name)\n\t\t: `${char1Name} & ${char2Name}: no established relationship`;\n\n\t// Get relevant event details for this milestone type\n\tconst eventDetailStr = getEventDetailsForMilestone(milestoneType, eventDetails);\n\n\tconst prompt = getPrompt('milestone_description')\n\t\t.replace(/\\{\\{milestoneType\\}\\}/g, milestoneType.replace(/_/g, ' '))\n\t\t.replace(/\\{\\{characterPair\\}\\}/g, `${characterPair[0]} and ${characterPair[1]}`)\n\t\t.replace(/\\{\\{timeOfDay\\}\\}/g, timeOfDay)\n\t\t.replace(/\\{\\{location\\}\\}/g, locationStr)\n\t\t.replace(/\\{\\{props\\}\\}/g, propsStr)\n\t\t.replace(/\\{\\{characters\\}\\}/g, charactersStr)\n\t\t.replace(/\\{\\{relationship\\}\\}/g, relationshipStr)\n\t\t.replace(/\\{\\{eventDetail\\}\\}/g, eventDetailStr || 'none')\n\t\t.replace('{{messages}}', messages);\n\n\t// Use messages directly without wrapping in system prompt\n\tconst llmMessages = buildExtractionMessages(\n\t\t'You are extracting factual descriptions of story moments. Be concise and accurate.',\n\t\tprompt,\n\t);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: 200, // Shorter response expected\n\t\t\ttemperature: getTemperature('milestone_description'),\n\t\t\tabortSignal,\n\t\t});\n\n\t\t// Clean up the response - remove any quotes or JSON formatting\n\t\treturn response\n\t\t\t.trim()\n\t\t\t.replace(/^[\"']|[\"']$/g, '')\n\t\t\t.replace(/^description:\\s*/i, '');\n\t} catch (error) {\n\t\tconsole.warn('[BlazeTracker] Milestone description extraction failed:', error);\n\t\t// Return a basic fallback description\n\t\treturn `A significant ${milestoneType.replace(/_/g, ' ')} moment between ${characterPair[0]} and ${characterPair[1]}.`;\n\t}\n}\n\n/**\n * Create full milestone events with descriptions extracted from the messages.\n */\nasync function createMilestonesWithDescriptions(\n\tmilestoneTypes: MilestoneType[],\n\tcharacterPair: [string, string],\n\tmessages: string,\n\tcurrentTime: NarrativeDateTime,\n\tlocation: LocationState,\n\tcharacters: Character[],\n\trelationship: Relationship | undefined,\n\teventDetails: Record<string, string>,\n\tmessageId: number,\n\tabortSignal?: AbortSignal,\n): Promise<MilestoneEvent[]> {\n\t// Extract descriptions in parallel for all milestones\n\tconst descriptionPromises = milestoneTypes.map(type =>\n\t\textractMilestoneDescription(\n\t\t\ttype,\n\t\t\tcharacterPair,\n\t\t\tmessages,\n\t\t\tcurrentTime,\n\t\t\tlocation,\n\t\t\tcharacters,\n\t\t\trelationship,\n\t\t\teventDetails,\n\t\t\tabortSignal,\n\t\t),\n\t);\n\n\tconst descriptions = await Promise.all(descriptionPromises);\n\n\t// Format location string for storage\n\tconst locationStr = [location.area, location.place].filter(Boolean).join(' - ');\n\n\treturn milestoneTypes.map((type, index) => ({\n\t\ttype,\n\t\tdescription: descriptions[index],\n\t\ttimestamp: currentTime,\n\t\tlocation: locationStr,\n\t\tmessageId,\n\t}));\n}\n\n/**\n * Find an existing relationship for a pair (case-insensitive).\n */\nfunction findRelationshipForPair(\n\trelationships: Relationship[],\n\tpair: [string, string],\n): Relationship | undefined {\n\treturn relationships.find(\n\t\tr =>\n\t\t\t(r.pair[0].toLowerCase() === pair[0].toLowerCase() &&\n\t\t\t\tr.pair[1].toLowerCase() === pair[1].toLowerCase()) ||\n\t\t\t(r.pair[0].toLowerCase() === pair[1].toLowerCase() &&\n\t\t\t\tr.pair[1].toLowerCase() === pair[0].toLowerCase()),\n\t);\n}\n\nfunction validateEventDetails(data: unknown): Record<string, string> | undefined {\n\tif (!data || !isObject(data)) {\n\t\treturn undefined;\n\t}\n\n\tconst details: Record<string, string> = {};\n\tfor (const [key, value] of Object.entries(data)) {\n\t\tif (typeof value === 'string' && value.trim()) {\n\t\t\tdetails[key] = value.trim();\n\t\t}\n\t}\n\n\treturn Object.keys(details).length > 0 ? details : undefined;\n}\n\n/**\n * Parse a single pair from data.\n */\nfunction parseSinglePair(pair: unknown): [string, string] | null {\n\tif (!Array.isArray(pair) || pair.length < 2) return null;\n\tconst char1 = typeof pair[0] === 'string' ? pair[0].trim() : '';\n\tconst char2 = typeof pair[1] === 'string' ? pair[1].trim() : '';\n\tif (char1 && char2) return [char1, char2];\n\treturn null;\n}\n\n/**\n * Validate eventPairs - supports both single pair and array of pairs per event type.\n */\nfunction validateEventPairs(\n\tdata: unknown,\n\teventTypes: EventType[],\n): Record<string, EventPairValue> {\n\tconst pairs: Record<string, EventPairValue> = {};\n\n\tif (!data || !isObject(data)) {\n\t\treturn pairs;\n\t}\n\n\tfor (const eventType of eventTypes) {\n\t\tconst value = (data as Record<string, unknown>)[eventType];\n\t\tif (!Array.isArray(value) || value.length < 2) continue;\n\n\t\t// Check if it's an array of pairs [[char1, char2], [char3, char4]]\n\t\tif (Array.isArray(value[0])) {\n\t\t\tconst multiplePairs: [string, string][] = [];\n\t\t\tfor (const item of value) {\n\t\t\t\tconst parsed = parseSinglePair(item);\n\t\t\t\tif (parsed) multiplePairs.push(parsed);\n\t\t\t}\n\t\t\tif (multiplePairs.length > 0) {\n\t\t\t\tpairs[eventType] = multiplePairs;\n\t\t\t}\n\t\t} else {\n\t\t\t// Single pair [char1, char2]\n\t\t\tconst parsed = parseSinglePair(value);\n\t\t\tif (parsed) {\n\t\t\t\tpairs[eventType] = parsed;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn pairs;\n}\n\n/**\n * Normalize eventPairs to always return an array of pairs for easier processing.\n */\nfunction normalizePairs(value: EventPairValue): [string, string][] {\n\tif (value.length === 0) return [];\n\t// Check if it's array of pairs or single pair\n\tif (Array.isArray(value[0])) {\n\t\treturn value as [string, string][];\n\t}\n\treturn [value as [string, string]];\n}\n\nfunction validateEventData(\n\tdata: unknown,\n\t_relationships: Relationship[],\n): ExtractedEventData | null {\n\tif (!isObject(data)) {\n\t\treturn null;\n\t}\n\n\tconst summary = asString(data.summary, '');\n\tif (!summary.trim()) {\n\t\treturn null;\n\t}\n\n\tconst eventTypes = validateEventTypes(data.eventTypes);\n\tconst eventPairs = validateEventPairs(data.eventPairs, eventTypes);\n\tconst eventDetails = validateEventDetails(data.eventDetails);\n\tconst witnesses = asStringArray(data.witnesses);\n\tconst relationshipSignals = validateRelationshipSignals(data.relationshipSignals);\n\n\treturn {\n\t\tsummary,\n\t\teventTypes,\n\t\teventPairs,\n\t\teventDetails,\n\t\twitnesses,\n\t\trelationshipSignals,\n\t};\n}\n\nfunction validateRelationshipSignal(data: unknown): RelationshipSignal | undefined {\n\tif (!data || !isObject(data)) {\n\t\treturn undefined;\n\t}\n\n\t// Validate pair\n\tconst pair = data.pair;\n\tif (!Array.isArray(pair) || pair.length !== 2) {\n\t\treturn undefined;\n\t}\n\n\tconst char1 = typeof pair[0] === 'string' ? pair[0] : '';\n\tconst char2 = typeof pair[1] === 'string' ? pair[1] : '';\n\n\tif (!char1 || !char2) {\n\t\treturn undefined;\n\t}\n\n\t// Sort the pair alphabetically\n\tconst sortedPair = sortPair(char1, char2);\n\n\t// Validate changes\n\tlet changes: DirectionalChange[] | undefined;\n\tif (Array.isArray(data.changes)) {\n\t\tchanges = data.changes\n\t\t\t.filter(isObject)\n\t\t\t.map(c => ({\n\t\t\t\tfrom: asString(c.from, ''),\n\t\t\t\ttoward: asString(c.toward, ''),\n\t\t\t\tfeeling: asString(c.feeling, ''),\n\t\t\t}))\n\t\t\t.filter(c => c.from && c.toward && c.feeling);\n\n\t\tif (changes.length === 0) {\n\t\t\tchanges = undefined;\n\t\t}\n\t}\n\n\t// Only return signal if we have changes\n\tif (!changes) {\n\t\treturn undefined;\n\t}\n\n\treturn {\n\t\tpair: sortedPair,\n\t\tchanges,\n\t};\n}\n\nfunction validateRelationshipSignals(data: unknown): RelationshipSignal[] | undefined {\n\tif (!Array.isArray(data)) {\n\t\treturn undefined;\n\t}\n\n\tconst signals = data\n\t\t.map(item => validateRelationshipSignal(item))\n\t\t.filter((s): s is RelationshipSignal => s !== undefined);\n\n\treturn signals.length > 0 ? signals : undefined;\n}\n\nfunction isNoEventResponse(summary: string): boolean {\n\tconst noEventPhrases = [\n\t\t'no significant event',\n\t\t'no notable event',\n\t\t'no major event',\n\t\t'nothing significant',\n\t\t'nothing notable',\n\t\t'routine conversation',\n\t\t'casual conversation',\n\t\t'n/a',\n\t\t'none',\n\t];\n\n\tconst lower = summary.toLowerCase().trim();\n\treturn noEventPhrases.some(phrase => lower.includes(phrase) || lower === phrase);\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n\nfunction formatRelationshipsForPrompt(relationships: Relationship[]): string {\n\tif (relationships.length === 0) {\n\t\treturn 'No established relationships yet.';\n\t}\n\n\treturn relationships\n\t\t.map(r => {\n\t\t\tconst [charA, charB] = r.pair;\n\t\t\tconst aFeelings = r.aToB.feelings.join(', ') || 'neutral';\n\t\t\tconst bFeelings = r.bToA.feelings.join(', ') || 'neutral';\n\n\t\t\treturn `${charA} & ${charB} (${r.status}): ${charA} feels ${aFeelings}; ${charB} feels ${bFeelings}`;\n\t\t})\n\t\t.join('\\n');\n}\n","import { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asString, asStringArray } from '../utils/json';\nimport type { LocationState } from '../types/state';\n\n// Re-export for convenience (maintains backward compatibility)\nexport type { LocationState };\n\n// ============================================\n// Schema & Example\n// ============================================\n\nconst LOCATION_SCHEMA = {\n\ttype: 'object',\n\tproperties: {\n\t\tarea: {\n\t\t\ttype: 'string',\n\t\t\tdescription: 'Broad area or region (city, town, region, etc.)',\n\t\t},\n\t\tplace: {\n\t\t\ttype: 'string',\n\t\t\tdescription: 'Specific location within the area (building, landmark, etc.)',\n\t\t},\n\t\tposition: {\n\t\t\ttype: 'string',\n\t\t\tdescription: 'Exact position within the place (room, corner, etc.)',\n\t\t},\n\t\tprops: {\n\t\t\ttype: 'array',\n\t\t\tdescription: 'Notable items or features in the immediate environment',\n\t\t\titems: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'A nearby item which is part of the scene, detailed',\n\t\t\t},\n\t\t\tmaxItems: 10,\n\t\t},\n\t},\n\trequired: ['area', 'place', 'position', 'props'],\n};\n\nconst LOCATION_EXAMPLE = JSON.stringify(\n\t{\n\t\tarea: 'Downtown Seattle',\n\t\tplace: 'The Rusty Nail Bar',\n\t\tposition: 'Corner booth',\n\t\tprops: [\n\t\t\t'Jukebox playing soft rock',\n\t\t\t'Empty beer glasses on the table',\n\t\t\t'Bowl of peanuts',\n\t\t\t'Flickering neon sign above the bar',\n\t\t],\n\t},\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are a location analysis agent for roleplay scenes. Return only valid JSON.';\n\n// ============================================\n// Public API\n// ============================================\n\nexport async function extractLocation(\n\tisInitial: boolean,\n\tmessages: string,\n\tcharacterInfo: string,\n\tpreviousLocation: LocationState | null,\n\tabortSignal?: AbortSignal,\n): Promise<LocationState> {\n\tconst settings = getSettings();\n\tconst schemaStr = JSON.stringify(LOCATION_SCHEMA, null, 2);\n\n\tconst prompt = isInitial\n\t\t? getPrompt('location_initial')\n\t\t\t\t.replace('{{characterInfo}}', characterInfo)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', LOCATION_EXAMPLE)\n\t\t: getPrompt('location_update')\n\t\t\t\t.replace(\n\t\t\t\t\t'{{previousState}}',\n\t\t\t\t\tJSON.stringify(previousLocation, null, 2),\n\t\t\t\t)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', LOCATION_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId: settings.profileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature(isInitial ? 'location_initial' : 'location_update'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'object',\n\t\tmoduleName: 'BlazeTracker/Location',\n\t});\n\n\treturn validateLocation(parsed);\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateLocation(data: unknown): LocationState {\n\tif (typeof data !== 'object' || data === null) {\n\t\tthrow new Error('Invalid location: expected object');\n\t}\n\n\tconst obj = data as Record<string, unknown>;\n\n\tif (!obj.place || typeof obj.place !== 'string') {\n\t\tthrow new Error('Invalid location: missing or invalid place');\n\t}\n\n\treturn {\n\t\tarea: asString(obj.area, 'Unknown Area'),\n\t\tplace: obj.place,\n\t\tposition: asString(obj.position, 'Main area'),\n\t\tprops: asStringArray(obj.props, 10),\n\t};\n}\n","// ============================================\n// Relationship Extractor\n// ============================================\n\nimport { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asStringArray, isObject } from '../utils/json';\nimport type {\n\tRelationship,\n\tRelationshipStatus,\n\tRelationshipAttitude,\n\tRelationshipSignal,\n\tTimestampedEvent,\n\tNarrativeDateTime,\n} from '../types/state';\nimport { RELATIONSHIP_STATUSES } from '../types/state';\nimport {\n\tsortPair,\n\tcreateRelationship,\n\tcreateEmptyAttitude,\n\taddRelationshipVersion,\n\taddMilestone,\n} from '../state/relationships';\nimport { formatEventsForInjection } from '../state/events';\nimport type { LocationState } from './extractLocation';\n\n// ============================================\n// Schema & Examples\n// ============================================\n\nexport const RELATIONSHIP_SCHEMA = {\n\ttype: 'object',\n\tdescription: 'Relationship state between two characters',\n\tadditionalProperties: false,\n\tproperties: {\n\t\tstatus: {\n\t\t\ttype: 'string',\n\t\t\tenum: [...RELATIONSHIP_STATUSES],\n\t\t\tdescription: 'Current relationship status',\n\t\t},\n\t\tattitudes: {\n\t\t\ttype: 'object',\n\t\t\tdescription:\n\t\t\t\t\"Each character's attitude toward the other. Keys are character names.\",\n\t\t\tadditionalProperties: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\ttoward: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'The other character this attitude is directed at',\n\t\t\t\t\t},\n\t\t\t\t\tfeelings: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Current feelings toward the other character',\n\t\t\t\t\t},\n\t\t\t\t\tsecrets: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Things they know that the other character does not',\n\t\t\t\t\t},\n\t\t\t\t\twants: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'What they want from this relationship',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t// Support legacy aToB/bToA format for backwards compatibility\n\t\taToB: {\n\t\t\ttype: 'object',\n\t\t\tdescription:\n\t\t\t\t'How the first character (alphabetically) feels about the second',\n\t\t\tproperties: {\n\t\t\t\tfeelings: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t\tsecrets: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t\twants: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbToA: {\n\t\t\ttype: 'object',\n\t\t\tdescription:\n\t\t\t\t'How the second character (alphabetically) feels about the first',\n\t\t\tproperties: {\n\t\t\t\tfeelings: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t\tsecrets: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t\twants: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: { type: 'string' },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\trequired: ['status'],\n};\n\nfunction createRelationshipExample(char1: string, char2: string): string {\n\treturn JSON.stringify(\n\t\t{\n\t\t\tstatus: 'friendly',\n\t\t\tattitudes: {\n\t\t\t\t[char1]: {\n\t\t\t\t\ttoward: char2,\n\t\t\t\t\tfeelings: ['trusting', 'curious'],\n\t\t\t\t\tsecrets: ['knows about their hidden talent'],\n\t\t\t\t\twants: ['friendship', 'adventure together'],\n\t\t\t\t},\n\t\t\t\t[char2]: {\n\t\t\t\t\ttoward: char1,\n\t\t\t\t\tfeelings: ['grateful', 'protective'],\n\t\t\t\t\tsecrets: [],\n\t\t\t\t\twants: ['loyalty', 'emotional support'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tnull,\n\t\t2,\n\t);\n}\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT =\n\t'You are a relationship analysis agent for roleplay. Extract and track character relationships with attention to asymmetry. Return only valid JSON.';\n\n/**\n * Get a descriptive time of day phrase from hour.\n */\nfunction getTimeOfDay(hour: number): string {\n\tif (hour >= 5 && hour < 12) return 'in the morning';\n\tif (hour >= 12 && hour < 17) return 'in the afternoon';\n\tif (hour >= 17 && hour < 21) return 'in the evening';\n\treturn 'at night';\n}\n\n// ============================================\n// Public API\n// ============================================\n\nexport interface ExtractInitialRelationshipParams {\n\tchar1: string;\n\tchar2: string;\n\tmessages: string;\n\tcharacterInfo: string;\n\tmessageId?: number;\n\tcurrentTime?: NarrativeDateTime;\n\tcurrentLocation?: LocationState;\n\tabortSignal?: AbortSignal;\n}\n\nexport interface UpdateRelationshipParams {\n\trelationship: Relationship;\n\tevents: TimestampedEvent[];\n\tmessages: string;\n\tmessageId?: number;\n\tisChapterBoundary?: boolean;\n\tabortSignal?: AbortSignal;\n}\n\n/**\n * Extract the initial relationship state between two characters.\n */\nexport async function extractInitialRelationship(\n\tparams: ExtractInitialRelationshipParams,\n): Promise<Relationship | null> {\n\tconst settings = getSettings();\n\n\tconst pair = sortPair(params.char1, params.char2);\n\tconst schemaStr = JSON.stringify(RELATIONSHIP_SCHEMA, null, 2);\n\tconst exampleStr = createRelationshipExample(pair[0], pair[1]);\n\n\tconst prompt = getPrompt('relationship_initial')\n\t\t.replace('{{messages}}', params.messages)\n\t\t.replace('{{characterInfo}}', params.characterInfo)\n\t\t.replace('{{schema}}', schemaStr)\n\t\t.replace('{{schemaExample}}', exampleStr);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: settings.maxResponseTokens,\n\t\t\ttemperature: getTemperature('relationship_initial'),\n\t\t\tabortSignal: params.abortSignal,\n\t\t});\n\n\t\tconst parsed = parseJsonResponse(response, {\n\t\t\tshape: 'object',\n\t\t\tmoduleName: 'BlazeTracker/Relationship',\n\t\t});\n\n\t\tconst relationship = buildRelationship(pair, parsed, undefined, params.messageId);\n\n\t\t// Automatically add first_meeting milestone for new relationships\n\t\tif (relationship && params.messageId !== undefined && params.currentTime && params.currentLocation) {\n\t\t\tconst locationStr = [params.currentLocation.place, params.currentLocation.area]\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.join(', ');\n\t\t\tconst timeOfDay = getTimeOfDay(params.currentTime.hour);\n\t\t\tconst description = `${pair[0]} and ${pair[1]} first appear together ${timeOfDay} at ${locationStr}.`;\n\n\t\t\taddMilestone(relationship, {\n\t\t\t\ttype: 'first_meeting',\n\t\t\t\tdescription,\n\t\t\t\ttimestamp: params.currentTime,\n\t\t\t\tlocation: locationStr,\n\t\t\t\tmessageId: params.messageId,\n\t\t\t});\n\t\t}\n\n\t\treturn relationship;\n\t} catch (error) {\n\t\tconsole.warn('[BlazeTracker] Initial relationship extraction failed:', error);\n\t\treturn null;\n\t}\n}\n\n/**\n * Update a relationship based on recent events.\n */\nexport async function refreshRelationship(\n\tparams: UpdateRelationshipParams,\n): Promise<Relationship | null> {\n\tconst settings = getSettings();\n\n\tconst pair = params.relationship.pair;\n\tconst schemaStr = JSON.stringify(RELATIONSHIP_SCHEMA, null, 2);\n\tconst exampleStr = createRelationshipExample(pair[0], pair[1]);\n\tconst eventsStr = formatEventsForInjection(params.events);\n\tconst previousStr = formatPreviousRelationship(params.relationship);\n\n\tconst prompt = getPrompt('relationship_update')\n\t\t.replace('{{previousState}}', previousStr)\n\t\t.replace('{{currentEvents}}', eventsStr)\n\t\t.replace('{{messages}}', params.messages)\n\t\t.replace('{{schema}}', schemaStr)\n\t\t.replace('{{schemaExample}}', exampleStr);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: settings.maxResponseTokens,\n\t\t\ttemperature: getTemperature('relationship_update'),\n\t\t\tabortSignal: params.abortSignal,\n\t\t});\n\n\t\tconst parsed = parseJsonResponse(response, {\n\t\t\tshape: 'object',\n\t\t\tmoduleName: 'BlazeTracker/Relationship',\n\t\t});\n\n\t\t// Build updated relationship, preserving history\n\t\tconst updated = buildRelationship(\n\t\t\tpair,\n\t\t\tparsed,\n\t\t\tparams.relationship,\n\t\t\tparams.messageId,\n\t\t);\n\n\t\t// If this is a chapter boundary, add a history snapshot\n\t\tif (params.isChapterBoundary && updated) {\n\t\t\t// Note: Chapter index should be provided by caller if needed\n\t\t\t// For now we skip the snapshot creation here\n\t\t}\n\n\t\treturn updated;\n\t} catch (error) {\n\t\tconsole.warn('[BlazeTracker] Relationship refresh failed:', error);\n\t\treturn null;\n\t}\n}\n\n/**\n * Apply a relationship signal from event extraction to update the relationship.\n * This is a lighter-weight update that doesn't require an LLM call.\n */\nexport function updateRelationshipFromSignal(\n\trelationship: Relationship,\n\tsignal: RelationshipSignal,\n): Relationship {\n\t// Create a copy to modify\n\tconst updated = { ...relationship };\n\tupdated.aToB = { ...updated.aToB };\n\tupdated.bToA = { ...updated.bToA };\n\tupdated.milestones = [...updated.milestones];\n\n\tconst [charA, charB] = updated.pair;\n\n\t// Apply directional changes\n\tif (signal.changes) {\n\t\tfor (const change of signal.changes) {\n\t\t\tconst fromLower = change.from.toLowerCase();\n\t\t\tconst towardLower = change.toward.toLowerCase();\n\n\t\t\t// Determine direction\n\t\t\tif (\n\t\t\t\tfromLower === charA.toLowerCase() &&\n\t\t\t\ttowardLower === charB.toLowerCase()\n\t\t\t) {\n\t\t\t\t// A's feeling toward B changed\n\t\t\t\tif (!updated.aToB.feelings.includes(change.feeling)) {\n\t\t\t\t\tupdated.aToB.feelings = [\n\t\t\t\t\t\t...updated.aToB.feelings,\n\t\t\t\t\t\tchange.feeling,\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tfromLower === charB.toLowerCase() &&\n\t\t\t\ttowardLower === charA.toLowerCase()\n\t\t\t) {\n\t\t\t\t// B's feeling toward A changed\n\t\t\t\tif (!updated.bToA.feelings.includes(change.feeling)) {\n\t\t\t\t\tupdated.bToA.feelings = [\n\t\t\t\t\t\t...updated.bToA.feelings,\n\t\t\t\t\t\tchange.feeling,\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Add milestones if provided and not duplicates\n\tif (signal.milestones && signal.milestones.length > 0) {\n\t\tfor (const milestone of signal.milestones) {\n\t\t\tconst hasMilestone = updated.milestones.some(\n\t\t\t\tm => m.type === milestone.type,\n\t\t\t);\n\t\t\tif (!hasMilestone) {\n\t\t\t\tupdated.milestones = [...updated.milestones, milestone];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn updated;\n}\n\n// ============================================\n// Helpers\n// ============================================\n\nfunction formatPreviousRelationship(relationship: Relationship): string {\n\tconst [charA, charB] = relationship.pair;\n\n\tconst lines = [\n\t\t`Characters: ${charA} & ${charB}`,\n\t\t`Status: ${relationship.status}`,\n\t\t'',\n\t\t`${charA}'s attitude toward ${charB}:`,\n\t\t`  Feelings: ${relationship.aToB.feelings.join(', ') || 'none'}`,\n\t\t`  Secrets: ${relationship.aToB.secrets.join('; ') || 'none'}`,\n\t\t`  Wants: ${relationship.aToB.wants.join(', ') || 'none'}`,\n\t\t'',\n\t\t`${charB}'s attitude toward ${charA}:`,\n\t\t`  Feelings: ${relationship.bToA.feelings.join(', ') || 'none'}`,\n\t\t`  Secrets: ${relationship.bToA.secrets.join('; ') || 'none'}`,\n\t\t`  Wants: ${relationship.bToA.wants.join(', ') || 'none'}`,\n\t];\n\n\tif (relationship.milestones.length > 0) {\n\t\tlines.push('');\n\t\tlines.push('Milestones:');\n\t\tfor (const m of relationship.milestones) {\n\t\t\tlines.push(`  - ${m.type}: ${m.description}`);\n\t\t}\n\t}\n\n\treturn lines.join('\\n');\n}\n\n/**\n * Find an attitude by character name (case-insensitive).\n */\nfunction findAttitudeByName(attitudes: Record<string, unknown>, name: string): unknown {\n\tconst lowerName = name.toLowerCase();\n\tfor (const [key, value] of Object.entries(attitudes)) {\n\t\tif (key.toLowerCase() === lowerName) {\n\t\t\treturn value;\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n * Infer minimum relationship status based on feelings.\n */\nfunction inferMinimumStatus(feelings: string[]): RelationshipStatus | null {\n\tconst lower = feelings.map(f => f.toLowerCase()).join(' ');\n\n\tif (/love|passionate|romantic|desire|intimate|adore/.test(lower)) return 'intimate';\n\tif (/trust|care|protective|devoted|loyal|deep/.test(lower)) return 'close';\n\tif (/like|enjoy|comfortable|fond|friendly|warm/.test(lower)) return 'friendly';\n\tif (/hate|despise|enemy|loathe/.test(lower)) return 'hostile';\n\tif (/suspicious|resentful|angry|bitter|distrust/.test(lower)) return 'strained';\n\n\treturn null;\n}\n\n/**\n * Milestones that indicate a romantic relationship has begun.\n * Without at least one of these, \"intimate\" status is not appropriate.\n */\nconst ROMANTIC_GATE_MILESTONES = new Set([\n\t'first_kiss',\n\t'first_date',\n\t'first_i_love_you',\n\t'promised_exclusivity',\n\t'marriage',\n\t// Sexual milestones\n\t'first_foreplay',\n\t'first_oral',\n\t'first_manual',\n\t'first_penetrative',\n\t'first_climax',\n]);\n\n/**\n * Infer maximum relationship status based on milestones.\n * This caps status to prevent models from over-estimating relationship depth.\n */\nfunction inferMaximumStatus(milestones: Array<{ type: string }>): RelationshipStatus | null {\n\tconst milestoneTypes = new Set(milestones.map(m => m.type));\n\n\t// Check for any romantic gate milestone\n\tconst hasRomanticMilestone = [...ROMANTIC_GATE_MILESTONES].some(m => milestoneTypes.has(m));\n\n\t// If no romantic milestones at all, cap at \"close\" (deep friendship, not romantic)\n\tif (!hasRomanticMilestone) {\n\t\treturn 'close';\n\t}\n\n\treturn null; // No cap\n}\n\n/**\n * Get numeric rank for status to compare relative closeness.\n */\nfunction getStatusRank(status: RelationshipStatus): number {\n\tconst statusRank: Record<RelationshipStatus, number> = {\n\t\thostile: -2,\n\t\tstrained: -1,\n\t\tstrangers: 0,\n\t\tacquaintances: 1,\n\t\tfriendly: 2,\n\t\tclose: 3,\n\t\tintimate: 4,\n\t\tcomplicated: 0,\n\t};\n\treturn statusRank[status];\n}\n\n/**\n * Get status from rank.\n */\nfunction getStatusFromRank(rank: number): RelationshipStatus {\n\tconst rankToStatus: Record<number, RelationshipStatus> = {\n\t\t[-2]: 'hostile',\n\t\t[-1]: 'strained',\n\t\t0: 'strangers',\n\t\t1: 'acquaintances',\n\t\t2: 'friendly',\n\t\t3: 'close',\n\t\t4: 'intimate',\n\t};\n\treturn rankToStatus[rank] ?? 'acquaintances';\n}\n\nfunction buildRelationship(\n\tpair: [string, string],\n\tdata: unknown,\n\texisting?: Relationship,\n\tmessageId?: number,\n): Relationship | null {\n\tif (!isObject(data)) {\n\t\treturn null;\n\t}\n\n\tconst [charA, charB] = pair;\n\tlet aToB: RelationshipAttitude;\n\tlet bToA: RelationshipAttitude;\n\n\t// Try new attitudes format first\n\tif (isObject(data.attitudes)) {\n\t\tconst attitudes = data.attitudes as Record<string, unknown>;\n\t\tconst charAAttitude = findAttitudeByName(attitudes, charA);\n\t\tconst charBAttitude = findAttitudeByName(attitudes, charB);\n\n\t\taToB = validateAttitude(charAAttitude);\n\t\tbToA = validateAttitude(charBAttitude);\n\t} else {\n\t\t// Fall back to legacy aToB/bToA format\n\t\taToB = validateAttitude(data.aToB);\n\t\tbToA = validateAttitude(data.bToA);\n\t}\n\n\t// Validate status\n\tlet status = validateStatus(data.status);\n\n\t// Infer minimum status from feelings if status seems too low\n\tconst minFromA = inferMinimumStatus(aToB.feelings);\n\tconst minFromB = inferMinimumStatus(bToA.feelings);\n\n\tlet currentRank = getStatusRank(status);\n\tconst minRank = Math.max(\n\t\tminFromA ? getStatusRank(minFromA) : -999,\n\t\tminFromB ? getStatusRank(minFromB) : -999,\n\t);\n\n\t// Upgrade status if feelings suggest deeper connection\n\tif (minRank > currentRank && minRank !== -999) {\n\t\tcurrentRank = minRank;\n\t\tstatus = getStatusFromRank(currentRank);\n\t}\n\n\t// Apply maximum cap based on milestones (only for positive statuses)\n\t// We need the existing relationship's milestones to check this\n\tif (existing && currentRank > 0) {\n\t\tconst maxStatus = inferMaximumStatus(existing.milestones);\n\t\tif (maxStatus) {\n\t\t\tconst maxRank = getStatusRank(maxStatus);\n\t\t\tif (currentRank > maxRank) {\n\t\t\t\tstatus = maxStatus;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Determine if status changed\n\tconst statusChanged = !existing || existing.status !== status;\n\n\t// Start with existing or create new\n\tlet relationship: Relationship;\n\tif (existing) {\n\t\trelationship = {\n\t\t\t...existing,\n\t\t\tstatus,\n\t\t\taToB,\n\t\t\tbToA,\n\t\t};\n\t\t// Add a new version if status actually changed\n\t\tif (statusChanged && messageId !== undefined) {\n\t\t\taddRelationshipVersion(relationship, messageId);\n\t\t}\n\t} else {\n\t\trelationship = createRelationship(pair[0], pair[1], status, messageId);\n\t\trelationship.aToB = aToB;\n\t\trelationship.bToA = bToA;\n\t}\n\n\treturn relationship;\n}\n\nfunction validateStatus(value: unknown): RelationshipStatus {\n\tif (\n\t\ttypeof value === 'string' &&\n\t\tRELATIONSHIP_STATUSES.includes(value as RelationshipStatus)\n\t) {\n\t\treturn value as RelationshipStatus;\n\t}\n\treturn 'acquaintances';\n}\n\nfunction validateAttitude(value: unknown): RelationshipAttitude {\n\tif (!isObject(value)) {\n\t\treturn createEmptyAttitude();\n\t}\n\n\treturn {\n\t\tfeelings: asStringArray(value.feelings),\n\t\tsecrets: asStringArray(value.secrets),\n\t\twants: asStringArray(value.wants),\n\t};\n}\n","import { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asString, isObject } from '../utils/json';\nimport type { Scene, Character } from '../types/state';\nimport { calculateTensionDirection } from '../utils/tension';\n\n// ============================================\n// Types (re-export for convenience)\n// ============================================\n\nexport type TensionLevel =\n\t| 'relaxed'\n\t| 'aware'\n\t| 'guarded'\n\t| 'tense'\n\t| 'charged'\n\t| 'volatile'\n\t| 'explosive';\nexport type TensionDirection = 'escalating' | 'stable' | 'decreasing';\nexport type TensionType =\n\t| 'confrontation'\n\t| 'intimate'\n\t| 'vulnerable'\n\t| 'celebratory'\n\t| 'negotiation'\n\t| 'suspense'\n\t| 'conversation';\n\n// ============================================\n// Schema & Example\n// ============================================\n\nexport const SCENE_SCHEMA = {\n\ttype: 'object',\n\tdescription: 'Summary of the current scene state',\n\tadditionalProperties: false,\n\tproperties: {\n\t\ttopic: {\n\t\t\ttype: 'string',\n\t\t\tdescription:\n\t\t\t\t'3-5 words describing the main topic(s) of the current interaction',\n\t\t},\n\t\ttone: {\n\t\t\ttype: 'string',\n\t\t\tdescription: 'Dominant emotional tone of the scene (2-3 words)',\n\t\t},\n\t\ttension: {\n\t\t\ttype: 'object',\n\t\t\tdescription: 'Current tension level in the scene',\n\t\t\tadditionalProperties: false,\n\t\t\tproperties: {\n\t\t\t\tlevel: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: [\n\t\t\t\t\t\t'relaxed',\n\t\t\t\t\t\t'aware',\n\t\t\t\t\t\t'guarded',\n\t\t\t\t\t\t'tense',\n\t\t\t\t\t\t'charged',\n\t\t\t\t\t\t'volatile',\n\t\t\t\t\t\t'explosive',\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\tdirection: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: ['escalating', 'stable', 'decreasing'],\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t'Set based on comparison with previous level - will be recalculated',\n\t\t\t\t},\n\t\t\t\ttype: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: [\n\t\t\t\t\t\t'confrontation',\n\t\t\t\t\t\t'intimate',\n\t\t\t\t\t\t'vulnerable',\n\t\t\t\t\t\t'celebratory',\n\t\t\t\t\t\t'negotiation',\n\t\t\t\t\t\t'suspense',\n\t\t\t\t\t\t'conversation',\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t},\n\t\t\trequired: ['level', 'direction', 'type'],\n\t\t},\n\t\t// Note: recentEvents removed in v1.0.0, replaced by event extraction\n\t},\n\trequired: ['topic', 'tone', 'tension'],\n};\n\nconst SCENE_EXAMPLE = JSON.stringify(\n\t{\n\t\ttopic: \"Discussing Marcus's heist plans\",\n\t\ttone: 'Hushed, conspiratorial',\n\t\ttension: {\n\t\t\tlevel: 'tense',\n\t\t\tdirection: 'escalating',\n\t\t\ttype: 'negotiation',\n\t\t},\n\t},\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT = 'You are a scene analysis agent for roleplay. Return only valid JSON.';\n\nconst VALID_TENSION_LEVELS: readonly TensionLevel[] = [\n\t'relaxed',\n\t'aware',\n\t'guarded',\n\t'tense',\n\t'charged',\n\t'volatile',\n\t'explosive',\n];\nconst VALID_TENSION_DIRECTIONS: readonly TensionDirection[] = [\n\t'escalating',\n\t'stable',\n\t'decreasing',\n];\nconst VALID_TENSION_TYPES: readonly TensionType[] = [\n\t'confrontation',\n\t'intimate',\n\t'vulnerable',\n\t'celebratory',\n\t'negotiation',\n\t'suspense',\n\t'conversation',\n];\n\n// ============================================\n// Public API\n// ============================================\n\nexport async function extractScene(\n\tisInitial: boolean,\n\tmessages: string,\n\tcharacters: Character[],\n\tuserInfo: string,\n\tcharacterInfo: string,\n\tpreviousScene: Scene | null,\n\tabortSignal?: AbortSignal,\n): Promise<Scene> {\n\tconst settings = getSettings();\n\n\t// Create a brief summary of characters for context\n\tconst charactersSummary = characters\n\t\t.map(c => `${c.name}: ${c.mood.join(', ')} - ${c.activity || c.position}`)\n\t\t.join('\\n');\n\n\tconst schemaStr = JSON.stringify(SCENE_SCHEMA, null, 2);\n\n\tconst prompt = isInitial\n\t\t? getPrompt('scene_initial')\n\t\t\t\t.replace('{{userInfo}}', userInfo)\n\t\t\t\t.replace('{{characterInfo}}', characterInfo)\n\t\t\t\t.replace('{{charactersSummary}}', charactersSummary)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', SCENE_EXAMPLE)\n\t\t: getPrompt('scene_update')\n\t\t\t\t.replace('{{charactersSummary}}', charactersSummary)\n\t\t\t\t.replace(\n\t\t\t\t\t'{{previousState}}',\n\t\t\t\t\tJSON.stringify(previousScene, null, 2),\n\t\t\t\t)\n\t\t\t\t.replace('{{messages}}', messages)\n\t\t\t\t.replace('{{schema}}', schemaStr)\n\t\t\t\t.replace('{{schemaExample}}', SCENE_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId: settings.profileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature(isInitial ? 'scene_initial' : 'scene_update'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'object',\n\t\tmoduleName: 'BlazeTracker/Scene',\n\t});\n\n\tconst scene = validateScene(parsed);\n\n\t// Recalculate tension direction based on previous state\n\tscene.tension.direction = calculateTensionDirection(\n\t\tscene.tension.level,\n\t\tpreviousScene?.tension?.level,\n\t);\n\n\treturn scene;\n}\n\n/**\n * Determine if scene extraction should run for this message.\n * Returns true if this is an assistant message (every 2nd message).\n */\nexport function shouldExtractScene(_messageId: number, isAssistantMessage: boolean): boolean {\n\t// Only extract scene after assistant responses\n\treturn isAssistantMessage;\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateScene(data: unknown): Scene {\n\tif (!isObject(data)) {\n\t\tthrow new Error('Invalid scene: expected object');\n\t}\n\n\tif (!data.topic || typeof data.topic !== 'string') {\n\t\tthrow new Error('Invalid scene: missing topic');\n\t}\n\n\t// Validate tension\n\tconst tensionData = isObject(data.tension) ? data.tension : {};\n\tconst level = VALID_TENSION_LEVELS.includes(tensionData.level as TensionLevel)\n\t\t? (tensionData.level as TensionLevel)\n\t\t: 'relaxed';\n\tconst direction = VALID_TENSION_DIRECTIONS.includes(\n\t\ttensionData.direction as TensionDirection,\n\t)\n\t\t? (tensionData.direction as TensionDirection)\n\t\t: 'stable';\n\tconst type = VALID_TENSION_TYPES.includes(tensionData.type as TensionType)\n\t\t? (tensionData.type as TensionType)\n\t\t: 'conversation';\n\n\t// Note: recentEvents removed in v1.0.0, replaced by currentEvents on TrackedState\n\n\treturn {\n\t\ttopic: data.topic,\n\t\ttone: asString(data.tone, 'neutral'),\n\t\ttension: { level, direction, type },\n\t};\n}\n","import type { STContext } from '../types/st';\nimport type {\n\tTrackedState,\n\tNarrativeDateTime,\n\tScene,\n\tCharacter,\n\tTimestampedEvent,\n\tClimate,\n\tProceduralClimate,\n\tRelationship,\n} from '../types/state';\nimport { getSettings } from '../settings';\nimport { getMessageState, setMessageState } from '../utils/messageState';\n\n// Import extractors\nimport { extractTime, setTimeTrackerState } from './extractTime';\nimport { extractLocation, type LocationState } from './extractLocation';\nimport { extractClimateWithContext } from './extractClimate';\nimport { extractCharacters } from './extractCharacters';\nimport { extractScene, shouldExtractScene } from './extractScene';\nimport { extractEvent } from './extractEvent';\nimport { extractChapterBoundary } from './extractChapter';\nimport {\n\textractInitialRelationship,\n\tupdateRelationshipFromSignal,\n\trefreshRelationship,\n} from './extractRelationships';\nimport { propAlreadyExists } from '../utils/clothingMatch';\nimport { setExtractionStep, setEnabledSteps } from './extractionProgress';\nimport {\n\tgetOrInitializeNarrativeState,\n\tsaveNarrativeState,\n\taddChapter,\n\tupdateRelationship,\n\tgetRelationship,\n} from '../state/narrativeState';\nimport { checkChapterBoundary } from '../state/chapters';\nimport {\n\tfindUnestablishedPairs,\n\tpopVersionForMessage,\n\tgetLatestVersionMessageId,\n} from '../state/relationships';\n\n// ============================================\n// Module State\n// ============================================\n\nlet currentAbortController: AbortController | null = null;\nlet extractionCount = 0;\nlet generationWasStopped = false;\nlet batchExtractionInProgress = false;\n\n/**\n * Check if a batch extraction is currently in progress.\n */\nexport function isBatchExtractionInProgress(): boolean {\n\treturn batchExtractionInProgress;\n}\n\n/**\n * Set the batch extraction flag. Used by bt-extract-all to prevent\n * GENERATION_ENDED handler from interfering.\n */\nexport function setBatchExtractionInProgress(value: boolean): void {\n\tbatchExtractionInProgress = value;\n}\n\n// ============================================\n// Types\n// ============================================\n\nexport interface ExtractionResult {\n\tstate: TrackedState;\n\traw: Record<string, string>;\n\t/** Weather transition text to inject into prompt (if procedural weather enabled) */\n\tweatherTransition?: string;\n}\n\nexport interface ExtractionOptions {\n\tforceSceneExtraction?: boolean;\n}\n\n// ============================================\n// Send Button State Management\n// ============================================\n\nfunction setSendButtonState(isGenerating: boolean): void {\n\tconst context = SillyTavern.getContext();\n\tif (isGenerating) {\n\t\tcontext.deactivateSendButtons();\n\t} else {\n\t\tcontext.activateSendButtons();\n\t}\n}\n\n// ============================================\n// Abort Handling\n// ============================================\n\nexport function setupExtractionAbortHandler(): void {\n\tconst context = SillyTavern.getContext();\n\n\tcontext.eventSource.on(context.event_types.GENERATION_STOPPED, (() => {\n\t\tgenerationWasStopped = true;\n\t\tif (currentAbortController) {\n\t\t\tconsole.warn('[BlazeTracker] Generation stopped, aborting extraction');\n\t\t\tcurrentAbortController.abort();\n\t\t\tcurrentAbortController = null;\n\t\t}\n\t}) as (...args: unknown[]) => void);\n}\n\n/**\n * Check if the last generation was stopped/aborted by the user.\n * Returns the flag value and resets it to false.\n */\nexport function wasGenerationAborted(): boolean {\n\tconst wasStopped = generationWasStopped;\n\tgenerationWasStopped = false;\n\treturn wasStopped;\n}\n\nexport function abortCurrentExtraction(): void {\n\tif (currentAbortController) {\n\t\tcurrentAbortController.abort();\n\t\tcurrentAbortController = null;\n\t}\n}\n\n// ============================================\n// Default Values (for when extraction is disabled)\n// ============================================\n\nfunction getDefaultTime(): NarrativeDateTime {\n\treturn {\n\t\tyear: new Date().getFullYear(),\n\t\tmonth: 6,\n\t\tday: 15,\n\t\thour: 12,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t\tdayOfWeek: 'Monday',\n\t};\n}\n\nfunction getDefaultLocation(): LocationState {\n\treturn {\n\t\tarea: 'Unknown Area',\n\t\tplace: 'Unknown Place',\n\t\tposition: 'Main area',\n\t\tprops: [],\n\t};\n}\n\nfunction _getDefaultClimate() {\n\treturn {\n\t\tweather: 'sunny' as const,\n\t\ttemperature: 70,\n\t};\n}\n\nfunction _getDefaultCharacters(): Character[] {\n\treturn [];\n}\n\nfunction getDefaultScene(): Scene {\n\treturn {\n\t\ttopic: 'Scene in progress',\n\t\ttone: 'neutral',\n\t\ttension: {\n\t\t\tlevel: 'relaxed',\n\t\t\tdirection: 'stable',\n\t\t\ttype: 'conversation',\n\t\t},\n\t};\n}\n\n// ============================================\n// Main Extraction Orchestrator\n// ============================================\n\nexport async function extractState(\n\tcontext: STContext,\n\tmessageId: number,\n\tpreviousState: TrackedState | null,\n\tabortSignal?: AbortSignal,\n\toptions: ExtractionOptions = {},\n): Promise<ExtractionResult> {\n\tconst settings = getSettings();\n\n\tif (!settings.profileId) {\n\t\tthrow new Error(\n\t\t\t'No connection profile selected. Please configure BlazeTracker in extension settings.',\n\t\t);\n\t}\n\n\t// Create and register abort controller\n\tconst abortController = new AbortController();\n\tcurrentAbortController = abortController;\n\n\t// Link external abort signal if provided\n\tif (abortSignal) {\n\t\tabortSignal.addEventListener('abort', () => abortController.abort());\n\t}\n\n\t// Track active extractions for button state\n\textractionCount++;\n\tif (extractionCount === 1) {\n\t\tsetSendButtonState(true);\n\t}\n\n\tconst rawResponses: Record<string, string> = {};\n\n\ttry {\n\t\tconst { lastXMessages } = settings;\n\t\tconst isInitial = previousState === null;\n\n\t\t// Determine if this is an assistant message (for scene extraction)\n\t\tconst currentMessage = context.chat[messageId];\n\t\tconst isAssistantMessage = currentMessage?.is_user === false;\n\t\tconst shouldRunScene =\n\t\t\tsettings.trackScene !== false &&\n\t\t\t(options.forceSceneExtraction ||\n\t\t\t\tshouldExtractScene(messageId, isAssistantMessage));\n\n\t\t// Determine if event extraction should run\n\t\tconst shouldRunEvent = settings.trackEvents !== false && isAssistantMessage;\n\n\t\t// Configure enabled steps for progress display\n\t\tsetEnabledSteps({\n\t\t\ttime: settings.trackTime !== false,\n\t\t\tlocation: settings.trackLocation !== false,\n\t\t\tclimate: settings.trackClimate !== false,\n\t\t\tcharacters: settings.trackCharacters !== false,\n\t\t\tscene: shouldRunScene,\n\t\t\tevent: shouldRunEvent,\n\t\t});\n\n\t\t// ========================================\n\t\t// STEP 0: Initialize time tracker from previous state\n\t\t// ========================================\n\t\tif (previousState?.time) {\n\t\t\tsetTimeTrackerState(previousState.time);\n\t\t}\n\n\t\t// ========================================\n\t\t// Get narrative state (needed for climate cache and relationships)\n\t\t// ========================================\n\t\tconst narrativeState = getOrInitializeNarrativeState();\n\n\t\t// ========================================\n\t\t// Get message window for extraction\n\t\t// ========================================\n\t\tconst { formattedMessages, characterInfo, userInfo } = prepareExtractionContext(\n\t\t\tcontext,\n\t\t\tmessageId,\n\t\t\tlastXMessages,\n\t\t\tpreviousState,\n\t\t);\n\n\t\t// ========================================\n\t\t// STEP 1: Extract Time (if enabled)\n\t\t// ========================================\n\t\tlet narrativeTime: NarrativeDateTime | undefined;\n\n\t\tif (settings.trackTime !== false) {\n\t\t\tsetExtractionStep('time');\n\n\t\t\tnarrativeTime = await extractTime(\n\t\t\t\t!isInitial,\n\t\t\t\tformattedMessages,\n\t\t\t\tabortController.signal,\n\t\t\t);\n\t\t} else {\n\t\t\t// Use previous or default (undefined means not tracked)\n\t\t\tnarrativeTime = previousState?.time;\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 2: Extract Location (if enabled)\n\t\t// ========================================\n\t\tlet location: LocationState | undefined;\n\n\t\tif (settings.trackLocation !== false) {\n\t\t\tsetExtractionStep('location');\n\n\t\t\tlocation = await extractLocation(\n\t\t\t\tisInitial,\n\t\t\t\tformattedMessages,\n\t\t\t\tisInitial ? characterInfo : '',\n\t\t\t\tpreviousState?.location ?? null,\n\t\t\t\tabortController.signal,\n\t\t\t);\n\t\t} else {\n\t\t\t// Use previous or undefined\n\t\t\tlocation = previousState?.location;\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 3: Extract Climate (if enabled)\n\t\t// ========================================\n\t\tlet climate: Climate | ProceduralClimate | undefined;\n\t\tlet weatherTransition: string | null = null;\n\n\t\tif (settings.trackClimate !== false) {\n\t\t\tsetExtractionStep('climate');\n\n\t\t\t// Climate extraction needs time and location - use defaults if not available\n\t\t\tconst timeForClimate = narrativeTime ?? getDefaultTime();\n\t\t\tconst locationForClimate = location ?? getDefaultLocation();\n\n\t\t\tconst climateResult = await extractClimateWithContext({\n\t\t\t\tisInitial,\n\t\t\t\tmessages: formattedMessages,\n\t\t\t\tnarrativeTime: timeForClimate,\n\t\t\t\tlocation: locationForClimate,\n\t\t\t\tcharacterInfo: isInitial ? characterInfo : '',\n\t\t\t\tpreviousClimate: previousState?.climate ?? null,\n\t\t\t\tforecastCache: narrativeState.forecastCache,\n\t\t\t\tlocationMappings: narrativeState.locationMappings,\n\t\t\t\tabortSignal: abortController.signal,\n\t\t\t});\n\n\t\t\tclimate = climateResult.climate;\n\t\t\tweatherTransition = climateResult.transition;\n\n\t\t\t// Update narrative state caches if they changed\n\t\t\tif (climateResult.forecastCache) {\n\t\t\t\tnarrativeState.forecastCache = climateResult.forecastCache;\n\t\t\t}\n\t\t\tif (climateResult.locationMappings) {\n\t\t\t\tnarrativeState.locationMappings = climateResult.locationMappings;\n\t\t\t}\n\t\t} else {\n\t\t\t// Use previous or undefined\n\t\t\tclimate = previousState?.climate;\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 4: Extract Characters (if enabled)\n\t\t// ========================================\n\t\tlet characters: Character[] | undefined;\n\n\t\tif (settings.trackCharacters !== false) {\n\t\t\tsetExtractionStep('characters');\n\n\t\t\t// Characters extraction uses location - use default if not available\n\t\t\tconst locationForCharacters = location ?? getDefaultLocation();\n\n\t\t\tcharacters = await extractCharacters(\n\t\t\t\tisInitial,\n\t\t\t\tformattedMessages,\n\t\t\t\tlocationForCharacters,\n\t\t\t\tisInitial ? userInfo : '',\n\t\t\t\tisInitial ? characterInfo : '',\n\t\t\t\tpreviousState?.characters ?? null,\n\t\t\t\tabortController.signal,\n\t\t\t);\n\n\t\t\t// ========================================\n\t\t\t// STEP 4.5: Post-process outfits (only if we have location)\n\t\t\t// ========================================\n\t\t\tif (location) {\n\t\t\t\tconst cleanup = cleanupOutfitsAndMoveProps(characters, location);\n\t\t\t\tcharacters = cleanup.characters;\n\t\t\t\tlocation = cleanup.location;\n\t\t\t}\n\t\t} else {\n\t\t\t// Use previous or undefined\n\t\t\tcharacters = previousState?.characters;\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 5: Extract Scene (conditional)\n\t\t// ========================================\n\t\tlet scene: Scene | undefined;\n\n\t\tif (shouldRunScene) {\n\t\t\tsetExtractionStep('scene');\n\n\t\t\t// Scene needs at least 2 messages for tension analysis\n\t\t\tconst sceneMessages = formatMessagesForScene(\n\t\t\t\tcontext,\n\t\t\t\tmessageId,\n\t\t\t\tlastXMessages,\n\t\t\t\tpreviousState,\n\t\t\t);\n\n\t\t\tconst isInitialScene = !previousState?.scene;\n\n\t\t\t// Use characters for context if available, otherwise empty\n\t\t\tconst charactersForScene = characters ?? [];\n\n\t\t\tscene = await extractScene(\n\t\t\t\tisInitialScene,\n\t\t\t\tsceneMessages,\n\t\t\t\tcharactersForScene,\n\t\t\t\tisInitialScene ? userInfo : '',\n\t\t\t\tisInitialScene ? characterInfo : '',\n\t\t\t\tpreviousState?.scene ?? null,\n\t\t\t\tabortController.signal,\n\t\t\t);\n\t\t} else if (settings.trackScene !== false) {\n\t\t\t// Carry forward previous scene\n\t\t\tscene = previousState?.scene;\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 6: Extract Event (conditional)\n\t\t// ========================================\n\t\t// Filter out any events from this messageId (handles re-extraction)\n\t\tlet currentEvents: TimestampedEvent[] = (previousState?.currentEvents ?? []).filter(\n\t\t\te => e.messageId !== messageId,\n\t\t);\n\n\t\tif (shouldRunEvent) {\n\t\t\tsetExtractionStep('event');\n\n\t\t\t// Use effective values for event extraction\n\t\t\tconst timeForEvent = narrativeTime ?? getDefaultTime();\n\t\t\tconst locationForEvent = location ?? getDefaultLocation();\n\t\t\tconst sceneForEvent = scene ?? getDefaultScene();\n\n\t\t\tconst extractedEvent = await extractEvent({\n\t\t\t\tmessages: formattedMessages,\n\t\t\t\tmessageId,\n\t\t\t\tcurrentTime: timeForEvent,\n\t\t\t\tcurrentLocation: locationForEvent,\n\t\t\t\tcurrentTensionType: sceneForEvent.tension.type,\n\t\t\t\tcurrentTensionLevel: sceneForEvent.tension.level,\n\t\t\t\trelationships: narrativeState.relationships,\n\t\t\t\tcharacters: characters ?? [],\n\t\t\t\tabortSignal: abortController.signal,\n\t\t\t});\n\n\t\t\tif (extractedEvent) {\n\t\t\t\t// Append the new event with messageId for re-extraction tracking\n\t\t\t\tconst eventWithId: TimestampedEvent = {\n\t\t\t\t\t...extractedEvent,\n\t\t\t\t\tmessageId,\n\t\t\t\t};\n\t\t\t\tcurrentEvents = [...currentEvents, eventWithId];\n\n\t\t\t\t// Apply relationship signal if present\n\t\t\t\tif (\n\t\t\t\t\textractedEvent.relationshipSignal &&\n\t\t\t\t\tsettings.trackRelationships !== false\n\t\t\t\t) {\n\t\t\t\t\tconst signal = extractedEvent.relationshipSignal;\n\t\t\t\t\tconst [char1, char2] = signal.pair;\n\n\t\t\t\t\tlet relationship = getRelationship(\n\t\t\t\t\t\tnarrativeState,\n\t\t\t\t\t\tchar1,\n\t\t\t\t\t\tchar2,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (relationship) {\n\t\t\t\t\t\t// Pop version if re-extracting this message (swipe/re-extract)\n\t\t\t\t\t\tpopVersionForMessage(\n\t\t\t\t\t\t\trelationship,\n\t\t\t\t\t\t\tmessageId,\n\t\t\t\t\t\t);\n\t\t\t\t\t\t// Check if signal has milestones - if so, do a full LLM refresh\n\t\t\t\t\t\tconst hasMilestones =\n\t\t\t\t\t\t\tsignal.milestones &&\n\t\t\t\t\t\t\tsignal.milestones.length > 0;\n\n\t\t\t\t\t\tif (hasMilestones) {\n\n\t\t\t\t\t\t\tconst relationshipMessages =\n\t\t\t\t\t\t\t\tformatMessagesForRelationship(\n\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\tmessageId,\n\t\t\t\t\t\t\t\t\tlastXMessages,\n\t\t\t\t\t\t\t\t\trelationship,\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tconst refreshed = await refreshRelationship(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trelationship,\n\t\t\t\t\t\t\t\t\tevents: currentEvents,\n\t\t\t\t\t\t\t\t\tmessages: relationshipMessages,\n\t\t\t\t\t\t\t\t\tmessageId,\n\t\t\t\t\t\t\t\t\tabortSignal:\n\t\t\t\t\t\t\t\t\t\tabortController.signal,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (refreshed) {\n\t\t\t\t\t\t\t\t// Apply milestones from signal (LLM might not include them)\n\t\t\t\t\t\t\t\trelationship =\n\t\t\t\t\t\t\t\t\tupdateRelationshipFromSignal(\n\t\t\t\t\t\t\t\t\t\trefreshed,\n\t\t\t\t\t\t\t\t\t\tsignal,\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Fallback to simple update if refresh fails\n\t\t\t\t\t\t\t\trelationship =\n\t\t\t\t\t\t\t\t\tupdateRelationshipFromSignal(\n\t\t\t\t\t\t\t\t\t\trelationship,\n\t\t\t\t\t\t\t\t\t\tsignal,\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Simple update for non-milestone signals\n\t\t\t\t\t\t\trelationship = updateRelationshipFromSignal(\n\t\t\t\t\t\t\t\trelationship,\n\t\t\t\t\t\t\t\tsignal,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tupdateRelationship(narrativeState, relationship);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Need to initialize this relationship first\n\t\t\t\t\t\tconst relationshipMessages =\n\t\t\t\t\t\t\tformatMessagesForRelationship(\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\tmessageId,\n\t\t\t\t\t\t\t\tlastXMessages,\n\t\t\t\t\t\t\t\tundefined, // No existing relationship\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst newRelationship =\n\t\t\t\t\t\t\tawait extractInitialRelationship({\n\t\t\t\t\t\t\t\tchar1,\n\t\t\t\t\t\t\t\tchar2,\n\t\t\t\t\t\t\t\tmessages: relationshipMessages,\n\t\t\t\t\t\t\t\tcharacterInfo: isInitial\n\t\t\t\t\t\t\t\t\t? characterInfo\n\t\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\t\tmessageId,\n\t\t\t\t\t\t\t\tcurrentTime: narrativeTime,\n\t\t\t\t\t\t\t\tcurrentLocation: location,\n\t\t\t\t\t\t\t\tabortSignal: abortController.signal,\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (newRelationship) {\n\t\t\t\t\t\t\t// Apply the signal to the new relationship\n\t\t\t\t\t\t\tconst withSignal =\n\t\t\t\t\t\t\t\tupdateRelationshipFromSignal(\n\t\t\t\t\t\t\t\t\tnewRelationship,\n\t\t\t\t\t\t\t\t\tsignal,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tupdateRelationship(\n\t\t\t\t\t\t\t\tnarrativeState,\n\t\t\t\t\t\t\t\twithSignal,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 6.3: Initialize Missing Relationships\n\t\t// ========================================\n\t\t// Check if there are character pairs that don't have relationships yet\n\t\tif (settings.trackRelationships !== false && characters && characters.length >= 2) {\n\t\t\tconst characterNames = characters.map(c => c.name);\n\t\t\tconst unestablishedPairs = findUnestablishedPairs(\n\t\t\t\tcharacterNames,\n\t\t\t\tnarrativeState.relationships,\n\t\t\t);\n\n\t\t\t// Limit to initializing one relationship per extraction to avoid slowdown\n\t\t\tif (unestablishedPairs.length > 0) {\n\t\t\t\tconst [char1, char2] = unestablishedPairs[0];\n\n\t\t\t\tconst relationshipMessages = formatMessagesForRelationship(\n\t\t\t\t\tcontext,\n\t\t\t\t\tmessageId,\n\t\t\t\t\tlastXMessages,\n\t\t\t\t\tundefined, // No existing relationship\n\t\t\t\t);\n\n\t\t\t\tconst newRelationship = await extractInitialRelationship({\n\t\t\t\t\tchar1,\n\t\t\t\t\tchar2,\n\t\t\t\t\tmessages: relationshipMessages,\n\t\t\t\t\tcharacterInfo: isInitial ? characterInfo : '',\n\t\t\t\t\tmessageId,\n\t\t\t\t\tcurrentTime: narrativeTime,\n\t\t\t\t\tcurrentLocation: location,\n\t\t\t\t\tabortSignal: abortController.signal,\n\t\t\t\t});\n\n\t\t\t\tif (newRelationship) {\n\t\t\t\t\tupdateRelationship(narrativeState, newRelationship);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 6.5: Check Chapter Boundary\n\t\t// ========================================\n\t\tlet currentChapter = previousState?.currentChapter ?? 0;\n\t\tlet chapterEnded: TrackedState['chapterEnded'] = undefined;\n\n\t\t// Only check for chapter boundary if we have a previous state (not initial extraction)\n\t\tif (previousState && currentEvents.length > 0) {\n\t\t\tconst boundaryCheck = checkChapterBoundary(\n\t\t\t\tpreviousState.location,\n\t\t\t\tlocation,\n\t\t\t\tpreviousState.time,\n\t\t\t\tnarrativeTime,\n\t\t\t);\n\n\t\t\tif (boundaryCheck.triggered) {\n\t\t\t\t// Get the time range from events\n\t\t\t\tconst startTime =\n\t\t\t\t\tcurrentEvents[0]?.timestamp ??\n\t\t\t\t\tpreviousState.time ??\n\t\t\t\t\tgetDefaultTime();\n\t\t\t\tconst endTime = narrativeTime ?? getDefaultTime();\n\t\t\t\tconst primaryLocation = previousState.location\n\t\t\t\t\t? `${previousState.location.area} - ${previousState.location.place}`\n\t\t\t\t\t: 'Unknown';\n\n\t\t\t\t// Extract chapter summary via LLM\n\t\t\t\tconst chapterResult = await extractChapterBoundary({\n\t\t\t\t\tevents: currentEvents,\n\t\t\t\t\tnarrativeState,\n\t\t\t\t\tchapterIndex: currentChapter,\n\t\t\t\t\tstartTime,\n\t\t\t\t\tendTime,\n\t\t\t\t\tprimaryLocation,\n\t\t\t\t\tabortSignal: abortController.signal,\n\t\t\t\t});\n\n\t\t\t\tif (chapterResult.isChapterBoundary && chapterResult.chapter) {\n\t\t\t\t\t// Store chapter ended summary for display\n\t\t\t\t\tchapterEnded = {\n\t\t\t\t\t\tindex: currentChapter,\n\t\t\t\t\t\ttitle: chapterResult.chapter.title,\n\t\t\t\t\t\tsummary: chapterResult.chapter.summary,\n\t\t\t\t\t\teventCount: currentEvents.length,\n\t\t\t\t\t\treason: boundaryCheck.reason!,\n\t\t\t\t\t};\n\n\t\t\t\t\t// Add chapter to narrative state\n\t\t\t\t\taddChapter(narrativeState, chapterResult.chapter);\n\t\t\t\t\tawait saveNarrativeState(narrativeState);\n\n\t\t\t\t\t// Increment chapter counter and clear current events\n\t\t\t\t\tcurrentChapter++;\n\t\t\t\t\tcurrentEvents = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ========================================\n\t\t// STEP 7: Assemble Final State\n\t\t// ========================================\n\t\tsetExtractionStep('complete');\n\n\t\tconst state: TrackedState = {\n\t\t\ttime: narrativeTime,\n\t\t\tlocation,\n\t\t\tclimate,\n\t\t\tscene,\n\t\t\tcharacters,\n\t\t\tcurrentChapter,\n\t\t\tcurrentEvents: currentEvents.length > 0 ? currentEvents : undefined,\n\t\t\tchapterEnded,\n\t\t};\n\n\t\treturn {\n\t\t\tstate,\n\t\t\traw: rawResponses,\n\t\t\tweatherTransition: weatherTransition ?? undefined,\n\t\t};\n\t} finally {\n\t\textractionCount--;\n\t\tif (extractionCount === 0) {\n\t\t\tsetSendButtonState(false);\n\t\t\tsetExtractionStep('idle');\n\t\t}\n\t\tif (currentAbortController === abortController) {\n\t\t\tcurrentAbortController = null;\n\t\t}\n\t}\n}\n\n// ============================================\n// Re-extraction Event Cleanup\n// ============================================\n\n/**\n * Update subsequent messages after re-extracting a message.\n * Removes old events from the re-extracted messageId and optionally adds the new event.\n */\nexport function updateSubsequentMessagesEvents(\n\tcontext: STContext,\n\treExtractedMessageId: number,\n\tnewEvent: TimestampedEvent | undefined,\n): void {\n\t// Iterate through all messages after the re-extracted one\n\tfor (let i = reExtractedMessageId + 1; i < context.chat.length; i++) {\n\t\tconst message = context.chat[i];\n\t\tconst stateData = getMessageState(message);\n\n\t\tif (!stateData?.state?.currentEvents) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Filter out events from the re-extracted messageId\n\t\tconst filteredEvents = stateData.state.currentEvents.filter(\n\t\t\t(e: TimestampedEvent) => e.messageId !== reExtractedMessageId,\n\t\t);\n\n\t\t// If we have a new event and it should be included (before any chapter boundary that cleared events)\n\t\t// Add it to the filtered list if this message's events include events after the new one\n\t\tlet updatedEvents = filteredEvents;\n\t\tif (newEvent) {\n\t\t\t// Insert the new event at the right position (by messageId order)\n\t\t\tconst insertIndex = filteredEvents.findIndex(\n\t\t\t\t(e: TimestampedEvent) => (e.messageId ?? 0) > reExtractedMessageId,\n\t\t\t);\n\t\t\tif (insertIndex === -1) {\n\t\t\t\t// No events after this one, append\n\t\t\t\tupdatedEvents = [...filteredEvents, newEvent];\n\t\t\t} else {\n\t\t\t\t// Insert before events from later messages\n\t\t\t\tupdatedEvents = [\n\t\t\t\t\t...filteredEvents.slice(0, insertIndex),\n\t\t\t\t\tnewEvent,\n\t\t\t\t\t...filteredEvents.slice(insertIndex),\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\t// Update the message state\n\t\tconst newStateData = {\n\t\t\t...stateData,\n\t\t\tstate: {\n\t\t\t\t...stateData.state,\n\t\t\t\tcurrentEvents: updatedEvents.length > 0 ? updatedEvents : undefined,\n\t\t\t},\n\t\t};\n\n\t\tsetMessageState(message, newStateData);\n\t}\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n\ninterface ExtractionContext {\n\tformattedMessages: string;\n\tcharacterInfo: string;\n\tuserInfo: string;\n}\n\n/**\n * Format messages for scene extraction with a minimum of 2 messages.\n * This ensures we have both sides of the conversation for tension analysis.\n */\nfunction formatMessagesForScene(\n\tcontext: STContext,\n\tmessageId: number,\n\tlastXMessages: number,\n\tpreviousState: TrackedState | null,\n): string {\n\tconst MIN_SCENE_MESSAGES = 2;\n\n\t// Find where previous state was stored\n\tlet stateIdx = -1;\n\tif (previousState) {\n\t\tfor (let i = messageId - 1; i >= 0; i--) {\n\t\t\tconst msg = context.chat[i];\n\t\t\tconst stored = getMessageState(msg);\n\t\t\tif (stored?.state) {\n\t\t\t\tstateIdx = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Calculate start: we want at least MIN_SCENE_MESSAGES, but also respect lastXMessages\n\t// and include all messages since last state\n\tconst minStart = Math.max(0, messageId - MIN_SCENE_MESSAGES + 1);\n\tconst stateStart = stateIdx >= 0 ? stateIdx + 1 : 0;\n\tconst limitStart = messageId - lastXMessages;\n\n\t// Take the earliest of: minimum messages needed, or messages since state\n\t// But don't go earlier than lastXMessages limit\n\tconst effectiveStart = Math.max(limitStart, Math.min(minStart, stateStart));\n\n\tconst chatMessages = context.chat.slice(effectiveStart, messageId + 1);\n\n\treturn chatMessages.map(msg => `${msg.name}: ${msg.mes}`).join('\\n\\n');\n}\n\nfunction prepareExtractionContext(\n\tcontext: STContext,\n\tmessageId: number,\n\tlastXMessages: number,\n\tpreviousState: TrackedState | null,\n): ExtractionContext {\n\t// Find where to start reading messages\n\tlet startIdx = 0;\n\tif (previousState) {\n\t\tfor (let i = messageId - 1; i >= 0; i--) {\n\t\t\tconst msg = context.chat[i];\n\t\t\tconst stored = getMessageState(msg);\n\t\t\tif (stored?.state) {\n\t\t\t\tstartIdx = i + 1; // Start from message AFTER the one with state\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Get only new messages (but respect lastXMessages limit)\n\tconst effectiveStart = Math.max(startIdx, messageId - lastXMessages);\n\tconst chatMessages = context.chat.slice(effectiveStart, messageId + 1);\n\n\t// Format messages for prompts\n\tconst formattedMessages = chatMessages.map(msg => `${msg.name}: ${msg.mes}`).join('\\n\\n');\n\n\t// Get user persona info\n\tconst userPersona = context.powerUserSettings?.persona_description || '';\n\tconst userInfo = userPersona\n\t\t? `Name: ${context.name1}\\nDescription: ${userPersona\n\t\t\t\t.replace(/\\{\\{user\\}\\}/gi, context.name1)\n\t\t\t\t.replace(/\\{\\{char\\}\\}/gi, context.name2)}`\n\t\t: `Name: ${context.name1}`;\n\n\t// Get character info\n\tconst character = context.characters?.[context.characterId];\n\tconst charDescription = (character?.description || 'No description')\n\t\t.replace(/\\{\\{char\\}\\}/gi, context.name2)\n\t\t.replace(/\\{\\{user\\}\\}/gi, context.name1);\n\tconst characterInfo = `Name: ${context.name2}\\nDescription: ${charDescription}`;\n\n\treturn { formattedMessages, characterInfo, userInfo };\n}\n\n/**\n * Format messages for relationship extraction.\n * Uses messages since the last status change (or lastXMessages, whichever is smaller).\n * Ensures a minimum of MIN_RELATIONSHIP_MESSAGES for context.\n */\nfunction formatMessagesForRelationship(\n\tcontext: STContext,\n\tmessageId: number,\n\tlastXMessages: number,\n\trelationship?: Relationship,\n): string {\n\tconst MIN_RELATIONSHIP_MESSAGES = 3;\n\n\t// Calculate the start based on last version's messageId\n\tlet statusChangeStart = 0;\n\tconst lastVersionMessageId = relationship\n\t\t? getLatestVersionMessageId(relationship)\n\t\t: undefined;\n\tif (lastVersionMessageId !== undefined) {\n\t\t// Start from the message after the last status change\n\t\tstatusChangeStart = lastVersionMessageId + 1;\n\t}\n\n\t// Calculate start: take minimum of (messages since status change, lastXMessages)\n\t// But ensure we have at least MIN_RELATIONSHIP_MESSAGES\n\tconst minStart = Math.max(0, messageId - MIN_RELATIONSHIP_MESSAGES + 1);\n\tconst limitStart = Math.max(0, messageId - lastXMessages);\n\n\t// Take the later of: limit start or status change start\n\t// This ensures we don't exceed lastXMessages\n\tconst constrainedStart = Math.max(limitStart, statusChangeStart);\n\n\t// But ensure we have at least MIN_RELATIONSHIP_MESSAGES\n\tconst effectiveStart = Math.min(constrainedStart, minStart);\n\n\tconst chatMessages = context.chat.slice(effectiveStart, messageId + 1);\n\treturn chatMessages.map(msg => `${msg.name}: ${msg.mes}`).join('\\n\\n');\n}\n\n// ============================================\n// Outfit Cleanup Post-Processing\n// ============================================\n\n/**\n * Regex patterns that indicate an item has been removed.\n * Captures the item name in group 1.\n */\nconst REMOVED_PATTERNS = [\n\t/^(.+?)\\s*\\((?:removed|off|taken off|discarded|dropped|on (?:the )?floor|on (?:the )?ground|cast aside|tossed aside)\\)$/i,\n\t/^(.+?)\\s*-\\s*(?:removed|off|taken off)$/i,\n\t/^(?:removed|off|none|nothing|bare|naked)$/i,\n];\n\n/**\n * Values that should be treated as null (no item).\n */\nconst NULL_VALUES = new Set(['none', 'nothing', 'bare', 'naked', 'n/a', 'na', '-', '']);\n\ninterface OutfitCleanupResult {\n\tcharacters: Character[];\n\tlocation: LocationState;\n\tmovedItems: string[];\n}\n\n/**\n * Post-process characters to fix outfit items that the LLM marked as removed\n * but didn't set to null. Moves removed items to location props if not already there.\n */\nfunction cleanupOutfitsAndMoveProps(\n\tcharacters: Character[],\n\tlocation: LocationState,\n): OutfitCleanupResult {\n\tconst movedItems: string[] = [];\n\tconst existingProps = new Set((location.props || []).map(p => p.toLowerCase()));\n\n\tconst processedCharacters = characters.map(char => {\n\t\tif (!char.outfit) return char;\n\n\t\tconst newOutfit = { ...char.outfit };\n\t\tconst outfitSlots = [\n\t\t\t'head',\n\t\t\t'neck',\n\t\t\t'jacket',\n\t\t\t'back',\n\t\t\t'torso',\n\t\t\t'legs',\n\t\t\t'underwear',\n\t\t\t'socks',\n\t\t\t'footwear',\n\t\t] as const;\n\n\t\tfor (const slot of outfitSlots) {\n\t\t\tconst value = newOutfit[slot];\n\t\t\tif (value === null || value === undefined) continue;\n\n\t\t\tconst trimmed = value.trim();\n\n\t\t\t// Check for explicit null values\n\t\t\tif (NULL_VALUES.has(trimmed.toLowerCase())) {\n\t\t\t\tnewOutfit[slot] = null;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check for removal patterns\n\t\t\tfor (const pattern of REMOVED_PATTERNS) {\n\t\t\t\tconst match = trimmed.match(pattern);\n\t\t\t\tif (match) {\n\t\t\t\t\t// Extract the item name (group 1, or the whole thing if no group)\n\t\t\t\t\tconst itemName = match[1]?.trim() || trimmed;\n\n\t\t\t\t\t// Set to null\n\t\t\t\t\tnewOutfit[slot] = null;\n\n\t\t\t\t\t// Add to props if we have a real item name and it's not already there\n\t\t\t\t\tif (itemName && !NULL_VALUES.has(itemName.toLowerCase())) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!propAlreadyExists(\n\t\t\t\t\t\t\t\titemName,\n\t\t\t\t\t\t\t\tchar.name,\n\t\t\t\t\t\t\t\texistingProps,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst propEntry = `${char.name}'s ${itemName}`;\n\t\t\t\t\t\t\tmovedItems.push(propEntry);\n\t\t\t\t\t\t\texistingProps.add(propEntry.toLowerCase());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { ...char, outfit: newOutfit };\n\t});\n\n\t// Build new props array if we added items\n\tconst newProps =\n\t\tmovedItems.length > 0 ? [...(location.props || []), ...movedItems] : location.props;\n\n\treturn {\n\t\tcharacters: processedCharacters,\n\t\tlocation: { ...location, props: newProps },\n\t\tmovedItems,\n\t};\n}\n","import { getSettings, getTemperature } from '../settings';\nimport { getPrompt } from './prompts';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse, asNumber } from '../utils/json';\nimport type { NarrativeDateTime } from '../types/state';\n\n// Re-export for convenience (maintains backward compatibility)\nexport type { NarrativeDateTime };\n\n// ============================================\n// Types\n// ============================================\n\nexport interface TimeDelta {\n\thours: number;\n\tminutes: number;\n\tseconds: number;\n}\n\ninterface TimeTrackerState {\n\tcurrentDate: Date;\n\tlastDeltaSeconds: number;\n\tinitialized: boolean;\n}\n\n// ============================================\n// Schemas & Examples\n// ============================================\n\nconst DATETIME_SCHEMA = {\n\ttype: 'object',\n\tproperties: {\n\t\tyear: {\n\t\t\ttype: 'number',\n\t\t\tdescription:\n\t\t\t\t'Four digit year, e.g. 2024. Infer from context or use a reasonable default.',\n\t\t},\n\t\tmonth: {\n\t\t\ttype: 'number',\n\t\t\tdescription:\n\t\t\t\t'Month 1-12. Infer from seasonal context, weather, or use a reasonable default.',\n\t\t},\n\t\tday: {\n\t\t\ttype: 'number',\n\t\t\tdescription:\n\t\t\t\t'Day of month 1-31. Infer if possible or use a reasonable default.',\n\t\t},\n\t\thour: { type: 'number', description: 'Hour 0-23 in 24-hour format.' },\n\t\tminute: { type: 'number', description: 'Minute 0-59.' },\n\t\tsecond: {\n\t\t\ttype: 'number',\n\t\t\tdescription: 'Second 0-59. Usually 0 unless specifically mentioned.',\n\t\t},\n\t},\n\trequired: ['year', 'month', 'day', 'hour', 'minute', 'second'],\n};\n\nconst DATETIME_EXAMPLE = JSON.stringify(\n\t{\n\t\tyear: 2024,\n\t\tmonth: 6,\n\t\tday: 15,\n\t\thour: 14,\n\t\tminute: 30,\n\t\tsecond: 0,\n\t},\n\tnull,\n\t2,\n);\n\nconst DELTA_SCHEMA = {\n\ttype: 'object',\n\tproperties: {\n\t\thours: { type: 'number', description: 'Hours passed. 0 if less than an hour.' },\n\t\tminutes: { type: 'number', description: 'Minutes passed (0-59). Added to hours.' },\n\t\tseconds: {\n\t\t\ttype: 'number',\n\t\t\tdescription:\n\t\t\t\t'Seconds passed (0-59). Usually 0 unless specifically mentioned.',\n\t\t},\n\t},\n\trequired: ['hours', 'minutes', 'seconds'],\n};\n\nconst DELTA_EXAMPLE = JSON.stringify(\n\t{\n\t\thours: 0,\n\t\tminutes: 2,\n\t\tseconds: 30,\n\t},\n\tnull,\n\t2,\n);\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT = 'You are a time analysis agent. Return only valid JSON.';\n\nconst DAYS_OF_WEEK = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n// ============================================\n// Time Tracker State (module-level singleton)\n// ============================================\n\nconst timeTracker: TimeTrackerState = {\n\tcurrentDate: new Date(),\n\tlastDeltaSeconds: 0,\n\tinitialized: false,\n};\n\n// ============================================\n// Public API\n// ============================================\n\n/**\n * Extract time for a message. Handles both initial datetime extraction\n * and delta extraction based on whether there's previous state.\n */\nexport async function extractTime(\n\thasPreviousState: boolean,\n\tmessages: string,\n\tabortSignal?: AbortSignal,\n): Promise<NarrativeDateTime> {\n\tconst settings = getSettings();\n\n\tif (!hasPreviousState) {\n\t\tconst extracted = await extractDateTime(messages, settings.profileId, abortSignal);\n\t\tinitializeTracker(extracted);\n\t} else {\n\t\tconst delta = await extractTimeDelta(messages, settings.profileId, abortSignal);\n\t\tapplyDelta(delta, settings.leapThresholdMinutes ?? 20);\n\t}\n\n\treturn getCurrentDateTime();\n}\n\n/**\n * Get the current narrative datetime without extraction.\n */\nexport function getCurrentDateTime(): NarrativeDateTime {\n\treturn dateToNarrative(timeTracker.currentDate);\n}\n\n/**\n * Check if the time tracker has been initialized.\n */\nexport function isTimeTrackerInitialized(): boolean {\n\treturn timeTracker.initialized;\n}\n\n/**\n * Reset the time tracker (e.g., when switching chats).\n */\nexport function resetTimeTracker(): void {\n\ttimeTracker.currentDate = new Date();\n\ttimeTracker.lastDeltaSeconds = 0;\n\ttimeTracker.initialized = false;\n}\n\n/**\n * Manually set the tracker state (e.g., when loading from saved state).\n */\nexport function setTimeTrackerState(datetime: NarrativeDateTime): void {\n\ttimeTracker.currentDate = narrativeToDate(datetime);\n\ttimeTracker.lastDeltaSeconds = 0;\n\ttimeTracker.initialized = true;\n}\n\n// ============================================\n// Internal: Extraction Functions\n// ============================================\n\nexport async function extractDateTime(\n\tmessage: string,\n\tprofileId: string,\n\tabortSignal?: AbortSignal,\n): Promise<NarrativeDateTime> {\n\tconst settings = getSettings();\n\tconst prompt = getPrompt('time_datetime')\n\t\t.replace('{{messages}}', message)\n\t\t.replace('{{schema}}', JSON.stringify(DATETIME_SCHEMA, null, 2))\n\t\t.replace('{{schemaExample}}', DATETIME_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature('time_datetime'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'object',\n\t\tmoduleName: 'BlazeTracker/Time',\n\t});\n\n\treturn validateDateTime(parsed);\n}\n\nasync function extractTimeDelta(\n\tmessage: string,\n\tprofileId: string,\n\tabortSignal?: AbortSignal,\n): Promise<TimeDelta> {\n\tconst currentTimeStr = formatTimeForPrompt(timeTracker.currentDate);\n\tconst settings = getSettings();\n\n\tconst prompt = getPrompt('time_delta')\n\t\t.replace('{{messages}}', message)\n\t\t.replace('{{currentTime}}', currentTimeStr)\n\t\t.replace('{{schema}}', JSON.stringify(DELTA_SCHEMA, null, 2))\n\t\t.replace('{{schemaExample}}', DELTA_EXAMPLE);\n\n\tconst llmMessages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\tconst response = await makeGeneratorRequest(llmMessages, {\n\t\tprofileId,\n\t\tmaxTokens: settings.maxResponseTokens,\n\t\ttemperature: getTemperature('time_delta'),\n\t\tabortSignal,\n\t});\n\n\tconst parsed = parseJsonResponse(response, {\n\t\tshape: 'object',\n\t\tmoduleName: 'BlazeTracker/Time',\n\t});\n\n\treturn validateDelta(parsed);\n}\n\n// ============================================\n// Internal: Time Tracker Operations\n// ============================================\n\nfunction initializeTracker(datetime: NarrativeDateTime): void {\n\ttimeTracker.currentDate = narrativeToDate(datetime);\n\ttimeTracker.lastDeltaSeconds = 0;\n\ttimeTracker.initialized = true;\n}\n\nfunction applyDelta(delta: TimeDelta, leapThresholdMinutes: number): void {\n\tconst deltaSeconds = delta.hours * 3600 + delta.minutes * 60 + delta.seconds;\n\tconst thresholdSeconds = leapThresholdMinutes * 60;\n\n\t// Consecutive leap detection\n\tconst isLeap = deltaSeconds > thresholdSeconds;\n\tconst wasLeap = timeTracker.lastDeltaSeconds > thresholdSeconds;\n\n\tconst cappedSeconds = isLeap && wasLeap ? thresholdSeconds : deltaSeconds;\n\n\t// Apply to Date object - handles all edge cases (month overflow, leap years, etc.)\n\ttimeTracker.currentDate = new Date(\n\t\ttimeTracker.currentDate.getTime() + cappedSeconds * 1000,\n\t);\n\n\t// Store the raw delta (not capped) for next comparison\n\ttimeTracker.lastDeltaSeconds = deltaSeconds;\n}\n\n// ============================================\n// Internal: Conversion Utilities\n// ============================================\n\nfunction dateToNarrative(date: Date): NarrativeDateTime {\n\treturn {\n\t\tyear: date.getFullYear(),\n\t\tmonth: date.getMonth() + 1, // JS months are 0-indexed\n\t\tday: date.getDate(),\n\t\thour: date.getHours(),\n\t\tminute: date.getMinutes(),\n\t\tsecond: date.getSeconds(),\n\t\tdayOfWeek: DAYS_OF_WEEK[date.getDay()],\n\t};\n}\n\nfunction narrativeToDate(narrative: NarrativeDateTime): Date {\n\treturn new Date(\n\t\tnarrative.year,\n\t\tnarrative.month - 1, // JS months are 0-indexed\n\t\tnarrative.day,\n\t\tnarrative.hour,\n\t\tnarrative.minute,\n\t\tnarrative.second,\n\t);\n}\n\nfunction formatTimeForPrompt(date: Date): string {\n\tconst narrative = dateToNarrative(date);\n\tconst monthNames = [\n\t\t'January',\n\t\t'February',\n\t\t'March',\n\t\t'April',\n\t\t'May',\n\t\t'June',\n\t\t'July',\n\t\t'August',\n\t\t'September',\n\t\t'October',\n\t\t'November',\n\t\t'December',\n\t];\n\n\tconst hour12 = narrative.hour % 12 || 12;\n\tconst ampm = narrative.hour < 12 ? 'AM' : 'PM';\n\tconst minuteStr = String(narrative.minute).padStart(2, '0');\n\n\treturn `${narrative.dayOfWeek}, ${monthNames[narrative.month - 1]} ${narrative.day}, ${narrative.year} at ${hour12}:${minuteStr} ${ampm}`;\n}\n\n// ============================================\n// Validation\n// ============================================\n\nfunction validateDateTime(data: unknown): NarrativeDateTime {\n\tif (typeof data !== 'object' || data === null) {\n\t\tthrow new Error('Invalid datetime: expected object');\n\t}\n\n\tconst obj = data as Record<string, unknown>;\n\n\t// Parse and clamp year/month first\n\tconst year = asNumber(obj.year, new Date().getFullYear());\n\tconst month = clamp(asNumber(obj.month, 6), 1, 12);\n\n\t// Clamp day to valid range for this month (handles Feb 30 -> Feb 28/29, etc.)\n\tconst maxDay = getDaysInMonth(year, month);\n\tconst day = clamp(asNumber(obj.day, 15), 1, maxDay);\n\n\tconst result: NarrativeDateTime = {\n\t\tyear: clamp(year, 1, 9999),\n\t\tmonth,\n\t\tday,\n\t\thour: clamp(asNumber(obj.hour, 12), 0, 23),\n\t\tminute: clamp(asNumber(obj.minute, 0), 0, 59),\n\t\tsecond: clamp(asNumber(obj.second, 0), 0, 59),\n\t\tdayOfWeek: '', // Will be calculated\n\t};\n\n\t// Get correct day of week from Date object\n\tconst dateObj = narrativeToDate(result);\n\tresult.dayOfWeek = DAYS_OF_WEEK[dateObj.getDay()];\n\n\treturn result;\n}\n\nfunction getDaysInMonth(year: number, month: number): number {\n\t// Day 0 of next month = last day of this month\n\treturn new Date(year, month, 0).getDate();\n}\n\nfunction validateDelta(data: unknown): TimeDelta {\n\tif (typeof data !== 'object' || data === null) {\n\t\treturn { hours: 0, minutes: 0, seconds: 0 };\n\t}\n\n\tconst obj = data as Record<string, unknown>;\n\n\treturn {\n\t\thours: Math.max(0, Math.floor(asNumber(obj.hours, 0))),\n\t\tminutes: clamp(Math.floor(asNumber(obj.minutes, 0)), 0, 59),\n\t\tseconds: clamp(Math.floor(asNumber(obj.seconds, 0)), 0, 59),\n\t};\n}\n\nfunction clamp(value: number, min: number, max: number): number {\n\treturn Math.max(min, Math.min(max, value));\n}\n","// ============================================\n// Extraction Progress Tracking\n// ============================================\n\nexport type ExtractionStep =\n\t| 'idle'\n\t| 'time'\n\t| 'location'\n\t| 'climate'\n\t| 'characters'\n\t| 'scene'\n\t| 'event'\n\t| 'complete';\n\nexport interface ExtractionProgress {\n\tstep: ExtractionStep;\n\tstepIndex: number;\n\ttotalSteps: number;\n}\n\nexport interface EnabledSteps {\n\ttime: boolean;\n\tlocation: boolean;\n\tclimate: boolean;\n\tcharacters: boolean;\n\tscene: boolean;\n\tevent: boolean;\n}\n\ntype ProgressCallback = (progress: ExtractionProgress) => void;\n\n// ============================================\n// Module State\n// ============================================\n\nlet currentStep: ExtractionStep = 'idle';\nlet progressCallback: ProgressCallback | null = null;\n\n// Default: all steps enabled\nlet enabledSteps: EnabledSteps = {\n\ttime: true,\n\tlocation: true,\n\tclimate: true,\n\tcharacters: true,\n\tscene: true,\n\tevent: true,\n};\n\n// All possible extraction steps (in order)\nconst ALL_EXTRACTION_STEPS: ExtractionStep[] = [\n\t'time',\n\t'location',\n\t'climate',\n\t'characters',\n\t'scene',\n\t'event',\n];\n\n// ============================================\n// Public API\n// ============================================\n\n/**\n * Register a callback to receive progress updates.\n */\nexport function onExtractionProgress(callback: ProgressCallback | null): void {\n\tprogressCallback = callback;\n}\n\n/**\n * Configure which extraction steps are enabled for the current extraction.\n * Call this before starting extraction to ensure progress shows correct totals.\n */\nexport function setEnabledSteps(steps: EnabledSteps): void {\n\tenabledSteps = { ...steps };\n}\n\n/**\n * Get the list of currently enabled extraction steps.\n */\nexport function getEnabledSteps(): ExtractionStep[] {\n\treturn ALL_EXTRACTION_STEPS.filter(step => enabledSteps[step as keyof EnabledSteps]);\n}\n\n/**\n * Set the current extraction step and notify listeners.\n */\nexport function setExtractionStep(step: ExtractionStep): void {\n\tcurrentStep = step;\n\n\tif (progressCallback) {\n\t\tconst activeSteps = getEnabledSteps();\n\n\t\tconst stepIndex =\n\t\t\tstep === 'idle'\n\t\t\t\t? 0\n\t\t\t\t: step === 'complete'\n\t\t\t\t\t? activeSteps.length\n\t\t\t\t\t: activeSteps.indexOf(step);\n\n\t\tprogressCallback({\n\t\t\tstep,\n\t\t\tstepIndex: Math.max(0, stepIndex),\n\t\t\ttotalSteps: activeSteps.length,\n\t\t});\n\t}\n}\n\n/**\n * Get the current extraction step.\n */\nexport function getExtractionStep(): ExtractionStep {\n\treturn currentStep;\n}\n\n/**\n * Get a human-readable label for a step.\n */\nexport function getStepLabel(step: ExtractionStep): string {\n\tswitch (step) {\n\t\tcase 'idle':\n\t\t\treturn 'Ready';\n\t\tcase 'time':\n\t\t\treturn 'Extracting time...';\n\t\tcase 'location':\n\t\t\treturn 'Extracting location...';\n\t\tcase 'climate':\n\t\t\treturn 'Extracting climate...';\n\t\tcase 'characters':\n\t\t\treturn 'Extracting characters...';\n\t\tcase 'scene':\n\t\t\treturn 'Extracting scene...';\n\t\tcase 'event':\n\t\t\treturn 'Extracting events...';\n\t\tcase 'complete':\n\t\t\treturn 'Complete';\n\t}\n}\n","// ============================================\n// Prompt Configuration System\n// ============================================\n\n// Adjust this import path based on your project structure:\nimport { getSettings } from '../settings';\n\n// ============================================\n// Prompt Types\n// ============================================\n\nexport type PromptKey =\n\t| 'time_datetime'\n\t| 'time_delta'\n\t| 'location_initial'\n\t| 'location_update'\n\t| 'climate_initial'\n\t| 'climate_update'\n\t| 'characters_initial'\n\t| 'characters_update'\n\t| 'scene_initial'\n\t| 'scene_update'\n\t| 'event_extract'\n\t| 'chapter_boundary'\n\t| 'relationship_initial'\n\t| 'relationship_update'\n\t| 'milestone_description';\n\nexport interface PromptPlaceholder {\n\tname: string;\n\tdescription: string;\n\texample: string;\n}\n\nexport interface PromptDefinition {\n\tkey: PromptKey;\n\tname: string;\n\tdescription: string;\n\tplaceholders: PromptPlaceholder[];\n\tdefault: string;\n\tdefaultTemperature: number;\n}\n\nexport interface CustomPrompts {\n\t[key: string]: string;\n}\n\n// ============================================\n// Placeholder Documentation\n// ============================================\n\nconst COMMON_PLACEHOLDERS: Record<string, PromptPlaceholder> = {\n\tmessages: {\n\t\tname: '{{messages}}',\n\t\tdescription: 'Recent roleplay messages formatted as \"Name: message content\"',\n\t\texample: 'Elena: *She walked into the bar*\\n\\nMarcus: \"You made it.\"',\n\t},\n\tcharacterInfo: {\n\t\tname: '{{characterInfo}}',\n\t\tdescription: 'Character name and description (only on initial extraction)',\n\t\texample: 'Name: Elena\\nDescription: A cunning thief with a heart of gold...',\n\t},\n\tuserInfo: {\n\t\tname: '{{userInfo}}',\n\t\tdescription: 'User persona name and description (only on initial extraction)',\n\t\texample: 'Name: Marcus\\nDescription: A grizzled detective...',\n\t},\n\tpreviousState: {\n\t\tname: '{{previousState}}',\n\t\tdescription: 'JSON of the previous state for this extractor',\n\t\texample: '{ \"area\": \"Downtown\", \"place\": \"Bar\", ... }',\n\t},\n\tschema: {\n\t\tname: '{{schema}}',\n\t\tdescription: 'JSON schema defining the expected output format',\n\t\texample: '{ \"type\": \"object\", \"properties\": { ... } }',\n\t},\n\tschemaExample: {\n\t\tname: '{{schemaExample}}',\n\t\tdescription: 'Example output matching the schema',\n\t\texample: '{ \"area\": \"Downtown Seattle\", ... }',\n\t},\n\tnarrativeTime: {\n\t\tname: '{{narrativeTime}}',\n\t\tdescription: 'Current narrative time as formatted string',\n\t\texample: 'Monday, June 15, 2024 at 2:30 PM',\n\t},\n\tlocation: {\n\t\tname: '{{location}}',\n\t\tdescription: 'Current location summary',\n\t\texample: 'Downtown Seattle - The Rusty Nail bar (Corner booth)',\n\t},\n\tcurrentTime: {\n\t\tname: '{{currentTime}}',\n\t\tdescription: 'Current narrative time for context',\n\t\texample: 'Monday, June 15, 2024 at 2:30 PM',\n\t},\n\tcharactersSummary: {\n\t\tname: '{{charactersSummary}}',\n\t\tdescription: 'Brief summary of characters present with moods/activities',\n\t\texample: 'Elena: anxious, hopeful - Watching the door\\nMarcus: scheming - Drinking wine',\n\t},\n\tcurrentRelationships: {\n\t\tname: '{{currentRelationships}}',\n\t\tdescription: 'Current relationship states between characters',\n\t\texample: 'Elena & Marcus (complicated): Elena feels trusting, hopeful; Marcus feels suspicious, curious',\n\t},\n\tcurrentEvents: {\n\t\tname: '{{currentEvents}}',\n\t\tdescription: 'Recent events in the current chapter',\n\t\texample: '- Marcus revealed his true identity\\n- Elena agreed to help with the heist',\n\t},\n\tchapterSummaries: {\n\t\tname: '{{chapterSummaries}}',\n\t\tdescription: 'Summaries of previous chapters',\n\t\texample: 'Chapter 1: Elena and Marcus meet at the bar...',\n\t},\n\tmilestoneType: {\n\t\tname: '{{milestoneType}}',\n\t\tdescription: 'The type of milestone to describe (e.g., first_kiss, first_embrace)',\n\t\texample: 'first_kiss',\n\t},\n\tcharacterPair: {\n\t\tname: '{{characterPair}}',\n\t\tdescription: 'The two characters involved in the milestone',\n\t\texample: 'Elena and Marcus',\n\t},\n\ttimeOfDay: {\n\t\tname: '{{timeOfDay}}',\n\t\tdescription: 'The time of day when the milestone occurred',\n\t\texample: 'evening',\n\t},\n\tprops: {\n\t\tname: '{{props}}',\n\t\tdescription: 'Nearby objects/props in the scene',\n\t\texample: 'worn leather couch, coffee table, dim lamp',\n\t},\n\tcharacters: {\n\t\tname: '{{characters}}',\n\t\tdescription: 'Character positions, moods, and attire',\n\t\texample: 'Elena: Position: sitting on couch | Mood: nervous, hopeful | Wearing: torso: blue dress',\n\t},\n\trelationship: {\n\t\tname: '{{relationship}}',\n\t\tdescription: 'Current relationship status and feelings between characters',\n\t\texample: 'Elena & Marcus (close): Elena feels: trusting, attracted | Marcus feels: protective, conflicted',\n\t},\n\teventDetail: {\n\t\tname: '{{eventDetail}}',\n\t\tdescription: 'Specific detail about what happened (e.g., what secret was shared)',\n\t\texample: \"Elena's past as a thief\",\n\t},\n};\n\n// ============================================\n// Default Prompts\n// ============================================\n\nexport const DEFAULT_PROMPTS: Record<PromptKey, PromptDefinition> = {\n\ttime_datetime: {\n\t\tkey: 'time_datetime',\n\t\tname: 'Time - Initial DateTime',\n\t\tdescription: 'Extracts the narrative date and time from the scene opening',\n\t\tdefaultTemperature: 0.3,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene opening and determine the narrative date and time. You must only return valid JSON with no commentary.\n\n<instructions>\n- Determine the date and time when this scene takes place.\n- Look for explicit mentions: \"Monday morning\", \"3pm\", \"June 15th\", \"winter evening\", etc.\n- Look for contextual clues: weather, lighting, activities, meals, seasons.\n- If the year is not specified, infer from context or use a reasonable modern year.\n- If the month is not specified, infer from seasonal/weather clues or use a reasonable default.\n- If the day is not specified, use a reasonable default (e.g., 15 for mid-month).\n- Always provide complete values for all fields - never omit anything.\n- Use 24-hour format for the hour field.\n</instructions>\n\n<examples>\n<example>\n<input>\n*The first snow of the season was falling outside the coffee shop window, fat flakes drifting lazily under the streetlights. Elena wrapped her hands around her pumpkin spice latte, watching the evening crowd hurry past with their collars turned up against the cold. It was barely past five, but the sun had already setone of those November days that made her wish she'd moved somewhere warmer.*\n\n*Her phone buzzed: a text from Marcus saying he was running late, stuck in traffic from the corporate holiday party he'd been dreading all week. She smiled and texted back that she'd order him something warm. The barista had just put up the Christmas decorationsa little early, but Elena didn't mind. The twinkling lights reflected off the dark window, making the shop feel cozy despite the chill creeping in around the door frame.*\n</input>\n<output>\n{\n  \"year\": 2024,\n  \"month\": 11,\n  \"day\": 15,\n  \"hour\": 17,\n  \"minute\": 15,\n  \"period\": \"evening\",\n  \"season\": \"late autumn\"\n}\n</output>\n<explanation>\nEXPLICIT clues:\n- \"first snow of the season\" + \"November days\"  month is 11 (November)\n- \"barely past five, but the sun had already set\"  hour is 17 (5 PM), early sunset confirms late autumn\n- \"evening crowd\"  period is \"evening\"\n\nINFERRED values:\n- year: Not specified, use current/reasonable modern year (2024)\n- day: Not specified, default to mid-month (15)\n- minute: \"barely past five\" suggests just after the hour (15)\n- season: \"late autumn\" - November with first snow, not quite winter yet\n\nContext clues that CONFIRM the inference:\n- Pumpkin spice latte (seasonal fall drink)\n- Corporate holiday party (November-December timing)\n- Christmas decorations going up early (pre-December)\n- Cold weather, collars turned up\n</explanation>\n</example>\n\n<example>\n<input>\n*The summer sun blazed overhead as Marcus hauled the last cooler out of the truck bed. It was barely noon, but the Fourth of July heat was already oppressivehad to be pushing ninety-five in the shade, if there'd been any shade to speak of. The beach parking lot shimmered with heat mirages, and he could feel the asphalt burning through his sandals.*\n\n*Down by the water, Elena and the kids had already claimed their spot, the red-white-and-blue umbrella visible even from here. She waved, and he could see Sophie jumping up and down with excitement, probably begging to go in the water before lunch. He checked his phone12:17and started the long trudge across the sand.*\n</input>\n<output>\n{\n  \"year\": 2024,\n  \"month\": 7,\n  \"day\": 4,\n  \"hour\": 12,\n  \"minute\": 17,\n  \"period\": \"midday\",\n  \"season\": \"summer\"\n}\n</output>\n<explanation>\nEXPLICIT clues:\n- \"Fourth of July\"  month: 7, day: 4\n- \"barely noon\" and \"12:17\" on phone  hour: 12, minute: 17\n- \"summer sun\"  season: \"summer\"\n\nINFERRED values:\n- year: Not specified, use reasonable modern year (2024)\n- period: \"midday\" - noon timeframe\n\nContext clues that CONFIRM:\n- Extreme heat (95F) typical of July\n- Beach trip with family (common July 4th activity)\n- Patriotic umbrella colors (holiday-appropriate)\n</explanation>\n</example>\n\n<example>\n<input>\n*The cherry blossoms were in full bloom along the Potomac, their delicate pink petals drifting down like snow onto the jogging path. Elena stretched her calves against a park bench, watching the early morning runners pass by in the golden dawn light. It was the perfect time of year for thisnot too hot yet, the air fresh and cool, the city just starting to wake up.*\n\n*Her fitness tracker showed 6:47 AM and a respectable heart rate after her warm-up. In the distance, she could see the Washington Monument catching the first rays of sunlight, and beyond it, the dome of the Capitol building. A few dog walkers ambled past, coffee cups in hand, taking advantage of the quiet before the tourist crowds arrived.*\n</input>\n<output>\n{\n  \"year\": 2024,\n  \"month\": 4,\n  \"day\": 8,\n  \"hour\": 6,\n  \"minute\": 47,\n  \"period\": \"early morning\",\n  \"season\": \"spring\"\n}\n</output>\n<explanation>\nEXPLICIT clues:\n- \"cherry blossoms in full bloom\"  late March to mid-April (peak bloom in DC)\n- \"6:47 AM\" on fitness tracker  hour: 6, minute: 47\n- \"early morning runners\" + \"golden dawn light\"  period: \"early morning\"\n\nINFERRED values:\n- year: Modern year (2024) - Washington Monument, fitness tracker suggest contemporary\n- month: 4 (April) - cherry blossom peak season\n- day: 8 - mid-peak bloom period, reasonable default\n- season: \"spring\" - cherry blossoms, \"not too hot yet,\" fresh cool air\n\nLocation clues (Washington DC) help date the cherry blossoms specifically - they bloom late March through mid-April there.\n</explanation>\n</example>\n</examples>\n\n<scene_opening>\n{{messages}}\n</scene_opening>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the narrative date and time as valid JSON:`,\n\t},\n\n\ttime_delta: {\n\t\tkey: 'time_delta',\n\t\tname: 'Time - Delta',\n\t\tdescription: 'Determines how much narrative time has passed in the messages',\n\t\tdefaultTemperature: 0.3,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.currentTime,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and determine how much narrative time has passed. You must only return valid JSON with no commentary.\n\n<instructions>\n- Determine how much time passes WITHIN these messages based on their actual content.\n- The example output below is just showing the JSON format - do NOT copy its values.\n- Look for explicit time jumps: \"an hour later\", \"after a few minutes\", \"the next morning\".\n- Look for implicit time passage: travel, sleeping, waiting, activities with known durations.\n- If the messages are just dialogue or immediate action with no time skip, return small values (0-2 minutes).\n- Estimate based on what actually happens in the messages:\n  * Pure dialogue exchange: 1-2 minutes\n  * Walking somewhere nearby: 5-15 minutes\n  * Driving across town: 15-45 minutes\n  * Napping: 1-3 hours (consider currentTime)\n  * Sleeping overnight: 6-10 hours (consider currentTime)\n  * \"A few minutes\": 3-5 minutes\n  * \"A while\": 15-30 minutes\n  * \"Some time\": 30-60 minutes\n- Be conservative - if unsure, prefer smaller time jumps.\n- Return 0 for all fields if no time has passed.\n</instructions>\n\n<examples>\n<example>\n<current_time>Tuesday, March 12, 2024 at 10:30 PM</current_time>\n<input>\n*Elena yawned and stretched, her eyes heavy after the long day. The movie credits were rolling on the TV, but neither of them had really been watching for the last half hour.*\n\nElena: \"I should probably head to bed. Early meeting tomorrow.\"\n\nMarcus: \"Yeah, me too.\" *He clicked off the TV and stood, offering her a hand.* \"I'll lock up.\"\n\n*They made their way upstairs, taking turns in the bathroom. By the time Elena had finished her skincare routine and climbed into bed, Marcus was already half-asleep, the lamp on his side still on.*\n\nElena: *turning off the lamp* \"Night.\"\n\nMarcus: *mumbling* \"Night...\"\n\n*The morning sun streaming through a gap in the curtains woke Elena before her alarm. She blinked at the clock6:47 AMand groaned. Still thirteen minutes before she actually needed to be up. Beside her, Marcus was snoring softly, completely dead to the world.*\n</input>\n<output>\n{\n  \"days\": 0,\n  \"hours\": 8,\n  \"minutes\": 17\n}\n</output>\n<explanation>\nThis is an OVERNIGHT time skip:\n- currentTime: 10:30 PM Tuesday\n- They went to bed shortly after (maybe 15-20 min for bathroom routine)\n- Elena wakes at 6:47 AM\n- Total elapsed: approximately 8 hours 17 minutes\n\nThe scene explicitly moves from \"heading to bed\" at night to \"morning sun\" waking her at 6:47 AM. We calculate from 10:30 PM to 6:47 AM = 8h 17m.\n\nKey indicators of overnight skip:\n- Going to bed at night\n- \"Morning sun streaming through curtains\"\n- Specific wake-up time given (6:47 AM)\n- \"Before her alarm\" implies morning routine starting\n</explanation>\n</example>\n\n<example>\n<current_time>Saturday, June 8, 2024 at 2:15 PM</current_time>\n<input>\n*The argument had been building for twenty minutes now, voices rising with each exchange. Elena stood by the window, arms crossed, while Marcus paced the length of the living room.*\n\nMarcus: \"I just don't understand why you didn't tell me about the job offer!\"\n\nElena: \"Because I knew you'd react exactly like this!\"\n\nMarcus: \"Like what? Like someone who thought we made decisions together?\"\n\n*Elena flinched. That one landed. She turned away from him, staring out at the street below without really seeing it.*\n\nElena: \"I haven't even decided if I'm taking it yet.\"\n\nMarcus: \"But you're considering it. You're considering moving across the country and you didn't think that was worth mentioning?\"\n\n*The silence stretched between them, heavy and painful. Finally, Elena spoke, her voice smaller than before.*\n\nElena: \"I was scared. I didn't know how to bring it up.\"\n\nMarcus: *sighing heavily, running a hand through his hair* \"I just... I need a minute.\" *He grabbed his jacket from the couch.* \"I'm going for a walk.\"\n\n*The door closed behind him with a quiet click that somehow felt louder than all the shouting.*\n</input>\n<output>\n{\n  \"days\": 0,\n  \"hours\": 0,\n  \"minutes\": 25\n}\n</output>\n<explanation>\nThis is REAL-TIME dialogue with stated duration:\n- \"The argument had been building for twenty minutes now\" establishes base time\n- The rest of the exchange takes another ~5 minutes of heated dialogue\n- Total: approximately 25 minutes\n\nNO time skip occurs - this is a continuous scene. The time represents:\n- 20 minutes of prior argument (mentioned)\n- ~5 minutes of the dialogue we see\n- Marcus leaving at the end\n\nKey principle: Emotional conversations feel longer but don't actually take much clock time. An intense 5-minute argument can feel like an hour.\n</explanation>\n</example>\n\n<example>\n<current_time>Monday, September 16, 2024 at 9:00 AM</current_time>\n<input>\n*Elena grabbed her laptop bag and headed for the door, already running late for the presentation.*\n\nElena: \"I'll see you tonight!\"\n\nMarcus: *from the kitchen* \"Good luck! You've got this!\"\n\n*The commute was brutalan accident on the highway had traffic backed up for miles. Elena spent forty-five minutes crawling along, mentally rehearsing her talking points and trying not to check the clock every thirty seconds. By the time she finally pulled into the parking garage, she had exactly three minutes to get upstairs.*\n\n*She power-walked through the lobby, badge already in hand, and caught the elevator just as the doors were closing. The conference room was on the twelfth floor. She watched the numbers climb with growing anxiety8, 9, 10, 11, 12and practically sprinted down the hallway when the doors opened.*\n\n*She slid into the conference room at 9:58 AM, two minutes before her slot. Her boss raised an eyebrow but said nothing. Elena set up her laptop with slightly shaking hands and took a deep breath. She'd made it.*\n</input>\n<output>\n{\n  \"days\": 0,\n  \"hours\": 0,\n  \"minutes\": 58\n}\n</output>\n<explanation>\nTime skip with EXPLICIT endpoint:\n- Starts: 9:00 AM (currentTime, she's \"already running late\")\n- Ends: 9:58 AM (explicitly stated - \"slid into the conference room at 9:58 AM\")\n- Total: 58 minutes\n\nBreakdown of time passage:\n- Brief goodbye at home: 1-2 min\n- 45 minutes of commute (explicitly stated)\n- Parking, walking, elevator: ~10 min\n- Total checks out: 2 + 45 + 10  57-58 minutes\n\nWhen EXACT times are given, use them for precision rather than estimating.\n</explanation>\n</example>\n\n<bad_example>\n<current_time>Tuesday, March 12, 2024 at 10:30 PM</current_time>\n<input>\n*Elena yawned...* [overnight sleep scene] *...woke at 6:47 AM*\n</input>\n<output>\n{\n  \"days\": 1,\n  \"hours\": 0,\n  \"minutes\": 0\n}\n</output>\n<why_bad>\n- Used \"days: 1\" but only 8 hours passed (10:30 PM to 6:47 AM)\n- Should be: days: 0, hours: 8, minutes: 17\n- \"Next day\" doesn't mean 24 hours - calculate actual elapsed time\n- Always compute from current_time to the scene's end time\n</why_bad>\n</bad_example>\n</examples>\n\n<current_time>\n{{currentTime}}\n</current_time>\n\n<messages>\n{{messages}}\n</messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_format_example>\n{{schemaExample}}\n</output_format_example>\n\nBased on the actual content of the messages above, extract the time delta as valid JSON:`,\n\t},\n\n\tlocation_initial: {\n\t\tkey: 'location_initial',\n\t\tname: 'Location - Initial',\n\t\tdescription: 'Extracts location from the scene opening',\n\t\tdefaultTemperature: 0.5,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.characterInfo,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene and extract the current location. You must only return valid JSON with no commentary.\n\n<instructions>\n- Determine where this scene takes place.\n- The 'area' should be neighborhood + city + country/region (e.g. 'Downtown, Huntsville, AL', 'Farringdon, London, UK', 'Mordor, Middle Earth', 'Ponyville, Equestria'). Always include the country or region identifier.\n- The 'place' should be a SPECIFIC named location:\n  - For buildings: Use FULL proper names (e.g. 'Pixar Animation Studios' NOT just 'Studio', 'The Rusty Nail Bar' NOT just 'Bar')\n  - For outdoor/street locations: Use street name + nearby landmark (e.g. 'Ferris Street (near Zenith nightclub)', 'Central Park West (by the fountain)', 'Baker Street (outside 221B)')\n  - NEVER use generic descriptions like 'Nightclub in a busy district' or 'Street in the city' - always invent a specific name\n- The 'position' should be a SPATIAL location within the place (e.g. 'Main lobby', 'Corner booth', 'Sidewalk near entrance'). Do NOT include character poses or actions in position.\n- Props rules (IMPORTANT):\n  - Props are PHYSICAL OBJECTS that characters could pick up or interact with\n  - Each prop should be ONE SINGLE ITEM (e.g. \"Neon sign\" not \"Neon signs reflecting in puddles\")\n  - NO sounds, smells, or atmosphere (e.g. NOT \"Bass thumping\" or \"Smell of smoke\")\n  - NO people or their activities (e.g. NOT \"Smokers huddled by door\" or \"Idling taxis\")\n  - NO clothing that characters are currently WEARING - that goes in character outfits\n  - Only include clothing as props if REMOVED and placed somewhere (e.g. \"Discarded jacket on chair\")\n- If location is not explicit, infer from context clues and INVENT specific names that fit the setting.\n</instructions>\n\n<examples>\n<example>\n<input>\nElena: *She pushed through the revolving door into the Meridian Grand Hotel, shaking raindrops from her umbrella. The lobby stretched before her in all its art deco glorygeometric patterns in the marble floor, brass fixtures polished to a mirror shine, and a massive crystal chandelier casting prismatic light across the space. A string quartet played something classical near the fountain, their music competing with the murmur of well-dressed guests and the occasional ding of elevator arrivals.*\n\n*She spotted the concierge desk to her left, staffed by a woman in an immaculate uniform, and beyond it the entrance to what looked like a high-end restaurant. The check-in counter dominated the far wall, where a short queue of travelers waited with their luggage. Elena's heels clicked against the marble as she made her way toward the seating area near the windows, where oversized leather armchairs surrounded low coffee tables scattered with magazines.*\n\n\"Impressive,\" *she murmured, taking in the fifteen-foot ceilings and the gallery of black-and-white photographs lining the walls.*\n</input>\n<output>\n{\n  \"area\": \"Downtown, Chicago, IL\",\n  \"place\": \"Meridian Grand Hotel\",\n  \"position\": \"Main lobby near window seating area\",\n  \"props\": [\"Crystal chandelier\", \"Art deco marble floor\", \"Brass fixtures\", \"Fountain with string quartet nearby\", \"Oversized leather armchairs\", \"Low coffee tables with magazines\", \"Black-and-white photograph gallery\"]\n}\n</output>\n<explanation>\n- area: Inferred as major city with grand hotels; \"Downtown, Chicago, IL\" includes neighborhood + city + state\n- place: Full proper name \"Meridian Grand Hotel\" extracted exactly as mentioned, not abbreviated to \"Hotel\" or \"The Meridian\"\n- position: \"Main lobby near window seating area\" - describes WHERE she is spatially, not WHAT she's doing (no \"walking\" or \"taking in the view\")\n- props: Selected the most scene-relevant items that characters might interact with. Excluded transient elements (the queue of travelers, the concierge herself) and focused on environmental features. Note specificity: \"Art deco marble floor\" not just \"floor\"\n</explanation>\n</example>\n\n<example>\n<input>\n*The submarine's control room was cramped and humid, every surface covered in switches, dials, and screens displaying sonar readouts. Captain Reyes stood at the periscope station, one eye pressed to the viewfinder while her XO monitored the depth gauge nearby. Red emergency lighting bathed everything in an ominous glowthey'd been running silent for six hours now, and the tension was palpable.*\n\n*Banks of monitors showed the surrounding ocean in ghostly green sonar imagery. The helm station dominated the front of the room, where two junior officers sat rigid at their controls. Overhead, pipes and cables snaked across the ceiling, occasionally dripping condensation onto the metal deck plates below. A navigation chart was spread across the plotting table, weighted down with coffee mugs and a brass compass.*\n\n*The air recycler hummed its constant drone, barely masking the distant ping of active sonar from somewhere above them.*\n\nReyes: \"Maintain current depth. Nobody makes a sound.\"\n</input>\n<output>\n{\n  \"area\": \"Pacific Ocean, 200 meters depth\",\n  \"place\": \"USS Triton (Attack Submarine)\",\n  \"position\": \"Control room\",\n  \"props\": [\"Periscope station\", \"Sonar display monitors\", \"Helm control stations\", \"Navigation plotting table with charts\", \"Brass compass\", \"Depth gauge\", \"Red emergency lighting\", \"Overhead pipe network\", \"Air recycler\"]\n}\n</output>\n<explanation>\n- area: For mobile locations like vehicles/vessels, area describes the broader environment (\"Pacific Ocean, 200 meters depth\")\n- place: Vessel name inferred as military submarine; given a reasonable designation. Full name includes vessel type for clarity\n- position: \"Control room\" - the specific compartment, not \"standing at periscope\" or \"running silent\"\n- props: Focused on interactive/notable equipment. Excluded people (XO, junior officers) and temporary states (coffee mugs as weights). Included atmospheric elements (red lighting, air recycler) that affect scene mood\n</explanation>\n</example>\n\n<example>\n<input>\n*Marcus found himself in what had clearly once been a grand ballroom, though decades of neglect had transformed it into something out of a gothic nightmare. Faded murals peeled from the walls in long strips, revealing water-stained plaster beneath. The parquet floor, once polished to a gleam, was now warped and broken in places, with weeds pushing through the gaps where it met the crumbling baseboards.*\n\n*Dust motes danced in the shafts of pale light filtering through broken windows high above. A massive fireplace dominated one wall, its marble mantle cracked and blackened with old soot. Someone had dragged a mattress into the cornerrecent, by the look of it, with rumpled blankets and empty food cans scattered nearby. Graffiti covered the lower portions of the walls, tags and crude drawings layered over each other.*\n\n*The remnants of a crystal chandelier lay shattered in the center of the room, its brass frame twisted and tarnished. Marcus could hear pigeons cooing somewhere in the rafters above, and the distant sound of traffic from the street outside.*\n</input>\n<output>\n{\n  \"area\": \"Old Town, Baltimore, MD\",\n  \"place\": \"Abandoned Harrington Estate\",\n  \"position\": \"Former grand ballroom\",\n  \"props\": [\"Peeling murals and water-stained walls\", \"Warped parquet floor with weeds\", \"Cracked marble fireplace (blackened)\", \"Recent mattress with blankets in corner\", \"Empty food cans\", \"Layered graffiti\", \"Shattered crystal chandelier (brass frame on floor)\", \"Broken high windows\"]\n}\n</output>\n<explanation>\n- area: \"Old Town, Baltimore, MD\" - specific district + city + state inferred from context of historic estate\n- place: Named estate rather than just \"abandoned building\" - gives the location identity and history\n- position: \"Former grand ballroom\" - spatial designation with context about what the room was/is\n- props: Mixed permanent features (fireplace, floor) with signs of decay (peeling murals, shattered chandelier) AND evidence of recent habitation (mattress, food cans). Props tell the story of the location. Note state descriptors: \"cracked,\" \"blackened,\" \"shattered\"\n</explanation>\n</example>\n\n<example>\n<input>\n*The bass from the club behind them was still audible, a muffled thump-thump-thump that vibrated through the pavement. Elena stepped out into the cool night air, grateful to escape the crush of bodies inside. The street was quiet at this hourjust a few smokers huddled near the entrance and a taxi idling at the curb.*\n\n*Across the street, a kebab shop's neon sign flickered on and off, casting red and blue shadows on the wet pavement. The rain had stopped, but puddles still dotted the sidewalk, reflecting the glow of the streetlamps. A bouncer in a black jacket stood by the velvet rope, checking his phone while a couple argued nearby about whose turn it was to call an Uber.*\n\n*Elena pulled her jacket tighter against the chill and walked a few steps away from the crowd, past a shuttered newsagent and a graffiti-covered electrical box. The smell of cigarette smoke and frying meat mixed in the air.*\n</input>\n<output>\n{\n  \"area\": \"Shoreditch, London, UK\",\n  \"place\": \"Kingsland Road (outside Vinyl Dreams nightclub)\",\n  \"position\": \"Sidewalk near shuttered newsagent\",\n  \"props\": [\"Kebab shop neon sign\", \"Streetlamp\", \"Velvet rope\", \"Electrical box\", \"Newsagent shutters\"]\n}\n</output>\n<explanation>\n- area: \"Shoreditch, London, UK\" - specific neighborhood + city + country, inferred from nightclub culture context\n- place: \"Kingsland Road (outside Vinyl Dreams nightclub)\" - specific street name + nearby landmark, NOT generic \"Street near nightclub\" or \"Outside a club\"\n- position: \"Sidewalk near shuttered newsagent\" - spatial location on the street\n- props: ONLY physical objects characters could interact with. Each is ONE item. Excludes: people (bouncer, smokers), sounds (bass), atmosphere (puddles, reflections), worn clothing\n</explanation>\n</example>\n\n<bad_example>\n<output>\n{\n  \"area\": \"City\",\n  \"place\": \"Hotel\",\n  \"position\": \"Walking through the lobby, looking around nervously while shaking off her umbrella\"\n}\n</output>\n<why_bad>\n- area too vague: Should include neighborhood + city + state/country (\"Downtown, Chicago, IL\" not \"City\")\n- place too generic: Should use the full proper name (\"Meridian Grand Hotel\" not \"Hotel\")\n- position contains actions: \"Walking through,\" \"looking around nervously,\" and \"shaking off umbrella\" are character actions, not spatial locations. Should be \"Main lobby\" or \"Lobby entrance\"\n</why_bad>\n</bad_example>\n\n<bad_example>\n<output>\n{\n  \"area\": \"London\",\n  \"place\": \"Nightclub in a busy district\",\n  \"position\": \"Outside near the entrance, under a flickering streetlamp\"\n}\n</output>\n<why_bad>\n- area missing neighborhood and country: Should be \"Shoreditch, London, UK\" or \"Soho, London, UK\" - not just the city name\n- place is a generic description, not a specific name: \"Nightclub in a busy district\" should be a specific place like \"Kingsland Road (outside Vinyl Dreams)\" or \"Greek Street (near The Blue Note)\"\n- Always invent specific place names when not provided - never use generic descriptions\n</why_bad>\n</bad_example>\n\n<bad_example>\n<output>\n{\n  \"area\": \"Downtown, Seattle, WA\",\n  \"place\": \"The Blue Moon Lounge\",\n  \"position\": \"Main bar area\",\n  \"props\": [\"Leather bar stools\", \"Neon signs\", \"Elena's red cocktail dress\", \"Marcus's gray suit jacket\", \"Martini glasses\"]\n}\n</output>\n<why_bad>\n- props include clothing characters are WEARING: \"Elena's red cocktail dress\" and \"Marcus's gray suit jacket\" should NOT be in props - they belong in each character's outfit slots\n- Only include clothing in props if it has been REMOVED and placed somewhere (e.g., \"Marcus's suit jacket on barstool\", \"Discarded scarf near entrance\")\n- Clothing that characters are currently wearing goes in character outfit tracking, not location props\n</why_bad>\n</bad_example>\n\n<bad_example>\n<output>\n{\n  \"area\": \"Shoreditch, London, UK\",\n  \"place\": \"Kingsland Road (outside Vinyl Dreams)\",\n  \"position\": \"Sidewalk near entrance\",\n  \"props\": [\"Flickering neon signs reflecting in puddles\", \"Bass thumping from nightclub entrance\", \"Smokers huddled by the door\", \"Idling taxis\", \"Clara's limited edition hat\", \"Matt's designer hoodie\"]\n}\n</output>\n<why_bad>\n- \"Flickering neon signs reflecting in puddles\" combines multiple things - should be separate: \"Neon sign\" (puddles are not props)\n- \"Bass thumping from nightclub entrance\" is a SOUND, not a physical object - do not include sounds/atmosphere\n- \"Smokers huddled by the door\" and \"Idling taxis\" are PEOPLE and their activities - do not include people as props\n- \"Clara's limited edition hat\" and \"Matt's designer hoodie\" are clothing characters are WEARING - belongs in character outfits, not props\n- Correct props would be: \"Neon sign\", \"Velvet rope\", \"Club entrance door\", \"Electrical box\"\n</why_bad>\n</bad_example>\n</examples>\n\n<character_info>\n{{characterInfo}}\n</character_info>\n\n<scene_messages>\n{{messages}}\n</scene_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the location as valid JSON:`,\n\t},\n\n\tlocation_update: {\n\t\tkey: 'location_update',\n\t\tname: 'Location - Update',\n\t\tdescription: 'Updates location based on recent messages',\n\t\tdefaultTemperature: 0.5,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.previousState,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and extract any location changes. You must only return valid JSON with no commentary.\n\n<instructions>\n- Determine if the location has changed from the previous state.\n- Track any movement: characters entering new rooms, traveling, position changes within a space.\n- The 'area' should be neighborhood + city + country/region (e.g. 'Downtown, Huntsville, AL', 'Farringdon, London, UK'). Always include country/region.\n- The 'place' should be a SPECIFIC named location:\n  - For buildings: Use FULL proper names (e.g. 'Meridian Grand Hotel' not 'Hotel')\n  - For outdoor/street locations: Use street name + nearby landmark (e.g. 'Kingsland Road (outside Vinyl Dreams nightclub)')\n  - NEVER use generic descriptions - always use or invent specific names\n- The 'position' should be a SPATIAL location only (e.g. 'Corner booth', 'Kitchen', 'Sidewalk near entrance'). Do NOT include character poses or actions.\n- Props rules (IMPORTANT):\n  - Props are PHYSICAL OBJECTS that characters could pick up or interact with\n  - Each prop should be ONE SINGLE ITEM (e.g. \"Neon sign\" not \"Neon signs reflecting in puddles\")\n  - NO sounds, smells, or atmosphere (e.g. NOT \"Bass thumping\" or \"Smell of smoke\")\n  - NO people or their activities (e.g. NOT \"Smokers huddled by door\")\n  - NO clothing that characters are currently WEARING - that goes in character outfits\n  - Only include clothing as props if REMOVED and placed somewhere (e.g. \"Discarded jacket on chair\")\n- Update props: new items introduced, items picked up/removed, items changing state.\n- If no location change occurred, return the previous location but consider prop changes.\n- Be careful to track items that have been picked up (remove from props) or put down (add to props).\n</instructions>\n\n<examples>\n<example>\n<input>\n*Elena finally let herself relax, kicking off her heels with a relieved sigh. They tumbled across the hardwood floor, coming to rest near the closet door. She shrugged out of her blazer and tossed it carelessly onto the armchair by the window, then padded over to the bed and flopped down face-first into the pillows.*\n\n*After a moment, she rolled onto her back and stared at the ceiling, her stockinged feet hanging off the edge of the mattress. The room was quiet except for the soft hum of the air conditioning and the muffled sounds of city traffic from far below. She reached over to the nightstand and grabbed her phone, scrolling through messages she'd been ignoring all day.*\n\n*The afternoon light filtered through the sheer curtains, casting long shadows across the Persian rug. Her laptop sat open on the desk across the room, screen dark but charging light blinking steadily. She should probably check her work email, but the thought made her groan and bury her face in the nearest pillow instead.*\n</input>\n<previous_location>\n{\n  \"area\": \"Upper East Side, Manhattan, NY\",\n  \"place\": \"Elena's Apartment (Unit 12B)\",\n  \"position\": \"Entryway\",\n  \"props\": [\"Coat rack\", \"Mirror\", \"Small table with keys bowl\", \"Umbrella stand\"]\n}\n</previous_location>\n<output>\n{\n  \"area\": \"Upper East Side, Manhattan, NY\",\n  \"place\": \"Elena's Apartment (Unit 12B)\",\n  \"position\": \"Master bedroom\",\n  \"props\": [\"Queen bed with pillows\", \"Nightstand with phone charger\", \"Armchair by window with discarded blazer\", \"Black heels near closet door\", \"Persian rug\", \"Desk with laptop (charging)\", \"Sheer curtains\", \"Air conditioning unit\"]\n}\n</output>\n<explanation>\n- position: Changed from \"Entryway\" to \"Master bedroom\" - she moved rooms. Note we don't say \"lying on bed\" (that's her pose, not her location)\n- props completely replaced: When moving to a new room, previous room's props (coat rack, mirror, etc.) are no longer relevant - we only track props in the CURRENT location\n- Removed clothing added to props: \"Black heels near closet door\" and \"Armchair by window with discarded blazer\" - both include WHERE the items ended up\n- New room props identified: Items she interacts with (bed, nightstand, phone) plus environmental details (rug, curtains, laptop) that could become relevant\n- State noted where relevant: \"laptop (charging)\" because the blinking light was mentioned and could matter\n</explanation>\n</example>\n\n<example>\n<input>\n*The storm had gotten worse since they'd arrived. Marcus stood at the cabin window, watching lightning illuminate the forest in staccato bursts. Rain hammered against the glass so hard he could feel the vibration through the frame. Behind him, Elena had gotten the old wood stove goingit crackled and popped, slowly pushing back against the chill that had seeped into the abandoned structure.*\n\n*She'd found some moth-eaten blankets in the closet and spread them on the dusty floor near the stove, creating a makeshift camp. Their wet jackets hung from nails in the wall, dripping steadily onto the warped floorboards. Marcus had dragged in some firewood from the covered porch, stacking it near the door where it could dry out.*\n\n*The cabin was sparsejust the one room with a rusted kitchenette in the corner and what might have once been a bed frame, now just bare springs and rotten wood. But it had a roof that mostly didn't leak, and right now that was enough.*\n\nElena: \"Come sit by the fire. You're not going to make the storm stop by glaring at it.\"\n</input>\n<previous_location>\n{\n  \"area\": \"Cascade Mountains, Washington\",\n  \"place\": \"Forest Trail\",\n  \"position\": \"Rocky outcropping (seeking shelter)\",\n  \"props\": [\"Dense pine trees\", \"Trail marker\", \"Loose rocks\", \"Marcus's backpack\"]\n}\n</previous_location>\n<output>\n{\n  \"area\": \"Cascade Mountains, Washington\",\n  \"place\": \"Abandoned Ranger Cabin\",\n  \"position\": \"Main room\",\n  \"props\": [\"Wood stove (lit, crackling)\", \"Moth-eaten blankets on floor near stove\", \"Wet jackets hanging on wall nails\", \"Firewood stack by door\", \"Rain-streaked window\", \"Rusted kitchenette\", \"Broken bed frame\", \"Covered porch (exterior)\"]\n}\n</output>\n<explanation>\n- area: Stays the same - they're still in the same mountain region\n- place: Changed from \"Forest Trail\" to \"Abandoned Ranger Cabin\" - they found shelter and moved indoors\n- position: \"Main room\" - simple spatial designation. NOT \"standing at window\" or \"by the fire\"\n- props transformation: Trail props completely replaced with cabin interior. Note we track:\n  * Items they brought/affected: \"Wet jackets hanging on wall nails\", \"Firewood stack by door\"\n  * Environmental features: \"Wood stove (lit, crackling)\", \"Rain-streaked window\"\n  * Potential interaction points: \"Rusted kitchenette\", \"Broken bed frame\", \"Moth-eaten blankets\"\n  * Connected spaces: \"Covered porch (exterior)\" mentioned for context since firewood came from there\n- State descriptors matter: \"lit, crackling\" for the stove, \"wet\" for jackets, \"rusted\" and \"broken\" for damaged items\n</explanation>\n</example>\n\n<example>\n<input>\n*Sarah carefully set down her coffee cup, leaving a ring on the manuscript pages scattered across the table. The interview had been going for nearly an hour now, and the small conference room felt increasingly claustrophobic. Detective Morrison sat across from her, his recorder blinking red between them, while his partner leaned against the wall by the doorblocking the exit, Sarah noted.*\n\n*The fluorescent lights buzzed overhead, one of them flickering intermittently in a way that was slowly driving her crazy. Someone had tried to make the room less institutional with a potted plant in the corner, but it was clearly fake and covered in dust. The blinds were drawn, cutting off any view of the bullpen outside, though she could hear phones ringing and people talking through the thin walls.*\n\n*Morrison slid another photograph across the tablethe third one in the last ten minutes. Sarah forced herself not to react, keeping her hands flat on the cool surface of the table. The chair was deliberately uncomfortable, she realized. Everything about this room was designed to make people want to leave, to say whatever would get them out fastest.*\n</input>\n<previous_location>\n{\n  \"area\": \"Downtown Precinct\",\n  \"place\": \"Central Police Station\",\n  \"position\": \"Main lobby waiting area\",\n  \"props\": [\"Plastic chairs\", \"Vending machines\", \"Bulletin board with wanted posters\", \"Front desk with duty officer\"]\n}\n</previous_location>\n<output>\n{\n  \"area\": \"Downtown Precinct\",\n  \"place\": \"Central Police Station\",\n  \"position\": \"Interview Room B\",\n  \"props\": [\"Metal table with scattered manuscript pages\", \"Coffee cup (with ring stain)\", \"Audio recorder (recording)\", \"Photographs (evidence)\", \"Uncomfortable metal chairs\", \"Flickering fluorescent lights\", \"Dusty fake plant in corner\", \"Drawn window blinds\", \"Single door (blocked by detective)\"]\n}\n</output>\n<explanation>\n- area/place: Unchanged - still in same building, just different room\n- position: Changed from \"Main lobby waiting area\" to \"Interview Room B\" - specific room designation inferred from context (police station interview rooms are typically lettered/numbered)\n- props completely refreshed for new room:\n  * Interview-specific items: \"Audio recorder (recording)\", \"Photographs (evidence)\", \"Metal table with scattered manuscript pages\"\n  * Items characters placed: \"Coffee cup (with ring stain)\" - detail matters for scene continuity\n  * Environmental/atmospheric: \"Flickering fluorescent lights\", \"Uncomfortable metal chairs\", \"Dusty fake plant\"\n  * Tactical note: \"Single door (blocked by detective)\" - relevant to scene tension even though it involves a character's position\n- Previous room props (vending machines, bulletin board, etc.) completely removed - not in current location\n</explanation>\n</example>\n\n<bad_example>\n<output>\n{\n  \"area\": \"Downtown Precinct\",\n  \"place\": \"Central Police Station\",\n  \"position\": \"Sitting nervously across from the detective, trying to stay calm\",\n  \"props\": [\"Plastic chairs\", \"Vending machines\", \"Bulletin board\", \"Audio recorder\", \"Photographs\"]\n}\n</output>\n<why_bad>\n- position contains character state: \"Sitting nervously\" and \"trying to stay calm\" are character poses and emotions, not spatial locations. Should be \"Interview Room B\" or \"Conference room\"\n- props mixed from two rooms: \"Plastic chairs\" and \"Vending machines\" were in the lobby, not the interview room. When location changes, props should COMPLETELY update to the new room\n- props lack state/context: \"Audio recorder\" should note \"(recording)\", \"Photographs\" should note \"(evidence)\" for scene relevance\n</why_bad>\n</bad_example>\n</examples>\n\n<previous_location>\n{{previousState}}\n</previous_location>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the current location as valid JSON:`,\n\t},\n\n\tclimate_initial: {\n\t\tkey: 'climate_initial',\n\t\tname: 'Climate - Initial',\n\t\tdescription: 'Extracts weather and temperature from scene opening',\n\t\tdefaultTemperature: 0.3,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.narrativeTime,\n\t\t\tCOMMON_PLACEHOLDERS.location,\n\t\t\tCOMMON_PLACEHOLDERS.characterInfo,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene and determine the current climate/weather. You must only return valid JSON with no commentary.\n\n<instructions>\n- Determine the weather and temperature for this scene.\n- Consider the narrative time and location to infer season and typical weather.\n- Look for explicit weather mentions: rain, snow, sunshine, etc.\n- Look for contextual clues: characters wearing coats, sweating, mentioning cold/heat.\n- If characters are indoors, weather should be what it is outside, but temperature should be indoor temperature.\n- Consider the hemisphere: December is winter in the northern hemisphere, summer in the southern.\n- Temperature should be in Fahrenheit.\n</instructions>\n\n<examples>\n<example>\n<narrative_time>Wednesday, January 15, 2024 at 7:30 PM</narrative_time>\n<location>Minneapolis, Minnesota - Elena's Apartment (Living room)</location>\n<input>\n*Elena pressed her forehead against the cold window, watching the snow pile up on the fire escape outside. The forecast had warned about thisthe worst blizzard in a decade, they said. Already the cars parked on the street below were nothing but white lumps, and the wind was howling loud enough to hear through the double-paned glass.*\n\n*She pulled her cardigan tighter and retreated to the couch, where Marcus had made a nest of blankets. The radiator was clanking away in the corner, working overtime, but it could only do so much against a Minnesota winter.*\n\nMarcus: \"Power company says to expect outages tonight.\" *He held up his phone.* \"I filled the bathtub just in case.\"\n\nElena: \"Smart.\" *She curled up against him, stealing his warmth.* \"I'm glad I'm not trying to drive in this.\"\n\n*Another gust of wind rattled the windows, and somewhere in the building, a door slammed.*\n</input>\n<output>\n{\n  \"weather\": \"Heavy snowfall with blizzard conditions, strong winds\",\n  \"temperature\": 68\n}\n</output>\n<explanation>\nWEATHER: Explicitly described - \"worst blizzard in a decade,\" heavy snow visible on cars/fire escape, howling wind, windows rattling.\n\nTEMPERATURE: 68F - This is INDOOR temperature:\n- They're inside the apartment (living room)\n- Radiator is \"working overtime\" but \"can only do so much\"\n- Elena is cold enough to pull cardigan tighter and seek Marcus's warmth\n- 68F represents a slightly cool but still heated indoor space during a blizzard\n- Outside would be well below freezing (single digits or negative), but we report indoor temp since they're indoors\n\nKey principle: When characters are indoors, report indoor temperature but outdoor weather. The weather affects the scene (visible through windows, wind rattling them) but temperature should reflect their immediate environment.\n</explanation>\n</example>\n\n<example>\n<narrative_time>Saturday, August 3, 2024 at 2:15 PM</narrative_time>\n<location>Phoenix, Arizona - Desert Botanical Garden (Main pathway)</location>\n<input>\n*The heat was absolutely brutal. Marcus could feel sweat soaking through his shirt within minutes of leaving the air-conditioned visitor center. The sun beat down from a cloudless sky, reflecting off the pale gravel paths until he had to squint even with sunglasses.*\n\n*Elena had insisted on seeing the saguaro collection, and he'd agreed before checking the weather. 115 degrees, the sign at the entrance had warned. Even the cacti looked like they were struggling. They passed a family heading back toward the buildings, the kids red-faced and whining, one of them being carried.*\n\nElena: *fanning herself with the park map* \"Maybe we should have done this in the morning.\"\n\nMarcus: \"You think?\" *He pointed to a shaded ramada up ahead.* \"Let's at least get out of direct sun.\"\n\n*They hurried to the shade, but it barely helped. The air itself felt like an oven, shimmering over the desert landscape in visible waves.*\n</input>\n<output>\n{\n  \"weather\": \"Clear, cloudless, extreme sun exposure\",\n  \"temperature\": 115\n}\n</output>\n<explanation>\nWEATHER: \"Clear, cloudless, extreme sun exposure\"\n- \"cloudless sky\" explicitly stated\n- Emphasis on brutal direct sunlight\n- No moisture, no clouds, no relief\n\nTEMPERATURE: 115F - OUTDOOR temperature:\n- Explicitly stated on the entrance sign\n- They're outdoors on the garden pathway\n- Multiple heat indicators: soaking sweat, squinting, kids overheating, shimmering air\n- This is actual ambient temperature, not just \"feels like\"\n\nPhoenix in August commonly hits 115F+. The scene confirms extreme heat through physical reactions (sweating through shirt, seeking shade desperately) and environmental details (shimmering air, heat waves).\n</explanation>\n</example>\n\n<example>\n<narrative_time>Friday, October 18, 2024 at 6:45 PM</narrative_time>\n<location>Portland, Oregon - Waterfront Park (Riverside path)</location>\n<input>\n*The rain had been falling steadily all afternoon, the kind of gray Pacific Northwest drizzle that wasn't heavy enough for an umbrella but somehow still got you soaked. Elena pulled up the hood of her rain jacket and fell into step beside Marcus, their boots splashing through shallow puddles on the riverside path.*\n\n*The Willamette River was high and fast-moving, swollen with runoff. Across the water, the lights of downtown Portland glowed soft and hazy through the mist. A few other hardy souls were out walkingjoggers, mostly, seemingly immune to the weather.*\n\nMarcus: \"I love this, you know.\" *He spread his arms, letting the rain hit his face.* \"Everyone else hides from it, but this is real Portland.\"\n\nElena: \"You're insane.\" *But she was smiling.* \"My socks are going to be wet for days.\"\n\n*A gust of wind blew spray off the river, adding to the general dampness. The temperature had dropped since sunset, and Elena could see her breath now, thin wisps of vapor disappearing into the gray.*\n</input>\n<output>\n{\n  \"weather\": \"Steady light rain, misty, overcast\",\n  \"temperature\": 48\n}\n</output>\n<explanation>\nWEATHER: \"Steady light rain, misty, overcast\"\n- \"Gray Pacific Northwest drizzle\" - classic description of light but persistent rain\n- \"Mist\" explicitly mentioned (downtown visible but hazy)\n- Rain steady enough to soak through clothes over time\n- Overcast implied by gray sky, no sun mentioned\n\nTEMPERATURE: 48F - OUTDOOR temperature:\n- They're outside on the riverside path\n- Cool enough to see breath (\"thin wisps of vapor\")\n- Temperature \"dropped since sunset\" - evening in October\n- 48F is typical for Portland in October evening with rain\n- Not cold enough for winter gear, but uncomfortable when wet\n\nNote the difference from indoor scenes: here we track actual outdoor temperature since they're outside in the weather.\n</explanation>\n</example>\n</examples>\n\n<narrative_time>\n{{narrativeTime}}\n</narrative_time>\n\n<location>\n{{location}}\n</location>\n\n<character_info>\n{{characterInfo}}\n</character_info>\n\n<scene_messages>\n{{messages}}\n</scene_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the climate as valid JSON:`,\n\t},\n\n\tclimate_update: {\n\t\tkey: 'climate_update',\n\t\tname: 'Climate - Update',\n\t\tdescription: 'Updates weather/temperature based on recent messages',\n\t\tdefaultTemperature: 0.3,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.narrativeTime,\n\t\t\tCOMMON_PLACEHOLDERS.location,\n\t\t\tCOMMON_PLACEHOLDERS.previousState,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and determine if the climate has changed. You must only return valid JSON with no commentary.\n\n<instructions>\n- Check if weather or temperature has changed since the previous state.\n- Weather can change: storm rolling in, rain stopping, etc.\n- Temperature can change: moving indoors/outdoors, time passing, heating/AC mentioned.\n- Consider the current narrative time when inferring temperature changes.\n- If characters moved indoors/outdoors, adjust temperature accordingly.\n- Temperature should be in Fahrenheit.\n</instructions>\n\n<examples>\n<example>\n<narrative_time>Saturday, August 3, 2024 at 2:45 PM</narrative_time>\n<location>Phoenix, Arizona - Desert Botanical Garden (Visitor Center cafe)</location>\n<previous_climate>\n{\n  \"weather\": \"Clear, cloudless, extreme sun exposure\",\n  \"temperature\": 115\n}\n</previous_climate>\n<input>\n*The air conditioning hit them like a wall of blessed relief as they pushed through the visitor center doors. Marcus stood just inside the entrance for a moment, arms spread, letting the cool air wash over his sweat-soaked shirt.*\n\nMarcus: \"I'm never leaving this building.\"\n\nElena: *laughing* \"Dramatic.\" *She made a beeline for the water fountain, drinking deeply.* \"But also same.\"\n\n*The cafe was sparsely populatedmost sensible people had either come in the early morning or stayed home entirely. They found a table by the window, where they could watch the heat shimmer outside without being in it. A ceiling fan rotated lazily overhead, adding to the refrigerated chill.*\n\nElena: \"I think my skin is still radiating heat.\"\n\nMarcus: \"Well, the sign says it's 72 in here, so you should cool down eventually.\" *He nodded toward a digital temperature display on the wall.*\n</input>\n<output>\n{\n  \"weather\": \"Clear, cloudless, extreme sun exposure\",\n  \"temperature\": 72\n}\n</output>\n<explanation>\nWEATHER: UNCHANGED - \"Clear, cloudless, extreme sun exposure\"\n- They moved indoors, but weather outside hasn't changed\n- Still visible through the window (heat shimmer)\n- Weather tracks outdoor conditions even when characters are inside\n\nTEMPERATURE: 115F  72F - CHANGED due to moving indoors\n- Explicitly stated on digital display: 72F\n- Strong AC indicated by \"blessed relief\" and \"refrigerated chill\"\n- Dramatic contrast between outdoor heat and indoor comfort\n- Temperature tracks characters' immediate environment\n\nThis is the key indoor/outdoor distinction: when characters move inside, temperature changes to reflect their environment, but weather remains the outdoor condition.\n</explanation>\n</example>\n\n<example>\n<narrative_time>Wednesday, January 15, 2024 at 11:30 PM</narrative_time>\n<location>Minneapolis, Minnesota - Elena's Apartment (Living room)</location>\n<previous_climate>\n{\n  \"weather\": \"Heavy snowfall with blizzard conditions, strong winds\",\n  \"temperature\": 68\n}\n</previous_climate>\n<input>\n*The power had gone out two hours ago. Elena and Marcus huddled together on the couch under every blanket they owned, their breath visible in the flashlight beam. The radiator had gone cold and silent, and the temperature was dropping fast.*\n\n*Outside, the storm had intensifiedif that was even possible. The wind was screaming now, a constant howl that made the old building creak and groan. Through the frosted window, Elena couldn't even see the building across the street anymore, just a wall of swirling white.*\n\nMarcus: *checking his phone* \"Still no update on when power's coming back.\"\n\nElena: *shivering* \"How cold do you think it is in here now?\"\n\nMarcus: \"I'd guess low fifties? The pipes are going to freeze if this keeps up.\"\n\n*She pulled the blankets tighter, pressing herself against him. At least body heat was free.*\n</input>\n<output>\n{\n  \"weather\": \"Severe blizzard, whiteout conditions, dangerously high winds\",\n  \"temperature\": 52\n}\n</output>\n<explanation>\nWEATHER: Updated from \"Heavy snowfall with blizzard conditions\"  \"Severe blizzard, whiteout conditions, dangerously high winds\"\n- Storm has intensified (\"if that was even possible\")\n- Visibility now zero (can't see building across street)\n- Wind upgraded from \"strong\" to \"screaming\" and \"constant howl\"\n- Weather can change during scenes; track these updates\n\nTEMPERATURE: 68F  52F - DROPPED due to power outage\n- Power out for 2 hours, radiator cold\n- Breath now visible indoors (wasn't before)\n- Marcus estimates \"low fifties\"\n- Temperature dropping because heating failed\n- Still indoor temp, but indoor conditions have changed dramatically\n\nBoth fields changed this time: weather intensified AND indoor temperature dropped. Track each independently based on what the scene describes.\n</explanation>\n</example>\n\n<example>\n<narrative_time>Friday, October 18, 2024 at 9:30 PM</narrative_time>\n<location>Portland, Oregon - Marcus's House (Enclosed back porch)</location>\n<previous_climate>\n{\n  \"weather\": \"Steady light rain, misty, overcast\",\n  \"temperature\": 48\n}\n</previous_climate>\n<input>\n*The rain had finally stopped, though water still dripped from the gutters and the trees in Marcus's backyard. Elena stood on the enclosed back porch, a mug of tea warming her hands, watching the clouds break apart to reveal patches of stars.*\n\nMarcus: *joining her* \"Hey, look at thatyou can actually see the moon.\"\n\n*It was true. The clouds were moving fast, pushed by upper-level winds, and a three-quarter moon was emerging from behind them. The air felt cleaner now, washed fresh by the rain, though it had gotten noticeably colder since the sky cleared.*\n\nElena: \"It's beautiful. But cold.\" *She pulled her sweater sleeves down over her hands.* \"Probably thirty degrees colder than when we were at the waterfront.\"\n\nMarcus: \"Clear skies do that. All the heat radiates away.\" *He put an arm around her.* \"Want to go back inside?\"\n\nElena: \"In a minute. I want to see if we can spot any constellations.\"\n</input>\n<output>\n{\n  \"weather\": \"Clear and clearing, post-rain, partial moon visible\",\n  \"temperature\": 45\n}\n</output>\n<explanation>\nWEATHER: \"Steady light rain, misty, overcast\"  \"Clear and clearing, post-rain, partial moon visible\"\n- Rain stopped (major change)\n- Clouds breaking up, moon and stars visible\n- \"Post-rain\" captures the recent weather context (water dripping, fresh air)\n\nTEMPERATURE: 48F  45F - SLIGHT drop\n- They're on an ENCLOSED porch (semi-outdoor)\n- Clear skies = radiative cooling (Marcus explains this)\n- Elena notes it's \"noticeably colder\" since clouds cleared\n- ~3F drop is realistic for clearing skies in evening\n- Not as cold as fully outdoors would be, but cooler than inside\n\nThe enclosed porch is a middle ground - affected by outdoor temperature but somewhat sheltered. Temperature reflects this semi-outdoor environment.\n</explanation>\n</example>\n</examples>\n\n<narrative_time>\n{{narrativeTime}}\n</narrative_time>\n\n<current_location>\n{{location}}\n</current_location>\n\n<previous_climate>\n{{previousState}}\n</previous_climate>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the current climate as valid JSON:`,\n\t},\n\n\tcharacters_initial: {\n\t\tkey: 'characters_initial',\n\t\tname: 'Characters - Initial',\n\t\tdescription: 'Extracts all character states from scene opening',\n\t\tdefaultTemperature: 0.7,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.userInfo,\n\t\t\tCOMMON_PLACEHOLDERS.characterInfo,\n\t\t\tCOMMON_PLACEHOLDERS.location,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene and extract all character states. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Extract all characters present in the scene.\n- For each character, determine their position, activity, mood, physical state, and outfit.\n- Make reasonable inferences where information is not explicit.\n</general>\n<outfit_rules>\n- Consider whether the character would usually wear clothes (ponies, Pokmon, animals typically don't).\n- For non-clothed species, return null for all outfit slots unless explicitly dressed.\n- Be specific: 't-shirt' not 'default top' or 'unspecified top'.\n- Include underwear/socks with reasonable assumptions for clothed characters.\n- Fur, scales, and other anatomy do NOT count as outfit items.\n- If clothing is described as removed or off, set that slot to null.\n- neck slot: necklaces, chokers, scarves, ties, collars.\n- back slot: backpacks, quivers, cloaks, capes, messenger bags, holsters.\n</outfit_rules>\n</instructions>\n\n<examples>\n<example>\n<input>\n*The coffee shop was quiet for a Monday morning. Elena sat in her usual corner booth, laptop open but ignored as she stared out the rain-streaked window. She'd thrown on her favorite oversized cardigan over a simple white tank top before leaving the apartment, paired with the worn jeans she always reached for on days when she needed comfort. Her hair was still damp from the shower, pulled back in a messy ponytail that dripped occasionally onto her shoulders.*\n\n*She wrapped both hands around her latte, letting the warmth seep into her fingers. The shop's AC was cranked too high, as usual, and she wished she'd worn something warmer. Her phone buzzed on the tableprobably Marcus againbut she couldn't bring herself to look at it yet. Instead, she watched a businessman outside struggle with his umbrella in the wind, his expensive suit getting splattered despite his efforts.*\n\n*Her laptop pinged with a new email notification. Work. Always work. Elena sighed and finally pulled the computer closer, resigned to dealing with whatever crisis had erupted overnight. Her reading glasses were somewhere in her bag, but she didn't feel like digging for them.*\n</input>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Corner booth by window\",\n  \"activity\": \"Reluctantly checking work emails, holding latte\",\n  \"mood\": [\"melancholy\", \"reluctant\", \"tired\"],\n  \"physicalState\": [\"cold\", \"damp hair\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": \"Oversized cardigan\",\n    \"back\": null,\n    \"torso\": \"White tank top\",\n    \"legs\": \"Worn comfortable jeans\",\n    \"underwear\": \"Cotton bra and panties\",\n    \"socks\": \"Ankle socks\",\n    \"footwear\": \"Canvas sneakers\"\n  }\n}]\n</output>\n<explanation>\n- position: \"Corner booth by window\" - spatial location extracted from \"usual corner booth\" and \"stared out the window\"\n- activity: Combines her current action (checking emails) with physical detail (holding latte) to paint the scene\n- mood: Multiple moods captured - \"melancholy\" from window staring, \"reluctant\" from avoiding phone/emails, \"tired\" from overall tone\n- physicalState: \"cold\" (AC too high, wished for warmer clothes) and \"damp hair\" (still wet from shower)\n- outfit inference reasoning:\n  * jacket: \"Oversized cardigan\" explicitly mentioned\n  * torso: \"White tank top\" explicitly mentioned\n  * legs: \"Worn jeans\" explicitly mentioned, added \"comfortable\" based on context about comfort-seeking\n  * underwear: NOT mentioned, but inferred as \"Cotton bra and panties\" - simple, practical choice matching the casual comfort-focused outfit. A tank top requires a bra; the casual vibe suggests cotton over lace\n  * socks: NOT mentioned, but inferred as \"Ankle socks\" - jeans typically worn with socks; casual outfit suggests simple ankle socks\n  * footwear: NOT mentioned, but inferred as \"Canvas sneakers\" - casual comfort outfit + rainy day + jeans strongly suggests sneakers over heels or sandals\n  * neck: null - no neckwear mentioned or contextually implied\n  * back: null - she's sitting in a cafe, no bag/backpack mentioned\n- Key principle: NEVER use \"unspecified\" or \"unknown\" - always make a reasonable inference based on the outfit style, occasion, and character context\n</explanation>\n</example>\n\n<example>\n<input>\n*Detective Morrison entered the precinct looking like he hadn't slept in dayswhich, to be fair, he hadn't. His tie was loosened, top button undone, and his usually crisp white dress shirt had developed a concerning coffee stain near the pocket. The shoulder holster was visible under his rumpled gray suit jacket, service weapon a familiar weight against his ribs.*\n\n*He tossed his badge on the desk and dropped into his chair with a groan, the old springs protesting loudly. Three days on this case and they were no closer to finding the girl. The case files were still spread across his desk from last night, photos and reports mixed together in organized chaos that only made sense to him.*\n\n*His partner Chen looked up from her own desk, raising an eyebrow at his disheveled state. She was, as always, immaculately put togetherpressed navy blazer, hair in a perfect bun, not a wrinkle in sight. How she managed it on the same hours he was working remained one of life's great mysteries.*\n\nMorrison: \"Don't say it.\"\nChen: \"Wasn't going to say anything.\" *She slid a fresh coffee across the desk toward him.* \"You look like hell, by the way.\"\n</input>\n<output>\n[{\n  \"name\": \"Morrison\",\n  \"position\": \"At his desk\",\n  \"activity\": \"Just arrived, accepting coffee from partner\",\n  \"mood\": [\"exhausted\", \"frustrated\", \"grimly determined\"],\n  \"physicalState\": [\"sleep-deprived\", \"disheveled\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": \"Loosened striped tie\",\n    \"jacket\": \"Rumpled gray suit jacket\",\n    \"back\": null,\n    \"torso\": \"White dress shirt (coffee-stained, top button undone)\",\n    \"legs\": \"Gray suit trousers\",\n    \"underwear\": \"White undershirt, boxers\",\n    \"socks\": \"Black dress socks\",\n    \"footwear\": \"Black leather oxfords\"\n  }\n},\n{\n  \"name\": \"Chen\",\n  \"position\": \"At her desk across from Morrison\",\n  \"activity\": \"Offering coffee to partner, light teasing\",\n  \"mood\": [\"alert\", \"professional\", \"slightly amused\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": \"Simple gold chain necklace\",\n    \"jacket\": \"Pressed navy blazer\",\n    \"back\": null,\n    \"torso\": \"White silk blouse\",\n    \"legs\": \"Navy dress trousers\",\n    \"underwear\": \"Seamless nude bra and panties\",\n    \"socks\": \"Sheer nude knee-highs\",\n    \"footwear\": \"Navy low heels\"\n  }\n}]\n</output>\n<explanation>\nTWO characters extracted - both detectives present in the scene.\n\nMorrison:\n- physicalState: \"sleep-deprived\" and \"disheveled\" - multiple states can coexist\n- outfit details: State descriptors in parentheses - \"(coffee-stained, top button undone)\" for the shirt\n- legs: \"Gray suit trousers\" inferred to match the \"gray suit jacket\" - suits come as sets\n- underwear: \"White undershirt, boxers\" - male detective in a suit would typically wear an undershirt; boxers are standard professional default for men\n- socks: \"Black dress socks\" - standard with suit and dark shoes\n- footwear: \"Black leather oxfords\" - classic detective/professional male footwear, matches suit\n\nChen:\n- mood includes \"slightly amused\" from her teasing\n- outfit is described as immaculate/pressed - reflects personality\n- torso: \"White silk blouse\" inferred - blazers typically worn over blouses in professional settings; silk matches her put-together appearance\n- underwear: \"Seamless nude bra and panties\" - professional women often wear seamless undergarments under fitted clothing to avoid visible lines\n- socks: \"Sheer nude knee-highs\" - professional women in trousers often wear knee-highs rather than full pantyhose for comfort\n- footwear: \"Navy low heels\" - matches the navy blazer, professional but practical for detective work\n\nKey inference principles:\n1. Match underwear formality to outfit formality (silk blouse  nicer undergarments)\n2. Consider practicality (detective work  low heels, not stilettos)\n3. Color coordinate where logical (navy suit pieces together)\n4. Account for gender norms in professional settings\n</explanation>\n</example>\n\n<example>\n<input>\n*The Pikachu bounced excitedly around the Pokemon Center lobby, cheeks sparking with barely contained electricity. Its trainer, a young woman with bright pink hair, was trying desperately to calm it down before it short-circuited the healing machines again.*\n\nNurse Joy: \"Perhaps some fresh air would help? The courtyard is lovely this time of day.\"\n\n*The trainerher name tag read 'Zoe'sighed and scooped up the energetic electric mouse, tucking it under her arm like a fuzzy yellow football. She was dressed for travel: sturdy hiking boots, cargo shorts with about a million pockets, and a fitted black athletic top that had seen better days. A large backpack sat on the bench behind her, covered in patches from different gym badges and travel destinations.*\n\nZoe: \"Sorry, he gets like this after battles. Too much energy and nowhere to put it.\"\n\n*The Pikachu's ears twitched, and it let out a cheerful 'Pika!' before settling down slightly, though its tail still wagged against Zoe's hip.*\n</input>\n<output>\n[{\n  \"name\": \"Pikachu\",\n  \"position\": \"Being held under Zoe's arm\",\n  \"activity\": \"Calming down after excitement, tail wagging\",\n  \"mood\": [\"excited\", \"energetic\", \"happy\"],\n  \"physicalState\": [\"excess electrical charge\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": null,\n    \"legs\": null,\n    \"underwear\": null,\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Zoe\",\n  \"position\": \"Near Pokemon Center lobby bench\",\n  \"activity\": \"Holding Pikachu, apologizing to Nurse Joy\",\n  \"mood\": [\"exasperated\", \"apologetic\", \"fond\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": \"Large travel backpack (on bench)\",\n    \"torso\": \"Black fitted athletic top (worn)\",\n    \"legs\": \"Cargo shorts with multiple pockets\",\n    \"underwear\": \"Sports bra and athletic briefs\",\n    \"socks\": \"Thick hiking socks\",\n    \"footwear\": \"Sturdy hiking boots\"\n  }\n},\n{\n  \"name\": \"Nurse Joy\",\n  \"position\": \"Behind Pokemon Center counter\",\n  \"activity\": \"Suggesting the courtyard, being helpful\",\n  \"mood\": [\"patient\", \"helpful\", \"professional\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": \"Nurse cap\",\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Pink nurse uniform dress\",\n    \"legs\": \"Pink nurse uniform dress\",\n    \"underwear\": \"White practical bra and panties\",\n    \"socks\": \"White knee-high stockings\",\n    \"footwear\": \"White nursing shoes\"\n  }\n}]\n</output>\n<explanation>\nTHREE characters extracted, including the Pokemon:\n\nPikachu (non-human):\n- ALL outfit slots are null - Pokemon don't wear clothes by default\n- physicalState: \"excess electrical charge\" - this IS tracked for non-humans as it's a relevant physical condition\n- mood still tracked normally - Pokemon have emotions\n\nZoe (Pokemon trainer):\n- outfit matches \"dressed for travel\" description with practical/athletic theme\n- underwear: \"Sports bra and athletic briefs\" - inferred from athletic top and active lifestyle. Someone in hiking gear and athletic wear would wear athletic undergarments, not lace\n- socks: \"Thick hiking socks\" - hiking boots require substantial socks; this is a practical inference\n- State descriptor \"(worn)\" added to athletic top since text mentioned \"had seen better days\"\n\nNurse Joy (uniform character):\n- Iconic uniform character - nurse cap, pink dress, white accessories\n- torso AND legs both list \"Pink nurse uniform dress\" - it's a single garment covering both\n- underwear: \"White practical bra and panties\" - professional medical setting suggests practical, likely white to not show under uniform\n- socks: \"White knee-high stockings\" - traditional nurse uniform includes white stockings\n- footwear: \"White nursing shoes\" - comfortable, professional medical footwear\n\nKey species principle: Pokemon, animals, and non-humanoid creatures get null for ALL outfit slots unless they're explicitly wearing something (like a Pokemon costume or accessory). But they still have mood and physicalState.\n</explanation>\n</example>\n\n<bad_example>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": \"Cardigan\",\n    \"back\": null,\n    \"torso\": \"Tank top\",\n    \"legs\": \"Jeans\",\n    \"underwear\": \"Unspecified undergarments\",\n    \"socks\": \"Unknown\",\n    \"footwear\": \"Shoes\"\n  }\n}]\n</output>\n<why_bad>\n- \"Unspecified undergarments\" and \"Unknown\" are NEVER acceptable - always infer based on outfit style and context\n- Outfit items lack detail: \"Cardigan\" should be \"Oversized cardigan\", \"Tank top\" should be \"White tank top\", \"Jeans\" should be \"Worn comfortable jeans\"\n- \"Shoes\" is too vague - specify the type based on outfit context (sneakers, heels, boots, etc.)\n- Missing state descriptors where relevant\n- Should infer: casual outfit = cotton underwear, ankle socks, canvas sneakers\n</why_bad>\n</bad_example>\n</examples>\n\n<character_info>\n{{userInfo}}\n\n{{characterInfo}}\n</character_info>\n\n<current_location>\n{{location}}\n</current_location>\n\n<scene_messages>\n{{messages}}\n</scene_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract all characters as valid JSON array:`,\n\t},\n\n\tcharacters_update: {\n\t\tkey: 'characters_update',\n\t\tname: 'Characters - Update',\n\t\tdescription: 'Updates character states based on recent messages',\n\t\tdefaultTemperature: 0.7,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.location,\n\t\t\tCOMMON_PLACEHOLDERS.previousState,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and update character states. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Start from the previous state and apply changes from the messages.\n- Watch for: characters entering/exiting, position changes, mood shifts, outfit changes.\n</general>\n<presence_tracking>\nCRITICAL: Track which characters are PRESENT in the scene.\n\nREMOVE characters who have LEFT:\n- Walked out of the building/location entirely\n- Went to another room AND closed the door behind them\n- Drove/ran/walked away out of sight\n- Any situation where POV character can no longer see or interact with them\n\nADD characters who have ENTERED:\n- Arrived at the location (came home, walked in, etc.)\n- Came into the room from elsewhere in the building\n- Appeared/showed up in the scene\n\nIf a character leaves, they should NOT be in the output array.\nIf a character enters, ADD them with inferred state from context.\n</presence_tracking>\n<outfit_tracking>\n- If clothing is removed, set that slot to null.\n- Add removed clothing to location props (handled separately, just set slot to null here).\n- Do NOT suffix with '(off)', '(removed)' - just set to null.\n- Be specific about partially removed items: 'white panties (pulled aside)'.\n- Track which foot if only one shoe/sock remains.\n- neck slot: necklaces, chokers, scarves, ties, collars.\n- back slot: backpacks, quivers, cloaks, capes, messenger bags.\n</outfit_tracking>\n<position_and_mood>\n- Update positions as characters move.\n- Update moods based on dialogue, reactions, internal thoughts.\n</position_and_mood>\n<pruning>\n- Clear physical states that have resolved.\n</pruning>\n</instructions>\n\n<examples>\n<example>\n<input>\n*Elena stretched her arms over her head with a yawn, then reached down to unzip her boots. The left one came off easily, thudding to the floor beside the couch, but the right one's zipper stuck halfway. She muttered a curse and tugged harder until it finally gave way, sending her sock-clad foot free.*\n\n*She wiggled her toes gratefully and pulled her legs up onto the cushions, tucking them beneath her. The blazer she'd been wearing all day felt suddenly suffocating, so she shrugged out of it and tossed it over the back of the couch. Much better. She loosened the top two buttons of her blouse, feeling like she could finally breathe.*\n\nMarcus: *glancing up from his laptop* \"Long day?\"\n\nElena: \"You have no idea.\" *She pulled the elastic from her hair, shaking her ponytail loose and running her fingers through it.* \"Peterson had me in meetings from nine to six. I think I've permanently lost feeling in my feet.\"\n\n*She rubbed her neck, tilting her head from side to side to work out the knots. The headache that had been building all afternoon was finally starting to fade now that she was home.*\n</input>\n<previous_state>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Standing in the entryway\",\n  \"activity\": \"Just arriving home\",\n  \"mood\": [\"tired\", \"stressed\"],\n  \"physicalState\": [\"tension headache\"],\n  \"outfit\": {\n    \"head\": \"Hair in ponytail\",\n    \"neck\": \"Pearl earrings and simple silver necklace\",\n    \"jacket\": \"Charcoal gray blazer\",\n    \"back\": null,\n    \"torso\": \"White silk blouse\",\n    \"legs\": \"Black pencil skirt\",\n    \"underwear\": \"Nude seamless bra and panties\",\n    \"socks\": \"Sheer black knee-highs\",\n    \"footwear\": \"Black leather ankle boots\"\n  }\n},\n{\n  \"name\": \"Marcus\",\n  \"position\": \"On the living room couch\",\n  \"activity\": \"Working on laptop\",\n  \"mood\": [\"focused\", \"relaxed\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Navy henley shirt\",\n    \"legs\": \"Gray sweatpants\",\n    \"underwear\": \"Boxer briefs\",\n    \"socks\": \"White athletic socks\",\n    \"footwear\": null\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Curled up on the couch\",\n  \"activity\": \"Decompressing, talking with Marcus\",\n  \"mood\": [\"exhausted\", \"relieved\", \"comfortable\"],\n  \"physicalState\": [\"sore feet\", \"neck tension\", \"headache fading\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": \"Pearl earrings and simple silver necklace\",\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"White silk blouse (top buttons undone)\",\n    \"legs\": \"Black pencil skirt\",\n    \"underwear\": \"Nude seamless bra and panties\",\n    \"socks\": \"Sheer black knee-highs\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Marcus\",\n  \"position\": \"On the living room couch\",\n  \"activity\": \"Working on laptop, chatting with Elena\",\n  \"mood\": [\"focused\", \"relaxed\", \"attentive\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Navy henley shirt\",\n    \"legs\": \"Gray sweatpants\",\n    \"underwear\": \"Boxer briefs\",\n    \"socks\": \"White athletic socks\",\n    \"footwear\": null\n  }\n}]\n</output>\n<explanation>\nMultiple changes tracked for Elena:\n\nPOSITION changed: \"Standing in the entryway\"  \"Curled up on the couch\" - she moved and changed posture\n\nMOOD evolved: \"tired, stressed\"  \"exhausted, relieved, comfortable\" - same base tiredness but context shifted to being home\n\nPHYSICAL STATE updated:\n- \"tension headache\"  \"headache fading\" - still present but improving, as noted in text\n- Added \"sore feet\" and \"neck tension\" - explicitly mentioned complaints\n\nOUTFIT changes (4 items affected):\n1. head: \"Hair in ponytail\"  null - she removed the elastic and let her hair down\n2. jacket: \"Charcoal gray blazer\"  null - tossed over back of couch (FULLY removed = null)\n3. torso: \"White silk blouse\"  \"White silk blouse (top buttons undone)\" - PARTIALLY changed, so we keep the item but add state descriptor\n4. footwear: \"Black leather ankle boots\"  null - both boots removed (note: we don't need to track each boot separately since both were removed)\n\nItems that did NOT change remain exactly as they were: legs, underwear, socks\n\nMarcus: Minimal changes - just added \"attentive\" to mood since he asked about her day. Everything else unchanged.\n\nKey principles demonstrated:\n- Fully removed items  null (blazer, boots, hair elastic)\n- Partially modified items  keep item with state descriptor (blouse with buttons undone)\n- Hair accessories count as \"head\" slot\n- Physical states can be updated/evolved, not just added/removed\n</explanation>\n</example>\n\n<example>\n<input>\n*The rain had soaked through everything. Marcus peeled off his ruined leather jacketbeyond saving at this pointand dropped it in a wet heap by the door. His t-shirt underneath was plastered to his skin, and he grabbed the hem and pulled it over his head without ceremony, revealing the fresh bandage wrapped around his ribs.*\n\nElena: *eyes widening* \"Jesus, what happened to you?\"\n\nMarcus: \"Just a scratch.\" *He kicked off his waterlogged boots, grimacing as he put weight on his left ankle.* \"The other guy looks worse.\"\n\n*He limped toward the bathroom, leaving a trail of wet footprints on the hardwood. His jeans hung heavy with water, but he couldn't deal with those until he got somewhere with a towel. His socks squelched with every stepdefinitely ruined.*\n\nElena: \"Marcus, that bandage is bleeding through. Sit down, let me look at it.\"\n\n*He paused at the bathroom door, one hand braced against the frame. In the better lighting, Elena could see the bruise forming along his jaw and the split in his lip that was still seeping.*\n\nMarcus: \"I'm fine. Just need to dry off.\"\n</input>\n<previous_state>\n[{\n  \"name\": \"Marcus\",\n  \"position\": \"Outside, approaching the building\",\n  \"activity\": \"Making his way home in the rain\",\n  \"mood\": [\"determined\", \"pained\"],\n  \"physicalState\": [\"injured ribs (bandaged)\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": \"Black leather jacket\",\n    \"back\": null,\n    \"torso\": \"Gray cotton t-shirt\",\n    \"legs\": \"Dark blue jeans\",\n    \"underwear\": \"Black boxer briefs\",\n    \"socks\": \"Black crew socks\",\n    \"footwear\": \"Brown leather boots\"\n  }\n},\n{\n  \"name\": \"Elena\",\n  \"position\": \"In the apartment living room\",\n  \"activity\": \"Waiting anxiously\",\n  \"mood\": [\"worried\", \"anxious\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Oversized band t-shirt\",\n    \"legs\": \"Cotton sleep shorts\",\n    \"underwear\": \"Cotton panties, no bra\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Marcus\",\n  \"position\": \"At bathroom doorway\",\n  \"activity\": \"Refusing medical attention, bracing against door frame\",\n  \"mood\": [\"stubborn\", \"pained\", \"dismissive\"],\n  \"physicalState\": [\"injured ribs (bandaged, bleeding through)\", \"sprained left ankle\", \"bruised jaw\", \"split lip (bleeding)\", \"soaking wet\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": null,\n    \"legs\": \"Dark blue jeans (waterlogged)\",\n    \"underwear\": \"Black boxer briefs\",\n    \"socks\": \"Black crew socks (soaked, ruined)\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Elena\",\n  \"position\": \"In the apartment living room\",\n  \"activity\": \"Trying to get Marcus to accept help\",\n  \"mood\": [\"alarmed\", \"worried\", \"frustrated\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Oversized band t-shirt\",\n    \"legs\": \"Cotton sleep shorts\",\n    \"underwear\": \"Cotton panties, no bra\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n}]\n</output>\n<explanation>\nSignificant changes to Marcus after a rough encounter:\n\nPOSITION: \"Outside, approaching the building\"  \"At bathroom doorway\" - tracked his movement through the scene\n\nACTIVITY: Updated to current action with posture detail\n\nMOOD: \"determined, pained\"  \"stubborn, pained, dismissive\" - evolved based on his dialogue and refusal of help\n\nPHYSICAL STATE (major updates):\n- \"injured ribs (bandaged)\"  \"injured ribs (bandaged, bleeding through)\" - state worsened/more visible\n- Added \"sprained left ankle\" - grimacing when putting weight on it\n- Added \"bruised jaw\" - Elena sees it in better lighting\n- Added \"split lip (bleeding)\" - seeping mentioned\n- Added \"soaking wet\" - general state from rain\n\nOUTFIT changes with STATE DESCRIPTORS:\n- jacket: \"Black leather jacket\"  null - removed and dropped (described as ruined, but that's the location prop system's concern)\n- torso: \"Gray cotton t-shirt\"  null - pulled off, revealing bandage\n- legs: \"Dark blue jeans\"  \"Dark blue jeans (waterlogged)\" - NOT removed but state changed significantly\n- socks: \"Black crew socks\"  \"Black crew socks (soaked, ruined)\" - still wearing them but state matters\n- footwear: \"Brown leather boots\"  null - kicked off\n\nElena's changes are minor:\n- mood: \"worried, anxious\"  \"alarmed, worried, frustrated\" - escalated upon seeing his condition\n- activity: Updated to reflect her current action\n- Everything else unchanged\n\nKey principles:\n- Use state descriptors for items affected but not removed: \"(waterlogged)\", \"(soaked, ruined)\"\n- Physical states can stack - list all relevant conditions\n- Update physical state descriptors when conditions change: \"(bandaged)\"  \"(bandaged, bleeding through)\"\n- Track position changes through the scene\n</explanation>\n</example>\n\n<example>\n<input>\n*The dance studio mirrors reflected their movements as Elena helped Sarah through the routine one more time. Sarah had finally gotten the hang of the footwork, her sneakers squeaking against the polished floor as she spun. But the August heat was brutal even with the AC running, and both women were feeling it.*\n\nElena: \"Take five, you've earned it.\" *She grabbed her water bottle from the bench and took a long drink, then poured some over the back of her neck.* \"God, it's like a sauna in here.\"\n\n*Sarah flopped down onto the floor, sprawling on her back with her arms spread wide. She pulled her tank top away from her skin, fanning herself with the fabric.*\n\nSarah: \"I don't know how you do this for a living. I'm dying.\"\n\n*Elena laughed and sat down beside her, stretching her legs out. She reached down and pulled off her dance sneakers, peeling away the damp socks underneath and tossing them toward her bag. Her feet were red and sore from two hours of practice.*\n\nSarah: *sitting up and doing the same* \"Yeah, okay, that's a good idea.\" *She kicked off her own sneakers but left her socks on, too tired to bother.*\n\n*They sat in companionable silence for a moment, catching their breath. Elena pulled her damp sports bra strap away from her shoulder, unsticking it from her skin with a grimace.*\n</input>\n<previous_state>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Center of dance floor\",\n  \"activity\": \"Teaching dance routine\",\n  \"mood\": [\"patient\", \"encouraging\", \"focused\"],\n  \"physicalState\": [\"sweating\"],\n  \"outfit\": {\n    \"head\": \"Hair in high bun\",\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Black sports bra\",\n    \"legs\": \"Gray yoga leggings\",\n    \"underwear\": \"Athletic thong\",\n    \"socks\": \"White no-show dance socks\",\n    \"footwear\": \"Black dance sneakers\"\n  }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"Center of dance floor\",\n  \"activity\": \"Learning dance routine, practicing spins\",\n  \"mood\": [\"determined\", \"slightly frustrated\", \"improving\"],\n  \"physicalState\": [\"sweating\", \"tired\"],\n  \"outfit\": {\n    \"head\": \"Ponytail\",\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Light blue tank top\",\n    \"legs\": \"Black athletic shorts\",\n    \"underwear\": \"Sports bra and boyshorts\",\n    \"socks\": \"White ankle socks\",\n    \"footwear\": \"White running sneakers\"\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Sitting on dance floor near bench\",\n  \"activity\": \"Taking a break, cooling off\",\n  \"mood\": [\"relaxed\", \"amused\", \"overheated\"],\n  \"physicalState\": [\"sweating heavily\", \"sore feet\", \"overheated\"],\n  \"outfit\": {\n    \"head\": \"Hair in high bun\",\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Black sports bra (damp)\",\n    \"legs\": \"Gray yoga leggings\",\n    \"underwear\": \"Athletic thong\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"Sitting on dance floor\",\n  \"activity\": \"Taking a break, recovering\",\n  \"mood\": [\"exhausted\", \"relieved\", \"companionable\"],\n  \"physicalState\": [\"sweating heavily\", \"exhausted\", \"overheated\"],\n  \"outfit\": {\n    \"head\": \"Ponytail\",\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Light blue tank top (pulled away from skin)\",\n    \"legs\": \"Black athletic shorts\",\n    \"underwear\": \"Sports bra and boyshorts\",\n    \"socks\": \"White ankle socks\",\n    \"footwear\": null\n  }\n}]\n</output>\n<explanation>\nBoth characters taking a break with different clothing changes:\n\nELENA:\n- position: Moved from \"Center of dance floor\" to \"Sitting on dance floor near bench\"\n- physicalState: Expanded from just \"sweating\" to \"sweating heavily\", \"sore feet\", \"overheated\" - conditions worsened/more detailed\n- outfit changes:\n  * torso: Added state \"(damp)\" - the sports bra is wet from sweat (pulling strap away from skin)\n  * socks: \"White no-show dance socks\"  null - explicitly removed and tossed toward bag\n  * footwear: \"Black dance sneakers\"  null - pulled off\n  * head stays \"Hair in high bun\" - not mentioned as changed\n\nSARAH:\n- position: Changed to floor from standing/dancing\n- physicalState: \"sweating, tired\"  \"sweating heavily, exhausted, overheated\" - more intense after practice\n- outfit changes:\n  * torso: Added state \"(pulled away from skin)\" - she's fanning herself with it\n  * footwear: \"White running sneakers\"  null - kicked off\n  * socks: UNCHANGED at \"White ankle socks\" - explicitly mentioned she left them on (\"too tired to bother\")\n\nKey principles demonstrated:\n- When text explicitly says someone DIDN'T remove something, keep it\n- State descriptors for how clothing is currently being worn: \"(pulled away from skin)\"\n- Physical states can intensify: \"sweating\"  \"sweating heavily\"\n- Both characters can have outfit changes in the same message - track each separately\n</explanation>\n</example>\n\n<example type=\"character_leaving\">\n<input>\n*The argument had gone on long enough. Marcus slammed his palm against the table.*\n\nMarcus: \"I can't do this right now.\" *He pushed back from the table, chair scraping loudly against the floor.* \"I need some air.\"\n\n*Without waiting for a response, he grabbed his jacket from the back of the chair and strode toward the front door. Elena started to follow, but he held up a hand without turning around.*\n\nMarcus: \"Don't.\"\n\n*The door opened, closed firmly behind him. Through the window, Elena watched him disappear down the street, his shoulders hunched against the cold night air.*\n\n*Lily reached over and put a hand on Elena's arm.*\n\nLily: \"Give him time. He'll come around.\"\n\nElena: *sinking back into her chair, voice hollow* \"Will he though?\"\n</input>\n<previous_state>\n[{\n  \"name\": \"Marcus\",\n  \"position\": \"At kitchen table\",\n  \"activity\": \"Arguing with Elena\",\n  \"mood\": [\"angry\", \"frustrated\", \"hurt\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Gray sweater\",\n    \"legs\": \"Dark jeans\",\n    \"underwear\": \"Boxer briefs\",\n    \"socks\": \"Black socks\",\n    \"footwear\": \"Boots\"\n  }\n},\n{\n  \"name\": \"Elena\",\n  \"position\": \"At kitchen table\",\n  \"activity\": \"Arguing with Marcus\",\n  \"mood\": [\"defensive\", \"upset\", \"pleading\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Cream sweater\",\n    \"legs\": \"Leggings\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Fuzzy socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Lily\",\n  \"position\": \"At kitchen table\",\n  \"activity\": \"Witnessing the argument\",\n  \"mood\": [\"uncomfortable\", \"worried\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Green cardigan over white tee\",\n    \"legs\": \"Jeans\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Ankle socks\",\n    \"footwear\": \"Canvas sneakers\"\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"At kitchen table\",\n  \"activity\": \"Processing Marcus leaving\",\n  \"mood\": [\"defeated\", \"hurt\", \"hollow\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Cream sweater\",\n    \"legs\": \"Leggings\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Fuzzy socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Lily\",\n  \"position\": \"At kitchen table\",\n  \"activity\": \"Comforting Elena\",\n  \"mood\": [\"sympathetic\", \"concerned\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Green cardigan over white tee\",\n    \"legs\": \"Jeans\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Ankle socks\",\n    \"footwear\": \"Canvas sneakers\"\n  }\n}]\n</output>\n<explanation>\nCHARACTER LEAVING SCENE (3  2 characters):\n- Marcus LEFT THE SCENE entirely (went out the front door, watched disappearing down street)\n- He is REMOVED from the output array - do not include characters who have left\n- His jacket was picked up but he left with it - this is NOT a prop left behind\n\nElena and Lily remain:\n- Elena's mood shifted from \"defensive, upset, pleading\"  \"defeated, hurt, hollow\"\n- Lily's activity updated to \"Comforting Elena\", mood shifted to \"sympathetic, concerned\"\n- Both outfits unchanged\n\nKey principle: When a character LEAVES (exits building, goes outside, walks away out of sight), REMOVE them from the array entirely.\n</explanation>\n</example>\n\n<example type=\"character_leaving_room\">\n<input>\n*The tension in the bedroom was suffocating. Sarah finally threw up her hands.*\n\nSarah: \"I can't talk about this anymore tonight.\"\n\n*She grabbed her phone from the nightstand and walked out of the bedroom, bare feet padding down the hallway. Jake heard the bathroom door close, then the lock click into place. A moment later, the shower started running.*\n\n*Jake sat on the edge of the bed, staring at the empty doorway. His brother Mike, who had been awkwardly pretending to read in the corner armchair, finally looked up.*\n\nMike: \"Dude... what did you do?\"\n\nJake: \"I don't want to talk about it.\"\n</input>\n<previous_state>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"Sitting on edge of bed\",\n  \"activity\": \"Having difficult conversation with Sarah\",\n  \"mood\": [\"guilty\", \"defensive\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"White undershirt\",\n    \"legs\": \"Pajama pants\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"Standing by the window\",\n  \"activity\": \"Confronting Jake\",\n  \"mood\": [\"hurt\", \"angry\", \"exhausted\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Silk nightgown\",\n    \"legs\": null,\n    \"underwear\": \"Panties only\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Mike\",\n  \"position\": \"In corner armchair\",\n  \"activity\": \"Pretending to read, avoiding eye contact\",\n  \"mood\": [\"uncomfortable\", \"awkward\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Old band t-shirt\",\n    \"legs\": \"Basketball shorts\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"Sitting on edge of bed\",\n  \"activity\": \"Staring at empty doorway\",\n  \"mood\": [\"guilty\", \"regretful\", \"closed off\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"White undershirt\",\n    \"legs\": \"Pajama pants\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Mike\",\n  \"position\": \"In corner armchair\",\n  \"activity\": \"Questioning Jake about what happened\",\n  \"mood\": [\"concerned\", \"curious\", \"awkward\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Old band t-shirt\",\n    \"legs\": \"Basketball shorts\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n}]\n</output>\n<explanation>\nCHARACTER LEAVING TO ANOTHER ROOM (3  2 characters):\n- Sarah left the bedroom, went down the hall, bathroom door closed and LOCKED\n- She is in a different room with a closed door = NO LONGER PRESENT\n- Remove her from the array - she's not in the scene anymore\n\nJake and Mike remain:\n- Jake's activity and mood updated to reflect aftermath\n- Mike's activity updated to questioning, mood shifted\n- Both outfits unchanged\n\nKey principle: When someone goes to another room AND closes the door (especially locks it), they've left the scene. The POV character cannot see or directly interact with them.\n</explanation>\n</example>\n\n<example type=\"pov_moves_leaving_character_behind\">\n<input>\n*The tension in the living room was unbearable. Rachel's roommate Dave had been hovering the entire time, making comments, and I'd finally had enough.*\n\n*I stood up and held out my hand to Rachel.*\n\n\"Can we talk? Alone?\"\n\n*Rachel glanced at Dave, then back at me. She took my hand and let me pull her up from the couch.*\n\nRachel: \"Yeah. Let's go to my room.\"\n\n*We walked down the hallway together. I could feel Dave's eyes on our backs. Rachel opened her bedroom door and we stepped inside. She closed it firmly behind us, and I heard her flip the lock.*\n\n*The bedroom was small but cozy - fairy lights strung above the bed, a pile of pillows, her guitar leaning against the wall.*\n\nRachel: *leaning back against the door, finally relaxing* \"God, I'm sorry about him. He means well, he's just...\"\n\n\"Overprotective?\"\n\nRachel: *laughing softly* \"That's one word for it.\"\n</input>\n<previous_state>\n[{\n  \"name\": \"User\",\n  \"position\": \"On the couch\",\n  \"activity\": \"Trying to have a conversation with Rachel\",\n  \"mood\": [\"frustrated\", \"tense\", \"hopeful\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Black button-up shirt\",\n    \"legs\": \"Dark jeans\",\n    \"underwear\": \"Boxer briefs\",\n    \"socks\": \"Black socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Rachel\",\n  \"position\": \"On the couch next to User\",\n  \"activity\": \"Talking with User\",\n  \"mood\": [\"nervous\", \"apologetic\", \"interested\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Cropped sweater\",\n    \"legs\": \"High-waisted jeans\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Ankle socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Dave\",\n  \"position\": \"Armchair across from couch\",\n  \"activity\": \"Watching User and Rachel, making comments\",\n  \"mood\": [\"suspicious\", \"protective\", \"intrusive\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Gaming t-shirt\",\n    \"legs\": \"Sweatpants\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": \"Slippers\"\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"User\",\n  \"position\": \"Standing in Rachel's bedroom\",\n  \"activity\": \"Talking privately with Rachel\",\n  \"mood\": [\"relieved\", \"curious\", \"warm\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Black button-up shirt\",\n    \"legs\": \"Dark jeans\",\n    \"underwear\": \"Boxer briefs\",\n    \"socks\": \"Black socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Rachel\",\n  \"position\": \"Leaning against bedroom door\",\n  \"activity\": \"Apologizing for Dave, relaxing now that they're alone\",\n  \"mood\": [\"relieved\", \"amused\", \"comfortable\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Cropped sweater\",\n    \"legs\": \"High-waisted jeans\",\n    \"underwear\": \"Bra and panties\",\n    \"socks\": \"Ankle socks\",\n    \"footwear\": null\n  }\n}]\n</output>\n<explanation>\nPOV CHARACTER MOVES WITH ANOTHER, LEAVING SOMEONE BEHIND (3  2 characters):\n- User and Rachel BOTH moved from living room to Rachel's bedroom\n- Door was closed AND locked behind them\n- Dave was left in the living room - he's no longer present in the current scene\n- REMOVE Dave from the array - the scene is now in the bedroom, not the living room\n\nUser and Rachel remain (they moved together):\n- Both have updated positions reflecting the new room\n- Both have updated moods - relief at being alone\n- Outfits unchanged\n\nKey principle: The scene follows the POV character. When POV moves to a new room with someone and shuts the door, anyone left behind is removed from the array.\n</explanation>\n</example>\n\n<example type=\"character_entering\">\n<input>\n*Elena was curled up on the couch reading when she heard keys in the front door. She set her book down, marking her place with a finger.*\n\n*Marcus stepped inside, stomping snow off his boots on the mat. His cheeks were red from the cold, and he was juggling grocery bags in both arms.*\n\nMarcus: \"Little help?\" *He nodded toward the kitchen, struggling not to drop anything.*\n\nElena: *jumping up* \"I didn't know you were going shopping!\"\n\n*She hurried over to grab two of the bags, peeking inside.*\n\nElena: \"Did you get the\"\n\nMarcus: \"Yes, I got your weird fancy cheese. And before you ask, yes, they had the good bread.\"\n</input>\n<previous_state>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Curled up on the couch\",\n  \"activity\": \"Reading\",\n  \"mood\": [\"relaxed\", \"content\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Oversized hoodie\",\n    \"legs\": \"Yoga pants\",\n    \"underwear\": \"Sports bra and cotton panties\",\n    \"socks\": \"Thick wool socks\",\n    \"footwear\": null\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"Near the front door\",\n  \"activity\": \"Helping Marcus with groceries\",\n  \"mood\": [\"pleasantly surprised\", \"helpful\", \"cheerful\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Oversized hoodie\",\n    \"legs\": \"Yoga pants\",\n    \"underwear\": \"Sports bra and cotton panties\",\n    \"socks\": \"Thick wool socks\",\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Marcus\",\n  \"position\": \"Just inside front door\",\n  \"activity\": \"Arriving home with groceries\",\n  \"mood\": [\"cold but pleased\", \"playful\"],\n  \"physicalState\": [\"cheeks red from cold\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": \"Scarf\",\n    \"jacket\": \"Winter coat\",\n    \"back\": null,\n    \"torso\": null,\n    \"legs\": \"Jeans\",\n    \"underwear\": null,\n    \"socks\": null,\n    \"footwear\": \"Snow boots\"\n  }\n}]\n</output>\n<explanation>\nCHARACTER ENTERING SCENE:\n- Marcus was NOT in previous state - he just arrived home\n- ADD him to the array with full state information\n- Infer reasonable outfit for context (winter, just came from outside)\n- Note visible physical states (red cheeks from cold)\n\nElena updated:\n- Position moved from couch to near front door\n- Activity and mood updated\n- Outfit unchanged\n\nKey principle: When a character enters (arrives, comes through door, appears), ADD them to the array. Infer what you can about their state from context.\n</explanation>\n</example>\n\n<example type=\"character_entering_room\">\n<input>\n*Jake had been working at his desk for hours when the study door creaked open. He glanced up to see Sarah peeking in, two mugs in her hands.*\n\nSarah: \"Peace offering?\" *She held up the mugs.* \"I made hot chocolate. The good kind, with the little marshmallows.\"\n\n*Jake leaned back in his chair, rubbing his tired eyes.*\n\nJake: \"I thought you were asleep.\"\n\nSarah: *padding over in her slippers* \"Couldn't sleep. And I felt bad about earlier.\" *She set one mug on his desk, wrapping both hands around her own.* \"Can we talk? Actually talk this time?\"\n\n*She perched on the arm of the leather chair in the corner, tucking her feet up under her robe.*\n</input>\n<previous_state>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"At desk in study\",\n  \"activity\": \"Working on laptop\",\n  \"mood\": [\"focused\", \"tired\", \"distracted\"],\n  \"physicalState\": [\"eye strain\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"White undershirt\",\n    \"legs\": \"Pajama pants\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n}]\n</previous_state>\n<output>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"Leaning back in desk chair\",\n  \"activity\": \"Talking with Sarah\",\n  \"mood\": [\"tired\", \"cautious\", \"receptive\"],\n  \"physicalState\": [\"eye strain\", \"tired eyes\"],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"White undershirt\",\n    \"legs\": \"Pajama pants\",\n    \"underwear\": \"Boxers\",\n    \"socks\": null,\n    \"footwear\": null\n  }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"Perched on arm of leather chair\",\n  \"activity\": \"Offering peace, wanting to talk\",\n  \"mood\": [\"apologetic\", \"hopeful\", \"nervous\"],\n  \"physicalState\": [],\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": \"Fluffy robe\",\n    \"back\": null,\n    \"torso\": null,\n    \"legs\": null,\n    \"underwear\": null,\n    \"socks\": null,\n    \"footwear\": \"Slippers\"\n  }\n}]\n</output>\n<explanation>\nCHARACTER ENTERING FROM ANOTHER ROOM:\n- Sarah was NOT present before (she was in bed/elsewhere in house)\n- She opened the door and came into the study = now present\n- ADD her to the array\n- Outfit inferred from context (robe, slippers = nightwear, came from bedroom)\n\nJake updated:\n- Position detail added (leaning back)\n- Mood shifted to reflect the interruption and conversation\n- Added \"tired eyes\" to physical state (rubbing eyes)\n\nKey principle: When someone enters from another room (opens door, comes in), add them. They are now present and interactable.\n</explanation>\n</example>\n\n<bad_example type=\"missing_entering_character\">\n<input>\n*The front door burst open and both Marcus and his sister Emma tumbled in, laughing and shaking snow off their coats.*\n\nMarcus: \"Elena! You're not going to believe what happened at the store!\"\n\nEmma: *still giggling* \"Tell her about the shopping cart!\"\n\n*Elena looked up from her book, eyebrows raised at the commotion.*\n</input>\n<previous_state>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"On the couch\",\n  \"activity\": \"Reading\",\n  \"mood\": [\"relaxed\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Sweater\", \"legs\": \"Leggings\" }\n}]\n</previous_state>\n<wrong_output>\n[{\n  \"name\": \"Elena\",\n  \"position\": \"On the couch\",\n  \"activity\": \"Looking up at Marcus\",\n  \"mood\": [\"curious\", \"amused\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Sweater\", \"legs\": \"Leggings\" }\n},\n{\n  \"name\": \"Marcus\",\n  \"position\": \"Just inside front door\",\n  \"activity\": \"Telling a story\",\n  \"mood\": [\"excited\", \"amused\"],\n  \"physicalState\": [\"snow in hair\"],\n  \"outfit\": { \"jacket\": \"Winter coat\", \"legs\": \"Jeans\", \"footwear\": \"Boots\" }\n}]\n</wrong_output>\n<why_bad>\nMISSING CHARACTER - Emma entered too but is not in the output!\n- Both Marcus AND Emma came through the door together\n- Emma is speaking, laughing, interacting - she is clearly present\n- The output only includes Marcus, forgetting Emma entirely\n- CORRECT output should include all 3 characters: Elena, Marcus, AND Emma\n</why_bad>\n</bad_example>\n\n<bad_example type=\"character_not_removed\">\n<input>\n*The argument reached its peak. Sarah grabbed her keys from the counter.*\n\nSarah: \"I can't be here right now. I'm going for a drive.\"\n\n*She didn't wait for Jake's response, just walked out the front door. Through the window, Jake watched her car back out of the driveway and disappear down the street.*\n\n*Mike, who had been frozen in the kitchen doorway the whole time, finally exhaled.*\n\nMike: \"Dude... that was intense.\"\n</input>\n<previous_state>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"In the living room\",\n  \"activity\": \"Arguing with Sarah\",\n  \"mood\": [\"angry\", \"defensive\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"T-shirt\", \"legs\": \"Jeans\" }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"In the living room\",\n  \"activity\": \"Arguing with Jake\",\n  \"mood\": [\"furious\", \"hurt\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Blouse\", \"legs\": \"Skirt\" }\n},\n{\n  \"name\": \"Mike\",\n  \"position\": \"Kitchen doorway\",\n  \"activity\": \"Awkwardly witnessing\",\n  \"mood\": [\"uncomfortable\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Hoodie\", \"legs\": \"Shorts\" }\n}]\n</previous_state>\n<wrong_output>\n[{\n  \"name\": \"Jake\",\n  \"position\": \"In the living room\",\n  \"activity\": \"Watching Sarah leave\",\n  \"mood\": [\"stunned\", \"regretful\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"T-shirt\", \"legs\": \"Jeans\" }\n},\n{\n  \"name\": \"Sarah\",\n  \"position\": \"Left the house\",\n  \"activity\": \"Driving away\",\n  \"mood\": [\"upset\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Blouse\", \"legs\": \"Skirt\" }\n},\n{\n  \"name\": \"Mike\",\n  \"position\": \"Kitchen doorway\",\n  \"activity\": \"Commenting on the situation\",\n  \"mood\": [\"relieved\", \"concerned\"],\n  \"physicalState\": [],\n  \"outfit\": { \"torso\": \"Hoodie\", \"legs\": \"Shorts\" }\n}]\n</wrong_output>\n<why_bad>\nCHARACTER NOT REMOVED - Sarah left but is still in the output!\n- Sarah walked out the front door, got in her car, and drove away\n- She is GONE from the scene - not in the house anymore\n- The output incorrectly keeps her with \"position: Left the house\"\n- NEVER use position to indicate someone left - REMOVE them from the array entirely\n- CORRECT output should only include Jake and Mike (2 characters, not 3)\n</why_bad>\n</bad_example>\n\n<bad_example type=\"outfit_descriptors\">\n<output>\n[{\n  \"name\": \"Elena\",\n  \"outfit\": {\n    \"head\": null,\n    \"neck\": null,\n    \"jacket\": null,\n    \"back\": null,\n    \"torso\": \"Sports bra (removed from shoulder)\",\n    \"legs\": null,\n    \"underwear\": null,\n    \"socks\": \"Dance socks (removed)\",\n    \"footwear\": \"Sneakers (off)\"\n  }\n}]\n</output>\n<why_bad>\n- \"(removed)\" and \"(off)\" should NOT be used - set to null instead for fully removed items\n- \"Sports bra (removed from shoulder)\" is wrong - she just pulled the strap, the bra is still on. Should be \"Black sports bra (damp)\" since it's still being worn\n- Socks and footwear should be null, not have removal descriptors\n- Use state descriptors only for items still being worn: \"(unbuttoned)\", \"(damp)\", \"(pulled aside)\" - never \"(removed)\" or \"(off)\"\n</why_bad>\n</bad_example>\n</examples>\n\n<current_location>\n{{location}}\n</current_location>\n\n<previous_characters>\n{{previousState}}\n</previous_characters>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract updated characters as valid JSON array:`,\n\t},\n\n\tscene_initial: {\n\t\tkey: 'scene_initial',\n\t\tname: 'Scene - Initial',\n\t\tdescription: 'Extracts scene topic, tone, tension, and events from opening',\n\t\tdefaultTemperature: 0.6,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.characterInfo,\n\t\t\tCOMMON_PLACEHOLDERS.charactersSummary,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene and extract the scene state. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Determine the topic, tone, tension, and significant events of the scene.\n- Topic should be 3-5 words summarizing the main focus.\n- Tone should be 2-3 descriptive words capturing the emotional atmosphere (e.g. \"Tense, suspicious\" or \"Warm, playful\").\n</general>\n<tension>\n- Direction will be calculated automatically, but set your best guess.\n<levels>\nTension levels form a spectrum of emotional/dramatic intensity (applies to ALL tension types):\n- relaxed: Low stakes, comfortable. Casual chat, downtime, nothing pressing.\n- aware: Mild interest or attention. Something noted but no real stakes yet.\n- guarded: Careful, measured. Testing waters - whether for trust, attraction, or safety.\n- tense: Stakes feel real. Could be conflict brewing, unspoken attraction, or difficult truth approaching.\n- charged: Intense emotions dominate. Anger before a fight, desire before a kiss, fear before confession.\n- volatile: On the edge. One word changes everything - into violence, intimacy, or revelation.\n- explosive: The moment itself. Fight breaks out, characters kiss or engage in sex, secret revealed, breakdown happens.\n</levels>\n<types>\nTension type describes the nature of what's driving the tension:\n- conversation: Neutral dialogue, information exchange, casual interaction.\n- negotiation: Competing interests seeking agreement. Deals, persuasion, bargaining.\n- confrontation: Direct opposition or conflict. Arguments, accusations, standoffs.\n- intimate: Emotional/physical closeness. Romance, deep sharing, intimacy, sexual tension.\n- vulnerable: Exposure of weakness or secrets. Confessions, emotional risk, asking for help.\n- suspense: Uncertainty about outcome. Waiting, anticipation, something about to happen.\n- celebratory: Positive excitement. Joy, triumph, celebration, shared happiness.\n</types>\n</tension>\n<recent_events>\n- Include significant events that affect the ongoing narrative.\n- Events should be consequential: discoveries, relationship changes, injuries, commitments.\n- Maximum 5 events, prioritize the most important ones.\n</recent_events>\n</instructions>\n\n<examples>\n<example>\n<input>\n*The restaurant had finally emptied out, the last of the dinner crowd filtering into the rainy night outside. Elena sat across from Marcus in the corner booth, her wine glass mostly untouched, watching him struggle to find the right words. He'd asked her to dinner with that particular tone in his voicethe one that meant something important was comingand she'd spent the entire meal waiting for the other shoe to drop.*\n\n*The candles on the table had burned down to stubs, casting flickering shadows across his face. Outside, thunder rumbled in the distance, and the rain intensified against the windows. A waiter hovered near the kitchen door, clearly wanting to close up but too polite to interrupt.*\n\nElena: \"Marcus, whatever it is, just say it. You've been dancing around something all night.\"\n\nMarcus: *finally meeting her eyes* \"I'm leaving. The job in TokyoI took it.\" *He reached across the table, his fingers brushing against hers.* \"But I don't want to go without you.\"\n\n*The words hung in the air between them. Elena felt her heart skip, her mind racing through a thousand implicationsher career, her family, everything she'd built here. But looking at him now, vulnerable and hopeful and terrified all at once, she realized the answer wasn't as complicated as she'd thought.*\n</input>\n<output>\n{\n  \"topic\": \"Life-changing proposal\",\n  \"tone\": \"Vulnerable, electric, bittersweet\",\n  \"tension\": {\"level\": \"charged\", \"type\": \"intimate\", \"direction\": \"escalating\"}\n}\n</output>\n<explanation>\nTOPIC: \"Life-changing proposal\" - captures the weight of what's being asked (not just \"dinner conversation\" or \"relationship talk\"). The proposal isn't marriage, but it IS asking her to change her entire life.\n\nTONE: Three words to capture a complex emotional atmosphere:\n- \"Vulnerable\" - Marcus is exposing himself to rejection, Elena is confronting a huge decision\n- \"Electric\" - the air is charged with anticipation and significance\n- \"Bittersweet\" - whatever the answer, something will be lost (either the opportunity or her current life)\n\nTENSION analysis:\n- Level \"charged\": Intense emotions dominate. This is a pivotal momentnot yet at \"volatile\" (one word changes everything) but definitely beyond \"tense\" (stakes feel real)\n- Type \"intimate\": This is about emotional/relational closeness, not conflict. Despite the stakes, they're on the same side\n- Direction \"escalating\": Building toward a decision/revelation. The question has been asked; the answer will raise or resolve tension further\n\nWhy NOT other levels:\n- Not \"explosive\" - the moment hasn't broken yet, she hasn't answered\n- Not \"volatile\" - there's no sense it could go violent or completely wrong\n- Not \"tense\" - too understated for this pivotal moment\n</explanation>\n</example>\n\n<example>\n<input>\n*The precinct bullpen was chaosphones ringing, detectives shouting across desks, a suspect being dragged toward booking while screaming about his rights. But Captain Rodriguez's office was an island of deadly calm. Sarah sat in the hard plastic chair across from his desk, hands folded in her lap, expression carefully neutral.*\n\n*Rodriguez hadn't said a word since calling her in. He just sat there, reading through the file in front of him, occasionally making small noises of disapproval. The silence stretched unbearably. On the wall behind him, the clock ticked loud enough to hear2:47 PM. She'd been sitting here for almost five minutes.*\n\nRodriguez: *finally looking up* \"Detective Chen. Thirteen years on the force. Exemplary record.\" *He closed the file with a soft thump.* \"So explain to me why I have Internal Affairs breathing down my neck about a missing evidence log.\"\n\nSarah: \"Captain, I filed that log myself three days ago. Whatever discrepancy they found\"\n\nRodriguez: *holding up a hand* \"I've known you a long time, Chen. Which is why I'm giving you exactly one chance to tell me what really happened before this goes any further. Because right now?\" *He leaned forward, his voice dropping.* \"Right now, it looks like you made something disappear. And I need to know why.\"\n\n*The accusation landed like a punch. Sarah felt the blood drain from her face, her carefully maintained composure cracking at the edges.*\n</input>\n<output>\n{\n  \"topic\": \"Internal affairs accusation\",\n  \"tone\": \"Ominous, suffocating, accusatory\",\n  \"tension\": {\"level\": \"tense\", \"type\": \"confrontation\", \"direction\": \"escalating\"}\n}\n</output>\n<explanation>\nTOPIC: \"Internal affairs accusation\" - specific and consequential. Not just \"meeting with captain\" or \"work trouble.\" The IA involvement and evidence tampering allegation are the core issue.\n\nTONE: Captures the oppressive atmosphere:\n- \"Ominous\" - the extended silence, the careful reading, the ticking clock all create dread\n- \"Suffocating\" - she's trapped, the room feels small despite the chaos outside, nowhere to go\n- \"Accusatory\" - Rodriguez isn't asking if something happened; he's telling her he knows and demanding explanation\n\nTENSION analysis:\n- Level \"tense\": Stakes feel realcareer, reputation, possibly freedom are on the line. The confrontation is direct but still in the \"explain yourself\" phase\n- Type \"confrontation\": Direct opposition between authority figure and accused. Rodriguez has power; Sarah is defending herself\n- Direction \"escalating\": Building toward a breaking point. Rodriguez is offering \"one chance\" which implies escalation is coming if she doesn't satisfy him\n\nWhy \"tense\" and not higher:\n- Not \"charged\": That would suggest emotional intensity dominatingthis is more controlled, procedural despite the stakes\n- Not \"volatile\": Nobody's about to snap; this is deliberate pressure, not explosive emotion\n- Could become \"volatile\" or \"charged\" if she confesses or accuses back, but currently it's a calculated confrontation\n</explanation>\n</example>\n\n<example>\n<input>\n*The morning sun streamed through the kitchen windows as Elena padded in wearing Marcus's oversized t-shirt, her hair a mess from sleep. Marcus was already at the stove, the smell of bacon and coffee filling the apartment. He looked over his shoulder and grinned at her sleep-rumpled appearance.*\n\nMarcus: \"There she is. I was about to send a search party.\"\n\nElena: *yawning hugely* \"What time is it?\"\n\nMarcus: \"Almost eleven. You were out cold.\" *He slid a mug of coffee across the counter toward her.* \"I figured you earned it after last night.\"\n\n*She wrapped her hands around the warm mug, smiling into the steam. Through the window, she could see the city skyline glittering in the sunshine, the storm from last night nothing but a memory. Her phone buzzed on the counterprobably her sister checking inbut she ignored it. The real world could wait.*\n\nElena: \"Is that bacon I smell?\"\n\nMarcus: \"And pancakes. The good ones, with the chocolate chips.\" *He turned back to the stove, but not before she caught the soft expression on his face.* \"Sit down, I'll bring you a plate.\"\n\n*She hopped onto one of the bar stools, tucking her bare feet under her, and watched him cook with a contentment she hadn't felt in years.*\n</input>\n<output>\n{\n  \"topic\": \"Lazy morning after\",\n  \"tone\": \"Warm, domestic, contented\",\n  \"tension\": {\"level\": \"relaxed\", \"type\": \"intimate\", \"direction\": \"stable\"}\n}\n</output>\n<explanation>\nTOPIC: \"Lazy morning after\" - captures the context (implied intimacy the night before) and current activity (casual, unhurried morning). Specific enough to be useful, not overly clinical.\n\nTONE: All positive, soft emotions:\n- \"Warm\" - physical (sun, coffee, cooking) and emotional (their dynamic)\n- \"Domestic\" - the comfortable ordinariness of the scene, making breakfast together\n- \"Contented\" - no urgency, no worry, just enjoying the moment\n\nTENSION analysis:\n- Level \"relaxed\": Low stakes, comfortable. Nothing pressing, nobody worried, just enjoying each other\n- Type \"intimate\": Despite the low tension, the TYPE is intimatethey're emotionally/physically close (she's wearing his shirt, he's making her favorite breakfast)\n- Direction \"stable\": No building or releasing of tension. The scene could continue like this indefinitely\n\nKey insight: Low tension doesn't mean the scene isn't meaningful or intimate. \"Relaxed\" + \"intimate\" captures a loving, comfortable relationship moment. Not every scene needs conflict.\n\nWhy NOT other types:\n- Not \"conversation\" - that implies neutral exchange, but there's clear romantic intimacy here\n- Not \"celebratory\" - they're not celebrating anything specific, just enjoying normalcy\n</explanation>\n</example>\n\n<bad_example>\n<output>\n{\n  \"topic\": \"Dinner\",\n  \"tone\": \"Romantic\",\n  \"tension\": {\"level\": \"moderate\", \"type\": \"emotional\", \"direction\": \"building\"}\n}\n</output>\n<why_bad>\n- topic too vague: \"Dinner\" could be anything. Should capture what makes THIS dinner significant: \"Life-changing proposal\"\n- tone too simple: \"Romantic\" is one word and doesn't capture the complexity. Use 2-3 descriptive words: \"Vulnerable, electric, bittersweet\"\n- tension level invalid: \"moderate\" is not a valid level. Must use: relaxed, aware, guarded, tense, charged, volatile, explosive\n- tension type invalid: \"emotional\" is not a valid type. Must use: conversation, negotiation, confrontation, intimate, vulnerable, suspense, celebratory\n- direction invalid: \"building\" is not valid. Must use: escalating, stable, decreasing\n</why_bad>\n</bad_example>\n</examples>\n\n<character_info>\n{{userInfo}}\n\n{{characterInfo}}\n</character_info>\n\n<characters_present>\n{{charactersSummary}}\n</characters_present>\n\n<scene_messages>\n{{messages}}\n</scene_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the scene state as valid JSON:`,\n\t},\n\n\tscene_update: {\n\t\tkey: 'scene_update',\n\t\tname: 'Scene - Update',\n\t\tdescription: 'Updates scene state based on recent messages',\n\t\tdefaultTemperature: 0.6,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.charactersSummary,\n\t\t\tCOMMON_PLACEHOLDERS.previousState,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and update the scene state. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Update topic if the focus has shifted.\n- Update tone if the emotional atmosphere has changed. Use 2-3 descriptive words (e.g. \"Tense, suspicious\" or \"Warm, playful\").\n- Consider whether tension has increased, decreased, or remained stable.\n</general>\n<tension>\n- Direction will be recalculated based on level change.\n- If previous direction was 'stable', strongly consider whether type or level has changed.\n<levels>\nTension levels form a spectrum of emotional/dramatic intensity (applies to ALL tension types):\n- relaxed: Low stakes, comfortable. Casual chat, downtime, nothing pressing.\n- aware: Mild interest or attention. Something noted but no real stakes yet.\n- guarded: Careful, measured. Testing waters - whether for trust, attraction, or safety.\n- tense: Stakes feel real. Could be conflict brewing, unspoken attraction, or difficult truth approaching.\n- charged: Intense emotions dominate. Anger before a fight, desire before a kiss, fear before confession.\n- volatile: On the edge. One word changes everything - into violence, intimacy, or revelation.\n- explosive: The moment itself. Fight breaks out, characters kiss or engage in sex, secret revealed, breakdown happens.\n</levels>\n<types>\nTension type describes the nature of what's driving the tension:\n- conversation: Neutral dialogue, information exchange, casual interaction.\n- negotiation: Competing interests seeking agreement. Deals, persuasion, bargaining.\n- confrontation: Direct opposition or conflict. Arguments, accusations, standoffs.\n- intimate: Emotional/physical closeness. Romance, deep sharing, intimacy, sexual tension.\n- vulnerable: Exposure of weakness or secrets. Confessions, emotional risk, asking for help.\n- suspense: Uncertainty about outcome. Waiting, anticipation, something about to happen.\n- celebratory: Positive excitement. Joy, triumph, celebration, shared happiness.\n</types>\n</tension>\n<recent_events>\n- Keep events that are still relevant to the ongoing scene.\n- Remove events that have been resolved or superseded.\n- Add new significant events from the recent messages.\n- Maximum 5 events - prune aggressively, keep most salient.\n- Even if previous_scene has more than 5 events, return at most 5.\n</recent_events>\n</instructions>\n\n<examples>\n<example>\n<input>\n*Elena set down her wine glass with deliberate care, her laughter from a moment ago fading as something shifted in her expression. Across the table, Marcus was still chuckling about the ridiculous mishap she'd just describedthe time she'd accidentally called her boss \"mom\" in a board meetingbut Elena wasn't smiling anymore.*\n\nElena: \"Marcus, there's something I need to tell you.\" *She clasped her hands together on the table, knuckles whitening.* \"About that night. The night you found me at the hotel.\"\n\n*The temperature in the room seemed to drop. Marcus's smile faltered, then disappeared entirely. He'd asked about that night a dozen times over the past six months, and she'd always deflected, always found a way to change the subject. The fact that she was bringing it up now...*\n\nMarcus: \"Elena, you don't have to\"\n\nElena: \"Yes, I do.\" *She finally looked up at him, and he could see the fear there, the vulnerability she usually kept so carefully hidden.* \"I wasn't there for a work conference. I was meeting someone. Someone I'd been talking to for months.\" *Her voice cracked.* \"Someone I almost left you for.\"\n\n*The words hung between them like broken glass.*\n</input>\n<previous_scene>\n{\n  \"topic\": \"Sharing embarrassing memories\",\n  \"tone\": \"Lighthearted, nostalgic, warm\",\n  \"tension\": {\"level\": \"relaxed\", \"type\": \"conversation\", \"direction\": \"stable\"}\n}\n</previous_scene>\n<output>\n{\n  \"topic\": \"Confession of almost-affair\",\n  \"tone\": \"Heavy, fearful, exposed\",\n  \"tension\": {\"level\": \"volatile\", \"type\": \"vulnerable\", \"direction\": \"escalating\"}\n}\n</output>\n<explanation>\nDRAMATIC SHIFT in scene state:\n\nTOPIC: \"Sharing embarrassing memories\"  \"Confession of almost-affair\"\n- The subject matter has completely transformed from light anecdotes to a relationship-threatening revelation\n- Topic should reflect what the scene is NOW about, not what it started as\n\nTONE: \"Lighthearted, nostalgic, warm\"  \"Heavy, fearful, exposed\"\n- Complete tonal reversal - none of the original warmth remains\n- \"Heavy\" - the weight of the confession, the \"broken glass\" metaphor\n- \"Fearful\" - Elena's visible fear, her vulnerability\n- \"Exposed\" - she's revealing her deepest secret, making herself vulnerable\n\nTENSION changes:\n- Level: \"relaxed\"  \"volatile\" (jumped multiple levels)\n  * This isn't just \"tense\" - she's confessing to almost ending the relationship\n  * \"Volatile\" = one word changes everything, and her next words could destroy or save them\n- Type: \"conversation\"  \"vulnerable\"\n  * This is about exposure of secrets, emotional risk, not casual exchange\n  * She's asking for forgiveness by confessing, putting herself at his mercy\n- Direction: \"stable\"  \"escalating\"\n  * The revelation demands a response; tension is building toward Marcus's reaction\n\nWhy \"volatile\" not \"explosive\":\n- \"Explosive\" is the moment itself - the fight breaking out, the breakdown happening\n- We're AT the edge of explosive, but Marcus hasn't reacted yet\n- His response could push it to \"explosive\" or start de-escalating\n</explanation>\n</example>\n\n<example>\n<input>\n*The shouting had finally stopped. Marcus stood by the window, his back to the room, shoulders tight with tension. Elena sat on the edge of the bed where she'd collapsed after their worst fight yet, mascara-streaked tears still drying on her cheeks. Neither of them had spoken in almost five minutes.*\n\n*Finally, Marcus turned around. His expression was unreadable, but when he spoke, his voice was quieter than she'd ever heard it.*\n\nMarcus: \"I need to know one thing.\" *He crossed the room slowly, stopping a few feet from the bed.* \"Did you love him?\"\n\nElena: *voice barely a whisper* \"No.\" *She looked up at him, and for the first time tonight, she let him see everythingthe regret, the shame, the desperate hope.* \"I was lonely, and I was stupid, and I was looking for something I already had. But I never loved him.\" *She reached out tentatively.* \"I love you. I've only ever loved you.\"\n\n*Marcus stared at her outstretched hand for a long moment. Then, slowly, he took it.*\n\nMarcus: \"Then we figure this out.\" *He sat down beside her, still holding her hand.* \"I don't know how yet, but... we figure it out.\"\n</input>\n<previous_scene>\n{\n  \"topic\": \"Confession of almost-affair\",\n  \"tone\": \"Heavy, fearful, exposed\",\n  \"tension\": {\"level\": \"volatile\", \"type\": \"vulnerable\", \"direction\": \"escalating\"}\n}\n</previous_scene>\n<output>\n{\n  \"topic\": \"Choosing forgiveness\",\n  \"tone\": \"Raw, fragile, hopeful\",\n  \"tension\": {\"level\": \"charged\", \"type\": \"vulnerable\", \"direction\": \"decreasing\"}\n}\n</output>\n<explanation>\nRESOLUTION beginning - tension decreasing but still intense:\n\nTOPIC: \"Confession of almost-affair\"  \"Choosing forgiveness\"\n- The confession has been made; now the scene is about his response\n- \"Choosing forgiveness\" captures that this is an active decision, not passive acceptance\n\nTONE: \"Heavy, fearful, exposed\"  \"Raw, fragile, hopeful\"\n- Still emotionally intense, but the quality has shifted\n- \"Raw\" - nerves exposed, both vulnerable, the aftermath of emotional upheaval\n- \"Fragile\" - this reconciliation could still shatter; they're being careful\n- \"Hopeful\" - he took her hand, they're going to try\n\nTENSION changes:\n- Level: \"volatile\"  \"charged\"\n  * Still intense emotions, but the immediate danger has passed\n  * \"Volatile\" (one word changes everything)  \"charged\" (emotions dominate, but there's direction)\n  * He's chosen to stay; that decision lowered the stakes\n- Type: Still \"vulnerable\"\n  * This remains about emotional exposure and risk\n  * She's still exposed; he's now exposed too by choosing forgiveness\n- Direction: \"escalating\"  \"decreasing\"\n  * The worst moment has passed\n  * They're moving toward resolution, not away from it\n  * Tension is releasing, though slowly\n\nWhy not lower than \"charged\":\n- This isn't \"tense\" (still too raw for that measured feeling)\n- Definitely not \"guarded\" or \"relaxed\" - they just had their worst fight ever\n- The emotions are still overwhelming; they're just now moving in a positive direction\n</explanation>\n</example>\n\n<example>\n<input>\n*The apartment was chaosballoons everywhere, streamers hanging from every surface, the kitchen counter covered in half-assembled party supplies. Elena stood in the middle of it all, hair in a messy bun, wearing an apron covered in frosting stains, looking utterly frazzled.*\n\nElena: \"The cake is lopsided, Marcus. LOPSIDED.\" *She gestured at the three-tier monstrosity on the counter.* \"Sophie's going to be here in two hours and I haven't even started the frosting and the living room still needs\"\n\nMarcus: *catching her by the shoulders* \"Hey. Breathe.\"\n\nElena: *taking a shaky breath* \"I just want it to be perfect. She only turns five once, and after the year she's had with the hospital and everything\"\n\nMarcus: \"And she's going to love it.\" *He pulled her into a hug, despite the flour on her apron.* \"She's going to love the lopsided cake and the slightly crooked streamers and the balloons that I definitely did not accidentally pop three of while inflating.\"\n\nElena: *laughing despite herself* \"Three?!\"\n\nMarcus: \"They were VERY aggressive balloons.\" *He kissed her forehead.* \"Now put me to work. What needs frosting?\"\n\n*Elena finally let some of the tension drain from her shoulders. It wasn't going to be perfect. But watching Marcus gamely attempt to wield a piping bag, she realized it was going to be exactly right.*\n</input>\n<previous_scene>\n{\n  \"topic\": \"Birthday party crisis\",\n  \"tone\": \"Frantic, stressed, anxious\",\n  \"tension\": {\"level\": \"tense\", \"type\": \"suspense\", \"direction\": \"escalating\"}\n}\n</previous_scene>\n<output>\n{\n  \"topic\": \"Party preparation teamwork\",\n  \"tone\": \"Reassured, warm, playful\",\n  \"tension\": {\"level\": \"aware\", \"type\": \"conversation\", \"direction\": \"decreasing\"}\n}\n</output>\n<explanation>\nSTRESS  REASSURANCE transition:\n\nTOPIC: \"Birthday party crisis\"  \"Party preparation teamwork\"\n- The \"crisis\" has been reframed as manageable\n- Focus shifted from \"everything is going wrong\" to \"we're doing this together\"\n- Still party prep, but the framing is completely different\n\nTONE: \"Frantic, stressed, anxious\"  \"Reassured, warm, playful\"\n- Complete reversal through Marcus's intervention\n- \"Reassured\" - he calmed her down, validated her stress, offered help\n- \"Warm\" - the hug, the kiss, the physical comfort\n- \"Playful\" - the balloon joke, her laughing despite herself\n\nTENSION changes:\n- Level: \"tense\"  \"aware\"\n  * \"Tense\" = stakes feel real (party pressure, Sophie's health history)\n  * \"Aware\" = mild interest/attention, something noted but manageable\n  * Marcus successfully lowered the emotional temperature\n- Type: \"suspense\"  \"conversation\"\n  * \"Suspense\" was about uncertainty (will the party be okay?)\n  * Now it's just two people talking, working together\n  * The outcome is no longer in question - it'll be fine\n- Direction: \"escalating\"  \"decreasing\"\n  * She was spiraling; now she's grounded\n  * The stress is actively dissipating\n\nThis shows how quickly tension can shift through emotional support - one conversation completely changed the scene's energy.\n</explanation>\n</example>\n\n<bad_example>\n<output>\n{\n  \"topic\": \"Sharing embarrassing memories\",\n  \"tone\": \"Lighthearted, nostalgic, warm\",\n  \"tension\": {\"level\": \"relaxed\", \"type\": \"conversation\", \"direction\": \"stable\"}\n}\n</output>\n<why_bad>\nThis is just copying the previous_scene without analyzing the new messages!\n- The messages show a DRAMATIC confession about an almost-affair\n- Topic should change: \"Sharing embarrassing memories\"  \"Confession of almost-affair\"\n- Tone should change completely: \"Lighthearted\"  \"Heavy, fearful, exposed\"\n- Tension should jump dramatically: \"relaxed\"  \"volatile\", \"conversation\"  \"vulnerable\"\n- Direction should change: \"stable\"  \"escalating\"\n\nAlways analyze what ACTUALLY happened in the recent_messages and update accordingly. Never just return the previous state unchanged when significant events occurred.\n</why_bad>\n</bad_example>\n</examples>\n\n<characters_present>\n{{charactersSummary}}\n</characters_present>\n\n<previous_scene>\n{{previousState}}\n</previous_scene>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the updated scene state as valid JSON:`,\n\t},\n\n\tevent_extract: {\n\t\tkey: 'event_extract',\n\t\tname: 'Event - Extract',\n\t\tdescription:\n\t\t\t'Extracts significant events from recent messages with relationship signals',\n\t\tdefaultTemperature: 0.4,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.currentRelationships,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze these roleplay messages and extract any significant events that occurred. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Identify significant events that affect the narrative, relationships, or character development.\n- A \"significant event\" is something consequential: a revelation, promise, conflict, intimate moment, discovery, or decision.\n- If nothing significant happened (just casual dialogue or routine actions), return a summary indicating no notable event.\n- Focus on what actually happened, not background information or internal thoughts alone.\n</general>\n\n<summary_guidelines>\nWrite a DETAILED 2-sentence summary that captures:\n- Specifically what happened (actions, words, reactions)\n- Who was involved and their emotional state\n- The context and significance of the moment\n\nBAD (too vague): \"They kissed.\"\nGOOD: \"After weeks of tension, Elena finally pulled Marcus close and kissed him softly, her hands trembling against his chest. He responded by wrapping his arms around her waist and deepening the kiss, neither of them caring that they were standing in the middle of the crowded marketplace.\"\n\nBAD: \"They had an argument.\"\nGOOD: \"Marcus's accusation about the missing money sent Elena into a defensive rage, her voice rising as she threw the ledger across the table at him. The confrontation ended with her storming out into the rain, leaving Marcus alone with the shattered remnants of their partnership.\"\n</summary_guidelines>\n\n<event_types>\nSelect ALL applicable event types (multiple can apply to one event):\n\nCONVERSATION & SOCIAL:\n- conversation: General dialogue, discussion, chatting\n- confession: Admitting feelings, confessing something, revealing truth\n- argument: Verbal conflict, heated disagreement\n- negotiation: Making deals, bargaining, compromising\n\nDISCOVERY & SECRETS:\n- discovery: Learning new information, revelation\n- secret_shared: Voluntarily sharing a secret with someone\n- secret_revealed: A secret being exposed (possibly unwillingly)\n\nEMOTIONAL:\n- emotional: Emotional vulnerability, showing feelings\n- supportive: Providing comfort, emotional support\n- rejection: Rejecting someone's advances or request\n- comfort: Comforting someone who is distressed\n- apology: Apologizing for something done wrong\n- forgiveness: Forgiving someone for a transgression\n\nBONDING & CONNECTION:\n- laugh: Sharing a genuine laugh, humor, joy together\n- gift: Giving or receiving a gift (offered to buy drinks/food, gave a present, brought flowers)\n- compliment: Giving sincere praise or compliment (complimented appearance, praised skills, admired qualities)\n- tease: Playful teasing, banter, jokes at someone's expense (not mean-spirited)\n- flirt: Flirtatious behavior, romantic advances (suggestive comments, winks, innuendo)\n- date: Going on a date or romantic outing\n- i_love_you: Saying \"I love you\" or equivalent declaration of love\n- sleepover: Sleeping over together (non-sexual, just sharing a bed/space)\n- shared_meal: Eating together (breakfast, lunch, dinner, coffee, drinks, snacks together)\n- shared_activity: Doing an activity together (games, hobbies, adventures, watching movies)\n\nROMANTIC INTIMACY:\n- intimate_touch: Hand-holding, caressing, non-sexual physical affection\n- intimate_kiss: Kissing (any type)\n- intimate_embrace: Hugging, cuddling, holding each other\n- intimate_heated: Making out, heavy petting, grinding\n\nSEXUAL ACTIVITY (select all that apply):\n- intimate_foreplay: Teasing, undressing, building up to sex\n- intimate_oral: Oral sexual activity\n- intimate_manual: Manual stimulation (hands, fingers)\n- intimate_penetrative: Penetrative sex\n- intimate_climax: Orgasm, completion\n\nACTION & DANGER:\n- action: Physical activity, doing something concrete\n- combat: Fighting, violence, physical conflict\n- danger: Threat, peril, risky situation\n\nCOMMITMENTS:\n- decision: Making a significant choice\n- promise: Making a commitment or vow\n- betrayal: Breaking trust, backstabbing\n- lied: Telling a lie or deceiving someone (NOT for sharing true secrets)\n\nLIFE EVENTS:\n- exclusivity: Committing to an exclusive relationship\n- marriage: Getting married, wedding ceremony\n- pregnancy: Discovering or announcing pregnancy\n- childbirth: Having a baby, giving birth\n\nSOCIAL:\n- social: Meeting new people, group dynamics\n- achievement: Accomplishing a goal, success\n\nEXAMPLES of multi-select:\n- A kiss during a love confession = [\"confession\", \"intimate_kiss\", \"emotional\"]\n- Revealing a secret while being held = [\"secret_shared\", \"intimate_embrace\", \"emotional\"]\n- An argument that turns into a fight = [\"argument\", \"combat\"]\n- Sex scene = [\"intimate_heated\", \"intimate_foreplay\", \"intimate_penetrative\", \"intimate_climax\"] (select all that apply)\n\nIMPORTANT: Intimacy types are for ACTUAL physical contact, not discussing intimacy.\n- Talking about wanting to kiss someone = [\"conversation\"] or [\"emotional\"]\n- Actually kissing someone = [\"intimate_kiss\"]\n</event_types>\n\n<event_details>\nMANDATORY: You MUST provide an eventDetails entry for EVERY event type you select.\nEach entry should be a brief phrase (5-15 words) describing what specifically happened.\n\nExamples by type:\n- conversation: \"discussed plans for the heist tomorrow night\"\n- confession: \"Elena admitted her romantic feelings for Marcus\"\n- argument: \"fought about whether to trust the informant\"\n- discovery: \"found the hidden compartment in the desk\"\n- secret_shared: \"Elena revealed her TRUE past as a thief\"\n- secret_revealed: \"Marcus's true identity as an agent was exposed\"\n- emotional: \"Elena broke down crying about her father\"\n- supportive: \"Marcus comforted Elena after her breakdown\"\n- comfort: \"held her while she cried about her past\"\n- apology: \"apologized for lying about his identity\"\n- forgiveness: \"forgave Marcus for the betrayal\"\n- laugh: \"shared a genuine laugh at his terrible joke\"\n- gift: \"gave her a hand-carved wooden pendant\"\n- gift: \"offered to buy her dinner at the caf\"\n- gift: \"brought her favorite coffee as a surprise\"\n- compliment: \"told her she had the most beautiful smile\"\n- compliment: \"praised his bravery in facing the danger\"\n- tease: \"playfully mocked his cooking disaster\"\n- tease: \"joked about his terrible sense of direction\"\n- flirt: \"winked and suggested they find somewhere private\"\n- flirt: \"leaned in close while complimenting her eyes\"\n- date: \"went to the art museum together\"\n- i_love_you: \"told her he loved her for the first time\"\n- sleepover: \"fell asleep together on the couch\"\n- shared_meal: \"had dinner together at the candlelit restaurant\"\n- shared_meal: \"ate breakfast together at the caf\"\n- shared_meal: \"grabbed coffee and chatted for hours\"\n- shared_activity: \"played cards together into the night\"\n- shared_activity: \"watched the sunset together from the rooftop\"\n- intimate_kiss: \"first kiss in the corner booth\"\n- intimate_embrace: \"held each other on the couch\"\n- promise: \"vowed to protect Elena no matter what\"\n- betrayal: \"sold the information to their enemies\"\n- lied: \"told Marcus she was a teacher when she's actually a spy\"\n\nCRITICAL - SECRET_SHARED vs LIED:\n- secret_shared: Character shares a TRUE secret about themselves (real past, real identity, real feelings)\n- lied: Character tells something FALSE, deceives, or gives a cover story\n- If someone shares a fake backstory, that is \"lied\" NOT \"secret_shared\"\n- \"secret_shared\" is ONLY for truthful revelations\n\nSECRET_SHARED vs SECRET_REVEALED:\n- secret_shared: Character VOLUNTARILY tells someone their TRUE secret\n- secret_revealed: TRUE secret is EXPOSED (found out, overheard, discovered by accident, or told by a third party)\n</event_details>\n\n<event_pairs>\nMANDATORY: You MUST specify which two characters are involved in EACH event type.\nDifferent event types can involve different character pairs!\n\nFORMAT:\n- Single pair: \"combat\": [\"User\", \"Thug\"]\n- Multiple pairs (same event type): \"combat\": [[\"User\", \"Thug1\"], [\"User\", \"Thug2\"]]\n\nEXAMPLE 1 - Single pair (confession between two people):\neventTypes: [\"confession\", \"emotional\", \"secret_shared\"]\neventPairs: {\n  \"confession\": [\"Elena\", \"Marcus\"],\n  \"emotional\": [\"Elena\", \"Marcus\"],\n  \"secret_shared\": [\"Elena\", \"Marcus\"]\n}\n\nEXAMPLE 2 - Combat with multiple enemies:\neventTypes: [\"combat\", \"danger\"]\neventPairs: {\n  \"combat\": [[\"Jake\", \"Thug1\"], [\"Jake\", \"Thug2\"]],\n  \"danger\": [\"Jake\", \"Thug1\"]\n}\n\nEXAMPLE 3 - Mixed event (fight enemies, comfort ally):\neventTypes: [\"combat\", \"emotional\", \"supportive\", \"intimate_embrace\"]\neventPairs: {\n  \"combat\": [\"Sarah\", \"Guard\"],\n  \"emotional\": [\"Sarah\", \"Alex\"],\n  \"supportive\": [\"Sarah\", \"Alex\"],\n  \"intimate_embrace\": [\"Sarah\", \"Alex\"]\n}\n\nThis is CRITICAL for tracking relationships correctly. Each event type MUST have its own pair entry.\n</event_pairs>\n\n<relationship_signals>\nIf events affect relationships, include relationshipSignals (array - one per affected pair).\nOnly include signals for MEANINGFUL relationship shifts, not routine interactions.\n\nFORMAT: Array of signal objects, each with a pair and changes array.\n\nEXAMPLE 1 - No relationship signal (routine combat with nameless enemies):\nrelationshipSignals: []\n\nEXAMPLE 2 - Single signal (emotional moment between two characters):\nrelationshipSignals: [\n  {\n    pair: [\"Elena\", \"Marcus\"],\n    changes: [\n      { from: \"Elena\", toward: \"Marcus\", feeling: \"vulnerable\" },\n      { from: \"Marcus\", toward: \"Elena\", feeling: \"protective\" }\n    ]\n  }\n]\n\nEXAMPLE 3 - Multiple signals (fight with named enemies who will remember):\nrelationshipSignals: [\n  { pair: [\"Jake\", \"Viper\"], changes: [{ from: \"Viper\", toward: \"Jake\", feeling: \"vengeful\" }] },\n  { pair: [\"Jake\", \"Razor\"], changes: [{ from: \"Razor\", toward: \"Jake\", feeling: \"fearful\" }] }\n]\n\nEXAMPLE 4 - Mixed (combat with enemy, emotional support from ally):\nrelationshipSignals: [\n  { pair: [\"Sarah\", \"Alex\"], changes: [\n    { from: \"Alex\", toward: \"Sarah\", feeling: \"grateful\" },\n    { from: \"Sarah\", toward: \"Alex\", feeling: \"protective\" }\n  ]}\n]\n(Note: No signal for Guard unless they're a recurring character)\n\nIMPORTANT: Only create relationship signals for characters who will appear again.\nGeneric enemies, random NPCs, or one-off characters don't need signals.\n</relationship_signals>\n\n<witnesses>\n- Include all characters who witnessed or participated in the event.\n- This is important for dramatic irony (tracking who knows what).\n</witnesses>\n</instructions>\n\n<current_relationships>\n{{currentRelationships}}\n</current_relationships>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the significant event (or indicate no significant event) as valid JSON:`,\n\t},\n\n\tchapter_boundary: {\n\t\tkey: 'chapter_boundary',\n\t\tname: 'Chapter - Boundary Detection',\n\t\tdescription:\n\t\t\t'Determines if a chapter boundary has occurred and generates chapter summary',\n\t\tdefaultTemperature: 0.5,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.currentEvents,\n\t\t\tCOMMON_PLACEHOLDERS.currentRelationships,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `A potential chapter boundary has been detected (location change or time jump). Analyze whether this represents a true narrative chapter break and generate a chapter summary. You must only return valid JSON with no commentary.\n\n<instructions>\n<boundary_detection>\n- A true chapter boundary marks a significant narrative transition.\n- Time jumps of several hours or location changes to new areas often indicate chapters.\n- Minor movements within the same scene (e.g., moving to another room in the same building) are NOT chapter boundaries.\n- Consider if the narrative tone or focus has shifted significantly.\n</boundary_detection>\n<summary>\n- Write a 2-3 sentence summary of what happened in the chapter.\n- Focus on the most important events and character developments.\n- Include any relationship changes.\n</summary>\n<outcomes>\n- relationshipChanges: Note any significant shifts in how characters relate to each other.\n- secretsRevealed: Any secrets that came to light.\n- newComplications: New problems or tensions introduced.\n</outcomes>\n</instructions>\n\n<chapter_events>\n{{currentEvents}}\n</chapter_events>\n\n<current_relationships>\n{{currentRelationships}}\n</current_relationships>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nAnalyze the chapter boundary and generate summary as valid JSON:`,\n\t},\n\n\trelationship_initial: {\n\t\tkey: 'relationship_initial',\n\t\tname: 'Relationship - Initial',\n\t\tdescription: 'Extracts initial relationship state between two characters',\n\t\tdefaultTemperature: 0.6,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.characterInfo,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze this roleplay scene and extract the relationship between two characters. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Determine the current status of the relationship (strangers, acquaintances, friendly, close, intimate, strained, hostile, complicated).\n- Extract how each character feels about the other (asymmetric feelings are common and important).\n- Note any secrets one character knows that the other doesn't.\n- Identify what each character wants from the relationship.\n</general>\n\n<status_guidelines>\nStatus definitions and requirements:\n\n- strangers: Never met or just met, no rapport\n- acquaintances: Know each other casually, no strong bond\n- friendly: Positive rapport, enjoy each other's company\n- close: Deep friendship, trust, confide in each other. Maximum for platonic relationships.\n- intimate: ONLY for romantic/sexual relationships with explicit romantic actions (kiss, date, love confession, sex)\n- strained: Tension, unresolved conflict, damaged trust\n- hostile: Active antagonism, enemies\n- complicated: Mixed feelings, unclear relationship\n\nCRITICAL STATUS LIMITS:\n- \"intimate\" REQUIRES romantic actions to have occurred (first kiss, first date, love confession, sexual activity)\n- Sharing secrets or emotional vulnerability alone = \"close\" at most, NOT \"intimate\"\n- Caring about someone or wanting to help them = \"friendly\" or \"close\", NOT \"intimate\"\n- \"intimate\" means ROMANTIC relationship, not just emotional closeness\n\nExamples:\n- Characters shared deep secrets, support each other emotionally  \"close\" (not intimate - no romance)\n- Characters had their first kiss  can be \"intimate\"\n- Characters confessed romantic love  can be \"intimate\"\n- Characters care deeply about each other but no romantic actions  \"close\"\n- Characters are suspicious but talking  \"strained\" or \"acquaintances\"\n</status_guidelines>\n\n<asymmetry>\n- Each character's feelings may be very different from the other's.\n- One character might be trusting while the other is suspicious.\n- One might want romance while the other wants friendship.\n- Capture these differences accurately.\n</asymmetry>\n\n<output_format>\nReturn attitudes using actual character names as keys:\n{\n  \"status\": \"friendly\",\n  \"attitudes\": {\n    \"CharacterName1\": {\n      \"toward\": \"CharacterName2\",\n      \"feelings\": [\"trusting\", \"curious\"],\n      \"secrets\": [\"knows about their past\"],\n      \"wants\": [\"friendship\"]\n    },\n    \"CharacterName2\": {\n      \"toward\": \"CharacterName1\",\n      \"feelings\": [\"grateful\", \"protective\"],\n      \"secrets\": [],\n      \"wants\": [\"loyalty\"]\n    }\n  }\n}\n\nIMPORTANT: Use the actual character names as keys, NOT \"aToB\" or \"bToA\".\nThe \"toward\" field clarifies who the feelings are directed at.\n</output_format>\n\n<secrets>\n- Secrets are things one character knows about the other (or about a situation) that the other doesn't know.\n- This is crucial for dramatic irony in the narrative.\n- Only include actual secrets, not just information one character hasn't shared yet.\n</secrets>\n</instructions>\n\n<character_info>\n{{characterInfo}}\n</character_info>\n\n<scene_messages>\n{{messages}}\n</scene_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the relationship state as valid JSON:`,\n\t},\n\n\trelationship_update: {\n\t\tkey: 'relationship_update',\n\t\tname: 'Relationship - Update',\n\t\tdescription: 'Updates relationship state based on recent events',\n\t\tdefaultTemperature: 0.6,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.previousState,\n\t\t\tCOMMON_PLACEHOLDERS.currentEvents,\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.schema,\n\t\t\tCOMMON_PLACEHOLDERS.schemaExample,\n\t\t],\n\t\tdefault: `Analyze recent events and update the relationship between two characters. You must only return valid JSON with no commentary.\n\n<instructions>\n<general>\n- Analyze the previous relationship state and recent events to determine the CURRENT state.\n- Update status if the relationship has progressed or deteriorated.\n- REPLACE feelings with what the character CURRENTLY feels - do NOT accumulate old feelings.\n  - If someone was \"angry\" but has forgiven, remove \"angry\" and add appropriate new feelings.\n  - Feelings should reflect the PRESENT emotional state, not a history of all feelings ever felt.\n- Add new secrets if one character learned something the other doesn't know.\n- Remove secrets that have been revealed or are no longer relevant.\n- Update wants based on how the relationship has evolved.\n</general>\n\n<feelings_guidance>\nCRITICAL: Feelings arrays should contain CURRENT feelings only, not accumulated history.\n\nWRONG approach (accumulating):\n- Previous: [\"curious\", \"cautious\"]\n- After bonding: [\"curious\", \"cautious\", \"trusting\", \"warm\"]   BAD: old feelings remain\n\nCORRECT approach (replacing):\n- Previous: [\"curious\", \"cautious\"]\n- After bonding: [\"trusting\", \"warm\", \"comfortable\"]   GOOD: reflects current state\n\nThink: \"What does this character feel RIGHT NOW about the other person?\"\n</feelings_guidance>\n\n<status_guidelines>\nStatus definitions and requirements:\n\n- strangers: Never met or just met, no rapport\n- acquaintances: Know each other casually, no strong bond\n- friendly: Positive rapport, enjoy each other's company\n- close: Deep friendship, trust, confide in each other. Maximum for platonic relationships.\n- intimate: ONLY for romantic/sexual relationships with explicit romantic actions (kiss, date, love confession, sex)\n- strained: Tension, unresolved conflict, damaged trust\n- hostile: Active antagonism, enemies\n- complicated: Mixed feelings, unclear relationship\n\nCRITICAL STATUS LIMITS:\n- \"intimate\" REQUIRES romantic actions to have occurred (first kiss, first date, love confession, sexual activity)\n- Sharing secrets or emotional vulnerability alone = \"close\" at most, NOT \"intimate\"\n- Caring about someone or wanting to help them = \"friendly\" or \"close\", NOT \"intimate\"\n- \"intimate\" means ROMANTIC relationship, not just emotional closeness\n\nExamples:\n- Characters shared deep secrets, support each other emotionally  \"close\" (not intimate - no romance)\n- Characters had their first kiss  can be \"intimate\"\n- Characters confessed romantic love  can be \"intimate\"\n- Characters care deeply about each other but no romantic actions  \"close\"\n- Characters are suspicious but talking  \"strained\" or \"acquaintances\"\n</status_guidelines>\n\n<output_format>\nReturn attitudes using actual character names as keys:\n{\n  \"status\": \"close\",\n  \"attitudes\": {\n    \"CharacterName1\": {\n      \"toward\": \"CharacterName2\",\n      \"feelings\": [\"trusting\", \"protective\", \"grateful\"],\n      \"secrets\": [],\n      \"wants\": [\"continued friendship\", \"support\"]\n    },\n    \"CharacterName2\": {\n      \"toward\": \"CharacterName1\",\n      \"feelings\": [\"caring\", \"understanding\", \"hopeful\"],\n      \"secrets\": [],\n      \"wants\": [\"to help\", \"trust\"]\n    }\n  }\n}\n\nIMPORTANT: Use the actual character names as keys, NOT \"aToB\" or \"bToA\".\nThe \"toward\" field clarifies who the feelings are directed at.\n</output_format>\n\n<history>\n- If this is a chapter boundary update, include a history snapshot summarizing the relationship state at this point.\n</history>\n</instructions>\n\n<previous_relationship>\n{{previousState}}\n</previous_relationship>\n\n<recent_events>\n{{currentEvents}}\n</recent_events>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\n<schema>\n{{schema}}\n</schema>\n\n<output_example>\n{{schemaExample}}\n</output_example>\n\nExtract the updated relationship state as valid JSON:`,\n\t},\n\n\tmilestone_description: {\n\t\tkey: 'milestone_description',\n\t\tname: 'Milestone - Description',\n\t\tdescription:\n\t\t\t'Extracts a concise, grounded description of a relationship milestone moment',\n\t\tdefaultTemperature: 0.5,\n\t\tplaceholders: [\n\t\t\tCOMMON_PLACEHOLDERS.messages,\n\t\t\tCOMMON_PLACEHOLDERS.milestoneType,\n\t\t\tCOMMON_PLACEHOLDERS.characterPair,\n\t\t\tCOMMON_PLACEHOLDERS.timeOfDay,\n\t\t\tCOMMON_PLACEHOLDERS.location,\n\t\t\tCOMMON_PLACEHOLDERS.props,\n\t\t\tCOMMON_PLACEHOLDERS.characters,\n\t\t\tCOMMON_PLACEHOLDERS.relationship,\n\t\t\tCOMMON_PLACEHOLDERS.eventDetail,\n\t\t],\n\t\tdefault: `Extract a brief description of this {{milestoneType}} moment. Return ONLY the description text, no JSON, no quotes, no commentary.\n\n<context>\n<milestone_type>{{milestoneType}}</milestone_type>\n<character_pair>{{characterPair}}</character_pair>\n<time_of_day>{{timeOfDay}}</time_of_day>\n<location>{{location}}</location>\n<nearby_props>{{props}}</nearby_props>\n<event_detail>{{eventDetail}}</event_detail>\n<character_details>\n{{characters}}\n</character_details>\n<relationship_state>\n{{relationship}}\n</relationship_state>\n</context>\n\n<instructions>\nWrite 1-2 sentences describing ONLY the specific {{milestoneType}} moment between {{characterPair}}.\n\nFOCUS: Describe the exact moment of the milestone - not the entire conversation or scene.\n- For first_kiss: describe the kiss itself, not everything that led to it\n- For secret_shared: describe what secret was shared (use the event_detail)\n- For first_embrace: describe the embrace itself\n\nREQUIREMENTS:\n- Use the event_detail field - it tells you exactly what happened\n- Reference location and time of day\n- Be factual and concise, not flowery\n- Write in past tense, third person\n- Do NOT summarize the whole scene - ONLY the milestone moment\n</instructions>\n\n<examples>\n<example milestone=\"first_kiss\">\n<time_of_day>evening</time_of_day>\n<location>Downtown - The Blue Moon Bar - Corner booth</location>\n<props>half-empty glasses, dim overhead light</props>\n<character_details>\nElena: Position: leaning across booth | Mood: nervous, anticipating | Wearing: torso: red blouse\nMarcus: Position: sitting across from her | Mood: intent, warm | Wearing: torso: dark suit jacket\n</character_details>\n<relationship_state>Elena & Marcus (close): Elena feels: attracted, hopeful | Marcus feels: protective, drawn</relationship_state>\n<messages>\nElena: *She leaned closer across the booth* \"I've been thinking about this all night.\"\nMarcus: *He reached over and cupped her cheek* \"Me too.\" *He kissed her*\n</messages>\n<description>\nElena and Marcus shared their first kiss in the corner booth of the Blue Moon Bar that evening, leaning across the table between their half-empty drinks.\n</description>\n</example>\n\n<example milestone=\"first_embrace\">\n<time_of_day>afternoon</time_of_day>\n<location>Westside - Elena's Apartment - Living room</location>\n<props>couch, scattered tissues, muted TV</props>\n<character_details>\nElena: Position: sitting on couch | Mood: devastated, vulnerable | Wearing: torso: oversized sweater\nMarcus: Position: sitting beside her | Mood: concerned, gentle | Wearing: torso: t-shirt, jacket: leather jacket\n</character_details>\n<relationship_state>Elena & Marcus (friendly): Elena feels: grateful, needing support | Marcus feels: protective, caring</relationship_state>\n<messages>\nMarcus: *He found her on the couch, crying* \"Hey. I came as soon as I heard.\"\nElena: *She looked up* \"I didn't think you'd come.\"\nMarcus: *He sat beside her and pulled her into a hug* \"Of course I came.\"\n</messages>\n<description>\nMarcus held Elena for the first time on her couch that afternoon, pulling her in while she cried about her father's diagnosis.\n</description>\n</example>\n\n<example milestone=\"first_conflict\">\n<time_of_day>night</time_of_day>\n<location>Marcus's Office - Private study</location>\n<props>desk, papers, whiskey glass</props>\n<character_details>\nElena: Position: standing at desk | Mood: furious, betrayed | Wearing: torso: work blouse\nMarcus: Position: behind desk | Mood: defensive, guilty | Wearing: torso: dress shirt, sleeves rolled\n</character_details>\n<relationship_state>Elena & Marcus (intimate): Elena feels: betrayed, hurt | Marcus feels: guilty, desperate</relationship_state>\n<messages>\nElena: *She threw the documents on his desk* \"You've been lying to me this whole time.\"\nMarcus: \"I was trying to protect you\"\nElena: \"Don't. Just don't.\" *She walked out*\n</messages>\n<description>\nTheir first real fight happened in Marcus's study when Elena confronted him with the documents proving his deception. She walked out before he could explain.\n</description>\n</example>\n\n<example milestone=\"confession\">\n<time_of_day>morning</time_of_day>\n<location>Riverside Park - Bench near the fountain</location>\n<props>coffee cups, park bench</props>\n<character_details>\nElena: Position: sitting on bench | Mood: nervous, determined | Wearing: jacket: light cardigan\nMarcus: Position: sitting beside her | Mood: attentive, curious | Wearing: torso: casual shirt\n</character_details>\n<relationship_state>Elena & Marcus (close): Elena feels: in love, scared | Marcus feels: comfortable, uncertain</relationship_state>\n<messages>\nElena: *She stared at her coffee* \"I need to tell you something.\"\nMarcus: *He waited*\nElena: \"I'm in love with you. I have been for a while.\"\n</messages>\n<description>\nElena confessed her feelings on a park bench that morning, gripping her coffee cup as she finally admitted she'd been in love with Marcus for a while.\n</description>\n</example>\n\n<example milestone=\"first_laugh\">\n<time_of_day>evening</time_of_day>\n<location>Downtown - Ramen Shop - Counter seats</location>\n<props>steaming ramen bowls, chopsticks, napkins</props>\n<character_details>\nElena: Position: sitting at counter | Mood: amused, relaxed | Wearing: jacket: denim jacket\nMarcus: Position: sitting beside her | Mood: playful, grinning | Wearing: torso: hoodie\n</character_details>\n<relationship_state>Elena & Marcus (acquaintances): Elena feels: warming up, curious | Marcus feels: interested, comfortable</relationship_state>\n<messages>\nMarcus: *He slurped his noodles loudly, getting broth on his chin* \"That's how you're supposed to eat ramen. Trust me.\"\nElena: *She burst out laughing* \"You look ridiculous.\"\nMarcus: *He grinned, not wiping his face* \"But am I wrong?\"\n</messages>\n<description>\nTheir first genuine laugh together came at the ramen shop that evening when Marcus deliberately slurped his noodles and got broth all over his chin, making Elena burst out laughing despite herself.\n</description>\n</example>\n\n<example milestone=\"first_gift\">\n<time_of_day>afternoon</time_of_day>\n<location>Elena's Apartment - Doorway</location>\n<props>doorframe, mailbox, potted plant</props>\n<character_details>\nElena: Position: standing in doorway | Mood: surprised, touched | Wearing: torso: casual sweater\nMarcus: Position: standing at door | Mood: nervous, hopeful | Wearing: jacket: coat, torso: button-up\n</character_details>\n<relationship_state>Elena & Marcus (friendly): Elena feels: appreciating, curious | Marcus feels: eager, nervous</relationship_state>\n<messages>\nMarcus: *He held out a small wrapped box* \"I saw this and thought of you.\"\nElena: *She unwrapped it to find a vintage compass* \"Marcus... this is beautiful.\"\nMarcus: \"So you'll always find your way home.\"\n</messages>\n<description>\nMarcus gave Elena her first gift at her apartment door that afternoona vintage compass he'd found, saying it was so she'd always find her way home.\n</description>\n</example>\n</examples>\n\n<recent_messages>\n{{messages}}\n</recent_messages>\n\nWrite the milestone description:`,\n\t},\n};\n\n// ============================================\n// Public API\n// ============================================\n\n/**\n * Get a prompt by key, using custom prompt from settings if available.\n */\nexport function getPrompt(key: PromptKey): string {\n\tconst settings = getSettings();\n\tconst customPrompts = settings.customPrompts as CustomPrompts | undefined;\n\n\tif (customPrompts?.[key]) {\n\t\treturn customPrompts[key];\n\t}\n\n\treturn DEFAULT_PROMPTS[key].default;\n}\n\n/**\n * Get all prompt definitions for UI display.\n */\nexport function getAllPromptDefinitions(): PromptDefinition[] {\n\treturn Object.values(DEFAULT_PROMPTS);\n}\n\n/**\n * Get a specific prompt definition.\n */\nexport function getPromptDefinition(key: PromptKey): PromptDefinition {\n\treturn DEFAULT_PROMPTS[key];\n}\n\n/**\n * Check if a prompt has been customized.\n */\nexport function isPromptCustomized(key: PromptKey): boolean {\n\tconst settings = getSettings();\n\tconst customPrompts = settings.customPrompts as CustomPrompts | undefined;\n\treturn !!customPrompts?.[key];\n}\n\n/**\n * Get placeholder documentation for a prompt.\n */\nexport function getPlaceholderDocs(key: PromptKey): PromptPlaceholder[] {\n\treturn DEFAULT_PROMPTS[key].placeholders;\n}\n","import type {\n\tCharacterOutfit,\n\tTrackedState,\n\tScene,\n\tNarrativeDateTime,\n\tNarrativeState,\n\tTimestampedEvent,\n\tClimate,\n\tProceduralClimate,\n} from '../types/state';\nimport type { STContext } from '../types/st';\nimport { getMessageState } from '../utils/messageState';\nimport { getSettings } from '../settings';\nimport { formatTemperature } from '../utils/temperatures';\nimport { getNarrativeState } from '../state/narrativeState';\nimport { formatChaptersForInjection } from '../state/chapters';\nimport { formatEventsForInjection } from '../state/events';\nimport { formatRelationshipsForPrompt } from '../state/relationships';\nimport { isLegacyClimate } from '../weather';\n\n// ============================================\n// Helper Functions for Knowledge Gaps\n// ============================================\n\n/**\n * Build knowledge gaps - events that present characters missed.\n * Returns formatted strings describing what each present character doesn't know.\n */\nfunction buildKnowledgeGaps(events: TimestampedEvent[], presentCharacters: string[]): string[] {\n\tconst gaps = new Map<string, string[]>();\n\n\t// For each present character, find events they weren't witnesses to\n\tfor (const character of presentCharacters) {\n\t\tconst charLower = character.toLowerCase();\n\t\tfor (const event of events) {\n\t\t\tconst witnessLower = event.witnesses.map(w => w.toLowerCase());\n\t\t\tif (!witnessLower.includes(charLower)) {\n\t\t\t\tif (!gaps.has(character)) {\n\t\t\t\t\tgaps.set(character, []);\n\t\t\t\t}\n\t\t\t\tgaps.get(character)!.push(event.summary);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Format as strings\n\tconst result: string[] = [];\n\tfor (const [character, missedEvents] of gaps) {\n\t\tif (missedEvents.length > 0) {\n\t\t\tresult.push(`${character} was not present for: ${missedEvents.join('; ')}`);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nconst EXTENSION_KEY = 'blazetracker';\n\nconst MONTH_NAMES = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nfunction formatOutfit(outfit: CharacterOutfit): string {\n\tconst outfitParts = [\n\t\toutfit.torso || 'topless',\n\t\toutfit.legs || 'bottomless',\n\t\toutfit.underwear || 'no underwear',\n\t\toutfit.head || null,\n\t\toutfit.jacket || null,\n\t\toutfit.socks || null,\n\t\toutfit.footwear || null,\n\t];\n\n\treturn outfitParts.filter((v: string | null) => v !== null).join(', ');\n}\n\nfunction formatClimate(climate: Climate | ProceduralClimate): string {\n\tconst settings = getSettings();\n\n\tif (isLegacyClimate(climate)) {\n\t\t// Legacy format: simple weather + temperature\n\t\treturn `${formatTemperature(climate.temperature, settings.temperatureUnit)}, ${climate.weather}`;\n\t}\n\n\t// Procedural format: more detailed\n\tconst parts: string[] = [];\n\n\t// Temperature with feels like if significantly different\n\tconst tempStr = formatTemperature(climate.temperature, settings.temperatureUnit);\n\tif (Math.abs(climate.feelsLike - climate.temperature) > 5) {\n\t\tconst feelsLikeStr = formatTemperature(climate.feelsLike, settings.temperatureUnit);\n\t\tparts.push(`${tempStr} (feels like ${feelsLikeStr})`);\n\t} else {\n\t\tparts.push(tempStr);\n\t}\n\n\t// Conditions\n\tparts.push(climate.conditions);\n\n\t// Wind if notable\n\tif (climate.windSpeed >= 15) {\n\t\tparts.push(\n\t\t\t`${Math.round(climate.windSpeed)} mph winds from ${climate.windDirection}`,\n\t\t);\n\t}\n\n\t// Indoor note\n\tif (climate.isIndoors && climate.indoorTemperature !== undefined) {\n\t\tconst outdoorStr = formatTemperature(\n\t\t\tclimate.outdoorTemperature,\n\t\t\tsettings.temperatureUnit,\n\t\t);\n\t\tparts.push(`(${outdoorStr} outside)`);\n\t}\n\n\treturn parts.join(', ');\n}\n\nfunction formatScene(scene: Scene): string {\n\tconst tensionParts = [\n\t\tscene.tension.type,\n\t\tscene.tension.level,\n\t\tscene.tension.direction !== 'stable' ? scene.tension.direction : null,\n\t].filter(Boolean);\n\n\treturn `Topic: ${scene.topic}\nTone: ${scene.tone}\nTension: ${tensionParts.join(', ')}`;\n}\n\nfunction formatNarrativeDateTime(time: NarrativeDateTime): string {\n\tconst hour12 = time.hour % 12 || 12;\n\tconst ampm = time.hour < 12 ? 'AM' : 'PM';\n\tconst minuteStr = String(time.minute).padStart(2, '0');\n\n\t// \"Monday, June 15th, 2024 at 2:30 PM\"\n\tconst dayOrdinal = getDayOrdinal(time.day);\n\n\treturn `${time.dayOfWeek}, ${MONTH_NAMES[time.month - 1]} ${time.day}${dayOrdinal}, ${time.year} at ${hour12}:${minuteStr} ${ampm}`;\n}\n\nfunction getDayOrdinal(day: number): string {\n\tif (day >= 11 && day <= 13) return 'th';\n\tswitch (day % 10) {\n\t\tcase 1:\n\t\t\treturn 'st';\n\t\tcase 2:\n\t\t\treturn 'nd';\n\t\tcase 3:\n\t\t\treturn 'rd';\n\t\tdefault:\n\t\t\treturn 'th';\n\t}\n}\n\nexport interface InjectionOptions {\n\tweatherTransition?: string;\n}\n\nexport function formatStateForInjection(\n\tstate: TrackedState,\n\tnarrativeState?: NarrativeState | null,\n\toptions?: InjectionOptions,\n): string {\n\tconst settings = getSettings();\n\n\t// Check what's enabled AND what data exists\n\tconst hasTime = settings.trackTime !== false && state.time;\n\tconst hasLocation = settings.trackLocation !== false && state.location;\n\tconst hasClimate = settings.trackClimate !== false && state.climate;\n\tconst hasScene = settings.trackScene !== false && state.scene;\n\tconst hasCharacters =\n\t\tsettings.trackCharacters !== false &&\n\t\tstate.characters &&\n\t\tstate.characters.length > 0;\n\tconst hasEvents =\n\t\tsettings.trackEvents !== false &&\n\t\tstate.currentEvents &&\n\t\tstate.currentEvents.length > 0;\n\tconst hasRelationships =\n\t\tsettings.trackRelationships !== false &&\n\t\tnarrativeState &&\n\t\tnarrativeState.relationships.length > 0;\n\tconst hasChapters = narrativeState && narrativeState.chapters.length > 0;\n\n\t// If nothing is tracked/available, return empty\n\tif (\n\t\t!hasTime &&\n\t\t!hasLocation &&\n\t\t!hasClimate &&\n\t\t!hasScene &&\n\t\t!hasCharacters &&\n\t\t!hasEvents &&\n\t\t!hasRelationships &&\n\t\t!hasChapters\n\t) {\n\t\treturn '';\n\t}\n\n\tconst sections: string[] = [];\n\n\t// ========================================\n\t// Previous Chapters (Story So Far)\n\t// ========================================\n\tif (hasChapters && narrativeState) {\n\t\tconst chapterLimit = settings.injectedChapters ?? 3;\n\t\tconst chaptersStr = formatChaptersForInjection(\n\t\t\tnarrativeState.chapters,\n\t\t\tchapterLimit,\n\t\t);\n\t\tif (chaptersStr !== 'No previous chapters.') {\n\t\t\tsections.push(`[Story So Far]\\n${chaptersStr}\\n[/Story So Far]`);\n\t\t}\n\t}\n\n\t// ========================================\n\t// Current Scene State\n\t// ========================================\n\tlet sceneOutput = `[Scene State]`;\n\n\t// Scene info first - it's the narrative context\n\tif (hasScene && state.scene) {\n\t\tsceneOutput += `\\n${formatScene(state.scene)}`;\n\t}\n\n\t// Time (if enabled and available)\n\tif (hasTime && state.time) {\n\t\tconst timeStr = formatNarrativeDateTime(state.time);\n\t\tsceneOutput += `\\nTime: ${timeStr}`;\n\t}\n\n\t// Location (if enabled and available)\n\tif (hasLocation && state.location) {\n\t\tconst location = [\n\t\t\tstate.location.area,\n\t\t\tstate.location.place,\n\t\t\tstate.location.position,\n\t\t]\n\t\t\t.filter(Boolean)\n\t\t\t.join(' - ');\n\t\tsceneOutput += `\\nLocation: ${location}`;\n\n\t\t// Props are part of location\n\t\tif (state.location.props && state.location.props.length > 0) {\n\t\t\tconst props = state.location.props.join(', ');\n\t\t\tsceneOutput += `\\nNearby objects: ${props}`;\n\t\t}\n\t}\n\n\t// Climate (if enabled and available)\n\tif (hasClimate && state.climate) {\n\t\tconst climate = formatClimate(state.climate);\n\t\tsceneOutput += `\\nClimate: ${climate}`;\n\t}\n\n\t// Characters (if enabled and available)\n\tif (hasCharacters && state.characters) {\n\t\tconst characters = state.characters\n\t\t\t.map(char => {\n\t\t\t\tconst parts = [`${char.name}: ${char.position}`];\n\t\t\t\tif (char.activity) parts.push(`doing: ${char.activity}`);\n\t\t\t\tif (char.mood?.length) parts.push(`mood: ${char.mood.join(', ')}`);\n\t\t\t\tif (char.physicalState?.length)\n\t\t\t\t\tparts.push(`physical: ${char.physicalState.join(', ')}`);\n\t\t\t\tif (char.outfit)\n\t\t\t\t\tparts.push(`wearing: ${formatOutfit(char.outfit)}`);\n\t\t\t\treturn parts.join('; ');\n\t\t\t})\n\t\t\t.join('\\n');\n\n\t\tsceneOutput += `\\nCharacters present:\\n${characters}`;\n\t}\n\n\tsceneOutput += `\\n[/Scene State]`;\n\tsections.push(sceneOutput);\n\n\t// ========================================\n\t// Weather Transition (if procedural weather with change)\n\t// ========================================\n\tif (\n\t\toptions?.weatherTransition &&\n\t\tsettings.useProceduralWeather &&\n\t\tsettings.injectWeatherTransitions\n\t) {\n\t\tsections.push(`[Weather Change]\\n${options.weatherTransition}\\n[/Weather Change]`);\n\t}\n\n\t// ========================================\n\t// Recent Events in Current Chapter\n\t// ========================================\n\tif (hasEvents && state.currentEvents) {\n\t\tconst eventsStr = formatEventsForInjection(state.currentEvents);\n\t\tsections.push(`[Recent Events]\\n${eventsStr}\\n[/Recent Events]`);\n\n\t\t// Add witness absence notes for dramatic irony (if characters are tracked)\n\t\tif (hasCharacters && state.characters) {\n\t\t\tconst presentCharacters = state.characters.map(c => c.name);\n\t\t\tconst knowledgeGaps = buildKnowledgeGaps(\n\t\t\t\tstate.currentEvents,\n\t\t\t\tpresentCharacters,\n\t\t\t);\n\n\t\t\tif (knowledgeGaps.length > 0) {\n\t\t\t\tsections.push(\n\t\t\t\t\t`[Knowledge Gaps]\\n${knowledgeGaps.join('\\n')}\\n[/Knowledge Gaps]`,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t// ========================================\n\t// Relationships (filtered for present characters)\n\t// ========================================\n\tif (hasRelationships && narrativeState) {\n\t\tconst presentCharacters =\n\t\t\thasCharacters && state.characters\n\t\t\t\t? state.characters.map(c => c.name)\n\t\t\t\t: undefined;\n\n\t\tconst relationshipsStr = formatRelationshipsForPrompt(\n\t\t\tnarrativeState.relationships,\n\t\t\tpresentCharacters,\n\t\t\tsettings.includeRelationshipSecrets ?? true,\n\t\t);\n\n\t\tif (relationshipsStr !== 'No established relationships yet.') {\n\t\t\tsections.push(`[Relationships]\\n${relationshipsStr}\\n[/Relationships]`);\n\t\t}\n\t}\n\n\treturn sections.join('\\n\\n');\n}\n\nexport function injectState(\n\tstate: TrackedState | null,\n\tnarrativeState?: NarrativeState | null,\n\toptions?: InjectionOptions,\n) {\n\tconst context = SillyTavern.getContext() as STContext;\n\n\tif (!state) {\n\t\tcontext.setExtensionPrompt(EXTENSION_KEY, '', 0, 0);\n\t\treturn;\n\t}\n\n\tconst formatted = formatStateForInjection(state, narrativeState, options);\n\n\t// If nothing to inject, clear the prompt\n\tif (!formatted) {\n\t\tcontext.setExtensionPrompt(EXTENSION_KEY, '', 0, 0);\n\t\treturn;\n\t}\n\n\t// Inject at depth 0 (with most recent messages), position IN_CHAT\n\t// Position 1 = after main prompt, before chat\n\t// Depth 0 = at the end (near most recent messages)\n\tcontext.setExtensionPrompt(\n\t\tEXTENSION_KEY,\n\t\tformatted,\n\t\t1, // extension_prompt_types.IN_CHAT or similar\n\t\t0, // depth - 0 means at the bottom\n\t);\n}\n\nexport function updateInjectionFromChat() {\n\tconst context = SillyTavern.getContext() as STContext;\n\n\t// Get narrative state\n\tconst narrativeState = getNarrativeState();\n\n\t// Find most recent tracked state\n\tfor (let i = context.chat.length - 1; i >= 0; i--) {\n\t\tconst message = context.chat[i];\n\t\tconst stateData = getMessageState(message) as { state?: TrackedState } | undefined;\n\t\tif (stateData?.state) {\n\t\t\tinjectState(stateData.state, narrativeState);\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// No state found, clear injection\n\tinjectState(null);\n}\n","// migration.ts\n\nimport type { STContext } from '../types/st';\nimport type { TrackedState, NarrativeDateTime } from '../types/state';\nimport { getMessageState, setMessageState } from '../utils/messageState';\nimport { extractDateTime } from '../extractors/extractTime';\nimport { st_echo } from 'sillytavern-utils-lib/config';\n\nconst DAYS_OF_WEEK = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\ninterface OldTimeFormat {\n\thour: number;\n\tminute: number;\n\tday: string;\n}\n\nfunction isOldTimeFormat(time: any): time is OldTimeFormat {\n\treturn time && typeof time.day === 'string' && !time.dayOfWeek;\n}\n\nfunction getDayIndex(dayName: string): number {\n\treturn DAYS_OF_WEEK.indexOf(dayName);\n}\n\nfunction daysBetween(fromDay: string, toDay: string): number {\n\tconst fromIdx = getDayIndex(fromDay);\n\tconst toIdx = getDayIndex(toDay);\n\tif (fromIdx === -1 || toIdx === -1) return 0;\n\n\t// Calculate forward distance (handles wrap-around)\n\tlet diff = toIdx - fromIdx;\n\tif (diff <= 0) diff += 7; // Went to next week\n\tif (diff === 7) diff = 0; // Same day\n\treturn diff;\n}\n\nfunction addDays(date: Date, days: number): Date {\n\tconst result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n}\n\nfunction dateToNarrativeTime(date: Date, hour: number, minute: number): NarrativeDateTime {\n\treturn {\n\t\tyear: date.getFullYear(),\n\t\tmonth: date.getMonth() + 1,\n\t\tday: date.getDate(),\n\t\thour,\n\t\tminute,\n\t\tsecond: 0,\n\t\tdayOfWeek: DAYS_OF_WEEK[date.getDay()],\n\t};\n}\n\nfunction narrativeToDate(time: NarrativeDateTime): Date {\n\treturn new Date(time.year, time.month - 1, time.day, time.hour, time.minute, time.second);\n}\n\n/**\n * Migrate old time formats to NarrativeDateTime.\n * Call on CHAT_CHANGED after loading states.\n */\nexport async function migrateOldTimeFormats(\n\tcontext: STContext,\n\tprofileId: string,\n): Promise<boolean> {\n\tlet needsMigration = false;\n\tlet firstOldStateIdx = -1;\n\n\t// First pass: check if any states need migration\n\tfor (let i = 0; i < context.chat.length; i++) {\n\t\tconst stored = getMessageState(context.chat[i]);\n\t\tif (stored?.state && isOldTimeFormat(stored.state.time)) {\n\t\t\tneedsMigration = true;\n\t\t\tif (firstOldStateIdx === -1) {\n\t\t\t\tfirstOldStateIdx = i;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!needsMigration) {\n\t\treturn false;\n\t}\n\n\tst_echo?.('warning', ' Updating date/time to v0.3.0 format.');\n\n\t// Get messages up to and including the first state for context\n\tconst contextMessages = context.chat\n\t\t.slice(0, Math.min(firstOldStateIdx + 1, 5))\n\t\t.map(m => `${m.name}: ${m.mes}`)\n\t\t.join('\\n\\n');\n\n\t// Use LLM to infer baseline date\n\tlet baselineTime: NarrativeDateTime;\n\ttry {\n\t\tbaselineTime = await extractDateTime(contextMessages, profileId);\n\t} catch (e) {\n\t\tconsole.error('[BlazeTracker] Failed to infer baseline date, using defaults:', e);\n\t\tbaselineTime = {\n\t\t\tyear: new Date().getFullYear(),\n\t\t\tmonth: 6,\n\t\t\tday: 15,\n\t\t\thour: 12,\n\t\t\tminute: 0,\n\t\t\tsecond: 0,\n\t\t\tdayOfWeek: 'Monday',\n\t\t};\n\t}\n\n\t// Adjust baseline to match the first state's day of week\n\tconst firstStored = getMessageState(context.chat[firstOldStateIdx]);\n\n\tlet currentDate = narrativeToDate(baselineTime);\n\n\tconst firstTime = firstStored?.state?.time;\n\tif (firstTime && isOldTimeFormat(firstTime)) {\n\t\tconst targetDayIdx = getDayIndex(firstTime.day);\n\t\tconst currentDayIdx = currentDate.getDay();\n\t\tif (targetDayIdx !== -1 && targetDayIdx !== currentDayIdx) {\n\t\t\tlet diff = targetDayIdx - currentDayIdx;\n\t\t\tif (diff > 0) diff -= 7;\n\t\t\tcurrentDate = addDays(currentDate, diff);\n\t\t}\n\t}\n\n\tlet lastDayOfWeek: string | null = null;\n\n\t// Second pass: migrate each state\n\tfor (let i = 0; i < context.chat.length; i++) {\n\t\tconst msg = context.chat[i];\n\t\tconst stored = getMessageState(msg);\n\n\t\tif (!stored?.state || !isOldTimeFormat(stored.state.time)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst oldTime = stored.state.time as OldTimeFormat;\n\n\t\t// If day changed, advance the date\n\t\tif (lastDayOfWeek !== null && oldTime.day !== lastDayOfWeek) {\n\t\t\tconst daysToAdd = daysBetween(lastDayOfWeek, oldTime.day);\n\t\t\tcurrentDate = addDays(currentDate, daysToAdd);\n\t\t}\n\n\t\t// Create new time format, preserving the original hour/minute\n\t\tconst newTime = dateToNarrativeTime(currentDate, oldTime.hour, oldTime.minute);\n\n\t\t// Update state\n\t\tconst newState: TrackedState = {\n\t\t\t...stored.state,\n\t\t\ttime: newTime,\n\t\t};\n\n\t\tsetMessageState(msg, { ...stored, state: newState });\n\t\tlastDayOfWeek = oldTime.day;\n\t}\n\n\t// Save the chat to persist migrations\n\tconst saveContext = SillyTavern.getContext();\n\tawait saveContext.saveChat();\n\n\treturn true;\n}\n","import { ExtensionSettingsManager } from 'sillytavern-utils-lib';\nimport { EXTENSION_KEY } from './constants';\n\nexport interface CustomPrompts {\n\t[key: string]: string;\n}\n\nexport interface CustomTemperatures {\n\t[key: string]: number;\n}\n\nexport interface BlazeTrackerSettings {\n\tprofileId: string;\n\tautoMode: 'none' | 'responses' | 'inputs' | 'both';\n\tlastXMessages: number;\n\tmaxResponseTokens: number;\n\tdisplayPosition: 'above' | 'below';\n\t// Extraction toggles\n\ttrackTime: boolean;\n\ttrackLocation: boolean;\n\ttrackClimate: boolean;\n\ttrackCharacters: boolean;\n\ttrackScene: boolean;\n\ttrackEvents: boolean;\n\ttrackRelationships: boolean;\n\t// Weather settings\n\tuseProceduralWeather: boolean;\n\tinjectWeatherTransitions: boolean;\n\t// Chapter settings\n\tchapterTimeThreshold: number;\n\tinjectedChapters: number;\n\t// Relationship settings\n\trelationshipRefreshInterval: number;\n\tincludeRelationshipSecrets: boolean;\n\t// Other settings\n\tleapThresholdMinutes: number;\n\ttemperatureUnit: 'fahrenheit' | 'celsius';\n\ttimeFormat: '12h' | '24h';\n\tcustomPrompts: CustomPrompts;\n\tcustomTemperatures: CustomTemperatures;\n}\n\nexport const defaultSettings: BlazeTrackerSettings = {\n\tprofileId: '',\n\tautoMode: 'both',\n\tlastXMessages: 10,\n\tmaxResponseTokens: 4000,\n\tdisplayPosition: 'below',\n\t// All extractions enabled by default\n\ttrackTime: true,\n\ttrackLocation: true,\n\ttrackClimate: true,\n\ttrackCharacters: true,\n\ttrackScene: true,\n\ttrackEvents: true,\n\ttrackRelationships: true,\n\t// Weather settings\n\tuseProceduralWeather: true,\n\tinjectWeatherTransitions: true,\n\t// Chapter settings\n\tchapterTimeThreshold: 60,\n\tinjectedChapters: 3,\n\t// Relationship settings\n\trelationshipRefreshInterval: 10,\n\tincludeRelationshipSecrets: true,\n\t// Other defaults\n\tleapThresholdMinutes: 20,\n\ttemperatureUnit: 'fahrenheit',\n\ttimeFormat: '24h',\n\tcustomPrompts: {},\n\tcustomTemperatures: {},\n};\n\n// Default temperatures for each extractor prompt\nexport const defaultTemperatures: Record<string, number> = {\n\ttime_datetime: 0.3,\n\ttime_delta: 0.3,\n\tlocation_initial: 0.5,\n\tlocation_update: 0.5,\n\tclimate_initial: 0.3,\n\tclimate_update: 0.3,\n\tclimate_location_map: 0.4,\n\tcharacters_initial: 0.7,\n\tcharacters_update: 0.7,\n\tscene_initial: 0.6,\n\tscene_update: 0.6,\n\tevent_extract: 0.4,\n\tchapter_boundary: 0.5,\n\trelationship_initial: 0.6,\n\trelationship_update: 0.6,\n\tmilestone_description: 0.7,\n};\n\n/**\n * Get the temperature for a specific prompt key.\n * Returns custom temperature if set, otherwise the default.\n */\nexport function getTemperature(key: string): number {\n\tconst settings = getSettings();\n\tif (key in settings.customTemperatures) {\n\t\treturn settings.customTemperatures[key];\n\t}\n\treturn defaultTemperatures[key] ?? 0.5;\n}\n\nexport const settingsManager = new ExtensionSettingsManager<BlazeTrackerSettings>(\n\tEXTENSION_KEY,\n\tdefaultSettings,\n);\n\nexport function getSettings(): BlazeTrackerSettings {\n\treturn settingsManager.getSettings();\n}\n\nexport function updateSetting<K extends keyof BlazeTrackerSettings>(\n\tkey: K,\n\tvalue: BlazeTrackerSettings[K],\n): void {\n\tconst settings = settingsManager.getSettings();\n\tsettings[key] = value;\n\tsettingsManager.saveSettings();\n}\n","// ============================================\n// Chapter Utility Functions\n// ============================================\n\nimport type {\n\tNarrativeDateTime,\n\tLocationState,\n\tChapter,\n\tChapterOutcomes,\n\tTimestampedEvent,\n} from '../types/state';\nimport { getSettings } from '../settings';\n\n// ============================================\n// Time Delta Calculations\n// ============================================\n\n/**\n * Convert a NarrativeDateTime to total minutes since epoch (for comparison).\n */\nfunction toMinutes(dt: NarrativeDateTime): number {\n\t// Simple conversion: assumes 30 days per month, 365 days per year\n\t// This is approximate but sufficient for detecting large time jumps\n\tconst yearMinutes = dt.year * 365 * 24 * 60;\n\tconst monthMinutes = (dt.month - 1) * 30 * 24 * 60;\n\tconst dayMinutes = (dt.day - 1) * 24 * 60;\n\tconst hourMinutes = dt.hour * 60;\n\treturn yearMinutes + monthMinutes + dayMinutes + hourMinutes + dt.minute;\n}\n\n/**\n * Calculate the time delta in minutes between two NarrativeDateTimes.\n * Returns positive if 'to' is after 'from', negative otherwise.\n */\nexport function getTimeDeltaMinutes(from: NarrativeDateTime, to: NarrativeDateTime): number {\n\treturn toMinutes(to) - toMinutes(from);\n}\n\n/**\n * Format a time delta in minutes to a human-readable string.\n */\nexport function formatTimeElapsed(minutes: number): string {\n\tconst absMinutes = Math.abs(minutes);\n\n\tif (absMinutes < 60) {\n\t\treturn `${absMinutes} minute${absMinutes !== 1 ? 's' : ''}`;\n\t}\n\n\tconst hours = Math.floor(absMinutes / 60);\n\tconst remainingMinutes = absMinutes % 60;\n\n\tif (hours < 24) {\n\t\tif (remainingMinutes === 0) {\n\t\t\treturn `${hours} hour${hours !== 1 ? 's' : ''}`;\n\t\t}\n\t\treturn `${hours} hour${hours !== 1 ? 's' : ''}, ${remainingMinutes} minute${remainingMinutes !== 1 ? 's' : ''}`;\n\t}\n\n\tconst days = Math.floor(hours / 24);\n\tconst remainingHours = hours % 24;\n\n\tif (days < 7) {\n\t\tif (remainingHours === 0) {\n\t\t\treturn `${days} day${days !== 1 ? 's' : ''}`;\n\t\t}\n\t\treturn `${days} day${days !== 1 ? 's' : ''}, ${remainingHours} hour${remainingHours !== 1 ? 's' : ''}`;\n\t}\n\n\tconst weeks = Math.floor(days / 7);\n\tconst remainingDays = days % 7;\n\n\tif (remainingDays === 0) {\n\t\treturn `${weeks} week${weeks !== 1 ? 's' : ''}`;\n\t}\n\treturn `${weeks} week${weeks !== 1 ? 's' : ''}, ${remainingDays} day${remainingDays !== 1 ? 's' : ''}`;\n}\n\n// ============================================\n// Chapter Boundary Detection\n// ============================================\n\nexport interface BoundaryCheckResult {\n\t/** Whether a chapter boundary was detected */\n\ttriggered: boolean;\n\t/** Reason for the boundary (if triggered) */\n\treason?: 'location_change' | 'time_jump' | 'both';\n\t/** Location change details (if applicable) */\n\tlocationChange?: {\n\t\tfrom: string;\n\t\tto: string;\n\t};\n\t/** Time jump details (if applicable) */\n\ttimeJump?: {\n\t\tminutes: number;\n\t\tformatted: string;\n\t};\n}\n\n/**\n * Check if a chapter boundary should be triggered based on location or time changes.\n * @param previousLocation Previous location state\n * @param currentLocation Current location state\n * @param previousTime Previous narrative time\n * @param currentTime Current narrative time\n * @returns BoundaryCheckResult indicating if and why a boundary was triggered\n */\nexport function checkChapterBoundary(\n\tpreviousLocation: LocationState | undefined,\n\tcurrentLocation: LocationState | undefined,\n\tpreviousTime: NarrativeDateTime | undefined,\n\tcurrentTime: NarrativeDateTime | undefined,\n): BoundaryCheckResult {\n\tconst settings = getSettings();\n\tconst threshold = settings.chapterTimeThreshold ?? 60; // Default 60 minutes\n\n\tlet locationChanged = false;\n\tlet timeJumped = false;\n\tlet locationChange: BoundaryCheckResult['locationChange'];\n\tlet timeJump: BoundaryCheckResult['timeJump'];\n\n\t// Check for significant location change (different area or place)\n\tif (previousLocation && currentLocation) {\n\t\tconst areaChanged =\n\t\t\tpreviousLocation.area.toLowerCase() !== currentLocation.area.toLowerCase();\n\t\tconst placeChanged =\n\t\t\tpreviousLocation.place.toLowerCase() !==\n\t\t\tcurrentLocation.place.toLowerCase();\n\n\t\tif (areaChanged || placeChanged) {\n\t\t\tlocationChanged = true;\n\t\t\tlocationChange = {\n\t\t\t\tfrom: `${previousLocation.area} - ${previousLocation.place}`,\n\t\t\t\tto: `${currentLocation.area} - ${currentLocation.place}`,\n\t\t\t};\n\t\t}\n\t}\n\n\t// Check for time jump\n\tif (previousTime && currentTime) {\n\t\tconst delta = getTimeDeltaMinutes(previousTime, currentTime);\n\n\t\tif (delta >= threshold) {\n\t\t\ttimeJumped = true;\n\t\t\ttimeJump = {\n\t\t\t\tminutes: delta,\n\t\t\t\tformatted: formatTimeElapsed(delta),\n\t\t\t};\n\t\t}\n\t}\n\n\t// Determine result\n\tif (locationChanged && timeJumped) {\n\t\treturn {\n\t\t\ttriggered: true,\n\t\t\treason: 'both',\n\t\t\tlocationChange,\n\t\t\ttimeJump,\n\t\t};\n\t} else if (locationChanged) {\n\t\treturn {\n\t\t\ttriggered: true,\n\t\t\treason: 'location_change',\n\t\t\tlocationChange,\n\t\t};\n\t} else if (timeJumped) {\n\t\treturn {\n\t\t\ttriggered: true,\n\t\t\treason: 'time_jump',\n\t\t\ttimeJump,\n\t\t};\n\t}\n\n\treturn { triggered: false };\n}\n\n// ============================================\n// Chapter Creation\n// ============================================\n\n/**\n * Create a new chapter with default empty values.\n */\nexport function createEmptyChapter(index: number): Chapter {\n\tconst now: NarrativeDateTime = {\n\t\tyear: new Date().getFullYear(),\n\t\tmonth: 6,\n\t\tday: 15,\n\t\thour: 12,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t\tdayOfWeek: 'Monday',\n\t};\n\n\treturn {\n\t\tindex,\n\t\ttitle: `Chapter ${index + 1}`,\n\t\tsummary: '',\n\t\ttimeRange: {\n\t\t\tstart: now,\n\t\t\tend: now,\n\t\t},\n\t\tprimaryLocation: 'Unknown',\n\t\tevents: [],\n\t\toutcomes: createEmptyOutcomes(),\n\t};\n}\n\n/**\n * Create empty chapter outcomes.\n */\nexport function createEmptyOutcomes(): ChapterOutcomes {\n\treturn {\n\t\trelationshipChanges: [],\n\t\tsecretsRevealed: [],\n\t\tnewComplications: [],\n\t};\n}\n\n/**\n * Finalize a chapter with events and time range.\n */\nexport function finalizeChapter(\n\tchapter: Chapter,\n\tevents: TimestampedEvent[],\n\tstartTime: NarrativeDateTime,\n\tendTime: NarrativeDateTime,\n\tprimaryLocation: string,\n): Chapter {\n\treturn {\n\t\t...chapter,\n\t\tevents,\n\t\ttimeRange: {\n\t\t\tstart: startTime,\n\t\t\tend: endTime,\n\t\t},\n\t\tprimaryLocation,\n\t};\n}\n\n// ============================================\n// Formatting\n// ============================================\n\n/**\n * Format a chapter for display in prompts.\n */\nexport function formatChapterForPrompt(chapter: Chapter): string {\n\tconst lines: string[] = [];\n\n\tlines.push(`## Chapter ${chapter.index + 1}: ${chapter.title}`);\n\tlines.push(`Location: ${chapter.primaryLocation}`);\n\tlines.push(\n\t\t`Time: ${formatDateTime(chapter.timeRange.start)} - ${formatDateTime(chapter.timeRange.end)}`,\n\t);\n\tlines.push('');\n\tlines.push(chapter.summary);\n\n\tif (chapter.outcomes.relationshipChanges.length > 0) {\n\t\tlines.push('');\n\t\tlines.push(\n\t\t\t`Relationship changes: ${chapter.outcomes.relationshipChanges.join('; ')}`,\n\t\t);\n\t}\n\n\tif (chapter.outcomes.secretsRevealed.length > 0) {\n\t\tlines.push(`Secrets revealed: ${chapter.outcomes.secretsRevealed.join('; ')}`);\n\t}\n\n\treturn lines.join('\\n');\n}\n\n/**\n * Format multiple chapters for injection.\n */\nexport function formatChaptersForInjection(chapters: Chapter[], limit?: number): string {\n\tif (chapters.length === 0) {\n\t\treturn 'No previous chapters.';\n\t}\n\n\tconst toFormat = limit ? chapters.slice(-limit) : chapters;\n\n\treturn toFormat.map(formatChapterForPrompt).join('\\n\\n---\\n\\n');\n}\n\n/**\n * Format a NarrativeDateTime for display.\n */\nexport function formatDateTime(dt: NarrativeDateTime): string {\n\tconst hour12 = dt.hour % 12 || 12;\n\tconst ampm = dt.hour < 12 ? 'AM' : 'PM';\n\tconst minute = dt.minute.toString().padStart(2, '0');\n\n\tconst months = [\n\t\t'January',\n\t\t'February',\n\t\t'March',\n\t\t'April',\n\t\t'May',\n\t\t'June',\n\t\t'July',\n\t\t'August',\n\t\t'September',\n\t\t'October',\n\t\t'November',\n\t\t'December',\n\t];\n\n\treturn `${dt.dayOfWeek}, ${months[dt.month - 1]} ${dt.day}, ${dt.year} at ${hour12}:${minute} ${ampm}`;\n}\n","// ============================================\n// Event Utility Functions\n// ============================================\n\nimport type {\n\tTimestampedEvent,\n\tNarrativeDateTime,\n\tTensionType,\n\tTensionLevel,\n\tRelationshipSignal,\n\tLocationState,\n\tEventType,\n} from '../types/state';\n\n// ============================================\n// Event Creation\n// ============================================\n\nexport interface CreateEventParams {\n\ttimestamp: NarrativeDateTime;\n\tsummary: string;\n\teventTypes?: EventType[];\n\ttensionType: TensionType;\n\ttensionLevel: TensionLevel;\n\twitnesses: string[];\n\tlocation: LocationState | string;\n\trelationshipSignal?: RelationshipSignal;\n}\n\n/**\n * Create a TimestampedEvent from parameters.\n */\nexport function createEvent(params: CreateEventParams): TimestampedEvent {\n\tconst locationStr =\n\t\ttypeof params.location === 'string'\n\t\t\t? params.location\n\t\t\t: `${params.location.area} - ${params.location.place}`;\n\n\treturn {\n\t\ttimestamp: params.timestamp,\n\t\tsummary: params.summary,\n\t\teventTypes: params.eventTypes ?? ['conversation'],\n\t\ttensionType: params.tensionType,\n\t\ttensionLevel: params.tensionLevel,\n\t\twitnesses: params.witnesses,\n\t\tlocation: locationStr,\n\t\trelationshipSignal: params.relationshipSignal,\n\t};\n}\n\n// ============================================\n// Formatting\n// ============================================\n\n/**\n * Format events for injection into prompts.\n * @param events Array of events to format\n * @param limit Maximum number of events to include (most recent)\n * @param presentCharacters Characters currently present (for witness absence notes)\n */\nexport function formatEventsForInjection(\n\tevents: TimestampedEvent[],\n\tlimit?: number,\n\tpresentCharacters?: string[],\n): string {\n\tif (events.length === 0) {\n\t\treturn 'No recent events.';\n\t}\n\n\tconst toFormat = limit ? events.slice(-limit) : events;\n\tconst presentSet = presentCharacters\n\t\t? new Set(presentCharacters.map(c => c.toLowerCase()))\n\t\t: null;\n\n\treturn toFormat\n\t\t.map((event, _index) => {\n\t\t\tconst lines: string[] = [];\n\n\t\t\t// Event header with timestamp\n\t\t\tlines.push(`[${formatEventTimestamp(event.timestamp)}]`);\n\n\t\t\t// Summary\n\t\t\tlines.push(event.summary);\n\n\t\t\t// Tension info\n\t\t\tlines.push(`Tension: ${event.tensionLevel} ${event.tensionType}`);\n\n\t\t\t// Witnesses with absence notes\n\t\t\tif (event.witnesses.length > 0) {\n\t\t\t\tconst witnessNotes: string[] = [];\n\t\t\t\tfor (const witness of event.witnesses) {\n\t\t\t\t\tif (presentSet && !presentSet.has(witness.toLowerCase())) {\n\t\t\t\t\t\twitnessNotes.push(`${witness} (not present)`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twitnessNotes.push(witness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlines.push(`Witnesses: ${witnessNotes.join(', ')}`);\n\t\t\t}\n\n\t\t\t// Location\n\t\t\tlines.push(`Location: ${event.location}`);\n\n\t\t\treturn lines.join('\\n');\n\t\t})\n\t\t.join('\\n\\n');\n}\n\n/**\n * Format an event timestamp for display (compact format).\n */\nexport function formatEventTimestamp(dt: NarrativeDateTime): string {\n\tconst hour12 = dt.hour % 12 || 12;\n\tconst ampm = dt.hour < 12 ? 'AM' : 'PM';\n\tconst minute = dt.minute.toString().padStart(2, '0');\n\n\t// Shorter day names\n\tconst dayAbbrev: Record<string, string> = {\n\t\tMonday: 'Mon',\n\t\tTuesday: 'Tue',\n\t\tWednesday: 'Wed',\n\t\tThursday: 'Thu',\n\t\tFriday: 'Fri',\n\t\tSaturday: 'Sat',\n\t\tSunday: 'Sun',\n\t};\n\n\tconst day = dayAbbrev[dt.dayOfWeek] || dt.dayOfWeek.slice(0, 3);\n\n\treturn `${day} ${hour12}:${minute} ${ampm}`;\n}\n\n/**\n * Format a single event for display.\n */\nexport function formatEvent(event: TimestampedEvent): string {\n\treturn `[${formatEventTimestamp(event.timestamp)}] ${event.summary} (${event.tensionLevel} ${event.tensionType})`;\n}\n\n// ============================================\n// Event Analysis\n// ============================================\n\n/**\n * Get witnesses who are not currently present (for dramatic irony).\n */\nexport function getAbsentWitnesses(event: TimestampedEvent, presentCharacters: string[]): string[] {\n\tconst presentSet = new Set(presentCharacters.map(c => c.toLowerCase()));\n\treturn event.witnesses.filter(w => !presentSet.has(w.toLowerCase()));\n}\n\n/**\n * Get all unique witnesses across multiple events.\n */\nexport function getAllWitnesses(events: TimestampedEvent[]): string[] {\n\tconst witnesses = new Set<string>();\n\tfor (const event of events) {\n\t\tfor (const witness of event.witnesses) {\n\t\t\twitnesses.add(witness);\n\t\t}\n\t}\n\treturn Array.from(witnesses);\n}\n\n/**\n * Filter events by tension type.\n */\nexport function filterEventsByTensionType(\n\tevents: TimestampedEvent[],\n\ttypes: TensionType[],\n): TimestampedEvent[] {\n\tconst typeSet = new Set(types);\n\treturn events.filter(e => typeSet.has(e.tensionType));\n}\n\n/**\n * Filter events by tension level (at or above).\n */\nexport function filterEventsByTensionLevel(\n\tevents: TimestampedEvent[],\n\tminLevel: TensionLevel,\n): TimestampedEvent[] {\n\tconst levels: TensionLevel[] = [\n\t\t'relaxed',\n\t\t'aware',\n\t\t'guarded',\n\t\t'tense',\n\t\t'charged',\n\t\t'volatile',\n\t\t'explosive',\n\t];\n\n\tconst minIndex = levels.indexOf(minLevel);\n\treturn events.filter(e => levels.indexOf(e.tensionLevel) >= minIndex);\n}\n\n/**\n * Get events with relationship signals.\n */\nexport function getRelationshipEvents(events: TimestampedEvent[]): TimestampedEvent[] {\n\treturn events.filter(e => e.relationshipSignal !== undefined);\n}\n\n/**\n * Find events involving a specific character pair.\n */\nexport function getEventsForPair(\n\tevents: TimestampedEvent[],\n\tchar1: string,\n\tchar2: string,\n): TimestampedEvent[] {\n\tconst pair = [char1.toLowerCase(), char2.toLowerCase()].sort();\n\n\treturn events.filter(e => {\n\t\tif (!e.relationshipSignal) return false;\n\t\tconst signalPair = e.relationshipSignal.pair.map(p => p.toLowerCase()).sort();\n\t\treturn signalPair[0] === pair[0] && signalPair[1] === pair[1];\n\t});\n}\n","// ============================================\n// Chat-Level Narrative State Management\n// ============================================\n\nimport { EXTENSION_KEY } from '../constants';\nimport type { NarrativeState, Chapter, Relationship } from '../types/state';\nimport { NARRATIVE_STATE_VERSION } from '../types/state';\n\n// Re-export the version constant\nexport { NARRATIVE_STATE_VERSION };\n\n// ============================================\n// Storage Keys\n// ============================================\n\nconst NARRATIVE_KEY = 'narrative';\n\n// ============================================\n// Public API\n// ============================================\n\n/**\n * Get the narrative state from the chat.\n * Returns null if no narrative state exists.\n */\nexport function getNarrativeState(): NarrativeState | null {\n\tconst context = SillyTavern.getContext();\n\tconst chat = context.chat;\n\n\tif (!chat || chat.length === 0) {\n\t\treturn null;\n\t}\n\n\t// Narrative state is stored in the first message\n\tconst firstMessage = chat[0];\n\tconst storage = firstMessage.extra?.[EXTENSION_KEY] as Record<string, unknown> | undefined;\n\n\tif (!storage || !storage[NARRATIVE_KEY]) {\n\t\treturn null;\n\t}\n\n\treturn storage[NARRATIVE_KEY] as NarrativeState;\n}\n\n/**\n * Set the narrative state for the chat.\n * Creates the storage structure if it doesn't exist.\n */\nexport function setNarrativeState(state: NarrativeState): void {\n\tconst context = SillyTavern.getContext();\n\tconst chat = context.chat;\n\n\tif (!chat || chat.length === 0) {\n\t\tconsole.warn('[BlazeTracker] Cannot set narrative state: no chat messages');\n\t\treturn;\n\t}\n\n\tconst firstMessage = chat[0];\n\n\tif (!firstMessage.extra) {\n\t\tfirstMessage.extra = {};\n\t}\n\n\tif (!firstMessage.extra[EXTENSION_KEY]) {\n\t\tfirstMessage.extra[EXTENSION_KEY] = {};\n\t}\n\n\t(firstMessage.extra[EXTENSION_KEY] as Record<string, unknown>)[NARRATIVE_KEY] = state;\n}\n\n/**\n * Initialize a new narrative state with default values.\n */\nexport function initializeNarrativeState(): NarrativeState {\n\treturn {\n\t\tversion: NARRATIVE_STATE_VERSION,\n\t\tchapters: [],\n\t\trelationships: [],\n\t\tforecastCache: [],\n\t\tlocationMappings: [],\n\t};\n}\n\n/**\n * Get or initialize the narrative state.\n * If no state exists, creates and saves a new one.\n * Also handles migrations from older versions.\n */\nexport function getOrInitializeNarrativeState(): NarrativeState {\n\tlet state = getNarrativeState();\n\n\tif (!state) {\n\t\tstate = initializeNarrativeState();\n\t\tsetNarrativeState(state);\n\t} else {\n\t\t// Run migrations if needed\n\t\tconst migrated = migrateNarrativeState(state);\n\t\tif (migrated) {\n\t\t\tsetNarrativeState(state);\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Save the narrative state and persist the chat.\n */\nexport async function saveNarrativeState(state: NarrativeState): Promise<void> {\n\tsetNarrativeState(state);\n\n\tconst context = SillyTavern.getContext();\n\tawait context.saveChat();\n}\n\n// ============================================\n// Migration\n// ============================================\n\n/**\n * Migrate narrative state from older versions to current.\n * Returns true if any migration was performed.\n */\nfunction migrateNarrativeState(state: NarrativeState): boolean {\n\tlet migrated = false;\n\n\t// Version 1 -> 2: Add versions array to relationships with initial version from current state\n\tif (!state.version || state.version < 2) {\n\n\t\tfor (const rel of state.relationships) {\n\t\t\tif (!rel.versions) {\n\t\t\t\t// Create initial version from current relationship state\n\t\t\t\t// Use messageId 0 so it appears from the start of the chat\n\t\t\t\trel.versions = [\n\t\t\t\t\t{\n\t\t\t\t\t\tmessageId: 0,\n\t\t\t\t\t\tstatus: rel.status,\n\t\t\t\t\t\taToB: {\n\t\t\t\t\t\t\tfeelings: [...rel.aToB.feelings],\n\t\t\t\t\t\t\tsecrets: [...rel.aToB.secrets],\n\t\t\t\t\t\t\twants: [...rel.aToB.wants],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbToA: {\n\t\t\t\t\t\t\tfeelings: [...rel.bToA.feelings],\n\t\t\t\t\t\t\tsecrets: [...rel.bToA.secrets],\n\t\t\t\t\t\t\twants: [...rel.bToA.wants],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmilestones: [...rel.milestones],\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tstate.version = 2;\n\t\tmigrated = true;\n\t}\n\n\treturn migrated;\n}\n\ninterface LegacyScene {\n\ttopic: string;\n\ttone: string;\n\ttension: {\n\t\tlevel: string;\n\t\tdirection: string;\n\t\ttype: string;\n\t};\n\trecentEvents?: string[];\n}\n\ninterface LegacyTrackedState {\n\ttime?: unknown;\n\tlocation?: unknown;\n\tclimate?: unknown;\n\tscene?: LegacyScene;\n\tcharacters?: unknown[];\n}\n\ninterface LegacyStoredStateData {\n\tstate: LegacyTrackedState;\n\textractedAt: string;\n}\n\n/**\n * Migrate from legacy state format (recentEvents in Scene) to new format.\n * This should be called when opening a chat that may have old state.\n */\nexport function migrateFromLegacyState(): NarrativeState {\n\tconst context = SillyTavern.getContext();\n\tconst chat = context.chat;\n\n\t// Start with empty narrative state\n\tconst state = initializeNarrativeState();\n\n\tif (!chat || chat.length === 0) {\n\t\treturn state;\n\t}\n\n\t// Collect all legacy recentEvents from messages\n\tconst collectedEvents: string[] = [];\n\n\tfor (const message of chat) {\n\t\tconst storage = message.extra?.[EXTENSION_KEY] as\n\t\t\t| Record<number, LegacyStoredStateData>\n\t\t\t| undefined;\n\t\tif (!storage) continue;\n\n\t\t// Check all swipes\n\t\tfor (const swipeData of Object.values(storage)) {\n\t\t\tif (\n\t\t\t\ttypeof swipeData === 'object' &&\n\t\t\t\tswipeData?.state?.scene?.recentEvents\n\t\t\t) {\n\t\t\t\tconst events = swipeData.state.scene.recentEvents;\n\t\t\t\tif (Array.isArray(events)) {\n\t\t\t\t\tfor (const event of events) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof event === 'string' &&\n\t\t\t\t\t\t\t!collectedEvents.includes(event)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcollectedEvents.push(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Note: We don't convert legacy string events to TimestampedEvents here\n\t// because we don't have the timestamp/tension/location info.\n\t// The legacy events are simply not migrated - new events will be extracted going forward.\n\n\treturn state;\n}\n\n// ============================================\n// Update Helpers\n// ============================================\n\n/**\n * Add a chapter to the narrative state.\n */\nexport function addChapter(state: NarrativeState, chapter: Chapter): void {\n\tstate.chapters.push(chapter);\n}\n\n/**\n * Update or add a relationship in the narrative state.\n */\nexport function updateRelationship(state: NarrativeState, relationship: Relationship): void {\n\tconst key = relationship.pair.join('|');\n\tconst existingIndex = state.relationships.findIndex(r => r.pair.join('|') === key);\n\n\tif (existingIndex >= 0) {\n\t\tstate.relationships[existingIndex] = relationship;\n\t} else {\n\t\tstate.relationships.push(relationship);\n\t}\n}\n\n/**\n * Get a relationship by character pair.\n */\nexport function getRelationship(\n\tstate: NarrativeState,\n\tchar1: string,\n\tchar2: string,\n): Relationship | null {\n\tconst pair = [char1, char2].sort() as [string, string];\n\tconst key = pair.join('|');\n\n\treturn state.relationships.find(r => r.pair.join('|') === key) ?? null;\n}\n","// ============================================\n// Relationship Utility Functions\n// ============================================\n\nimport type {\n\tRelationship,\n\tRelationshipAttitude,\n\tRelationshipStatus,\n\tRelationshipVersion,\n\tMilestoneEvent,\n\tMilestoneType,\n\tNarrativeDateTime,\n} from '../types/state';\n\n// ============================================\n// Pair Management\n// ============================================\n\n/**\n * Sort a pair of character names alphabetically.\n * Returns a tuple with the names in alphabetical order.\n */\nexport function sortPair(char1: string, char2: string): [string, string] {\n\treturn char1.localeCompare(char2) <= 0 ? [char1, char2] : [char2, char1];\n}\n\n/**\n * Generate a deterministic key for a character pair.\n * The key is the same regardless of argument order.\n */\nexport function pairKey(char1: string, char2: string): string {\n\tconst [a, b] = sortPair(char1, char2);\n\treturn `${a}|${b}`;\n}\n\n/**\n * Check if a relationship has a specific milestone type.\n */\nexport function hasMilestone(relationship: Relationship, type: MilestoneType): boolean {\n\treturn relationship.milestones.some(m => m.type === type);\n}\n\n/**\n * Find all character pairs that don't have an established relationship.\n * Returns pairs as sorted tuples.\n */\nexport function findUnestablishedPairs(\n\tcharacters: string[],\n\trelationships: Relationship[],\n): [string, string][] {\n\tif (characters.length < 2) {\n\t\treturn [];\n\t}\n\n\tconst existingKeys = new Set(relationships.map(r => pairKey(r.pair[0], r.pair[1])));\n\tconst unestablished: [string, string][] = [];\n\n\tfor (let i = 0; i < characters.length; i++) {\n\t\tfor (let j = i + 1; j < characters.length; j++) {\n\t\t\tconst key = pairKey(characters[i], characters[j]);\n\t\t\tif (!existingKeys.has(key)) {\n\t\t\t\tunestablished.push(sortPair(characters[i], characters[j]));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn unestablished;\n}\n\n// ============================================\n// Formatting\n// ============================================\n\n/**\n * Format relationships for inclusion in prompts.\n * @param relationships All relationships\n * @param presentCharacters Characters currently in the scene (filters to relevant relationships)\n * @param includeSecrets Whether to include secret knowledge (for dramatic irony)\n */\nexport function formatRelationshipsForPrompt(\n\trelationships: Relationship[],\n\tpresentCharacters?: string[],\n\tincludeSecrets: boolean = true,\n): string {\n\tif (relationships.length === 0) {\n\t\treturn 'No established relationships.';\n\t}\n\n\t// Filter to relationships involving present characters if specified\n\tlet relevantRelationships = relationships;\n\tif (presentCharacters && presentCharacters.length > 0) {\n\t\tconst presentSet = new Set(presentCharacters.map(c => c.toLowerCase()));\n\t\trelevantRelationships = relationships.filter(\n\t\t\tr =>\n\t\t\t\tpresentSet.has(r.pair[0].toLowerCase()) ||\n\t\t\t\tpresentSet.has(r.pair[1].toLowerCase()),\n\t\t);\n\t}\n\n\tif (relevantRelationships.length === 0) {\n\t\treturn 'No established relationships between present characters.';\n\t}\n\n\treturn relevantRelationships.map(r => formatRelationship(r, includeSecrets)).join('\\n\\n');\n}\n\n/**\n * Format a single relationship for display.\n */\nexport function formatRelationship(\n\trelationship: Relationship,\n\tincludeSecrets: boolean = true,\n): string {\n\tconst [charA, charB] = relationship.pair;\n\tconst lines: string[] = [];\n\n\tlines.push(`## ${charA} & ${charB} (${relationship.status})`);\n\n\t// A's feelings toward B\n\tlines.push(`${charA}  ${charB}:`);\n\tlines.push(`  Feelings: ${relationship.aToB.feelings.join(', ') || 'neutral'}`);\n\tif (relationship.aToB.wants.length > 0) {\n\t\tlines.push(`  Wants: ${relationship.aToB.wants.join(', ')}`);\n\t}\n\tif (includeSecrets && relationship.aToB.secrets.length > 0) {\n\t\tlines.push(\n\t\t\t`  Secrets (${charB} doesn't know): ${relationship.aToB.secrets.join(', ')}`,\n\t\t);\n\t}\n\n\t// B's feelings toward A\n\tlines.push(`${charB}  ${charA}:`);\n\tlines.push(`  Feelings: ${relationship.bToA.feelings.join(', ') || 'neutral'}`);\n\tif (relationship.bToA.wants.length > 0) {\n\t\tlines.push(`  Wants: ${relationship.bToA.wants.join(', ')}`);\n\t}\n\tif (includeSecrets && relationship.bToA.secrets.length > 0) {\n\t\tlines.push(\n\t\t\t`  Secrets (${charA} doesn't know): ${relationship.bToA.secrets.join(', ')}`,\n\t\t);\n\t}\n\n\t// Milestones\n\tif (relationship.milestones.length > 0) {\n\t\tlines.push(\n\t\t\t`Milestones: ${relationship.milestones.map(m => m.type.replace(/_/g, ' ')).join(', ')}`,\n\t\t);\n\t}\n\n\treturn lines.join('\\n');\n}\n\n// ============================================\n// Creation Helpers\n// ============================================\n\n/**\n * Create an empty relationship attitude.\n */\nexport function createEmptyAttitude(): RelationshipAttitude {\n\treturn {\n\t\tfeelings: [],\n\t\tsecrets: [],\n\t\twants: [],\n\t};\n}\n\n/**\n * Create a new relationship between two characters.\n */\nexport function createRelationship(\n\tchar1: string,\n\tchar2: string,\n\tstatus: RelationshipStatus = 'strangers',\n\tmessageId?: number,\n): Relationship {\n\tconst pair = sortPair(char1, char2);\n\tconst aToB = createEmptyAttitude();\n\tconst bToA = createEmptyAttitude();\n\n\tconst relationship: Relationship = {\n\t\tpair,\n\t\tstatus,\n\t\taToB,\n\t\tbToA,\n\t\tmilestones: [],\n\t\thistory: [],\n\t\tversions: [],\n\t};\n\n\t// If messageId provided, create the initial version\n\tif (messageId !== undefined) {\n\t\taddRelationshipVersion(relationship, messageId);\n\t}\n\n\treturn relationship;\n}\n\n/**\n * Add a milestone to a relationship (avoids duplicates).\n */\nexport function addMilestone(relationship: Relationship, milestone: MilestoneEvent): void {\n\t// Check if we already have this milestone type\n\tif (!hasMilestone(relationship, milestone.type)) {\n\t\trelationship.milestones.push(milestone);\n\t}\n}\n\n/**\n * Get the attitude direction for a character in a relationship.\n * Returns 'aToB' if the character is the first in the pair, 'bToA' otherwise.\n */\nexport function getAttitudeDirection(\n\trelationship: Relationship,\n\tfromCharacter: string,\n): 'aToB' | 'bToA' {\n\treturn relationship.pair[0].toLowerCase() === fromCharacter.toLowerCase() ? 'aToB' : 'bToA';\n}\n\n/**\n * Update a specific character's attitude in a relationship.\n */\nexport function updateAttitude(\n\trelationship: Relationship,\n\tfromCharacter: string,\n\tupdates: Partial<RelationshipAttitude>,\n): void {\n\tconst direction = getAttitudeDirection(relationship, fromCharacter);\n\tconst attitude = relationship[direction];\n\n\tif (updates.feelings !== undefined) {\n\t\tattitude.feelings = updates.feelings;\n\t}\n\tif (updates.secrets !== undefined) {\n\t\tattitude.secrets = updates.secrets;\n\t}\n\tif (updates.wants !== undefined) {\n\t\tattitude.wants = updates.wants;\n\t}\n}\n\n// ============================================\n// Time Comparison\n// ============================================\n\n/**\n * Convert NarrativeDateTime to a comparable number (timestamp-like).\n * Returns a number that can be compared with > < >= <= operators.\n */\nexport function narrativeDateTimeToNumber(dt: NarrativeDateTime): number {\n\t// YYYYMMDDHHMMSS format as a number for easy comparison\n\treturn (\n\t\tdt.year * 10000000000 +\n\t\tdt.month * 100000000 +\n\t\tdt.day * 1000000 +\n\t\tdt.hour * 10000 +\n\t\tdt.minute * 100 +\n\t\tdt.second\n\t);\n}\n\n/**\n * Compare two NarrativeDateTime values.\n * Returns:\n *   - negative if a < b\n *   - 0 if a === b\n *   - positive if a > b\n */\nexport function compareNarrativeDateTime(a: NarrativeDateTime, b: NarrativeDateTime): number {\n\treturn narrativeDateTimeToNumber(a) - narrativeDateTimeToNumber(b);\n}\n\n/**\n * Check if a NarrativeDateTime is >= a reference time.\n */\nexport function isDateTimeOnOrAfter(dt: NarrativeDateTime, reference: NarrativeDateTime): boolean {\n\treturn compareNarrativeDateTime(dt, reference) >= 0;\n}\n\n// ============================================\n// Milestone Cleanup\n// ============================================\n\n/**\n * Remove milestones from a relationship that occurred on or after a given time.\n * Returns the number of milestones removed.\n */\nexport function clearMilestonesSince(\n\trelationship: Relationship,\n\tsinceTime: NarrativeDateTime,\n): number {\n\tconst originalCount = relationship.milestones.length;\n\trelationship.milestones = relationship.milestones.filter(\n\t\tm => !isDateTimeOnOrAfter(m.timestamp, sinceTime),\n\t);\n\treturn originalCount - relationship.milestones.length;\n}\n\n/**\n * Remove milestones from all relationships that occurred on or after a given time.\n * Returns the total number of milestones removed.\n */\nexport function clearAllMilestonesSince(\n\trelationships: Relationship[],\n\tsinceTime: NarrativeDateTime,\n): number {\n\tlet totalRemoved = 0;\n\tfor (const rel of relationships) {\n\t\ttotalRemoved += clearMilestonesSince(rel, sinceTime);\n\t}\n\treturn totalRemoved;\n}\n\n/**\n * Remove milestones from a relationship that were created by a specific message.\n * Returns the number of milestones removed.\n */\nexport function clearMilestonesForMessage(relationship: Relationship, messageId: number): number {\n\tconst originalCount = relationship.milestones.length;\n\trelationship.milestones = relationship.milestones.filter(m => m.messageId !== messageId);\n\treturn originalCount - relationship.milestones.length;\n}\n\n/**\n * Remove milestones from all relationships that were created by a specific message.\n * Returns the total number of milestones removed.\n */\nexport function clearAllMilestonesForMessage(\n\trelationships: Relationship[],\n\tmessageId: number,\n): number {\n\tlet totalRemoved = 0;\n\tfor (const rel of relationships) {\n\t\ttotalRemoved += clearMilestonesForMessage(rel, messageId);\n\t}\n\treturn totalRemoved;\n}\n\n// ============================================\n// Version Management\n// ============================================\n\n/**\n * Add a new version snapshot to a relationship.\n * Call this when the relationship status changes.\n */\nexport function addRelationshipVersion(relationship: Relationship, messageId: number): void {\n\t// Initialize versions array if it doesn't exist (legacy relationships)\n\tif (!relationship.versions) {\n\t\trelationship.versions = [];\n\t}\n\n\tconst version: RelationshipVersion = {\n\t\tmessageId,\n\t\tstatus: relationship.status,\n\t\taToB: {\n\t\t\tfeelings: [...relationship.aToB.feelings],\n\t\t\tsecrets: [...relationship.aToB.secrets],\n\t\t\twants: [...relationship.aToB.wants],\n\t\t},\n\t\tbToA: {\n\t\t\tfeelings: [...relationship.bToA.feelings],\n\t\t\tsecrets: [...relationship.bToA.secrets],\n\t\t\twants: [...relationship.bToA.wants],\n\t\t},\n\t\tmilestones: [...relationship.milestones],\n\t};\n\n\trelationship.versions.push(version);\n}\n\n/**\n * Remove the latest version if it matches the given messageId.\n * Call this before re-extracting or on swipe to rollback.\n * Returns true if a version was removed.\n */\nexport function popVersionForMessage(relationship: Relationship, messageId: number): boolean {\n\tif (!relationship.versions || relationship.versions.length === 0) {\n\t\treturn false;\n\t}\n\n\tconst lastVersion = relationship.versions[relationship.versions.length - 1];\n\tif (lastVersion.messageId === messageId) {\n\t\trelationship.versions.pop();\n\n\t\t// Restore state from the new last version (if any)\n\t\tif (relationship.versions.length > 0) {\n\t\t\tconst previousVersion =\n\t\t\t\trelationship.versions[relationship.versions.length - 1];\n\t\t\trelationship.status = previousVersion.status;\n\t\t\trelationship.aToB = {\n\t\t\t\tfeelings: [...previousVersion.aToB.feelings],\n\t\t\t\tsecrets: [...previousVersion.aToB.secrets],\n\t\t\t\twants: [...previousVersion.aToB.wants],\n\t\t\t};\n\t\t\trelationship.bToA = {\n\t\t\t\tfeelings: [...previousVersion.bToA.feelings],\n\t\t\t\tsecrets: [...previousVersion.bToA.secrets],\n\t\t\t\twants: [...previousVersion.bToA.wants],\n\t\t\t};\n\t\t\trelationship.milestones = [...previousVersion.milestones];\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Get the latest version's messageId for context window calculation.\n * Returns undefined if no versions exist.\n */\nexport function getLatestVersionMessageId(relationship: Relationship): number | undefined {\n\tif (!relationship.versions || relationship.versions.length === 0) {\n\t\treturn undefined;\n\t}\n\treturn relationship.versions[relationship.versions.length - 1].messageId;\n}\n\n/**\n * Get the relationship state as it was at or before a given messageId.\n * Returns the version data, or undefined if no version exists before that message.\n */\nexport function getRelationshipAtMessage(\n\trelationship: Relationship,\n\tmessageId: number,\n): RelationshipVersion | undefined {\n\t// Handle legacy relationships without versions array\n\tif (!relationship.versions || relationship.versions.length === 0) {\n\t\treturn undefined;\n\t}\n\n\t// Find the latest version with messageId <= the given messageId\n\tfor (let i = relationship.versions.length - 1; i >= 0; i--) {\n\t\tif (relationship.versions[i].messageId <= messageId) {\n\t\t\treturn relationship.versions[i];\n\t\t}\n\t}\n\treturn undefined;\n}\n\n/**\n * Get all relationships with their state as of a specific messageId.\n * Returns relationships with status/attitudes from the appropriate version.\n * Relationships without a version at or before the messageId are filtered out.\n */\nexport function getRelationshipsAtMessage(\n\trelationships: Relationship[],\n\tmessageId: number,\n): Relationship[] {\n\tconst result: Relationship[] = [];\n\n\tfor (const rel of relationships) {\n\t\tconst version = getRelationshipAtMessage(rel, messageId);\n\t\tif (version) {\n\t\t\t// Return a relationship with the versioned state\n\t\t\tresult.push({\n\t\t\t\t...rel,\n\t\t\t\tstatus: version.status,\n\t\t\t\taToB: version.aToB,\n\t\t\t\tbToA: version.bToA,\n\t\t\t\tmilestones: version.milestones,\n\t\t\t});\n\t\t}\n\t\t// No version found - skip this relationship\n\t}\n\n\treturn result;\n}\n","// ============================================\n// Runtime State Types\n// ============================================\n\nexport interface NarrativeDateTime {\n\tyear: number;\n\tmonth: number; // 1-12\n\tday: number; // 1-31\n\thour: number; // 0-23\n\tminute: number; // 0-59\n\tsecond: number; // 0-59\n\tdayOfWeek: string; // \"Monday\", \"Tuesday\", etc.\n}\n\n/**\n * TrackedState contains all extracted scene information.\n * All fields are optional - they will only be present if their\n * respective extraction module is enabled in settings.\n */\nexport interface TrackedState {\n\ttime?: NarrativeDateTime;\n\tlocation?: LocationState;\n\tclimate?: Climate | ProceduralClimate;\n\tscene?: Scene;\n\tcharacters?: Character[];\n\t/** Current chapter index (0-based) */\n\tcurrentChapter?: number;\n\t/** Events extracted from recent messages in the current chapter */\n\tcurrentEvents?: TimestampedEvent[];\n\t/** Summary of chapter that just ended (set on messages where chapter boundary was detected) */\n\tchapterEnded?: ChapterEndedSummary;\n}\n\n/** Summary shown when a chapter ends */\nexport interface ChapterEndedSummary {\n\t/** Chapter index that ended (0-based) */\n\tindex: number;\n\t/** Chapter title */\n\ttitle: string;\n\t/** Brief summary of the chapter */\n\tsummary: string;\n\t/** Number of events that were in the chapter */\n\teventCount: number;\n\t/** Why the chapter ended */\n\treason: 'location_change' | 'time_jump' | 'both' | 'manual';\n}\n\nexport interface LocationState {\n\tarea: string;\n\tplace: string;\n\tposition: string;\n\tprops: string[];\n}\n\n/**\n * Legacy climate type - kept for backward compatibility\n */\nexport interface Climate {\n\tweather: 'sunny' | 'cloudy' | 'snowy' | 'rainy' | 'windy' | 'thunderstorm';\n\ttemperature: number;\n}\n\n/**\n * Weather condition types for procedural weather\n */\nexport type WeatherCondition =\n\t| 'clear'\n\t| 'sunny'\n\t| 'partly_cloudy'\n\t| 'overcast'\n\t| 'foggy'\n\t| 'drizzle'\n\t| 'rain'\n\t| 'heavy_rain'\n\t| 'thunderstorm'\n\t| 'sleet'\n\t| 'snow'\n\t| 'heavy_snow'\n\t| 'blizzard'\n\t| 'windy'\n\t| 'hot'\n\t| 'cold'\n\t| 'humid';\n\nexport type DaylightPhase = 'dawn' | 'day' | 'dusk' | 'night';\n\nexport type BuildingType = 'modern' | 'heated' | 'unheated' | 'underground' | 'tent' | 'vehicle';\n\nexport type BaseClimateType =\n\t| 'temperate'\n\t| 'desert'\n\t| 'arctic'\n\t| 'tropical'\n\t| 'mediterranean'\n\t| 'continental'\n\t| 'oceanic';\n\n/**\n * Extended climate type for procedural weather system\n */\nexport interface ProceduralClimate {\n\ttemperature: number; // Effective temp (indoor if inside) F\n\toutdoorTemperature: number; // Always outside temp F\n\tindoorTemperature?: number; // Set when indoors F\n\tfeelsLike: number; // Wind chill / heat index F\n\thumidity: number; // 0-100%\n\tprecipitation: number; // inches\n\tcloudCover: number; // 0-100%\n\twindSpeed: number; // mph\n\twindDirection: string; // \"NW\", \"SE\", etc.\n\tconditions: string; // Human-readable description\n\tconditionType: WeatherCondition;\n\tuvIndex: number;\n\tdaylight: DaylightPhase;\n\tisIndoors: boolean;\n\tbuildingType?: BuildingType;\n}\n\n// Weather-related types are imported from weather module\n// Import them for use in this file and re-export for convenience\nimport type {\n\tLocationMapping as WeatherLocationMapping,\n\tForecastCacheEntry as WeatherForecastCacheEntry,\n\tLocationForecast as WeatherLocationForecast,\n} from '../weather/types';\n\nexport type LocationMapping = WeatherLocationMapping;\nexport type ForecastCacheEntry = WeatherForecastCacheEntry;\nexport type LocationForecast = WeatherLocationForecast;\n\nexport interface Scene {\n\ttopic: string;\n\ttone: string;\n\ttension: {\n\t\tlevel: TensionLevel;\n\t\tdirection: TensionDirection;\n\t\ttype: TensionType;\n\t};\n\t// Note: recentEvents removed in v1.0.0, replaced by currentEvents on TrackedState\n}\n\nexport type TensionLevel =\n\t| 'relaxed'\n\t| 'aware'\n\t| 'guarded'\n\t| 'tense'\n\t| 'charged'\n\t| 'volatile'\n\t| 'explosive';\nexport type TensionDirection = 'escalating' | 'stable' | 'decreasing';\nexport type TensionType =\n\t| 'confrontation'\n\t| 'intimate'\n\t| 'vulnerable'\n\t| 'celebratory'\n\t| 'negotiation'\n\t| 'suspense'\n\t| 'conversation';\n\n// ============================================\n// Event Types\n// ============================================\n\n/**\n * Event type flags - multiple can apply to a single event.\n */\nexport type EventType =\n\t// Conversation & Social\n\t| 'conversation' // General dialogue, discussion\n\t| 'confession' // Admitting feelings, revealing truth\n\t| 'argument' // Verbal conflict, disagreement\n\t| 'negotiation' // Making deals, compromises\n\n\t// Discovery & Information\n\t| 'discovery' // Learning new information\n\t| 'secret_shared' // Sharing a secret with someone\n\t| 'secret_revealed' // Secret exposed (possibly unwillingly)\n\n\t// Emotional\n\t| 'emotional' // Emotional vulnerability, comfort\n\t| 'supportive' // Providing emotional support\n\t| 'rejection' // Rejecting someone's advances/request\n\t| 'comfort' // Comforting someone in distress\n\t| 'apology' // Apologizing for something\n\t| 'forgiveness' // Forgiving someone\n\n\t// Bonding & Connection\n\t| 'laugh' // Sharing a laugh, humor, joy together\n\t| 'gift' // Giving or receiving a gift\n\t| 'compliment' // Giving sincere praise or compliment\n\t| 'tease' // Playful teasing, banter\n\t| 'flirt' // Flirtatious behavior\n\t| 'date' // Going on a date or romantic outing\n\t| 'i_love_you' // Saying \"I love you\" or equivalent declaration\n\t| 'sleepover' // Sleeping over together (non-sexual)\n\t| 'shared_meal' // Eating together\n\t| 'shared_activity' // Doing an activity together (games, hobbies, etc.)\n\n\t// Intimacy Levels (granular for romantic RP)\n\t| 'intimate_touch' // Hand-holding, caressing, non-sexual touch\n\t| 'intimate_kiss' // Kissing\n\t| 'intimate_embrace' // Hugging, cuddling, holding\n\t| 'intimate_heated' // Making out, heavy petting, grinding\n\n\t// Sexual Activity (activity-based granularity)\n\t| 'intimate_foreplay' // Teasing, undressing, leading up to sex\n\t| 'intimate_oral' // Oral sexual activity\n\t| 'intimate_manual' // Manual stimulation (hands, fingers)\n\t| 'intimate_penetrative' // Penetrative sex\n\t| 'intimate_climax' // Orgasm, completion\n\n\t// Action & Physical\n\t| 'action' // Physical activity, doing something\n\t| 'combat' // Fighting, violence\n\t| 'danger' // Threat, peril, risk\n\n\t// Decisions & Commitments\n\t| 'decision' // Making a choice\n\t| 'promise' // Making a commitment\n\t| 'betrayal' // Breaking trust\n\t| 'lied' // Told a lie or deceived someone\n\n\t// Life Events\n\t| 'exclusivity' // Committing to exclusivity\n\t| 'marriage' // Getting married\n\t| 'pregnancy' // Pregnancy-related event\n\t| 'childbirth' // Having a child\n\n\t// Social & Achievement\n\t| 'social' // Meeting people, social dynamics\n\t| 'achievement'; // Accomplishment, success\n\nexport const EVENT_TYPES: readonly EventType[] = [\n\t'conversation',\n\t'confession',\n\t'argument',\n\t'negotiation',\n\t'discovery',\n\t'secret_shared',\n\t'secret_revealed',\n\t'emotional',\n\t'supportive',\n\t'rejection',\n\t'comfort',\n\t'apology',\n\t'forgiveness',\n\t'laugh',\n\t'gift',\n\t'compliment',\n\t'tease',\n\t'flirt',\n\t'date',\n\t'i_love_you',\n\t'sleepover',\n\t'shared_meal',\n\t'shared_activity',\n\t'intimate_touch',\n\t'intimate_kiss',\n\t'intimate_embrace',\n\t'intimate_heated',\n\t'intimate_foreplay',\n\t'intimate_oral',\n\t'intimate_manual',\n\t'intimate_penetrative',\n\t'intimate_climax',\n\t'action',\n\t'combat',\n\t'danger',\n\t'decision',\n\t'promise',\n\t'betrayal',\n\t'lied',\n\t'exclusivity',\n\t'marriage',\n\t'pregnancy',\n\t'childbirth',\n\t'social',\n\t'achievement',\n];\n\n/**\n * Event type groups for UI display.\n */\nexport const EVENT_TYPE_GROUPS = {\n\tconversation: ['conversation', 'confession', 'argument', 'negotiation'],\n\tdiscovery: ['discovery', 'secret_shared', 'secret_revealed'],\n\temotional: ['emotional', 'supportive', 'rejection', 'comfort', 'apology', 'forgiveness'],\n\tbonding: [\n\t\t'laugh',\n\t\t'gift',\n\t\t'compliment',\n\t\t'tease',\n\t\t'flirt',\n\t\t'date',\n\t\t'i_love_you',\n\t\t'sleepover',\n\t\t'shared_meal',\n\t\t'shared_activity',\n\t],\n\tintimacy_romantic: [\n\t\t'intimate_touch',\n\t\t'intimate_kiss',\n\t\t'intimate_embrace',\n\t\t'intimate_heated',\n\t],\n\tintimacy_sexual: [\n\t\t'intimate_foreplay',\n\t\t'intimate_oral',\n\t\t'intimate_manual',\n\t\t'intimate_penetrative',\n\t\t'intimate_climax',\n\t],\n\taction: ['action', 'combat', 'danger'],\n\tcommitment: ['decision', 'promise', 'betrayal', 'lied'],\n\tlife_events: ['exclusivity', 'marriage', 'pregnancy', 'childbirth'],\n\tsocial: ['social', 'achievement'],\n} as const;\n\n/**\n * A significant event extracted from a message pair.\n */\nexport interface TimestampedEvent {\n\t/** Narrative timestamp when the event occurred */\n\ttimestamp: NarrativeDateTime;\n\t/** Brief summary of what happened (1-2 sentences) */\n\tsummary: string;\n\t/** Event type flags - multiple can apply */\n\teventTypes: EventType[];\n\t/** Tension type at the moment of this event */\n\ttensionType: TensionType;\n\t/** Tension level at the moment of this event */\n\ttensionLevel: TensionLevel;\n\t/** Characters who witnessed/participated in this event */\n\twitnesses: string[];\n\t/** Location summary where event occurred */\n\tlocation: string;\n\t/** Optional relationship signal if this event affects relationships */\n\trelationshipSignal?: RelationshipSignal;\n\t/** Message ID that generated this event (for re-extraction cleanup) */\n\tmessageId?: number;\n}\n\n/**\n * Signal indicating a relationship change detected in an event.\n */\nexport interface RelationshipSignal {\n\t/** The two characters involved (alphabetically sorted) */\n\tpair: [string, string];\n\t/** Directional attitude changes */\n\tchanges?: DirectionalChange[];\n\t/** Milestone events if this represents significant relationship moments (multiple possible) */\n\tmilestones?: MilestoneEvent[];\n}\n\n/**\n * A directional attitude change from one character toward another.\n */\nexport interface DirectionalChange {\n\t/** Character whose attitude is changing */\n\tfrom: string;\n\t/** Character they feel differently about */\n\ttoward: string;\n\t/** New or changed feeling (e.g., \"growing trust\", \"suspicion\") */\n\tfeeling: string;\n}\n\n/**\n * A milestone event in a relationship.\n */\nexport interface MilestoneEvent {\n\ttype: MilestoneType;\n\t/** Flowery description of the milestone moment */\n\tdescription: string;\n\t/** Narrative timestamp when milestone occurred */\n\ttimestamp: NarrativeDateTime;\n\t/** Location where milestone occurred (format: \"place, area\") */\n\tlocation: string;\n\t/** Message ID that created this milestone (for re-extraction cleanup) */\n\tmessageId?: number;\n}\n\nexport type MilestoneType =\n\t// Relationship firsts\n\t| 'first_meeting'\n\t| 'first_conflict'\n\t| 'first_alliance'\n\n\t// Emotional milestones\n\t| 'confession' // Confessing feelings\n\t| 'emotional_intimacy' // Deep emotional connection/vulnerability\n\n\t// Bonding milestones\n\t| 'first_laugh' // First shared genuine laugh\n\t| 'first_gift' // First gift exchanged\n\t| 'first_date' // First date or romantic outing\n\t| 'first_i_love_you' // First declaration of love\n\t| 'first_sleepover' // First time sleeping over together (non-sexual)\n\t| 'first_shared_meal' // First meal shared together\n\n\t// Physical intimacy milestones (granular)\n\t| 'first_touch' // First meaningful physical contact (hand-holding, etc.)\n\t| 'first_kiss' // First kiss\n\t| 'first_embrace' // First hug/cuddle\n\t| 'first_heated' // First making out / heavy petting\n\n\t// Sexual milestones (atomic, matching event types)\n\t| 'first_foreplay' // First sexual foreplay\n\t| 'first_oral' // First oral sexual activity\n\t| 'first_manual' // First manual stimulation\n\t| 'first_penetrative' // First penetrative sex\n\t| 'first_climax' // First climax together\n\n\t// Life commitment milestones\n\t| 'promised_exclusivity' // Committed to exclusivity\n\t| 'marriage' // Got married\n\t| 'pregnancy' // Pregnancy discovered\n\t| 'had_child' // Child was born\n\n\t// Trust & commitment\n\t| 'promise_made'\n\t| 'promise_broken'\n\t| 'betrayal'\n\t| 'reconciliation'\n\t| 'sacrifice'\n\n\t// Secrets\n\t| 'secret_shared'\n\t| 'secret_revealed'\n\n\t// Conflicts\n\t| 'major_argument'\n\t| 'major_reconciliation';\n\n// ============================================\n// Chapter Types\n// ============================================\n\n/**\n * A chapter represents a narrative segment with coherent time/location.\n */\nexport interface Chapter {\n\t/** 0-based chapter index */\n\tindex: number;\n\t/** AI-generated chapter title */\n\ttitle: string;\n\t/** Brief summary of what happened */\n\tsummary: string;\n\t/** Time range of the chapter */\n\ttimeRange: {\n\t\tstart: NarrativeDateTime;\n\t\tend: NarrativeDateTime;\n\t};\n\t/** Location where most of the chapter took place */\n\tprimaryLocation: string;\n\t/** Events that occurred during this chapter (archived from currentEvents) */\n\tevents: TimestampedEvent[];\n\t/** Outcomes extracted when chapter closed */\n\toutcomes: ChapterOutcomes;\n}\n\n/**\n * Outcomes extracted when a chapter is finalized.\n */\nexport interface ChapterOutcomes {\n\t/** Relationships that changed during this chapter */\n\trelationshipChanges: string[];\n\t/** Secrets that were revealed */\n\tsecretsRevealed: string[];\n\t/** New complications introduced */\n\tnewComplications: string[];\n}\n\n// ============================================\n// Relationship Types\n// ============================================\n\nexport type RelationshipStatus =\n\t| 'strangers'\n\t| 'acquaintances'\n\t| 'friendly'\n\t| 'close'\n\t| 'intimate'\n\t| 'strained'\n\t| 'hostile'\n\t| 'complicated';\n\n/**\n * A versioned snapshot of relationship state at a status change.\n */\nexport interface RelationshipVersion {\n\t/** Message ID when this version was created */\n\tmessageId: number;\n\t/** Relationship status at this version */\n\tstatus: RelationshipStatus;\n\t/** A's attitude toward B at this version */\n\taToB: RelationshipAttitude;\n\t/** B's attitude toward A at this version */\n\tbToA: RelationshipAttitude;\n\t/** Milestones at this version */\n\tmilestones: MilestoneEvent[];\n}\n\n/**\n * A relationship between two characters.\n */\nexport interface Relationship {\n\t/** Sorted pair of character names */\n\tpair: [string, string];\n\t/** Current relationship status */\n\tstatus: RelationshipStatus;\n\t/** How A feels about B */\n\taToB: RelationshipAttitude;\n\t/** How B feels about A */\n\tbToA: RelationshipAttitude;\n\t/** Milestones in this relationship */\n\tmilestones: MilestoneEvent[];\n\t/** Historical snapshots at chapter boundaries */\n\thistory: RelationshipSnapshot[];\n\t/** Version history - snapshots at each status change */\n\tversions: RelationshipVersion[];\n}\n\n/**\n * One character's attitude toward another.\n */\nexport interface RelationshipAttitude {\n\t/** Current feelings (e.g., \"trusting\", \"suspicious\", \"attracted\") */\n\tfeelings: string[];\n\t/** What they know that the other doesn't (for dramatic irony) */\n\tsecrets: string[];\n\t/** What they want from the relationship */\n\twants: string[];\n}\n\n/**\n * A snapshot of relationship state at a chapter boundary.\n */\nexport interface RelationshipSnapshot {\n\tchapterIndex: number;\n\tstatus: RelationshipStatus;\n\tsummary: string;\n}\n\n// ============================================\n// Chat-Level Narrative State\n// ============================================\n\n/**\n * Chat-level narrative state stored in message 0.\n * Contains information that spans the entire chat.\n */\nexport interface NarrativeState {\n\t/** Schema version for migrations */\n\tversion: number;\n\t/** Completed chapters */\n\tchapters: Chapter[];\n\t/** All tracked relationships */\n\trelationships: Relationship[];\n\t/** Cached weather forecasts by location */\n\tforecastCache: ForecastCacheEntry[];\n\t/** Fantasy location  real-world climate mappings */\n\tlocationMappings: LocationMapping[];\n}\n\n// ============================================\n// Character Types (simplified in v1.0.0)\n// ============================================\n\nexport interface Character {\n\tname: string;\n\tposition: string;\n\tactivity?: string;\n\t// Note: goals removed in v1.0.0, now tracked in CharacterArc\n\tmood: string[];\n\tphysicalState?: string[];\n\toutfit: CharacterOutfit;\n\t// Note: dispositions removed in v1.0.0, now tracked in Relationship\n}\n\nexport interface CharacterOutfit {\n\thead: string | null;\n\tneck: string | null; // necklaces, chokers, scarves, ties\n\tjacket: string | null;\n\tback: string | null; // backpacks, quivers, cloaks, capes\n\ttorso: string | null;\n\tlegs: string | null;\n\tfootwear: string | null;\n\tsocks: string | null;\n\tunderwear: string | null;\n}\n\nexport interface StoredStateData {\n\tstate: TrackedState;\n\textractedAt: string;\n}\n\n// ============================================\n// Constants\n// ============================================\n\nexport const NARRATIVE_STATE_VERSION = 2;\n\nexport const TENSION_LEVELS: readonly TensionLevel[] = [\n\t'relaxed',\n\t'aware',\n\t'guarded',\n\t'tense',\n\t'charged',\n\t'volatile',\n\t'explosive',\n];\n\nexport const TENSION_TYPES: readonly TensionType[] = [\n\t'confrontation',\n\t'intimate',\n\t'vulnerable',\n\t'celebratory',\n\t'negotiation',\n\t'suspense',\n\t'conversation',\n];\n\nexport const RELATIONSHIP_STATUSES: readonly RelationshipStatus[] = [\n\t'strangers',\n\t'acquaintances',\n\t'friendly',\n\t'close',\n\t'intimate',\n\t'strained',\n\t'hostile',\n\t'complicated',\n];\n\nexport const MILESTONE_TYPES: readonly MilestoneType[] = [\n\t// Relationship firsts\n\t'first_meeting',\n\t'first_conflict',\n\t'first_alliance',\n\t// Emotional\n\t'confession',\n\t'emotional_intimacy',\n\t// Bonding\n\t'first_laugh',\n\t'first_gift',\n\t'first_date',\n\t'first_i_love_you',\n\t'first_sleepover',\n\t'first_shared_meal',\n\t// Physical intimacy (granular)\n\t'first_touch',\n\t'first_kiss',\n\t'first_embrace',\n\t'first_heated',\n\t// Sexual milestones (atomic)\n\t'first_foreplay',\n\t'first_oral',\n\t'first_manual',\n\t'first_penetrative',\n\t'first_climax',\n\t// Life commitment\n\t'promised_exclusivity',\n\t'marriage',\n\t'pregnancy',\n\t'had_child',\n\t// Trust & commitment\n\t'promise_made',\n\t'promise_broken',\n\t'betrayal',\n\t'reconciliation',\n\t'sacrifice',\n\t// Secrets\n\t'secret_shared',\n\t'secret_revealed',\n\t// Conflicts\n\t'major_argument',\n\t'major_reconciliation',\n];\n","// ============================================\n// Chapter History Component\n// ============================================\n\nimport React, { useState } from 'react';\nimport type { Chapter, NarrativeDateTime, TimestampedEvent } from '../../types/state';\nimport { EventList } from './EventList';\n\n// ============================================\n// Types\n// ============================================\n\ninterface ChapterHistoryProps {\n\tchapters: Chapter[];\n\teditMode?: boolean;\n\tonUpdate?: (chapters: Chapter[]) => void;\n}\n\ninterface ChapterCardProps {\n\tchapter: Chapter;\n\tisExpanded: boolean;\n\tonToggle: () => void;\n\teditMode?: boolean;\n\tonUpdateChapter?: (chapter: Chapter) => void;\n\tonDeleteChapter?: () => void;\n\tonUpdateEvent?: (eventIndex: number, event: TimestampedEvent) => void;\n\tonDeleteEvent?: (eventIndex: number) => void;\n}\n\n// ============================================\n// Helpers\n// ============================================\n\nfunction formatChapterTime(dt: NarrativeDateTime): string {\n\tconst hour12 = dt.hour % 12 || 12;\n\tconst ampm = dt.hour < 12 ? 'AM' : 'PM';\n\tconst minute = dt.minute.toString().padStart(2, '0');\n\n\tconst dayAbbrev: Record<string, string> = {\n\t\tMonday: 'Mon',\n\t\tTuesday: 'Tue',\n\t\tWednesday: 'Wed',\n\t\tThursday: 'Thu',\n\t\tFriday: 'Fri',\n\t\tSaturday: 'Sat',\n\t\tSunday: 'Sun',\n\t};\n\n\tconst day = dayAbbrev[dt.dayOfWeek] || dt.dayOfWeek.slice(0, 3);\n\treturn `${day} ${hour12}:${minute} ${ampm}`;\n}\n\nfunction formatTimeRange(start: NarrativeDateTime, end: NarrativeDateTime): string {\n\tconst startStr = formatChapterTime(start);\n\tconst endStr = formatChapterTime(end);\n\n\t// If same day, simplify\n\tif (start.dayOfWeek === end.dayOfWeek) {\n\t\tconst startTime = `${start.hour % 12 || 12}:${start.minute.toString().padStart(2, '0')} ${start.hour < 12 ? 'AM' : 'PM'}`;\n\t\tconst endTime = `${end.hour % 12 || 12}:${end.minute.toString().padStart(2, '0')} ${end.hour < 12 ? 'AM' : 'PM'}`;\n\t\tconst dayAbbrev: Record<string, string> = {\n\t\t\tMonday: 'Mon',\n\t\t\tTuesday: 'Tue',\n\t\t\tWednesday: 'Wed',\n\t\t\tThursday: 'Thu',\n\t\t\tFriday: 'Fri',\n\t\t\tSaturday: 'Sat',\n\t\t\tSunday: 'Sun',\n\t\t};\n\t\tconst day = dayAbbrev[start.dayOfWeek] || start.dayOfWeek.slice(0, 3);\n\t\treturn `${day} ${startTime} - ${endTime}`;\n\t}\n\n\treturn `${startStr} - ${endStr}`;\n}\n\n// ============================================\n// Components\n// ============================================\n\nfunction ChapterCard({\n\tchapter,\n\tisExpanded,\n\tonToggle,\n\teditMode,\n\tonUpdateChapter,\n\tonDeleteChapter,\n\tonUpdateEvent,\n\tonDeleteEvent,\n}: ChapterCardProps) {\n\tconst [editingTitle, setEditingTitle] = useState(chapter.title);\n\tconst [editingSummary, setEditingSummary] = useState(chapter.summary);\n\n\tconst hasOutcomes =\n\t\tchapter.outcomes &&\n\t\t(chapter.outcomes.relationshipChanges.length > 0 ||\n\t\t\tchapter.outcomes.secretsRevealed.length > 0);\n\n\tconst handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetEditingTitle(e.target.value);\n\t};\n\n\tconst handleTitleBlur = () => {\n\t\tif (onUpdateChapter && editingTitle !== chapter.title) {\n\t\t\tonUpdateChapter({ ...chapter, title: editingTitle });\n\t\t}\n\t};\n\n\tconst handleSummaryChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n\t\tsetEditingSummary(e.target.value);\n\t};\n\n\tconst handleSummaryBlur = () => {\n\t\tif (onUpdateChapter && editingSummary !== chapter.summary) {\n\t\t\tonUpdateChapter({ ...chapter, summary: editingSummary });\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`bt-chapter-card ${isExpanded ? 'bt-expanded' : ''}`}>\n\t\t\t<div\n\t\t\t\tclassName=\"bt-chapter-header\"\n\t\t\t\tonClick={editMode ? undefined : onToggle}\n\t\t\t>\n\t\t\t\t<div className=\"bt-chapter-number\">\n\t\t\t\t\t<i className=\"fa-solid fa-bookmark\" />\n\t\t\t\t\t<span>Chapter {chapter.index + 1}</span>\n\t\t\t\t</div>\n\t\t\t\t{editMode ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"bt-chapter-title-input\"\n\t\t\t\t\t\tvalue={editingTitle}\n\t\t\t\t\t\tonChange={handleTitleChange}\n\t\t\t\t\t\tonBlur={handleTitleBlur}\n\t\t\t\t\t\tonClick={e => e.stopPropagation()}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"bt-chapter-title\">{chapter.title}</div>\n\t\t\t\t)}\n\t\t\t\t<div className=\"bt-chapter-time\">\n\t\t\t\t\t{formatTimeRange(\n\t\t\t\t\t\tchapter.timeRange.start,\n\t\t\t\t\t\tchapter.timeRange.end,\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{editMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"bt-delete-btn-small\"\n\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tonDeleteChapter?.();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle=\"Delete chapter\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<i\n\t\t\t\t\tclassName={`fa-solid ${isExpanded ? 'fa-chevron-up' : 'fa-chevron-down'} bt-expand-icon`}\n\t\t\t\t\tonClick={editMode ? onToggle : undefined}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{isExpanded && (\n\t\t\t\t<div className=\"bt-chapter-details\">\n\t\t\t\t\t{/* Summary */}\n\t\t\t\t\t<div className=\"bt-chapter-summary\">\n\t\t\t\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-align-left\" />{' '}\n\t\t\t\t\t\t\tSummary\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{editMode ? (\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"bt-chapter-summary-input\"\n\t\t\t\t\t\t\t\tvalue={editingSummary}\n\t\t\t\t\t\t\t\tonChange={handleSummaryChange}\n\t\t\t\t\t\t\t\tonBlur={handleSummaryBlur}\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p>{chapter.summary}</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Primary Location */}\n\t\t\t\t\t{chapter.primaryLocation && (\n\t\t\t\t\t\t<div className=\"bt-chapter-location\">\n\t\t\t\t\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-location-dot\" />{' '}\n\t\t\t\t\t\t\t\tLocation\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>{chapter.primaryLocation}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Outcomes */}\n\t\t\t\t\t{hasOutcomes && chapter.outcomes && (\n\t\t\t\t\t\t<div className=\"bt-chapter-outcomes\">\n\t\t\t\t\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-flag-checkered\" />{' '}\n\t\t\t\t\t\t\t\tOutcomes\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{chapter.outcomes.relationshipChanges\n\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t<div className=\"bt-outcome-group\">\n\t\t\t\t\t\t\t\t\t<span className=\"bt-outcome-label\">\n\t\t\t\t\t\t\t\t\t\tRelationship\n\t\t\t\t\t\t\t\t\t\tChanges:\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t{chapter.outcomes.relationshipChanges.map(\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\tchange,\n\t\t\t\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{chapter.outcomes.secretsRevealed.length >\n\t\t\t\t\t\t\t\t0 && (\n\t\t\t\t\t\t\t\t<div className=\"bt-outcome-group\">\n\t\t\t\t\t\t\t\t\t<span className=\"bt-outcome-label\">\n\t\t\t\t\t\t\t\t\t\tSecrets Revealed:\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t{chapter.outcomes.secretsRevealed.map(\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\tsecret,\n\t\t\t\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecret\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Archived Events */}\n\t\t\t\t\t{chapter.events.length > 0 && (\n\t\t\t\t\t\t<div className=\"bt-chapter-events\">\n\t\t\t\t\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-list\" />{' '}\n\t\t\t\t\t\t\t\tEvents ({chapter.events.length})\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{editMode ? (\n\t\t\t\t\t\t\t\t<EventList\n\t\t\t\t\t\t\t\t\tevents={chapter.events}\n\t\t\t\t\t\t\t\t\teditMode={true}\n\t\t\t\t\t\t\t\t\tonUpdate={onUpdateEvent}\n\t\t\t\t\t\t\t\t\tonDelete={onDeleteEvent}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ul className=\"bt-events-list\">\n\t\t\t\t\t\t\t\t\t{chapter.events.map(\n\t\t\t\t\t\t\t\t\t\t(event, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bt-archived-event\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-event-time\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatChapterTime(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.timestamp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-event-summary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.summary\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-event-tension\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.tensionLevel\n\t\t\t\t\t\t\t\t\t\t\t\t\t}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.tensionType\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport function ChapterHistory({ chapters, editMode, onUpdate }: ChapterHistoryProps) {\n\tconst [expandedIds, setExpandedIds] = useState<Set<number>>(new Set());\n\n\tconst toggleExpanded = (index: number) => {\n\t\tsetExpandedIds(prev => {\n\t\t\tconst next = new Set(prev);\n\t\t\tif (next.has(index)) {\n\t\t\t\tnext.delete(index);\n\t\t\t} else {\n\t\t\t\tnext.add(index);\n\t\t\t}\n\t\t\treturn next;\n\t\t});\n\t};\n\n\tconst expandAll = () => {\n\t\tsetExpandedIds(new Set(chapters.map(c => c.index)));\n\t};\n\n\tconst collapseAll = () => {\n\t\tsetExpandedIds(new Set());\n\t};\n\n\tconst handleUpdateChapter = (chapterIndex: number, updatedChapter: Chapter) => {\n\t\tif (onUpdate) {\n\t\t\tconst newChapters = chapters.map(ch =>\n\t\t\t\tch.index === chapterIndex ? updatedChapter : ch,\n\t\t\t);\n\t\t\tonUpdate(newChapters);\n\t\t}\n\t};\n\n\tconst handleDeleteChapter = (chapterIndex: number) => {\n\t\tif (onUpdate) {\n\t\t\tconst newChapters = chapters.filter(ch => ch.index !== chapterIndex);\n\t\t\t// Re-index remaining chapters\n\t\t\tconst reindexedChapters = newChapters.map((ch, idx) => ({\n\t\t\t\t...ch,\n\t\t\t\tindex: idx,\n\t\t\t}));\n\t\t\tonUpdate(reindexedChapters);\n\t\t}\n\t};\n\n\tconst handleUpdateEvent = (\n\t\tchapterIndex: number,\n\t\teventIndex: number,\n\t\tevent: TimestampedEvent,\n\t) => {\n\t\tif (onUpdate) {\n\t\t\tconst newChapters = chapters.map(ch => {\n\t\t\t\tif (ch.index === chapterIndex) {\n\t\t\t\t\tconst newEvents = [...ch.events];\n\t\t\t\t\tnewEvents[eventIndex] = event;\n\t\t\t\t\treturn { ...ch, events: newEvents };\n\t\t\t\t}\n\t\t\t\treturn ch;\n\t\t\t});\n\t\t\tonUpdate(newChapters);\n\t\t}\n\t};\n\n\tconst handleDeleteEvent = (chapterIndex: number, eventIndex: number) => {\n\t\tif (onUpdate) {\n\t\t\tconst newChapters = chapters.map(ch => {\n\t\t\t\tif (ch.index === chapterIndex) {\n\t\t\t\t\tconst newEvents = ch.events.filter(\n\t\t\t\t\t\t(_, i) => i !== eventIndex,\n\t\t\t\t\t);\n\t\t\t\t\treturn { ...ch, events: newEvents };\n\t\t\t\t}\n\t\t\t\treturn ch;\n\t\t\t});\n\t\t\tonUpdate(newChapters);\n\t\t}\n\t};\n\n\tif (chapters.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"bt-chapter-history bt-empty\">\n\t\t\t\t<p>No chapters recorded yet.</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Show chapters in reverse order (most recent first)\n\tconst sortedChapters = [...chapters].sort((a, b) => b.index - a.index);\n\n\treturn (\n\t\t<div className=\"bt-chapter-history\">\n\t\t\t{/* Controls */}\n\t\t\t{chapters.length > 1 && (\n\t\t\t\t<div className=\"bt-chapter-controls\">\n\t\t\t\t\t<button className=\"bt-btn bt-btn-small\" onClick={expandAll}>\n\t\t\t\t\t\t<i className=\"fa-solid fa-angles-down\" /> Expand All\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"bt-btn bt-btn-small\"\n\t\t\t\t\t\tonClick={collapseAll}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-angles-up\" /> Collapse All\n\t\t\t\t\t</button>\n\t\t\t\t\t<span className=\"bt-chapter-count\">\n\t\t\t\t\t\t{chapters.length} chapter\n\t\t\t\t\t\t{chapters.length !== 1 ? 's' : ''}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Chapter list */}\n\t\t\t<div className=\"bt-chapter-list\">\n\t\t\t\t{sortedChapters.map(chapter => (\n\t\t\t\t\t<ChapterCard\n\t\t\t\t\t\tkey={chapter.index}\n\t\t\t\t\t\tchapter={chapter}\n\t\t\t\t\t\tisExpanded={expandedIds.has(chapter.index)}\n\t\t\t\t\t\tonToggle={() => toggleExpanded(chapter.index)}\n\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\tonUpdateChapter={ch =>\n\t\t\t\t\t\t\thandleUpdateChapter(chapter.index, ch)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonDeleteChapter={() =>\n\t\t\t\t\t\t\thandleDeleteChapter(chapter.index)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonUpdateEvent={(evtIdx, evt) =>\n\t\t\t\t\t\t\thandleUpdateEvent(\n\t\t\t\t\t\t\t\tchapter.index,\n\t\t\t\t\t\t\t\tevtIdx,\n\t\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonDeleteEvent={evtIdx =>\n\t\t\t\t\t\t\thandleDeleteEvent(chapter.index, evtIdx)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","// ============================================\n// Event Editor Component\n// ============================================\n\nimport React, { useState } from 'react';\nimport type {\n\tTimestampedEvent,\n\tEventType,\n\tTensionLevel,\n\tTensionType,\n\tMilestoneEvent,\n\tMilestoneType,\n} from '../../types/state';\nimport { EVENT_TYPES, TENSION_LEVELS, TENSION_TYPES, MILESTONE_TYPES } from '../../types/state';\nimport { TagInput } from './form/TagInput';\n\n// ============================================\n// Types\n// ============================================\n\nexport interface EventEditorProps {\n\tevent: TimestampedEvent;\n\tonSave: (event: TimestampedEvent) => void;\n\tonCancel: () => void;\n}\n\n// ============================================\n// Component\n// ============================================\n\nexport function EventEditor({ event, onSave, onCancel }: EventEditorProps) {\n\tconst [summary, setSummary] = useState(event.summary);\n\tconst [eventTypes, setEventTypes] = useState<EventType[]>(\n\t\tevent.eventTypes || ['conversation'],\n\t);\n\tconst [tensionLevel, setTensionLevel] = useState<TensionLevel>(event.tensionLevel);\n\tconst [tensionType, setTensionType] = useState<TensionType>(event.tensionType);\n\tconst [witnesses, setWitnesses] = useState<string[]>(event.witnesses || []);\n\n\t// Relationship signal state\n\tconst [hasPair, setHasPair] = useState(!!event.relationshipSignal?.pair);\n\tconst [pairChar1, setPairChar1] = useState(event.relationshipSignal?.pair?.[0] || '');\n\tconst [pairChar2, setPairChar2] = useState(event.relationshipSignal?.pair?.[1] || '');\n\tconst [milestones, setMilestones] = useState<MilestoneEvent[]>(\n\t\tevent.relationshipSignal?.milestones || [],\n\t);\n\n\t// New milestone form state\n\tconst [newMilestoneType, setNewMilestoneType] = useState<MilestoneType>('first_meeting');\n\tconst [newMilestoneDesc, setNewMilestoneDesc] = useState('');\n\n\tconst handleSave = () => {\n\t\tconst updatedEvent: TimestampedEvent = {\n\t\t\t...event,\n\t\t\tsummary,\n\t\t\teventTypes,\n\t\t\ttensionLevel,\n\t\t\ttensionType,\n\t\t\twitnesses,\n\t\t};\n\n\t\t// Update relationship signal\n\t\tif (hasPair && pairChar1 && pairChar2) {\n\t\t\tconst sortedPair = [pairChar1, pairChar2].sort() as [string, string];\n\t\t\tupdatedEvent.relationshipSignal = {\n\t\t\t\tpair: sortedPair,\n\t\t\t\tmilestones: milestones.length > 0 ? milestones : undefined,\n\t\t\t};\n\t\t} else {\n\t\t\tupdatedEvent.relationshipSignal = undefined;\n\t\t}\n\n\t\tonSave(updatedEvent);\n\t};\n\n\tconst handleAddMilestone = () => {\n\t\tif (newMilestoneType) {\n\t\t\tconst newMilestone: MilestoneEvent = {\n\t\t\t\ttype: newMilestoneType,\n\t\t\t\tdescription: newMilestoneDesc,\n\t\t\t\ttimestamp: event.timestamp,\n\t\t\t\tlocation: event.location,\n\t\t\t\tmessageId: event.messageId,\n\t\t\t};\n\t\t\tsetMilestones([...milestones, newMilestone]);\n\t\t\tsetNewMilestoneType('first_meeting');\n\t\t\tsetNewMilestoneDesc('');\n\t\t}\n\t};\n\n\tconst handleRemoveMilestone = (index: number) => {\n\t\tsetMilestones(milestones.filter((_, i) => i !== index));\n\t};\n\n\tconst handleToggleEventType = (type: EventType) => {\n\t\tif (eventTypes.includes(type)) {\n\t\t\t// Don't allow removing the last event type\n\t\t\tif (eventTypes.length > 1) {\n\t\t\t\tsetEventTypes(eventTypes.filter(t => t !== type));\n\t\t\t}\n\t\t} else {\n\t\t\tsetEventTypes([...eventTypes, type]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"bt-event-editor\">\n\t\t\t{/* Summary */}\n\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t<label htmlFor=\"event-summary\">Summary</label>\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"event-summary\"\n\t\t\t\t\tvalue={summary}\n\t\t\t\t\tonChange={e => setSummary(e.target.value)}\n\t\t\t\t\trows={2}\n\t\t\t\t\tplaceholder=\"Event summary...\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/* Event Types */}\n\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t<label>Event Types</label>\n\t\t\t\t<div className=\"bt-event-type-grid\">\n\t\t\t\t\t{EVENT_TYPES.map(type => (\n\t\t\t\t\t\t<label key={type} className=\"bt-event-type-option\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tchecked={eventTypes.includes(type)}\n\t\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\t\thandleToggleEventType(type)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>{type.replace(/_/g, ' ')}</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Tension */}\n\t\t\t<div className=\"bt-editor-row\">\n\t\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t\t<label htmlFor=\"tension-level\">Tension Level</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tid=\"tension-level\"\n\t\t\t\t\t\tvalue={tensionLevel}\n\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\tsetTensionLevel(\n\t\t\t\t\t\t\t\te.target.value as TensionLevel,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{TENSION_LEVELS.map(level => (\n\t\t\t\t\t\t\t<option key={level} value={level}>\n\t\t\t\t\t\t\t\t{level}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t\t<label htmlFor=\"tension-type\">Tension Type</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tid=\"tension-type\"\n\t\t\t\t\t\tvalue={tensionType}\n\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\tsetTensionType(\n\t\t\t\t\t\t\t\te.target.value as TensionType,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{TENSION_TYPES.map(type => (\n\t\t\t\t\t\t\t<option key={type} value={type}>\n\t\t\t\t\t\t\t\t{type}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Witnesses */}\n\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t<label>Witnesses</label>\n\t\t\t\t<TagInput\n\t\t\t\t\ttags={witnesses}\n\t\t\t\t\tonChange={setWitnesses}\n\t\t\t\t\tplaceholder=\"Add witness...\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/* Relationship Signal */}\n\t\t\t<div className=\"bt-editor-section\">\n\t\t\t\t<label className=\"bt-section-toggle\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={hasPair}\n\t\t\t\t\t\tonChange={e => setHasPair(e.target.checked)}\n\t\t\t\t\t/>\n\t\t\t\t\t<span>Relationship Signal</span>\n\t\t\t\t</label>\n\n\t\t\t\t{hasPair && (\n\t\t\t\t\t<div className=\"bt-relationship-signal-editor\">\n\t\t\t\t\t\t<div className=\"bt-editor-row\">\n\t\t\t\t\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"pair-char1\">\n\t\t\t\t\t\t\t\t\tCharacter 1\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid=\"pair-char1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pairChar1}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tsetPairChar1(\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"bt-pair-separator\">\n\t\t\t\t\t\t\t\t&amp;\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div className=\"bt-editor-field\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"pair-char2\">\n\t\t\t\t\t\t\t\t\tCharacter 2\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid=\"pair-char2\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pairChar2}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tsetPairChar2(\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Milestones */}\n\t\t\t\t\t\t<div className=\"bt-milestones-editor\">\n\t\t\t\t\t\t\t<label>Milestones</label>\n\n\t\t\t\t\t\t\t{milestones.length > 0 && (\n\t\t\t\t\t\t\t\t<ul className=\"bt-milestones-list-edit\">\n\t\t\t\t\t\t\t\t\t{milestones.map((m, i) => (\n\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-milestone-type\">\n\t\t\t\t\t\t\t\t\t\t\t\t{m.type.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t/_/g,\n\t\t\t\t\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t{m.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-milestone-desc\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tm.description\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bt-delete-btn-small\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveMilestone(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Remove milestone\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div className=\"bt-add-milestone\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tvalue={newMilestoneType}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tsetNewMilestoneType(\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value as MilestoneType,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{MILESTONE_TYPES.map(\n\t\t\t\t\t\t\t\t\t\ttype => (\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{type.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t/_/g,\n\t\t\t\t\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={newMilestoneDesc}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tsetNewMilestoneDesc(\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Description (optional)...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn bt-btn-small\"\n\t\t\t\t\t\t\t\t\tonClick={handleAddMilestone}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-plus\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Actions */}\n\t\t\t<div className=\"bt-editor-actions\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"bt-btn bt-btn-secondary\"\n\t\t\t\t\tonClick={onCancel}\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"bt-btn bt-btn-primary\"\n\t\t\t\t\tonClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","// ============================================\n// Event List Component\n// ============================================\n\nimport React, { useState } from 'react';\nimport type { TimestampedEvent, NarrativeDateTime, EventType } from '../../types/state';\nimport {\n\tgetTensionLevelIcon,\n\tgetTensionColor,\n\tgetTensionIcon,\n\tgetTensionTypeColor,\n\tgetEventTypeIcon,\n\tgetEventTypeColor,\n\tEVENT_TYPE_PRIORITY,\n} from '../icons';\nimport { EventEditor } from './EventEditor';\n\n// ============================================\n// Types\n// ============================================\n\ninterface EventListProps {\n\tevents: TimestampedEvent[];\n\tpresentCharacters?: string[];\n\tmaxEvents?: number;\n\teditMode?: boolean;\n\tonUpdate?: (index: number, event: TimestampedEvent) => void;\n\tonDelete?: (index: number) => void;\n}\n\ninterface EventItemProps {\n\tevent: TimestampedEvent;\n\tindex: number;\n\tpresentCharacters?: string[];\n\topacity?: number;\n\teditMode?: boolean;\n\tonEdit?: () => void;\n\tonDelete?: () => void;\n}\n\n// ============================================\n// Helpers\n// ============================================\n\nfunction formatEventTime(dt: NarrativeDateTime): string {\n\tconst hour12 = dt.hour % 12 || 12;\n\tconst ampm = dt.hour < 12 ? 'AM' : 'PM';\n\tconst minute = dt.minute.toString().padStart(2, '0');\n\treturn `${dt.dayOfWeek} ${hour12}:${minute} ${ampm}`;\n}\n\nfunction getAbsentWitnesses(witnesses: string[], presentCharacters: string[]): string[] {\n\tconst presentSet = new Set(presentCharacters.map(c => c.toLowerCase()));\n\treturn witnesses.filter(w => !presentSet.has(w.toLowerCase()));\n}\n\n/**\n * Sort event types by salience (priority) order.\n */\nfunction sortByPriority(types: EventType[]): EventType[] {\n\treturn [...types].sort((a, b) => {\n\t\tconst aIndex = EVENT_TYPE_PRIORITY.indexOf(a);\n\t\tconst bIndex = EVENT_TYPE_PRIORITY.indexOf(b);\n\t\t// Types not in priority list go to the end\n\t\tconst aPos = aIndex === -1 ? EVENT_TYPE_PRIORITY.length : aIndex;\n\t\tconst bPos = bIndex === -1 ? EVENT_TYPE_PRIORITY.length : bIndex;\n\t\treturn aPos - bPos;\n\t});\n}\n\n// ============================================\n// Components\n// ============================================\n\nfunction EventItem({\n\tevent,\n\tindex: _index,\n\tpresentCharacters,\n\topacity = 1,\n\teditMode,\n\tonEdit,\n\tonDelete,\n}: EventItemProps) {\n\tconst levelIconClass = getTensionLevelIcon(event.tensionLevel);\n\tconst levelColor = getTensionColor(event.tensionLevel);\n\tconst typeIconClass = getTensionIcon(event.tensionType);\n\tconst typeColor = getTensionTypeColor(event.tensionType);\n\tconst milestones = event.relationshipSignal?.milestones ?? [];\n\n\t// Get event types sorted by salience\n\tconst eventTypes: EventType[] = event.eventTypes?.length\n\t\t? sortByPriority(event.eventTypes)\n\t\t: ['conversation'];\n\n\t// Calculate absent witnesses for dramatic irony notes\n\tconst absentWitnesses = presentCharacters\n\t\t? getAbsentWitnesses(event.witnesses, presentCharacters)\n\t\t: [];\n\n\t// Format tooltips\n\tconst levelTooltip = `Level: ${event.tensionLevel}`;\n\tconst typeTooltip = `Type: ${event.tensionType}`;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"bt-event-item\"\n\t\t\tstyle={\n\t\t\t\t{\n\t\t\t\t\tborderLeftColor: levelColor,\n\t\t\t\t\t'--bt-event-opacity': opacity,\n\t\t\t\t} as React.CSSProperties\n\t\t\t}\n\t\t>\n\t\t\t{/* Row 1: Date (left), Event type icons + edit buttons (right) */}\n\t\t\t<div className=\"bt-event-header\">\n\t\t\t\t<span className=\"bt-event-time\">\n\t\t\t\t\t{formatEventTime(event.timestamp)}\n\t\t\t\t</span>\n\t\t\t\t<div className=\"bt-event-header-right\">\n\t\t\t\t\t<span className=\"bt-event-types\">\n\t\t\t\t\t\t{eventTypes.map((type, idx) => (\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tclassName={getEventTypeIcon(type)}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: getEventTypeColor(\n\t\t\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttitle={type.replace(/_/g, ' ')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</span>\n\t\t\t\t\t{editMode && (\n\t\t\t\t\t\t<div className=\"bt-event-actions\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"bt-edit-btn-small\"\n\t\t\t\t\t\t\t\tonClick={onEdit}\n\t\t\t\t\t\t\t\ttitle=\"Edit event\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-pen\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"bt-delete-btn-small\"\n\t\t\t\t\t\t\t\tonClick={onDelete}\n\t\t\t\t\t\t\t\ttitle=\"Delete event\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Row 2: Milestones (if any) */}\n\t\t\t{milestones.length > 0 && (\n\t\t\t\t<div className=\"bt-event-milestones\">\n\t\t\t\t\t{milestones.map((m, idx) => (\n\t\t\t\t\t\t<span key={idx} className=\"bt-milestone-item\">\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-star\" />\n\t\t\t\t\t\t\t<span className=\"bt-milestone-type\">\n\t\t\t\t\t\t\t\t{m.type.replace(/_/g, ' ')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{m.description && (\n\t\t\t\t\t\t\t\t<span className=\"bt-milestone-desc\">\n\t\t\t\t\t\t\t\t\t{m.description}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Row 3: Description */}\n\t\t\t<div className=\"bt-event-summary\">{event.summary}</div>\n\n\t\t\t{/* Row 4: Witnesses/Participants (left), Tension icons (right) */}\n\t\t\t<div className=\"bt-event-footer\">\n\t\t\t\t<div className=\"bt-event-people\">\n\t\t\t\t\t{event.witnesses.length > 0 && (\n\t\t\t\t\t\t<div className=\"bt-event-witnesses\">\n\t\t\t\t\t\t\t<span className=\"bt-witnesses-label\">\n\t\t\t\t\t\t\t\tWitnesses:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{event.witnesses.map((w, i) => (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-witness\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{w}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{absentWitnesses.length > 0 && (\n\t\t\t\t\t\t<div className=\"bt-event-absent\">\n\t\t\t\t\t\t\t<span className=\"bt-absent-label\">\n\t\t\t\t\t\t\t\tNot present:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{absentWitnesses.map((w, i) => (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-absent-witness\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{w}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"bt-event-tension\">\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={typeIconClass}\n\t\t\t\t\t\tstyle={{ color: typeColor }}\n\t\t\t\t\t\ttitle={typeTooltip}\n\t\t\t\t\t/>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={levelIconClass}\n\t\t\t\t\t\tstyle={{ color: levelColor }}\n\t\t\t\t\t\ttitle={levelTooltip}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport function EventList({\n\tevents,\n\tpresentCharacters,\n\tmaxEvents,\n\teditMode,\n\tonUpdate,\n\tonDelete,\n}: EventListProps) {\n\tconst [editingIndex, setEditingIndex] = useState<number | null>(null);\n\n\t// Get the most recent events (from the end of the array)\n\tconst recentEvents = maxEvents ? events.slice(-maxEvents) : events;\n\t// Reverse to show newest first\n\tconst displayEvents = [...recentEvents].reverse();\n\n\t// Calculate the original index from display index\n\tconst getOriginalIndex = (displayIndex: number): number => {\n\t\t// displayEvents is reversed, so we need to map back\n\t\tconst recentIndex = displayEvents.length - 1 - displayIndex;\n\t\t// Then add the offset from slice\n\t\tconst startOffset = events.length - recentEvents.length;\n\t\treturn startOffset + recentIndex;\n\t};\n\n\tconst handleEdit = (displayIndex: number) => {\n\t\tsetEditingIndex(getOriginalIndex(displayIndex));\n\t};\n\n\tconst handleDelete = (displayIndex: number) => {\n\t\tif (onDelete) {\n\t\t\tonDelete(getOriginalIndex(displayIndex));\n\t\t}\n\t};\n\n\tconst handleSaveEdit = (event: TimestampedEvent) => {\n\t\tif (onUpdate && editingIndex !== null) {\n\t\t\tonUpdate(editingIndex, event);\n\t\t\tsetEditingIndex(null);\n\t\t}\n\t};\n\n\tconst handleCancelEdit = () => {\n\t\tsetEditingIndex(null);\n\t};\n\n\tif (displayEvents.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"bt-event-list bt-empty\">\n\t\t\t\t<p>No events recorded yet.</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Find the event being edited (if any)\n\tconst eventBeingEdited = editingIndex !== null ? events[editingIndex] : null;\n\n\treturn (\n\t\t<div className=\"bt-event-list\">\n\t\t\t{editingIndex !== null && eventBeingEdited && (\n\t\t\t\t<div className=\"bt-event-editor-container\">\n\t\t\t\t\t<EventEditor\n\t\t\t\t\t\tevent={eventBeingEdited}\n\t\t\t\t\t\tonSave={handleSaveEdit}\n\t\t\t\t\t\tonCancel={handleCancelEdit}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{displayEvents.map((event, displayIndex) => {\n\t\t\t\tconst originalIndex = getOriginalIndex(displayIndex);\n\t\t\t\t// Skip showing the item being edited\n\t\t\t\tif (originalIndex === editingIndex) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\t// Decrease opacity for older events: 100%, 75%, 50%, 40% (min)\n\t\t\t\tconst opacity = Math.max(0.4, 1 - displayIndex * 0.25);\n\t\t\t\treturn (\n\t\t\t\t\t<EventItem\n\t\t\t\t\t\tkey={originalIndex}\n\t\t\t\t\t\tevent={event}\n\t\t\t\t\t\tindex={originalIndex}\n\t\t\t\t\t\tpresentCharacters={presentCharacters}\n\t\t\t\t\t\topacity={editMode ? 1 : opacity}\n\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\tonEdit={() => handleEdit(displayIndex)}\n\t\t\t\t\t\tonDelete={() => handleDelete(displayIndex)}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n","// ============================================\n// Narrative Modal Component\n// ============================================\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport type { NarrativeState, TimestampedEvent, Chapter, Relationship } from '../../types/state';\nimport { ChapterHistory } from './ChapterHistory';\nimport { TensionGraph } from './TensionGraph';\nimport { EventList } from './EventList';\nimport { RelationshipsTab } from '../tabs/RelationshipsTab';\n\n// ============================================\n// Types\n// ============================================\n\nexport type TabId = 'events' | 'chapters' | 'relationships';\n\n/** Info about deleted events for syncing with message state */\nexport interface DeletedEventInfo {\n\tmessageId: number;\n\tsummary: string;\n}\n\nexport interface NarrativeModalProps {\n\tnarrativeState: NarrativeState;\n\tcurrentEvents?: TimestampedEvent[];\n\tpresentCharacters?: string[];\n\tonClose: () => void;\n\tonSave?: (\n\t\tstate: NarrativeState,\n\t\tdeletedEvents: DeletedEventInfo[],\n\t\tupdatedCurrentEvents?: TimestampedEvent[],\n\t) => Promise<void>;\n\tinitialTab?: TabId;\n}\n\n// ============================================\n// Component\n// ============================================\n\nexport function NarrativeModal({\n\tnarrativeState,\n\tcurrentEvents = [],\n\tpresentCharacters,\n\tonClose,\n\tonSave,\n\tinitialTab = 'chapters',\n}: NarrativeModalProps) {\n\tconst [activeTab, setActiveTab] = useState<TabId>(initialTab);\n\tconst [editMode, setEditMode] = useState(false);\n\tconst [saving, setSaving] = useState(false);\n\n\t// Working copies for edit mode\n\tconst [editChapters, setEditChapters] = useState<Chapter[]>([]);\n\tconst [editRelationships, setEditRelationships] = useState<Relationship[]>([]);\n\tconst [editCurrentEvents, setEditCurrentEvents] = useState<TimestampedEvent[]>([]);\n\n\t// Track deleted events for syncing back to messages\n\tconst [deletedEvents, setDeletedEvents] = useState<DeletedEventInfo[]>([]);\n\n\t// Initialize edit state when entering edit mode\n\tconst enterEditMode = useCallback(() => {\n\t\tsetEditChapters(JSON.parse(JSON.stringify(narrativeState.chapters)));\n\t\tsetEditRelationships(JSON.parse(JSON.stringify(narrativeState.relationships)));\n\t\tsetEditCurrentEvents(JSON.parse(JSON.stringify(currentEvents)));\n\t\tsetDeletedEvents([]);\n\t\tsetEditMode(true);\n\t}, [narrativeState, currentEvents]);\n\n\tconst cancelEditMode = useCallback(() => {\n\t\tsetEditMode(false);\n\t\tsetEditChapters([]);\n\t\tsetEditRelationships([]);\n\t\tsetEditCurrentEvents([]);\n\t\tsetDeletedEvents([]);\n\t}, []);\n\n\tconst handleSave = useCallback(async () => {\n\t\tif (!onSave) return;\n\n\t\tsetSaving(true);\n\t\ttry {\n\t\t\tconst updatedState: NarrativeState = {\n\t\t\t\t...narrativeState,\n\t\t\t\tchapters: editChapters,\n\t\t\t\trelationships: editRelationships,\n\t\t\t};\n\t\t\tawait onSave(updatedState, deletedEvents, editCurrentEvents);\n\t\t\tsetEditMode(false);\n\t\t} finally {\n\t\t\tsetSaving(false);\n\t\t}\n\t}, [\n\t\tonSave,\n\t\tnarrativeState,\n\t\teditChapters,\n\t\teditRelationships,\n\t\teditCurrentEvents,\n\t\tdeletedEvents,\n\t]);\n\n\t// Handle chapter updates\n\tconst handleChaptersUpdate = useCallback(\n\t\t(chapters: Chapter[]) => {\n\t\t\t// Track deleted events from chapters\n\t\t\tconst newChapterEventIds = new Set(\n\t\t\t\tchapters.flatMap(ch =>\n\t\t\t\t\tch.events.map(e => `${e.messageId}-${e.summary}`),\n\t\t\t\t),\n\t\t\t);\n\t\t\tconst oldEvents = editChapters.flatMap(ch => ch.events);\n\t\t\tfor (const event of oldEvents) {\n\t\t\t\tif (\n\t\t\t\t\t!newChapterEventIds.has(\n\t\t\t\t\t\t`${event.messageId}-${event.summary}`,\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tif (event.messageId !== undefined) {\n\t\t\t\t\t\tsetDeletedEvents(prev => [\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmessageId: event.messageId!,\n\t\t\t\t\t\t\t\tsummary: event.summary,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetEditChapters(chapters);\n\t\t},\n\t\t[editChapters],\n\t);\n\n\t// Handle current events updates\n\tconst handleCurrentEventUpdate = useCallback(\n\t\t(index: number, event: TimestampedEvent) => {\n\t\t\tconst newEvents = [...editCurrentEvents];\n\t\t\tnewEvents[index] = event;\n\t\t\tsetEditCurrentEvents(newEvents);\n\t\t},\n\t\t[editCurrentEvents],\n\t);\n\n\tconst handleCurrentEventDelete = useCallback(\n\t\t(index: number) => {\n\t\t\tconst event = editCurrentEvents[index];\n\t\t\tif (event.messageId !== undefined) {\n\t\t\t\tsetDeletedEvents(prev => [\n\t\t\t\t\t...prev,\n\t\t\t\t\t{ messageId: event.messageId!, summary: event.summary },\n\t\t\t\t]);\n\t\t\t}\n\t\t\tsetEditCurrentEvents(editCurrentEvents.filter((_, i) => i !== index));\n\t\t},\n\t\t[editCurrentEvents],\n\t);\n\n\t// Close on escape key (only if not in edit mode)\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'Escape' && !editMode) {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\treturn () => window.removeEventListener('keydown', handleKeyDown);\n\t}, [onClose, editMode]);\n\n\t// Prevent scrolling of body while modal is open\n\tuseEffect(() => {\n\t\tdocument.body.style.overflow = 'hidden';\n\t\treturn () => {\n\t\t\tdocument.body.style.overflow = '';\n\t\t};\n\t}, []);\n\n\t// Use edit state or original state based on mode\n\tconst displayChapters = editMode ? editChapters : narrativeState.chapters;\n\tconst displayRelationships = editMode ? editRelationships : narrativeState.relationships;\n\tconst displayCurrentEvents = editMode ? editCurrentEvents : currentEvents;\n\n\t// Get all events from all chapters\n\tconst allChapterEvents = displayChapters.flatMap(ch => ch.events);\n\t// All events for tension graph (including current)\n\tconst allEvents = [...allChapterEvents, ...displayCurrentEvents];\n\n\t// Render to body via portal to avoid container positioning issues\n\treturn createPortal(\n\t\t<div\n\t\t\tclassName=\"bt-modal-overlay\"\n\t\t\tonClick={e => {\n\t\t\t\tif (e.target === e.currentTarget && !editMode) onClose();\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"bt-modal-container bt-narrative-modal\">\n\t\t\t\t{/* Header */}\n\t\t\t\t<div className=\"bt-modal-header\">\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{editMode\n\t\t\t\t\t\t\t? 'Editing Narrative'\n\t\t\t\t\t\t\t: 'Narrative Overview'}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div className=\"bt-modal-header-actions\">\n\t\t\t\t\t\t{editMode ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn bt-btn-secondary\"\n\t\t\t\t\t\t\t\t\tonClick={cancelEditMode}\n\t\t\t\t\t\t\t\t\tdisabled={saving}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn bt-btn-primary\"\n\t\t\t\t\t\t\t\t\tonClick={handleSave}\n\t\t\t\t\t\t\t\t\tdisabled={saving}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{saving ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-spinner fa-spin\"></i>\n\t\t\t\t\t\t\t\t\t\t\tSaving...\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-check\"></i>\n\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tonSave && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn bt-btn-secondary\"\n\t\t\t\t\t\t\t\t\tonClick={enterEditMode}\n\t\t\t\t\t\t\t\t\ttitle=\"Enable editing of narrative state\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-pen\"></i>\n\t\t\t\t\t\t\t\t\tEnable Editing\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bt-modal-close\"\n\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\tdisabled={editMode}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-xmark\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Tabs */}\n\t\t\t\t<div className=\"bt-modal-tabs\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`bt-tab ${activeTab === 'events' ? 'bt-tab-active' : ''}`}\n\t\t\t\t\t\tonClick={() => setActiveTab('events')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-bolt\"></i>\n\t\t\t\t\t\t<span>Events ({displayCurrentEvents.length})</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`bt-tab ${activeTab === 'chapters' ? 'bt-tab-active' : ''}`}\n\t\t\t\t\t\tonClick={() => setActiveTab('chapters')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-book\"></i>\n\t\t\t\t\t\t<span>Chapters ({displayChapters.length})</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`bt-tab ${activeTab === 'relationships' ? 'bt-tab-active' : ''}`}\n\t\t\t\t\t\tonClick={() => setActiveTab('relationships')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-heart\"></i>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tRelationships ({displayRelationships.length}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Tab Content */}\n\t\t\t\t<div className=\"bt-modal-content\">\n\t\t\t\t\t{activeTab === 'events' && (\n\t\t\t\t\t\t<div className=\"bt-events-tab-content\">\n\t\t\t\t\t\t\t{displayCurrentEvents.length > 0 ? (\n\t\t\t\t\t\t\t\t<EventList\n\t\t\t\t\t\t\t\t\tevents={\n\t\t\t\t\t\t\t\t\t\tdisplayCurrentEvents\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tpresentCharacters={\n\t\t\t\t\t\t\t\t\t\tpresentCharacters\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\t\t\t\tonUpdate={\n\t\t\t\t\t\t\t\t\t\thandleCurrentEventUpdate\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonDelete={\n\t\t\t\t\t\t\t\t\t\thandleCurrentEventDelete\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p className=\"bt-empty-message\">\n\t\t\t\t\t\t\t\t\tNo events in the current\n\t\t\t\t\t\t\t\t\tchapter yet.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{activeTab === 'chapters' && (\n\t\t\t\t\t\t<div className=\"bt-chapters-tab-content\">\n\t\t\t\t\t\t\t{/* Tension Graph (if there are events) */}\n\t\t\t\t\t\t\t{allEvents.length > 0 && !editMode && (\n\t\t\t\t\t\t\t\t<div className=\"bt-tension-graph-section\">\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-chart-line\"></i>\n\t\t\t\t\t\t\t\t\t\tTension Over Time\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<TensionGraph\n\t\t\t\t\t\t\t\t\t\tevents={allEvents}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Chapter History */}\n\t\t\t\t\t\t\t<ChapterHistory\n\t\t\t\t\t\t\t\tchapters={displayChapters}\n\t\t\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\t\t\tonUpdate={handleChaptersUpdate}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{activeTab === 'relationships' && (\n\t\t\t\t\t\t<RelationshipsTab\n\t\t\t\t\t\t\trelationships={displayRelationships}\n\t\t\t\t\t\t\tpresentCharacters={presentCharacters}\n\t\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\t\tonUpdate={setEditRelationships}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>,\n\t\tdocument.body,\n\t);\n}\n","// ============================================\n// Tension Graph Component\n// ============================================\n\nimport React, { useState, useMemo, useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport type { TimestampedEvent, TensionLevel } from '../../types/state';\nimport { getTensionColor, getTensionValue, getTensionLevelIcon } from '../icons';\n\n// ============================================\n// Types\n// ============================================\n\ninterface TensionGraphProps {\n\tevents: TimestampedEvent[];\n\t/** If not provided, graph will fill its container */\n\twidth?: number;\n\t/** If not provided, defaults to 250 or fills container */\n\theight?: number;\n}\n\ninterface TooltipState {\n\tvisible: boolean;\n\tx: number;\n\ty: number;\n\tevent: TimestampedEvent | null;\n}\n\n// ============================================\n// Constants\n// ============================================\n\nconst PADDING = { top: 25, right: 20, bottom: 30, left: 50 };\nconst TENSION_LEVELS: TensionLevel[] = [\n\t'relaxed',\n\t'aware',\n\t'guarded',\n\t'tense',\n\t'charged',\n\t'volatile',\n\t'explosive',\n];\n\n// ============================================\n// Helpers\n// ============================================\n\n/**\n * Calculate the time span in minutes between first and last event.\n */\nfunction getTimeSpanMinutes(events: TimestampedEvent[]): number {\n\tif (events.length < 2) return 0;\n\tconst first = events[0].timestamp;\n\tconst last = events[events.length - 1].timestamp;\n\n\t// Convert to minutes since midnight for comparison\n\tconst firstMinutes = first.hour * 60 + first.minute;\n\tconst lastMinutes = last.hour * 60 + last.minute;\n\n\t// Handle day boundaries (simple approach - assume same day or next day)\n\tlet diff = lastMinutes - firstMinutes;\n\tif (diff < 0) diff += 24 * 60; // Crossed midnight\n\n\treturn diff;\n}\n\n/**\n * Format time based on span - show minutes if the span is short.\n */\nfunction formatTimeForSpan(event: TimestampedEvent, spanMinutes: number): string {\n\tconst dt = event.timestamp;\n\tconst hour12 = dt.hour % 12 || 12;\n\tconst ampm = dt.hour < 12 ? 'a' : 'p';\n\tconst minute = dt.minute.toString().padStart(2, '0');\n\n\t// If span is less than 2 hours, show minutes\n\tif (spanMinutes < 120) {\n\t\treturn `${hour12}:${minute}${ampm}`;\n\t}\n\t// If span is less than 6 hours, show minutes on the hour boundaries\n\tif (spanMinutes < 360) {\n\t\treturn dt.minute === 0 ? `${hour12}${ampm}` : `${hour12}:${minute}${ampm}`;\n\t}\n\t// Otherwise just show hour\n\treturn `${hour12}${ampm}`;\n}\n\n// ============================================\n// Component\n// ============================================\n\nexport function TensionGraph({ events, width: propWidth, height: propHeight }: TensionGraphProps) {\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\tconst [dimensions, setDimensions] = useState({\n\t\twidth: propWidth ?? 400,\n\t\theight: propHeight ?? 250,\n\t});\n\tconst [tooltip, setTooltip] = useState<TooltipState>({\n\t\tvisible: false,\n\t\tx: 0,\n\t\ty: 0,\n\t\tevent: null,\n\t});\n\n\t// Use ResizeObserver to track container size when no fixed dimensions provided\n\tuseEffect(() => {\n\t\tif (propWidth && propHeight) {\n\t\t\tsetDimensions({ width: propWidth, height: propHeight });\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = containerRef.current;\n\t\tif (!container) return;\n\n\t\tconst observer = new ResizeObserver(entries => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tconst { width, height } = entry.contentRect;\n\t\t\t\tif (width > 0 && height > 0) {\n\t\t\t\t\tsetDimensions({\n\t\t\t\t\t\twidth: propWidth ?? width,\n\t\t\t\t\t\theight: propHeight ?? Math.max(250, height),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(container);\n\t\treturn () => observer.disconnect();\n\t}, [propWidth, propHeight]);\n\n\tconst width = dimensions.width;\n\tconst height = dimensions.height;\n\n\t// Calculate dimensions\n\tconst graphWidth = width - PADDING.left - PADDING.right;\n\tconst graphHeight = height - PADDING.top - PADDING.bottom;\n\n\t// Calculate time span for smart formatting\n\tconst timeSpanMinutes = useMemo(() => getTimeSpanMinutes(events), [events]);\n\n\t// Generate points for the line\n\tconst points = useMemo(() => {\n\t\tif (events.length === 0) return [];\n\n\t\treturn events.map((event, index) => {\n\t\t\tconst x =\n\t\t\t\tPADDING.left +\n\t\t\t\t(index / Math.max(events.length - 1, 1)) * graphWidth;\n\t\t\tconst tensionValue = getTensionValue(event.tensionLevel);\n\t\t\tconst y =\n\t\t\t\tPADDING.top + graphHeight - ((tensionValue - 1) / 6) * graphHeight;\n\t\t\treturn { x, y, event };\n\t\t});\n\t}, [events, graphWidth, graphHeight]);\n\n\t// Generate path for the line\n\tconst linePath = useMemo(() => {\n\t\tif (points.length === 0) return '';\n\t\tif (points.length === 1) return '';\n\n\t\treturn points\n\t\t\t.map((point, i) => {\n\t\t\t\treturn `${i === 0 ? 'M' : 'L'} ${point.x} ${point.y}`;\n\t\t\t})\n\t\t\t.join(' ');\n\t}, [points]);\n\n\t// Handle mouse events - use viewport coordinates for portal positioning\n\tconst handlePointEnter = (point: (typeof points)[0], e: React.MouseEvent) => {\n\t\tsetTooltip({\n\t\t\tvisible: true,\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY - 10,\n\t\t\tevent: point.event,\n\t\t});\n\t};\n\n\tconst handlePointLeave = () => {\n\t\tsetTooltip(prev => ({ ...prev, visible: false }));\n\t};\n\n\tif (events.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"bt-tension-graph bt-empty\" ref={containerRef}>\n\t\t\t\t<p>No events to graph.</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"bt-tension-graph\" ref={containerRef}>\n\t\t\t<svg width={width} height={height} className=\"bt-tension-svg\">\n\t\t\t\t{/* Y-axis labels with icons */}\n\t\t\t\t{TENSION_LEVELS.map((level, i) => {\n\t\t\t\t\tconst y = PADDING.top + graphHeight - (i / 6) * graphHeight;\n\t\t\t\t\tconst iconClass = getTensionLevelIcon(level);\n\t\t\t\t\tconst color = getTensionColor(level);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<g key={level}>\n\t\t\t\t\t\t\t<line\n\t\t\t\t\t\t\t\tx1={PADDING.left - 5}\n\t\t\t\t\t\t\t\ty1={y}\n\t\t\t\t\t\t\t\tx2={PADDING.left}\n\t\t\t\t\t\t\t\ty2={y}\n\t\t\t\t\t\t\t\tstroke=\"#666\"\n\t\t\t\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/* Use foreignObject to render HTML icon */}\n\t\t\t\t\t\t\t<foreignObject\n\t\t\t\t\t\t\t\tx={PADDING.left - 40}\n\t\t\t\t\t\t\t\ty={y - 10}\n\t\t\t\t\t\t\t\twidth={35}\n\t\t\t\t\t\t\t\theight={20}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\tclassName={iconClass}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle={level}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t\t{/* Grid line */}\n\t\t\t\t\t\t\t<line\n\t\t\t\t\t\t\t\tx1={PADDING.left}\n\t\t\t\t\t\t\t\ty1={y}\n\t\t\t\t\t\t\t\tx2={width - PADDING.right}\n\t\t\t\t\t\t\t\ty2={y}\n\t\t\t\t\t\t\t\tstroke=\"#333\"\n\t\t\t\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t\t\t\t\tstrokeDasharray=\"2,2\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\t\t\t\t{/* X-axis */}\n\t\t\t\t<line\n\t\t\t\t\tx1={PADDING.left}\n\t\t\t\t\ty1={height - PADDING.bottom}\n\t\t\t\t\tx2={width - PADDING.right}\n\t\t\t\t\ty2={height - PADDING.bottom}\n\t\t\t\t\tstroke=\"#666\"\n\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t/>\n\n\t\t\t\t{/* Y-axis */}\n\t\t\t\t<line\n\t\t\t\t\tx1={PADDING.left}\n\t\t\t\t\ty1={PADDING.top}\n\t\t\t\t\tx2={PADDING.left}\n\t\t\t\t\ty2={height - PADDING.bottom}\n\t\t\t\t\tstroke=\"#666\"\n\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t/>\n\n\t\t\t\t{/* Line path */}\n\t\t\t\t{linePath && (\n\t\t\t\t\t<path\n\t\t\t\t\t\td={linePath}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"#888\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{/* Data points */}\n\t\t\t\t{points.map((point, i) => (\n\t\t\t\t\t<circle\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tcx={point.x}\n\t\t\t\t\t\tcy={point.y}\n\t\t\t\t\t\tr={6}\n\t\t\t\t\t\tfill={getTensionColor(point.event.tensionLevel)}\n\t\t\t\t\t\tstroke=\"#fff\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tclassName=\"bt-graph-point\"\n\t\t\t\t\t\tonMouseEnter={e => handlePointEnter(point, e)}\n\t\t\t\t\t\tonMouseLeave={handlePointLeave}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t\t{/* X-axis time labels (show first, middle, last) */}\n\t\t\t\t{events.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tx={PADDING.left}\n\t\t\t\t\t\t\ty={height - PADDING.bottom + 15}\n\t\t\t\t\t\t\ttextAnchor=\"start\"\n\t\t\t\t\t\t\tclassName=\"bt-graph-label\"\n\t\t\t\t\t\t\tfontSize={10}\n\t\t\t\t\t\t\tfill=\"#999\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatTimeForSpan(\n\t\t\t\t\t\t\t\tevents[0],\n\t\t\t\t\t\t\t\ttimeSpanMinutes,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t\t{events.length > 2 && (\n\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\tx={PADDING.left + graphWidth / 2}\n\t\t\t\t\t\t\t\ty={height - PADDING.bottom + 15}\n\t\t\t\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\t\t\t\tclassName=\"bt-graph-label\"\n\t\t\t\t\t\t\t\tfontSize={10}\n\t\t\t\t\t\t\t\tfill=\"#999\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formatTimeForSpan(\n\t\t\t\t\t\t\t\t\tevents[\n\t\t\t\t\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\t\t\t\t\tevents.length /\n\t\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\ttimeSpanMinutes,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{events.length > 1 && (\n\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\tx={width - PADDING.right}\n\t\t\t\t\t\t\t\ty={height - PADDING.bottom + 15}\n\t\t\t\t\t\t\t\ttextAnchor=\"end\"\n\t\t\t\t\t\t\t\tclassName=\"bt-graph-label\"\n\t\t\t\t\t\t\t\tfontSize={10}\n\t\t\t\t\t\t\t\tfill=\"#999\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formatTimeForSpan(\n\t\t\t\t\t\t\t\t\tevents[events.length - 1],\n\t\t\t\t\t\t\t\t\ttimeSpanMinutes,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</svg>\n\n\t\t\t{/* Tooltip - rendered via portal to escape overflow clipping */}\n\t\t\t{tooltip.visible &&\n\t\t\t\ttooltip.event &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"bt-graph-tooltip\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tleft: tooltip.x,\n\t\t\t\t\t\t\ttop: tooltip.y,\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -100%)',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"bt-tooltip-level\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: getTensionColor(\n\t\t\t\t\t\t\t\t\ttooltip.event.tensionLevel,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{tooltip.event.tensionLevel}{' '}\n\t\t\t\t\t\t\t{tooltip.event.tensionType}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-tooltip-summary\">\n\t\t\t\t\t\t\t{tooltip.event.summary}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>,\n\t\t\t\t\tdocument.body,\n\t\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport type { Character, Relationship, RelationshipStatus } from '@/types/state';\nimport { formatOutfit } from '../../formatters';\n\nexport interface CharacterCardProps {\n\tcharacter: Character;\n\trelationships?: Relationship[];\n}\n\nconst STATUS_COLORS: Record<RelationshipStatus, string> = {\n\tstrangers: '#6b7280',\n\tacquaintances: '#3b82f6',\n\tfriendly: '#22c55e',\n\tclose: '#f59e0b',\n\tintimate: '#ec4899',\n\tstrained: '#f97316',\n\thostile: '#ef4444',\n\tcomplicated: '#8b5cf6',\n};\n\nexport function CharacterCard({ character, relationships }: CharacterCardProps) {\n\tconst mood = character.mood?.join(', ') || 'unknown';\n\n\t// Filter relationships to those involving this character\n\tconst charRelationships =\n\t\trelationships?.filter(\n\t\t\tr => r.pair[0] === character.name || r.pair[1] === character.name,\n\t\t) ?? [];\n\n\treturn (\n\t\t<div className=\"bt-character\">\n\t\t\t<div className=\"bt-char-header\">\n\t\t\t\t<strong>{character.name}</strong>\n\t\t\t\t<span className=\"bt-char-mood\">{mood}</span>\n\t\t\t</div>\n\n\t\t\t<div className=\"bt-char-position\">\n\t\t\t\t<i className=\"fa-solid fa-location-crosshairs\" title=\"Position\"></i>\n\t\t\t\t<span>{character.position}</span>\n\t\t\t</div>\n\n\t\t\t<div className=\"bt-char-details\">\n\t\t\t\t{character.activity && (\n\t\t\t\t\t<div className=\"bt-char-row bt-char-activity\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName=\"fa-solid fa-person-walking\"\n\t\t\t\t\t\t\ttitle=\"Activity\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t\t<span>{character.activity}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{character.physicalState && character.physicalState.length > 0 && (\n\t\t\t\t\t<div className=\"bt-char-row bt-char-physical\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName=\"fa-solid fa-heart-pulse\"\n\t\t\t\t\t\t\ttitle=\"Physical state\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t\t<span>{character.physicalState.join(', ')}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{character.outfit && (\n\t\t\t\t\t<div className=\"bt-char-row bt-char-outfit\">\n\t\t\t\t\t\t<i className=\"fa-solid fa-shirt\" title=\"Outfit\"></i>\n\t\t\t\t\t\t<span>{formatOutfit(character.outfit)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{/* Relationship badges */}\n\t\t\t\t{charRelationships.length > 0 && (\n\t\t\t\t\t<div className=\"bt-char-relationships\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName=\"fa-solid fa-heart\"\n\t\t\t\t\t\t\ttitle=\"Relationships\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t\t<div className=\"bt-relationship-badges\">\n\t\t\t\t\t\t\t{charRelationships.map(rel => {\n\t\t\t\t\t\t\t\tconst otherChar =\n\t\t\t\t\t\t\t\t\trel.pair[0] ===\n\t\t\t\t\t\t\t\t\tcharacter.name\n\t\t\t\t\t\t\t\t\t\t? rel.pair[1]\n\t\t\t\t\t\t\t\t\t\t: rel.pair[0];\n\t\t\t\t\t\t\t\tconst attitude =\n\t\t\t\t\t\t\t\t\trel.pair[0] ===\n\t\t\t\t\t\t\t\t\tcharacter.name\n\t\t\t\t\t\t\t\t\t\t? rel.aToB\n\t\t\t\t\t\t\t\t\t\t: rel.bToA;\n\t\t\t\t\t\t\t\tconst feelings = attitude.feelings\n\t\t\t\t\t\t\t\t\t.slice(0, 2)\n\t\t\t\t\t\t\t\t\t.join(', ');\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tkey={otherChar}\n\t\t\t\t\t\t\t\t\t\tclassName=\"bt-relationship-badge\"\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tborderColor:\n\t\t\t\t\t\t\t\t\t\t\t\tSTATUS_COLORS[\n\t\t\t\t\t\t\t\t\t\t\t\t\trel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.status\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttitle={`${rel.status}${feelings ? `: ${feelings}` : ''}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-rel-name\">\n\t\t\t\t\t\t\t\t\t\t\t{otherChar}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bt-rel-status\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: STATUS_COLORS[\n\t\t\t\t\t\t\t\t\t\t\t\t\trel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.status\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{rel.status}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","// ============================================\n// Climate Display Component\n// ============================================\n\nimport React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport type { ProceduralClimate, Climate, DaylightPhase, BuildingType } from '@/types/state';\nimport { getConditionIcon, getWeatherIcon } from '@/ui/icons';\nimport { formatTemperature, type TemperatureUnit } from '@/utils/temperatures';\nimport { isLegacyClimate } from '@/weather';\n\n// ============================================\n// Types\n// ============================================\n\ninterface ClimateDisplayProps {\n\tclimate: ProceduralClimate | Climate;\n\ttemperatureUnit: TemperatureUnit;\n}\n\ninterface TooltipState {\n\tvisible: boolean;\n\tx: number;\n\ty: number;\n}\n\n// ============================================\n// Constants\n// ============================================\n\nconst DAYLIGHT_ICONS: Record<DaylightPhase, string> = {\n\tdawn: 'fa-sun-haze',\n\tday: 'fa-sun',\n\tdusk: 'fa-sunset',\n\tnight: 'fa-moon',\n};\n\nconst DAYLIGHT_LABELS: Record<DaylightPhase, string> = {\n\tdawn: 'Dawn',\n\tday: 'Daytime',\n\tdusk: 'Dusk',\n\tnight: 'Nighttime',\n};\n\nconst BUILDING_TYPE_LABELS: Record<BuildingType, string> = {\n\tmodern: 'Climate controlled',\n\theated: 'Heated building',\n\tunheated: 'Unheated structure',\n\tunderground: 'Underground',\n\ttent: 'Tent/minimal shelter',\n\tvehicle: 'Vehicle',\n};\n\n// ============================================\n// Helpers\n// ============================================\n\nfunction getWindDescription(speed: number): string {\n\tif (speed < 1) return 'Calm';\n\tif (speed < 8) return 'Light breeze';\n\tif (speed < 13) return 'Gentle breeze';\n\tif (speed < 19) return 'Moderate breeze';\n\tif (speed < 25) return 'Fresh breeze';\n\tif (speed < 32) return 'Strong breeze';\n\tif (speed < 39) return 'High wind';\n\tif (speed < 47) return 'Gale';\n\tif (speed < 55) return 'Strong gale';\n\treturn 'Storm force';\n}\n\nfunction getHumidityDescription(humidity: number): string {\n\tif (humidity < 30) return 'Very dry';\n\tif (humidity < 45) return 'Dry';\n\tif (humidity < 65) return 'Comfortable';\n\tif (humidity < 80) return 'Humid';\n\treturn 'Very humid';\n}\n\nfunction getUVDescription(uv: number): string {\n\tif (uv < 3) return 'Low';\n\tif (uv < 6) return 'Moderate';\n\tif (uv < 8) return 'High';\n\tif (uv < 11) return 'Very high';\n\treturn 'Extreme';\n}\n\n// ============================================\n// Component\n// ============================================\n\nexport function ClimateDisplay({ climate, temperatureUnit }: ClimateDisplayProps) {\n\tconst [tooltip, setTooltip] = useState<TooltipState>({\n\t\tvisible: false,\n\t\tx: 0,\n\t\ty: 0,\n\t});\n\n\tconst isLegacy = isLegacyClimate(climate);\n\tconst procedural = isLegacy ? null : (climate as ProceduralClimate);\n\n\t// Get condition icon\n\tconst conditionIcon = isLegacy\n\t\t? getWeatherIcon((climate as Climate).weather)\n\t\t: getConditionIcon((climate as ProceduralClimate).conditionType);\n\n\t// Get temperature to display\n\tconst displayTemp = climate.temperature;\n\n\t// Check if indoors\n\tconst isIndoors = procedural?.isIndoors ?? false;\n\n\t// Check if feels like is significantly different (>5F difference)\n\tconst feelsLikeDiff = procedural\n\t\t? Math.abs(procedural.feelsLike - procedural.outdoorTemperature)\n\t\t: 0;\n\tconst showFeelsLike = !isIndoors && feelsLikeDiff > 5;\n\n\t// Handle mouse events\n\tconst handleMouseEnter = (e: React.MouseEvent) => {\n\t\tsetTooltip({\n\t\t\tvisible: true,\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY - 10,\n\t\t});\n\t};\n\n\tconst handleMouseMove = (e: React.MouseEvent) => {\n\t\tsetTooltip(prev => ({\n\t\t\t...prev,\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY - 10,\n\t\t}));\n\t};\n\n\tconst handleMouseLeave = () => {\n\t\tsetTooltip(prev => ({ ...prev, visible: false }));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<span\n\t\t\t\tclassName=\"bt-climate\"\n\t\t\t\tonMouseEnter={handleMouseEnter}\n\t\t\t\tonMouseMove={handleMouseMove}\n\t\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\t>\n\t\t\t\t{/* Condition icon */}\n\t\t\t\t<i className={`fa-solid ${conditionIcon}`}></i>\n\n\t\t\t\t{/* Temperature */}\n\t\t\t\t{displayTemp !== undefined && (\n\t\t\t\t\t<span className=\"bt-climate-temp\">\n\t\t\t\t\t\t{formatTemperature(displayTemp, temperatureUnit)}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\n\t\t\t\t{/* Indoor indicator */}\n\t\t\t\t{isIndoors && (\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-house bt-climate-indoor\"\n\t\t\t\t\t\ttitle=\"Indoors\"\n\t\t\t\t\t></i>\n\t\t\t\t)}\n\n\t\t\t\t{/* Feels like indicator (when significantly different outdoors) */}\n\t\t\t\t{showFeelsLike && procedural && (\n\t\t\t\t\t<span className=\"bt-climate-feels\">\n\t\t\t\t\t\t<i className=\"fa-solid fa-temperature-half\"></i>\n\t\t\t\t\t\t<span className=\"bt-feels-value\">\n\t\t\t\t\t\t\t{formatTemperature(\n\t\t\t\t\t\t\t\tprocedural.feelsLike,\n\t\t\t\t\t\t\t\ttemperatureUnit,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\n\t\t\t\t{/* Wind indicator (when notable) */}\n\t\t\t\t{procedural && procedural.windSpeed >= 15 && !isIndoors && (\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-wind bt-climate-wind\"\n\t\t\t\t\t\ttitle={`${Math.round(procedural.windSpeed)} mph ${procedural.windDirection}`}\n\t\t\t\t\t></i>\n\t\t\t\t)}\n\n\t\t\t\t{/* Humidity indicator (when high) */}\n\t\t\t\t{procedural && procedural.humidity >= 75 && !isIndoors && (\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-droplet bt-climate-humidity\"\n\t\t\t\t\t\ttitle={`${Math.round(procedural.humidity)}% humidity`}\n\t\t\t\t\t></i>\n\t\t\t\t)}\n\t\t\t</span>\n\n\t\t\t{/* Detailed tooltip */}\n\t\t\t{tooltip.visible &&\n\t\t\t\tprocedural &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"bt-climate-tooltip\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tleft: tooltip.x,\n\t\t\t\t\t\t\ttop: tooltip.y,\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -100%)',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* Conditions */}\n\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row bt-climate-conditions\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName={`fa-solid ${conditionIcon}`}\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t<span>{procedural.conditions}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Daylight */}\n\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName={`fa-solid ${DAYLIGHT_ICONS[procedural.daylight]}`}\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tDAYLIGHT_LABELS[\n\t\t\t\t\t\t\t\t\t\tprocedural.daylight\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Temperatures section */}\n\t\t\t\t\t\t<div className=\"bt-climate-tooltip-section\">\n\t\t\t\t\t\t\t{isIndoors &&\n\t\t\t\t\t\t\t\tprocedural.indoorTemperature !==\n\t\t\t\t\t\t\t\t\tundefined && (\n\t\t\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-house\"></i>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\tIndoor:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{formatTemperature(\n\t\t\t\t\t\t\t\t\t\t\t\tprocedural.indoorTemperature,\n\t\t\t\t\t\t\t\t\t\t\t\ttemperatureUnit,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{procedural.buildingType && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-climate-building\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBUILDING_TYPE_LABELS[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocedural\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.buildingType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-tree\"></i>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tOutdoor:{' '}\n\t\t\t\t\t\t\t\t\t{formatTemperature(\n\t\t\t\t\t\t\t\t\t\tprocedural.outdoorTemperature,\n\t\t\t\t\t\t\t\t\t\ttemperatureUnit,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{feelsLikeDiff > 2 && (\n\t\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-temperature-half\"></i>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\tFeels like:{' '}\n\t\t\t\t\t\t\t\t\t\t{formatTemperature(\n\t\t\t\t\t\t\t\t\t\t\tprocedural.feelsLike,\n\t\t\t\t\t\t\t\t\t\t\ttemperatureUnit,\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Atmospheric section */}\n\t\t\t\t\t\t<div className=\"bt-climate-tooltip-section\">\n\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-droplet\"></i>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{Math.round(\n\t\t\t\t\t\t\t\t\t\tprocedural.humidity,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t% humidity (\n\t\t\t\t\t\t\t\t\t{getHumidityDescription(\n\t\t\t\t\t\t\t\t\t\tprocedural.humidity,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-wind\"></i>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{getWindDescription(\n\t\t\t\t\t\t\t\t\t\tprocedural.windSpeed,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{procedural.windSpeed >=\n\t\t\t\t\t\t\t\t\t\t5 && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t{Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\tprocedural.windSpeed,\n\t\t\t\t\t\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t\t\t\t\t\tmph{' '}\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tprocedural.windDirection\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{procedural.daylight === 'day' &&\n\t\t\t\t\t\t\t\tprocedural.uvIndex > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"bt-climate-tooltip-row\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-sun\"></i>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\tUV Index:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tprocedural.uvIndex\n\t\t\t\t\t\t\t\t\t\t\t}{' '}\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t{getUVDescription(\n\t\t\t\t\t\t\t\t\t\t\t\tprocedural.uvIndex,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>,\n\t\t\t\t\tdocument.body,\n\t\t\t\t)}\n\t\t</>\n\t);\n}\n","import React from 'react';\n\nexport interface LoadingIndicatorProps {\n\tstepLabel: string;\n}\n\nexport function LoadingIndicator({ stepLabel }: LoadingIndicatorProps) {\n\treturn (\n\t\t<div className=\"bt-state-container bt-extracting\">\n\t\t\t<div className=\"bt-loading-indicator\">\n\t\t\t\t<i className=\"fa-solid fa-fire fa-beat-fade\"></i>\n\t\t\t\t<span>{stepLabel}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport type { Scene } from '@/types/state';\nimport {\n\tTENSION_LEVEL_ICONS,\n\tTENSION_DIRECTION_ICONS,\n\tTENSION_TYPE_ICONS,\n\tgetTensionTypeColor,\n\tgetTensionColor,\n} from '../../icons';\n\nexport interface SceneDisplayProps {\n\tscene: Scene;\n\tonMoreInfoClick?: () => void;\n}\n\nexport function SceneDisplay({ scene, onMoreInfoClick }: SceneDisplayProps) {\n\tconst { tension } = scene;\n\tconst typeColor = getTensionTypeColor(tension.type);\n\tconst levelColor = getTensionColor(tension.level);\n\n\t// Direction colors\n\tconst directionColors: Record<string, string> = {\n\t\tescalating: '#ef4444', // red\n\t\tstable: '#6b7280', // gray\n\t\tdecreasing: '#22c55e', // green\n\t};\n\tconst directionColor = directionColors[tension.direction] || '#6b7280';\n\n\treturn (\n\t\t<div className=\"bt-scene\">\n\t\t\t<div className=\"bt-scene-header\">\n\t\t\t\t<span className=\"bt-scene-topic\">{scene.topic}</span>\n\t\t\t\t<span className=\"bt-scene-tone\">{scene.tone}</span>\n\t\t\t\t{onMoreInfoClick && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"bt-more-info-btn\"\n\t\t\t\t\t\tonClick={onMoreInfoClick}\n\t\t\t\t\t\ttitle=\"View narrative overview\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-book-open\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"bt-scene-tension\">\n\t\t\t\t<span className=\"bt-tension-type\" title={tension.type}>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`fa-solid ${TENSION_TYPE_ICONS[tension.type]}`}\n\t\t\t\t\t\tstyle={{ color: typeColor }}\n\t\t\t\t\t></i>\n\t\t\t\t\t{tension.type}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"bt-tension-level\" title={tension.level}>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`fa-solid ${TENSION_LEVEL_ICONS[tension.level]}`}\n\t\t\t\t\t\tstyle={{ color: levelColor }}\n\t\t\t\t\t></i>\n\t\t\t\t\t{tension.level}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"bt-tension-direction\" title={tension.direction}>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`fa-solid ${TENSION_DIRECTION_ICONS[tension.direction]}`}\n\t\t\t\t\t\tstyle={{ color: directionColor }}\n\t\t\t\t\t></i>\n\t\t\t\t\t{tension.direction}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export { SceneDisplay, type SceneDisplayProps } from './SceneDisplay';\nexport { CharacterCard, type CharacterCardProps } from './CharacterCard';\nexport { LoadingIndicator, type LoadingIndicatorProps } from './LoadingIndicator';\nexport { ClimateDisplay } from './ClimateDisplay';\n","import React from 'react';\n\nexport interface CheckboxFieldProps {\n\tid: string;\n\tlabel: string;\n\tdescription: string;\n\tchecked: boolean;\n\tonChange: (checked: boolean) => void;\n}\n\nexport function CheckboxField({ id, label, description, checked, onChange }: CheckboxFieldProps) {\n\treturn (\n\t\t<div className=\"flex-container flexFlowColumn\">\n\t\t\t<label className=\"checkbox_label\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid={id}\n\t\t\t\t\tchecked={checked}\n\t\t\t\t\tonChange={e => onChange(e.target.checked)}\n\t\t\t\t/>\n\t\t\t\t<span>{label}</span>\n\t\t\t</label>\n\t\t\t<small>{description}</small>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport interface NumberFieldProps {\n\tid: string;\n\tlabel: string;\n\tdescription: string;\n\tvalue: number;\n\tmin: number;\n\tmax: number;\n\tstep: number;\n\tonChange: (value: number) => void;\n}\n\nexport function NumberField({\n\tid,\n\tlabel,\n\tdescription,\n\tvalue,\n\tmin,\n\tmax,\n\tstep,\n\tonChange,\n}: NumberFieldProps) {\n\treturn (\n\t\t<div className=\"flex-container flexFlowColumn\">\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t\t<small>{description}</small>\n\t\t\t<input\n\t\t\t\ttype=\"number\"\n\t\t\t\tid={id}\n\t\t\t\tclassName=\"text_pole\"\n\t\t\t\tmin={min}\n\t\t\t\tmax={max}\n\t\t\t\tstep={step}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={e => onChange(parseInt(e.target.value) || min)}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport type { CharacterOutfit } from '@/types/state';\nimport { OUTFIT_SLOTS } from '../../constants';\n\nexport interface OutfitEditorProps {\n\toutfit: CharacterOutfit;\n\tonChange: (outfit: CharacterOutfit) => void;\n}\n\n/** Outfit editor with nullable slots */\nexport function OutfitEditor({ outfit, onChange }: OutfitEditorProps) {\n\tconst update = (slot: keyof CharacterOutfit, value: string | null) => {\n\t\tonChange({ ...outfit, [slot]: value || null });\n\t};\n\n\treturn (\n\t\t<div className=\"bt-outfit-grid\">\n\t\t\t{OUTFIT_SLOTS.map(slot => (\n\t\t\t\t<div key={slot} className=\"bt-outfit-slot\">\n\t\t\t\t\t<label>{slot}</label>\n\t\t\t\t\t<div className=\"bt-outfit-row\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={outfit[slot] || ''}\n\t\t\t\t\t\t\tonChange={e => update(slot, e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"None\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{outfit[slot] && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => update(slot, null)}\n\t\t\t\t\t\t\t\tclassName=\"bt-x\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t&times;\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport interface SelectFieldProps {\n\tid: string;\n\tlabel: string;\n\tdescription: string;\n\tvalue: string;\n\toptions: Array<{ value: string; label: string }>;\n\tonChange: (value: string) => void;\n}\n\nexport function SelectField({\n\tid,\n\tlabel,\n\tdescription,\n\tvalue,\n\toptions,\n\tonChange,\n}: SelectFieldProps) {\n\treturn (\n\t\t<div className=\"flex-container flexFlowColumn\">\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t\t<small>{description}</small>\n\t\t\t<select\n\t\t\t\tid={id}\n\t\t\t\tclassName=\"text_pole\"\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={e => onChange(e.target.value)}\n\t\t\t>\n\t\t\t\t{options.map(opt => (\n\t\t\t\t\t<option key={opt.value} value={opt.value}>\n\t\t\t\t\t\t{opt.label}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\n\nexport interface TagInputProps {\n\ttags: string[];\n\tonChange: (tags: string[]) => void;\n\tplaceholder?: string;\n}\n\n/** Tag input for arrays of strings (mood, physicalState, etc.) */\nexport function TagInput({ tags, onChange, placeholder = 'Add...' }: TagInputProps) {\n\tconst [input, setInput] = useState('');\n\n\tconst addTag = () => {\n\t\tconst trimmed = input.trim();\n\t\tif (trimmed && !tags.includes(trimmed)) {\n\t\t\tonChange([...tags, trimmed]);\n\t\t\tsetInput('');\n\t\t}\n\t};\n\n\tconst removeTag = (tag: string) => {\n\t\tonChange(tags.filter(t => t !== tag));\n\t};\n\n\treturn (\n\t\t<div className=\"bt-tag-input\">\n\t\t\t<div className=\"bt-tags\">\n\t\t\t\t{tags.map(tag => (\n\t\t\t\t\t<span key={tag} className=\"bt-tag\">\n\t\t\t\t\t\t{tag}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => removeTag(tag)}\n\t\t\t\t\t\t\tclassName=\"bt-tag-x\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t&times;\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className=\"bt-tag-add\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={e => setInput(e.target.value)}\n\t\t\t\t\tonKeyDown={e =>\n\t\t\t\t\t\te.key === 'Enter' && (e.preventDefault(), addTag())\n\t\t\t\t\t}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t/>\n\t\t\t\t<button type=\"button\" onClick={addTag}>\n\t\t\t\t\t+\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export { SelectField, type SelectFieldProps } from './SelectField';\nexport { NumberField, type NumberFieldProps } from './NumberField';\nexport { CheckboxField, type CheckboxFieldProps } from './CheckboxField';\nexport { TagInput, type TagInputProps } from './TagInput';\nexport { OutfitEditor, type OutfitEditorProps } from './OutfitEditor';\n","// ============================================\n// Shared UI Constants\n// ============================================\n\nimport type {\n\tTensionLevel,\n\tTensionType,\n\tTensionDirection,\n\tClimate,\n\tWeatherCondition,\n\tBuildingType,\n} from '../types/state';\n\n/**\n * Month names for display.\n */\nexport const MONTH_NAMES = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n] as const;\n\n/**\n * Days of the week.\n */\nexport const DAYS_OF_WEEK = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday',\n] as const;\n\n/**\n * Valid weather options (legacy).\n */\nexport const WEATHER_OPTIONS: readonly Climate['weather'][] = [\n\t'sunny',\n\t'cloudy',\n\t'rainy',\n\t'snowy',\n\t'windy',\n\t'thunderstorm',\n] as const;\n\n/**\n * Weather condition options (procedural system).\n */\nexport const WEATHER_CONDITIONS: readonly WeatherCondition[] = [\n\t'clear',\n\t'sunny',\n\t'partly_cloudy',\n\t'overcast',\n\t'foggy',\n\t'drizzle',\n\t'rain',\n\t'heavy_rain',\n\t'thunderstorm',\n\t'sleet',\n\t'snow',\n\t'heavy_snow',\n\t'blizzard',\n\t'windy',\n\t'hot',\n\t'cold',\n\t'humid',\n] as const;\n\n/**\n * Weather condition display names.\n */\nexport const WEATHER_CONDITION_LABELS: Record<WeatherCondition, string> = {\n\tclear: 'Clear',\n\tsunny: 'Sunny',\n\tpartly_cloudy: 'Partly Cloudy',\n\tovercast: 'Overcast',\n\tfoggy: 'Foggy',\n\tdrizzle: 'Drizzle',\n\train: 'Rain',\n\theavy_rain: 'Heavy Rain',\n\tthunderstorm: 'Thunderstorm',\n\tsleet: 'Sleet',\n\tsnow: 'Snow',\n\theavy_snow: 'Heavy Snow',\n\tblizzard: 'Blizzard',\n\twindy: 'Windy',\n\thot: 'Hot',\n\tcold: 'Cold',\n\thumid: 'Humid',\n};\n\n/**\n * Building types for indoor temperature.\n */\nexport const BUILDING_TYPES: readonly BuildingType[] = [\n\t'modern',\n\t'heated',\n\t'unheated',\n\t'underground',\n\t'tent',\n\t'vehicle',\n] as const;\n\n/**\n * Building type display names.\n */\nexport const BUILDING_TYPE_LABELS: Record<BuildingType, string> = {\n\tmodern: 'Modern (HVAC)',\n\theated: 'Heated (Fireplace)',\n\tunheated: 'Unheated (Barn/Warehouse)',\n\tunderground: 'Underground (Cave/Basement)',\n\ttent: 'Tent',\n\tvehicle: 'Vehicle',\n};\n\n/**\n * Tension levels in ascending order.\n */\nexport const TENSION_LEVELS: readonly TensionLevel[] = [\n\t'relaxed',\n\t'aware',\n\t'guarded',\n\t'tense',\n\t'charged',\n\t'volatile',\n\t'explosive',\n] as const;\n\n/**\n * Tension types.\n */\nexport const TENSION_TYPES: readonly TensionType[] = [\n\t'confrontation',\n\t'intimate',\n\t'vulnerable',\n\t'celebratory',\n\t'negotiation',\n\t'suspense',\n\t'conversation',\n] as const;\n\n/**\n * Tension directions.\n */\nexport const TENSION_DIRECTIONS: readonly TensionDirection[] = [\n\t'escalating',\n\t'stable',\n\t'decreasing',\n] as const;\n\n/**\n * Outfit slots in order.\n */\nexport const OUTFIT_SLOTS = [\n\t'head',\n\t'neck',\n\t'jacket',\n\t'back',\n\t'torso',\n\t'legs',\n\t'underwear',\n\t'socks',\n\t'footwear',\n] as const;\n\nexport type OutfitSlot = (typeof OUTFIT_SLOTS)[number];\n","// ============================================\n// Shared UI Formatters\n// ============================================\n\nimport type { NarrativeDateTime, LocationState, CharacterOutfit } from '../types/state';\nimport { MONTH_NAMES } from './constants';\nimport { applyTimeFormat, type TimeFormat } from '../utils/timeFormat';\n\n/**\n * Format a narrative datetime for display.\n */\nexport function formatTime(time: NarrativeDateTime, timeFormat: TimeFormat = '24h'): string {\n\tconst month = MONTH_NAMES[time.month - 1];\n\t// \"Mon, Jan 15 2024, 14:30\"\n\treturn `${time.dayOfWeek.slice(0, 3)}, ${month} ${time.day} ${time.year}, ${applyTimeFormat(time.hour, time.minute, timeFormat)}`;\n}\n\n/**\n * Format a location for display.\n */\nexport function formatLocation(location: LocationState): string {\n\tconst parts = [location.position, location.place, location.area];\n\treturn parts.filter(Boolean).join(' \\u00B7 ');\n}\n\n/**\n * Format an outfit for display.\n */\nexport function formatOutfit(outfit: CharacterOutfit): string {\n\tconst outfitParts = [\n\t\toutfit.torso || 'topless',\n\t\toutfit.legs || 'bottomless',\n\t\toutfit.underwear || 'no underwear',\n\t\toutfit.head || null,\n\t\toutfit.neck || null,\n\t\toutfit.jacket || null,\n\t\toutfit.back || null,\n\t\toutfit.footwear || null,\n\t];\n\treturn outfitParts.filter((v: string | null) => v !== null).join(', ');\n}\n\n/**\n * Capitalize the first letter of a string.\n */\nexport function capitalize(str: string): string {\n\tif (!str) return str;\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n","// ============================================\n// UI Icons and Colors for BlazeTracker\n// ============================================\n\nimport type {\n\tTensionType,\n\tTensionLevel,\n\tTensionDirection,\n\tClimate,\n\tEventType,\n\tWeatherCondition,\n} from '../types/state';\n\n/**\n * Font Awesome icons for tension types.\n */\nexport const TENSION_TYPE_ICONS: Record<TensionType, string> = {\n\tconversation: 'fa-comments',\n\tconfrontation: 'fa-burst',\n\tintimate: 'fa-heart',\n\tsuspense: 'fa-clock',\n\tvulnerable: 'fa-shield-halved',\n\tcelebratory: 'fa-champagne-glasses',\n\tnegotiation: 'fa-handshake',\n};\n\n/**\n * Font Awesome icons for tension levels.\n */\nexport const TENSION_LEVEL_ICONS: Record<TensionLevel, string> = {\n\trelaxed: 'fa-mug-hot',\n\taware: 'fa-eye',\n\tguarded: 'fa-shield-halved',\n\ttense: 'fa-face-grimace',\n\tcharged: 'fa-bolt',\n\tvolatile: 'fa-fire',\n\texplosive: 'fa-explosion',\n};\n\n/**\n * Font Awesome icons for tension directions.\n */\nexport const TENSION_DIRECTION_ICONS: Record<TensionDirection, string> = {\n\tescalating: 'fa-arrow-trend-up',\n\tstable: 'fa-grip-lines',\n\tdecreasing: 'fa-arrow-trend-down',\n};\n\n/**\n * Font Awesome icons for weather types.\n */\nexport const WEATHER_ICONS: Record<Climate['weather'], string> = {\n\tsunny: 'fa-sun',\n\tcloudy: 'fa-cloud',\n\tsnowy: 'fa-snowflake',\n\trainy: 'fa-cloud-rain',\n\twindy: 'fa-wind',\n\tthunderstorm: 'fa-cloud-bolt',\n};\n\n/**\n * Get the weather icon for a weather type.\n */\nexport function getWeatherIcon(weather: string): string {\n\treturn WEATHER_ICONS[weather as Climate['weather']] ?? 'fa-question';\n}\n\n/**\n * Font Awesome icons for procedural weather conditions.\n */\nexport const CONDITION_ICONS: Record<WeatherCondition, string> = {\n\tclear: 'fa-moon',\n\tsunny: 'fa-sun',\n\tpartly_cloudy: 'fa-cloud-sun',\n\tovercast: 'fa-cloud',\n\tfoggy: 'fa-smog',\n\tdrizzle: 'fa-cloud-rain',\n\train: 'fa-cloud-showers-heavy',\n\theavy_rain: 'fa-cloud-showers-water',\n\tthunderstorm: 'fa-cloud-bolt',\n\tsleet: 'fa-cloud-meatball',\n\tsnow: 'fa-snowflake',\n\theavy_snow: 'fa-snowflake',\n\tblizzard: 'fa-icicles',\n\twindy: 'fa-wind',\n\thot: 'fa-temperature-high',\n\tcold: 'fa-temperature-low',\n\thumid: 'fa-droplet',\n};\n\n/**\n * Get the icon for a procedural weather condition.\n */\nexport function getConditionIcon(condition: WeatherCondition): string {\n\treturn CONDITION_ICONS[condition] ?? 'fa-question';\n}\n\n/**\n * Colors for tension types.\n */\nexport const TENSION_TYPE_COLORS: Record<TensionType, string> = {\n\tconversation: '#6b7280', // gray-500\n\tconfrontation: '#ef4444', // red-500\n\tintimate: '#ec4899', // pink-500\n\tsuspense: '#8b5cf6', // violet-500\n\tvulnerable: '#06b6d4', // cyan-500\n\tcelebratory: '#eab308', // yellow-500\n\tnegotiation: '#f97316', // orange-500\n};\n\n/**\n * Colors for tension levels.\n */\nexport const TENSION_LEVEL_COLORS: Record<TensionLevel, string> = {\n\trelaxed: '#6b7280', // gray-500\n\taware: '#3b82f6', // blue-500\n\tguarded: '#22c55e', // green-500\n\ttense: '#f59e0b', // amber-500\n\tcharged: '#f97316', // orange-500\n\tvolatile: '#ef4444', // red-500\n\texplosive: '#dc2626', // red-600\n};\n\n/**\n * Get the icon class for a tension type.\n */\nexport function getTensionIcon(type: TensionType): string {\n\treturn `fa-solid ${TENSION_TYPE_ICONS[type] || 'fa-circle'}`;\n}\n\n/**\n * Get the icon class for a tension level.\n */\nexport function getTensionLevelIcon(level: TensionLevel): string {\n\treturn `fa-solid ${TENSION_LEVEL_ICONS[level] || 'fa-circle'}`;\n}\n\n/**\n * Get the color for a tension type.\n */\nexport function getTensionTypeColor(type: TensionType): string {\n\treturn TENSION_TYPE_COLORS[type] || '#6b7280';\n}\n\n/**\n * Get the color for a tension level.\n */\nexport function getTensionColor(level: TensionLevel): string {\n\treturn TENSION_LEVEL_COLORS[level] || '#6b7280';\n}\n\n/**\n * Numeric value for tension level (for graphing).\n */\nexport const TENSION_LEVEL_VALUES: Record<TensionLevel, number> = {\n\trelaxed: 1,\n\taware: 2,\n\tguarded: 3,\n\ttense: 4,\n\tcharged: 5,\n\tvolatile: 6,\n\texplosive: 7,\n};\n\n/**\n * Get numeric value for a tension level.\n */\nexport function getTensionValue(level: TensionLevel): number {\n\treturn TENSION_LEVEL_VALUES[level] || 1;\n}\n\n// ============================================\n// Event Type Icons and Colors\n// ============================================\n\n/**\n * Font Awesome icons for event types.\n */\nexport const EVENT_TYPE_ICONS: Record<EventType, string> = {\n\t// Conversation\n\tconversation: 'fa-comments',\n\tconfession: 'fa-heart-circle-exclamation',\n\targument: 'fa-comment-slash',\n\tnegotiation: 'fa-handshake',\n\n\t// Discovery\n\tdiscovery: 'fa-lightbulb',\n\tsecret_shared: 'fa-user-secret',\n\tsecret_revealed: 'fa-mask',\n\n\t// Emotional\n\temotional: 'fa-face-smile-beam',\n\tsupportive: 'fa-hand-holding-heart',\n\trejection: 'fa-hand',\n\tcomfort: 'fa-hands-holding',\n\tapology: 'fa-hands-praying',\n\tforgiveness: 'fa-dove',\n\n\t// Bonding\n\tlaugh: 'fa-face-laugh-beam',\n\tgift: 'fa-gift',\n\tcompliment: 'fa-face-grin-stars',\n\ttease: 'fa-face-grin-tongue',\n\tflirt: 'fa-face-grin-wink',\n\tdate: 'fa-champagne-glasses',\n\ti_love_you: 'fa-heart-circle-check',\n\tsleepover: 'fa-bed',\n\tshared_meal: 'fa-utensils',\n\tshared_activity: 'fa-gamepad',\n\n\t// Romantic Intimacy\n\tintimate_touch: 'fa-hand-holding-hand',\n\tintimate_kiss: 'fa-face-kiss-wink-heart',\n\tintimate_embrace: 'fa-people-pulling',\n\tintimate_heated: 'fa-fire',\n\n\t// Sexual Activity\n\tintimate_foreplay: 'fa-fire-flame-curved',\n\tintimate_oral: 'fa-face-kiss-beam',\n\tintimate_manual: 'fa-hand-sparkles',\n\tintimate_penetrative: 'fa-heart',\n\tintimate_climax: 'fa-star',\n\n\t// Action\n\taction: 'fa-person-running',\n\tcombat: 'fa-hand-fist',\n\tdanger: 'fa-skull',\n\n\t// Commitment\n\tdecision: 'fa-scale-balanced',\n\tpromise: 'fa-handshake-angle',\n\tbetrayal: 'fa-face-angry',\n\tlied: 'fa-face-grimace',\n\n\t// Life Events\n\texclusivity: 'fa-lock',\n\tmarriage: 'fa-ring',\n\tpregnancy: 'fa-baby',\n\tchildbirth: 'fa-baby-carriage',\n\n\t// Social\n\tsocial: 'fa-users',\n\tachievement: 'fa-trophy',\n};\n\n/**\n * Colors for event types.\n */\nexport const EVENT_TYPE_COLORS: Record<EventType, string> = {\n\t// Conversation - grays/blues\n\tconversation: '#6b7280',\n\tconfession: '#ec4899',\n\targument: '#ef4444',\n\tnegotiation: '#f59e0b',\n\n\t// Discovery - yellows\n\tdiscovery: '#eab308',\n\tsecret_shared: '#8b5cf6',\n\tsecret_revealed: '#a855f7',\n\n\t// Emotional - cyans\n\temotional: '#06b6d4',\n\tsupportive: '#22d3ee',\n\trejection: '#f43f5e',\n\tcomfort: '#14b8a6', // teal-500\n\tapology: '#a78bfa', // violet-400\n\tforgiveness: '#34d399', // emerald-400\n\n\t// Bonding - warm greens and oranges\n\tlaugh: '#facc15', // yellow-400\n\tgift: '#f472b6', // pink-400\n\tcompliment: '#fbbf24', // amber-400\n\ttease: '#fb923c', // orange-400\n\tflirt: '#f87171', // red-400\n\tdate: '#a78bfa', // violet-400\n\ti_love_you: '#f43f5e', // rose-500\n\tsleepover: '#818cf8', // indigo-400\n\tshared_meal: '#4ade80', // green-400\n\tshared_activity: '#60a5fa', // blue-400\n\n\t// Romantic Intimacy - pinks\n\tintimate_touch: '#fda4af',\n\tintimate_kiss: '#fb7185',\n\tintimate_embrace: '#f472b6',\n\tintimate_heated: '#ec4899',\n\n\t// Sexual Activity - deeper pinks/magentas\n\tintimate_foreplay: '#db2777',\n\tintimate_oral: '#be185d',\n\tintimate_manual: '#9d174d',\n\tintimate_penetrative: '#831843',\n\tintimate_climax: '#701a75',\n\n\t// Action - blues/reds\n\taction: '#3b82f6',\n\tcombat: '#dc2626',\n\tdanger: '#991b1b',\n\n\t// Commitment - purples/oranges\n\tdecision: '#8b5cf6',\n\tpromise: '#22c55e',\n\tbetrayal: '#b91c1c',\n\tlied: '#f97316', // orange-500\n\n\t// Life Events - golds/teals\n\texclusivity: '#0d9488', // teal-600\n\tmarriage: '#d97706', // amber-600\n\tpregnancy: '#ec4899', // pink-500\n\tchildbirth: '#8b5cf6', // violet-500\n\n\t// Social - greens\n\tsocial: '#22c55e',\n\tachievement: '#f59e0b',\n};\n\n/**\n * Priority order for selecting \"primary\" icon when multiple types.\n * Higher priority items appear first.\n */\nexport const EVENT_TYPE_PRIORITY: readonly EventType[] = [\n\t// Life events take highest priority (rare, significant)\n\t'childbirth',\n\t'marriage',\n\t'pregnancy',\n\t'exclusivity',\n\t// Sexual activity takes visual priority (highest intensity first)\n\t'intimate_climax',\n\t'intimate_penetrative',\n\t'intimate_oral',\n\t'intimate_manual',\n\t'intimate_foreplay',\n\t// Then romantic intimacy\n\t'intimate_heated',\n\t'intimate_kiss',\n\t'intimate_embrace',\n\t'intimate_touch',\n\t// Then high-drama events\n\t'combat',\n\t'danger',\n\t'betrayal',\n\t'confession',\n\t'argument',\n\t// Then emotional/discovery\n\t'emotional',\n\t'comfort',\n\t'apology',\n\t'forgiveness',\n\t'secret_revealed',\n\t'secret_shared',\n\t'discovery',\n\t// Then decisions\n\t'decision',\n\t'promise',\n\t'rejection',\n\t// Then bonding/social\n\t'i_love_you',\n\t'date',\n\t'sleepover',\n\t'gift',\n\t'laugh',\n\t'compliment',\n\t'flirt',\n\t'tease',\n\t'shared_meal',\n\t'shared_activity',\n\t// Then social/support\n\t'supportive',\n\t'achievement',\n\t'social',\n\t'negotiation',\n\t// Default\n\t'conversation',\n\t'action',\n];\n\n/**\n * Get the primary event type from an array of types based on priority.\n */\nexport function getPrimaryEventType(types: EventType[]): EventType {\n\tfor (const priority of EVENT_TYPE_PRIORITY) {\n\t\tif (types.includes(priority)) return priority;\n\t}\n\treturn types[0] || 'conversation';\n}\n\n/**\n * Get the icon class for an event type.\n */\nexport function getEventTypeIcon(type: EventType): string {\n\treturn `fa-solid ${EVENT_TYPE_ICONS[type] || 'fa-circle'}`;\n}\n\n/**\n * Get the color for an event type.\n */\nexport function getEventTypeColor(type: EventType): string {\n\treturn EVENT_TYPE_COLORS[type] || '#6b7280';\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport {\n\tsettingsManager,\n\ttype BlazeTrackerSettings,\n\tupdateSetting,\n\tgetSettings,\n} from '../settings';\nimport { renderAllStates } from './stateDisplay';\nimport {\n\tgetAllPromptDefinitions,\n\ttype PromptKey,\n\ttype PromptDefinition,\n} from '../extractors/prompts';\nimport { SelectField, NumberField, CheckboxField } from './components/form';\n\n// ============================================\n// Types\n// ============================================\n\ninterface ConnectionProfile {\n\tid: string;\n\tname?: string;\n}\n\n// ============================================\n// Prompt Editor Component\n// ============================================\n\ninterface PromptEditorProps {\n\tdefinition: PromptDefinition;\n\tcustomPrompts: Record<string, string>;\n\tcustomTemperatures: Record<string, number>;\n\tonSave: (key: PromptKey, value: string | null) => void;\n\tonSaveTemperature: (key: PromptKey, value: number | null) => void;\n}\n\nfunction PromptEditor({\n\tdefinition,\n\tcustomPrompts,\n\tcustomTemperatures,\n\tonSave,\n\tonSaveTemperature,\n}: PromptEditorProps) {\n\tconst [isEditing, setIsEditing] = useState(false);\n\tconst [editValue, setEditValue] = useState('');\n\tconst [editTemperature, setEditTemperature] = useState(definition.defaultTemperature);\n\n\t// Defensive: customTemperatures may be undefined for existing users\n\tconst temps = customTemperatures ?? {};\n\tconst isPromptCustomized = !!customPrompts[definition.key];\n\tconst isTemperatureCustomized = definition.key in temps;\n\tconst currentTemperature = temps[definition.key] ?? definition.defaultTemperature;\n\n\tconst handleEdit = () => {\n\t\tsetEditValue(customPrompts[definition.key] || definition.default);\n\t\tsetEditTemperature(currentTemperature);\n\t\tsetIsEditing(true);\n\t};\n\n\tconst handleSave = () => {\n\t\t// If unchanged from default, remove customization\n\t\tif (editValue.trim() === definition.default.trim()) {\n\t\t\tonSave(definition.key, null);\n\t\t} else {\n\t\t\tonSave(definition.key, editValue);\n\t\t}\n\n\t\t// Same for temperature\n\t\tif (editTemperature === definition.defaultTemperature) {\n\t\t\tonSaveTemperature(definition.key, null);\n\t\t} else {\n\t\t\tonSaveTemperature(definition.key, editTemperature);\n\t\t}\n\n\t\tsetIsEditing(false);\n\t};\n\n\tconst handleReset = () => {\n\t\tonSave(definition.key, null);\n\t\tonSaveTemperature(definition.key, null);\n\t\tsetIsEditing(false);\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsEditing(false);\n\t};\n\n\tconst handleTemperatureInput = (value: string) => {\n\t\tconst num = parseFloat(value);\n\t\tif (!isNaN(num)) {\n\t\t\tsetEditTemperature(Math.max(0, Math.min(2, num)));\n\t\t}\n\t};\n\n\tif (isEditing) {\n\t\treturn (\n\t\t\t<div className=\"bt-prompt-editor\">\n\t\t\t\t<div className=\"bt-prompt-editor-header\">\n\t\t\t\t\t<strong>{definition.name}</strong>\n\t\t\t\t\t<span className=\"bt-prompt-description\">\n\t\t\t\t\t\t{definition.description}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"bt-temperature-control\">\n\t\t\t\t\t<label className=\"bt-temperature-label\">\n\t\t\t\t\t\t<span>Temperature:</span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tclassName=\"bt-temperature-slider\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"2\"\n\t\t\t\t\t\t\tstep=\"0.05\"\n\t\t\t\t\t\t\tvalue={editTemperature}\n\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\tsetEditTemperature(\n\t\t\t\t\t\t\t\t\tparseFloat(e.target.value),\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"bt-temperature-input\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"2\"\n\t\t\t\t\t\t\tstep=\"0.05\"\n\t\t\t\t\t\t\tvalue={editTemperature}\n\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\thandleTemperatureInput(\n\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span className=\"bt-temperature-default\">\n\t\t\t\t\t\t\t(default: {definition.defaultTemperature})\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"bt-prompt-placeholders\">\n\t\t\t\t\t<strong>Available placeholders:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{definition.placeholders.map(p => (\n\t\t\t\t\t\t\t<li key={p.name}>\n\t\t\t\t\t\t\t\t<code>{p.name}</code> {' '}\n\t\t\t\t\t\t\t\t{p.description}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"text_pole bt-prompt-textarea\"\n\t\t\t\t\tvalue={editValue}\n\t\t\t\t\tonChange={e => setEditValue(e.target.value)}\n\t\t\t\t\trows={15}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"bt-prompt-actions\">\n\t\t\t\t\t<button className=\"menu_button\" onClick={handleSave}>\n\t\t\t\t\t\t<i className=\"fa-solid fa-check\"></i> Save\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"menu_button\" onClick={handleReset}>\n\t\t\t\t\t\t<i className=\"fa-solid fa-rotate-left\"></i> Reset to\n\t\t\t\t\t\tDefault\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"menu_button\" onClick={handleCancel}>\n\t\t\t\t\t\t<i className=\"fa-solid fa-xmark\"></i> Cancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"bt-prompt-item\" onClick={handleEdit}>\n\t\t\t<div className=\"bt-prompt-item-header\">\n\t\t\t\t<span className=\"bt-prompt-name\">{definition.name}</span>\n\t\t\t\t<div className=\"bt-prompt-badges\">\n\t\t\t\t\t{isTemperatureCustomized && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"bt-prompt-temperature-badge\"\n\t\t\t\t\t\t\ttitle={`Custom temperature: ${currentTemperature}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-temperature-half\"></i>{' '}\n\t\t\t\t\t\t\t{currentTemperature}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{isPromptCustomized && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"bt-prompt-customized\"\n\t\t\t\t\t\t\ttitle=\"Custom prompt\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-pen\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<small className=\"bt-prompt-description\">{definition.description}</small>\n\t\t</div>\n\t);\n}\n\n// ============================================\n// Prompts Section Component\n// ============================================\n\ninterface PromptsSectionProps {\n\tcustomPrompts: Record<string, string>;\n\tcustomTemperatures: Record<string, number>;\n\tonUpdatePrompt: (key: PromptKey, value: string | null) => void;\n\tonUpdateTemperature: (key: PromptKey, value: number | null) => void;\n}\n\nfunction PromptsSection({\n\tcustomPrompts,\n\tcustomTemperatures,\n\tonUpdatePrompt,\n\tonUpdateTemperature,\n}: PromptsSectionProps) {\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst definitions = getAllPromptDefinitions();\n\n\treturn (\n\t\t<div className=\"bt-prompts-section\">\n\t\t\t<div\n\t\t\t\tclassName=\"bt-prompts-header\"\n\t\t\t\tonClick={() => setIsExpanded(!isExpanded)}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`fa-solid ${isExpanded ? 'fa-chevron-down' : 'fa-chevron-right'}`}\n\t\t\t\t\t></i>{' '}\n\t\t\t\t\tCustom Prompts\n\t\t\t\t</span>\n\t\t\t\t<small>Click to customize extraction prompts</small>\n\t\t\t</div>\n\n\t\t\t{isExpanded && (\n\t\t\t\t<div className=\"bt-prompts-list\">\n\t\t\t\t\t{definitions.map(def => (\n\t\t\t\t\t\t<PromptEditor\n\t\t\t\t\t\t\tkey={def.key}\n\t\t\t\t\t\t\tdefinition={def}\n\t\t\t\t\t\t\tcustomPrompts={customPrompts}\n\t\t\t\t\t\t\tcustomTemperatures={customTemperatures}\n\t\t\t\t\t\t\tonSave={onUpdatePrompt}\n\t\t\t\t\t\t\tonSaveTemperature={onUpdateTemperature}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\n// ============================================\n// Extraction Toggles Section\n// ============================================\n\n// Keys that are boolean toggles in extraction settings\ntype BooleanSettingKey =\n\t| 'trackTime'\n\t| 'trackLocation'\n\t| 'trackClimate'\n\t| 'trackCharacters'\n\t| 'trackScene'\n\t| 'useProceduralWeather'\n\t| 'injectWeatherTransitions';\n// Keys that are numeric settings in extraction settings\ntype NumericSettingKey = 'leapThresholdMinutes';\n\ninterface ExtractionTogglesSectionProps {\n\tsettings: BlazeTrackerSettings;\n\tonToggle: (key: BooleanSettingKey, value: boolean) => void;\n\tonNumericChange: (key: NumericSettingKey, value: number) => void;\n}\n\nfunction ExtractionTogglesSection({\n\tsettings,\n\tonToggle,\n\tonNumericChange,\n}: ExtractionTogglesSectionProps) {\n\treturn (\n\t\t<div className=\"bt-extraction-toggles\">\n\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t<strong>Extraction Types</strong>\n\t\t\t\t<small>Enable or disable specific extraction modules</small>\n\t\t\t</div>\n\n\t\t\t<CheckboxField\n\t\t\t\tid=\"blazetracker-tracktime\"\n\t\t\t\tlabel=\"Time Tracking\"\n\t\t\t\tdescription=\"Extract and track narrative date/time\"\n\t\t\t\tchecked={settings.trackTime}\n\t\t\t\tonChange={checked => onToggle('trackTime', checked)}\n\t\t\t/>\n\n\t\t\t{settings.trackTime && (\n\t\t\t\t<div className=\"bt-nested-setting\">\n\t\t\t\t\t<NumberField\n\t\t\t\t\t\tid=\"blazetracker-leapthreshold\"\n\t\t\t\t\t\tlabel=\"Leap Threshold (minutes)\"\n\t\t\t\t\t\tdescription=\"Cap consecutive time jumps to prevent 'double sleep' issues\"\n\t\t\t\t\t\tvalue={settings.leapThresholdMinutes}\n\t\t\t\t\t\tmin={5}\n\t\t\t\t\t\tmax={1440}\n\t\t\t\t\t\tstep={5}\n\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\tonNumericChange('leapThresholdMinutes', v)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<CheckboxField\n\t\t\t\tid=\"blazetracker-tracklocation\"\n\t\t\t\tlabel=\"Location Tracking\"\n\t\t\t\tdescription=\"Extract area, place, position, and nearby props\"\n\t\t\t\tchecked={settings.trackLocation}\n\t\t\t\tonChange={checked => onToggle('trackLocation', checked)}\n\t\t\t/>\n\n\t\t\t<CheckboxField\n\t\t\t\tid=\"blazetracker-trackclimate\"\n\t\t\t\tlabel=\"Climate Tracking\"\n\t\t\t\tdescription=\"Extract weather and temperature conditions\"\n\t\t\t\tchecked={settings.trackClimate}\n\t\t\t\tonChange={checked => onToggle('trackClimate', checked)}\n\t\t\t/>\n\n\t\t\t{settings.trackClimate && (\n\t\t\t\t<div className=\"bt-nested-setting\">\n\t\t\t\t\t<CheckboxField\n\t\t\t\t\t\tid=\"blazetracker-proceduralweather\"\n\t\t\t\t\t\tlabel=\"Procedural Weather\"\n\t\t\t\t\t\tdescription=\"Use procedural forecast generation instead of LLM extraction\"\n\t\t\t\t\t\tchecked={settings.useProceduralWeather}\n\t\t\t\t\t\tonChange={checked =>\n\t\t\t\t\t\t\tonToggle(\n\t\t\t\t\t\t\t\t'useProceduralWeather' as BooleanSettingKey,\n\t\t\t\t\t\t\t\tchecked,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{settings.useProceduralWeather && (\n\t\t\t\t\t\t<div className=\"bt-nested-setting\">\n\t\t\t\t\t\t\t<CheckboxField\n\t\t\t\t\t\t\t\tid=\"blazetracker-weathertransitions\"\n\t\t\t\t\t\t\t\tlabel=\"Weather Transitions\"\n\t\t\t\t\t\t\t\tdescription=\"Inject transition notes when weather changes significantly\"\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tsettings.injectWeatherTransitions\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={checked =>\n\t\t\t\t\t\t\t\t\tonToggle(\n\t\t\t\t\t\t\t\t\t\t'injectWeatherTransitions' as BooleanSettingKey,\n\t\t\t\t\t\t\t\t\t\tchecked,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<CheckboxField\n\t\t\t\tid=\"blazetracker-trackcharacters\"\n\t\t\t\tlabel=\"Character Tracking\"\n\t\t\t\tdescription=\"Extract character positions, moods, outfits, and dispositions\"\n\t\t\t\tchecked={settings.trackCharacters}\n\t\t\t\tonChange={checked => onToggle('trackCharacters', checked)}\n\t\t\t/>\n\n\t\t\t<CheckboxField\n\t\t\t\tid=\"blazetracker-trackscene\"\n\t\t\t\tlabel=\"Scene Tracking\"\n\t\t\t\tdescription=\"Extract scene topic, tone, tension, and recent events\"\n\t\t\t\tchecked={settings.trackScene}\n\t\t\t\tonChange={checked => onToggle('trackScene', checked)}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\n// ============================================\n// Main Settings Panel Component\n// ============================================\n\nfunction SettingsPanel() {\n\tconst [settings, setSettings] = useState<BlazeTrackerSettings>(getSettings);\n\tconst [profiles, setProfiles] = useState<ConnectionProfile[]>([]);\n\n\t// Load connection profiles\n\tuseEffect(() => {\n\t\tconst context = SillyTavern.getContext();\n\t\tconst connectionManager = context.extensionSettings?.connectionManager as\n\t\t\t| {\n\t\t\t\t\tprofiles?: ConnectionProfile[];\n\t\t\t  }\n\t\t\t| undefined;\n\t\tsetProfiles(connectionManager?.profiles || []);\n\t}, []);\n\n\tconst handleUpdate = useCallback(\n\t\t<K extends keyof BlazeTrackerSettings>(key: K, value: BlazeTrackerSettings[K]) => {\n\t\t\tupdateSetting(key, value);\n\t\t\tsetSettings(prev => ({ ...prev, [key]: value }));\n\t\t},\n\t\t[],\n\t);\n\n\tconst handlePositionChange = useCallback(\n\t\t(value: string) => {\n\t\t\thandleUpdate('displayPosition', value as 'above' | 'below');\n\t\t\tdocument.querySelectorAll('.bt-state-root').forEach(el => el.remove());\n\t\t\tsetTimeout(() => renderAllStates(), 200);\n\t\t},\n\t\t[handleUpdate],\n\t);\n\n\t// Handler for boolean extraction toggles\n\tconst handleExtractionToggle = useCallback(\n\t\t(key: BooleanSettingKey, value: boolean) => {\n\t\t\thandleUpdate(key, value);\n\t\t\tsetTimeout(() => renderAllStates(), 100);\n\t\t},\n\t\t[handleUpdate],\n\t);\n\n\t// Handler for numeric extraction settings\n\tconst handleExtractionNumericChange = useCallback(\n\t\t(key: NumericSettingKey, value: number) => {\n\t\t\thandleUpdate(key, value);\n\t\t},\n\t\t[handleUpdate],\n\t);\n\n\tconst handleTempUnitChange = useCallback(\n\t\t(value: string) => {\n\t\t\thandleUpdate('temperatureUnit', value as 'fahrenheit' | 'celsius');\n\t\t\tsetTimeout(() => renderAllStates(), 100);\n\t\t},\n\t\t[handleUpdate],\n\t);\n\n\tconst handleTimeFormatChange = useCallback(\n\t\t(value: string) => {\n\t\t\thandleUpdate('timeFormat', value as '12h' | '24h');\n\t\t\tsetTimeout(() => renderAllStates(), 100);\n\t\t},\n\t\t[handleUpdate],\n\t);\n\n\tconst handlePromptUpdate = useCallback(\n\t\t(key: PromptKey, value: string | null) => {\n\t\t\tconst newCustomPrompts = { ...(settings.customPrompts ?? {}) };\n\t\t\tif (value === null) {\n\t\t\t\tdelete newCustomPrompts[key];\n\t\t\t} else {\n\t\t\t\tnewCustomPrompts[key] = value;\n\t\t\t}\n\t\t\thandleUpdate('customPrompts', newCustomPrompts);\n\t\t},\n\t\t[settings.customPrompts, handleUpdate],\n\t);\n\n\tconst handleTemperatureUpdate = useCallback(\n\t\t(key: PromptKey, value: number | null) => {\n\t\t\tconst newCustomTemperatures = { ...(settings.customTemperatures ?? {}) };\n\t\t\tif (value === null) {\n\t\t\t\tdelete newCustomTemperatures[key];\n\t\t\t} else {\n\t\t\t\tnewCustomTemperatures[key] = value;\n\t\t\t}\n\t\t\thandleUpdate('customTemperatures', newCustomTemperatures);\n\t\t},\n\t\t[settings.customTemperatures, handleUpdate],\n\t);\n\n\treturn (\n\t\t<div className=\"blazetracker-settings-content\">\n\t\t\t{/* Connection Profile */}\n\t\t\t<div className=\"flex-container flexFlowColumn\">\n\t\t\t\t<label htmlFor=\"blazetracker-profile\">Connection Profile</label>\n\t\t\t\t<small>\n\t\t\t\t\tSelect which API connection to use for state extraction\n\t\t\t\t</small>\n\t\t\t\t<select\n\t\t\t\t\tid=\"blazetracker-profile\"\n\t\t\t\t\tclassName=\"text_pole\"\n\t\t\t\t\tvalue={settings.profileId}\n\t\t\t\t\tonChange={e => handleUpdate('profileId', e.target.value)}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">-- Select a profile --</option>\n\t\t\t\t\t{profiles.map(profile => (\n\t\t\t\t\t\t<option key={profile.id} value={profile.id}>\n\t\t\t\t\t\t\t{profile.name || profile.id}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<hr />\n\n\t\t\t{/* Auto Mode */}\n\t\t\t<SelectField\n\t\t\t\tid=\"blazetracker-automode\"\n\t\t\t\tlabel=\"Auto Mode\"\n\t\t\t\tdescription=\"When to automatically extract state\"\n\t\t\t\tvalue={settings.autoMode}\n\t\t\t\toptions={[\n\t\t\t\t\t{ value: 'none', label: 'None (manual only)' },\n\t\t\t\t\t{ value: 'responses', label: 'AI responses only' },\n\t\t\t\t\t{ value: 'inputs', label: 'User messages only' },\n\t\t\t\t\t{ value: 'both', label: 'Both' },\n\t\t\t\t]}\n\t\t\t\tonChange={v =>\n\t\t\t\t\thandleUpdate(\n\t\t\t\t\t\t'autoMode',\n\t\t\t\t\t\tv as BlazeTrackerSettings['autoMode'],\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Max Messages */}\n\t\t\t<NumberField\n\t\t\t\tid=\"blazetracker-lastx\"\n\t\t\t\tlabel=\"Max Messages to Include\"\n\t\t\t\tdescription=\"Max. number of recent messages to send for extraction context\"\n\t\t\t\tvalue={settings.lastXMessages}\n\t\t\t\tmin={1}\n\t\t\t\tmax={50}\n\t\t\t\tstep={1}\n\t\t\t\tonChange={v => handleUpdate('lastXMessages', v)}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Max Tokens */}\n\t\t\t<NumberField\n\t\t\t\tid=\"blazetracker-maxtokens\"\n\t\t\t\tlabel=\"Max Response Tokens\"\n\t\t\t\tdescription=\"Maximum tokens for extraction response\"\n\t\t\t\tvalue={settings.maxResponseTokens}\n\t\t\t\tmin={500}\n\t\t\t\tmax={8000}\n\t\t\t\tstep={100}\n\t\t\t\tonChange={v => handleUpdate('maxResponseTokens', v)}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Display Position */}\n\t\t\t<SelectField\n\t\t\t\tid=\"blazetracker-position\"\n\t\t\t\tlabel=\"State Display Position\"\n\t\t\t\tdescription=\"Show state block above or below the message\"\n\t\t\t\tvalue={settings.displayPosition}\n\t\t\t\toptions={[\n\t\t\t\t\t{ value: 'below', label: 'Below message' },\n\t\t\t\t\t{ value: 'above', label: 'Above message' },\n\t\t\t\t]}\n\t\t\t\tonChange={handlePositionChange}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Extraction Toggles Section */}\n\t\t\t<ExtractionTogglesSection\n\t\t\t\tsettings={settings}\n\t\t\t\tonToggle={handleExtractionToggle}\n\t\t\t\tonNumericChange={handleExtractionNumericChange}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Temperature Unit */}\n\t\t\t<SelectField\n\t\t\t\tid=\"blazetracker-tempunit\"\n\t\t\t\tlabel=\"Temperature Unit\"\n\t\t\t\tdescription=\"Display temperatures in Fahrenheit or Celsius\"\n\t\t\t\tvalue={settings.temperatureUnit}\n\t\t\t\toptions={[\n\t\t\t\t\t{ value: 'fahrenheit', label: 'Fahrenheit (F)' },\n\t\t\t\t\t{ value: 'celsius', label: 'Celsius (C)' },\n\t\t\t\t]}\n\t\t\t\tonChange={handleTempUnitChange}\n\t\t\t/>\n\n\t\t\t{/* Time Format */}\n\t\t\t<SelectField\n\t\t\t\tid=\"blazetracker-timeformat\"\n\t\t\t\tlabel=\"Time Format\"\n\t\t\t\tdescription=\"Display time in 12-hour or 24-hour format\"\n\t\t\t\tvalue={settings.timeFormat}\n\t\t\t\toptions={[\n\t\t\t\t\t{ value: '24h', label: '24-hour (14:30)' },\n\t\t\t\t\t{ value: '12h', label: '12-hour (2:30 PM)' },\n\t\t\t\t]}\n\t\t\t\tonChange={handleTimeFormatChange}\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{/* Custom Prompts */}\n\t\t\t<PromptsSection\n\t\t\t\tcustomPrompts={settings.customPrompts}\n\t\t\t\tcustomTemperatures={settings.customTemperatures}\n\t\t\t\tonUpdatePrompt={handlePromptUpdate}\n\t\t\t\tonUpdateTemperature={handleTemperatureUpdate}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\n// ============================================\n// Initialization\n// ============================================\n\nlet settingsRoot: ReactDOM.Root | null = null;\n\nfunction injectSettingsStyles() {\n\tif (document.getElementById('blazetracker-settings-styles')) return;\n\n\tconst link = document.createElement('link');\n\tlink.id = 'blazetracker-settings-styles';\n\tlink.rel = 'stylesheet';\n\tlink.href = new URL('./settings.css', import.meta.url).href;\n\tdocument.head.appendChild(link);\n}\n\nexport async function initSettingsUI() {\n\tconst settingsContainer = document.getElementById('extensions_settings');\n\tif (!settingsContainer) {\n\t\tconsole.error('[BlazeTracker] Extension settings container not found.');\n\t\treturn;\n\t}\n\n\t// Inject styles\n\tinjectSettingsStyles();\n\n\t// Initialize settings\n\tawait settingsManager.initializeSettings();\n\n\t// Create wrapper with drawer structure\n\tconst panel = document.createElement('div');\n\tpanel.id = 'blazetracker-settings';\n\tpanel.className = 'extension_container';\n\tpanel.innerHTML = `\n    <div class=\"inline-drawer\">\n      <div class=\"inline-drawer-toggle inline-drawer-header\">\n        <b> BlazeTracker</b>\n        <div class=\"inline-drawer-icon fa-solid fa-circle-chevron-down down\"></div>\n      </div>\n      <div class=\"inline-drawer-content\">\n        <div id=\"blazetracker-settings-root\"></div>\n      </div>\n    </div>\n  `;\n\n\tsettingsContainer.appendChild(panel);\n\n\t// Mount React component\n\tconst root = document.getElementById('blazetracker-settings-root');\n\tif (root) {\n\t\tsettingsRoot = ReactDOM.createRoot(root);\n\t\tsettingsRoot.render(<SettingsPanel />);\n\t}\n}\n\nexport function unmountSettingsUI() {\n\tif (settingsRoot) {\n\t\tsettingsRoot.unmount();\n\t\tsettingsRoot = null;\n\t}\n}\n","import React, { useState, useCallback } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport type {\n\tTrackedState,\n\tStoredStateData,\n\tNarrativeState,\n\tTimestampedEvent,\n} from '../types/state';\nimport type { STContext } from '../types/st';\nimport { st_echo } from 'sillytavern-utils-lib/config';\nimport { extractState, updateSubsequentMessagesEvents } from '../extractors/extractState';\nimport {\n\tonExtractionProgress,\n\tgetStepLabel,\n\ttype ExtractionStep,\n\ttype ExtractionProgress,\n} from '../extractors/extractionProgress';\nimport { getMessageState, setMessageState } from '../utils/messageState';\nimport { openStateEditor } from './stateEditor';\nimport { updateInjectionFromChat } from '../injectors/injectState';\nimport { getSettings } from '../settings';\nimport { resetTimeTracker, setTimeTrackerState } from '../extractors/extractTime';\nimport { EXTENSION_NAME } from '../constants';\nimport { formatTime, formatLocation } from './formatters';\nimport {\n\tSceneDisplay,\n\tCharacterCard,\n\tLoadingIndicator,\n\tClimateDisplay,\n} from './components/display';\nimport { EventList } from './components/EventList';\nimport { NarrativeModal, type DeletedEventInfo } from './components/NarrativeModal';\nimport { getNarrativeState, saveNarrativeState } from '../state/narrativeState';\nimport {\n\tclearAllMilestonesForMessage,\n\tgetRelationshipsAtMessage,\n} from '../state/relationships';\n\n// Track React roots so we can unmount/update them\nconst roots = new Map<number, ReactDOM.Root>();\n\n// Track ongoing extractions - exported so index.ts can check\nexport const extractionInProgress = new Set<number>();\n\n// Track manual extraction in progress (prevents auto-extraction during manual)\nlet manualExtractionInProgress = false;\n\n// Track current extraction step for UI updates\nlet currentExtractionStep: ExtractionStep = 'idle';\nlet currentExtractionMessageId: number | null = null;\n\n/**\n * Check if a manual extraction is currently in progress.\n */\nexport function isManualExtractionInProgress(): boolean {\n\treturn manualExtractionInProgress;\n}\n\n/**\n * Set the manual extraction flag.\n */\nexport function setManualExtractionInProgress(value: boolean): void {\n\tmanualExtractionInProgress = value;\n}\n\n// --- React Components ---\n\ninterface StateDisplayProps {\n\tstateData: StoredStateData | null;\n\tnarrativeState: NarrativeState | null;\n\tmessageId: number;\n\tisExtracting?: boolean;\n\textractionStep?: ExtractionStep;\n}\n\nfunction StateDisplay({\n\tstateData,\n\tnarrativeState,\n\tmessageId,\n\tisExtracting,\n\textractionStep,\n}: StateDisplayProps) {\n\tconst [showModal, setShowModal] = useState(false);\n\n\tconst handleOpenModal = useCallback(() => {\n\t\tsetShowModal(true);\n\t}, []);\n\n\tconst handleCloseModal = useCallback(() => {\n\t\tsetShowModal(false);\n\t}, []);\n\n\t// Handle saving narrative state from the modal\n\tconst handleNarrativeSave = useCallback(\n\t\tasync (\n\t\t\tupdatedState: NarrativeState,\n\t\t\tdeletedEvents: DeletedEventInfo[],\n\t\t\tupdatedCurrentEvents?: TimestampedEvent[],\n\t\t) => {\n\t\t\tconst context = SillyTavern.getContext() as STContext;\n\n\t\t\t// Save the narrative state\n\t\t\tawait saveNarrativeState(updatedState);\n\n\t\t\t// Sync deleted events: remove from affected messages' currentEvents\n\t\t\tif (deletedEvents.length > 0 || updatedCurrentEvents) {\n\t\t\t\t// Group deletions by messageId\n\t\t\t\tconst deletionsByMessage = new Map<number, Set<string>>();\n\t\t\t\tfor (const del of deletedEvents) {\n\t\t\t\t\tif (!deletionsByMessage.has(del.messageId)) {\n\t\t\t\t\t\tdeletionsByMessage.set(del.messageId, new Set());\n\t\t\t\t\t}\n\t\t\t\t\tdeletionsByMessage.get(del.messageId)!.add(del.summary);\n\t\t\t\t}\n\n\t\t\t\t// Update each affected message\n\t\t\t\tfor (const [messageId, deletedSummaries] of deletionsByMessage) {\n\t\t\t\t\tconst message = context.chat[messageId];\n\t\t\t\t\tif (!message) continue;\n\n\t\t\t\t\tconst msgStateData = getMessageState(message);\n\t\t\t\t\tif (!msgStateData?.state.currentEvents) continue;\n\n\t\t\t\t\t// Filter out deleted events\n\t\t\t\t\tmsgStateData.state.currentEvents =\n\t\t\t\t\t\tmsgStateData.state.currentEvents.filter(\n\t\t\t\t\t\t\tevent =>\n\t\t\t\t\t\t\t\t!deletedSummaries.has(\n\t\t\t\t\t\t\t\t\tevent.summary,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\tsetMessageState(message, msgStateData);\n\t\t\t\t}\n\n\t\t\t\t// If we have updated current events, update the most recent message\n\t\t\t\tif (updatedCurrentEvents && context.chat.length > 0) {\n\t\t\t\t\t// Find the most recent message that has state\n\t\t\t\t\tfor (let i = context.chat.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst message = context.chat[i];\n\t\t\t\t\t\tconst msgStateData = getMessageState(message);\n\t\t\t\t\t\tif (msgStateData?.state) {\n\t\t\t\t\t\t\tmsgStateData.state.currentEvents =\n\t\t\t\t\t\t\t\tupdatedCurrentEvents;\n\t\t\t\t\t\t\tsetMessageState(message, msgStateData);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tawait context.saveChat();\n\t\t\t}\n\n\t\t\t// Re-render all states to reflect the changes\n\t\t\trenderAllStates();\n\t\t},\n\t\t[],\n\t);\n\n\t// Show loading state while extracting\n\tif (isExtracting) {\n\t\tconst stepLabel = extractionStep ? getStepLabel(extractionStep) : 'Extracting...';\n\t\treturn <LoadingIndicator stepLabel={stepLabel} />;\n\t}\n\n\tif (!stateData) {\n\t\treturn null;\n\t}\n\n\tconst { state } = stateData;\n\tconst settings = getSettings();\n\n\t// Determine what to show based on settings AND data availability\n\tconst showTime = settings.trackTime !== false && state.time;\n\tconst showLocation = settings.trackLocation !== false && state.location;\n\tconst showClimate = settings.trackClimate !== false && state.climate;\n\tconst showScene = settings.trackScene !== false && state.scene;\n\tconst showCharacters =\n\t\tsettings.trackCharacters !== false &&\n\t\tstate.characters &&\n\t\tstate.characters.length > 0;\n\n\t// If nothing to show, render nothing\n\tconst hasAnythingToShow =\n\t\tshowTime || showLocation || showClimate || showScene || showCharacters;\n\tif (!hasAnythingToShow) {\n\t\treturn null;\n\t}\n\n\t// Calculate details summary\n\tconst characterCount = state.characters?.length ?? 0;\n\tconst propsCount = state.location?.props?.length ?? 0;\n\tconst showDetails =\n\t\t(showCharacters && characterCount > 0) || (showLocation && propsCount > 0);\n\n\t// Get relationships for character cards, versioned to this message's time\n\tconst allRelationships = narrativeState?.relationships ?? [];\n\tconst relationships = getRelationshipsAtMessage(allRelationships, messageId);\n\n\t// Get current events for display\n\tconst currentEvents = state.currentEvents ?? [];\n\tconst showEvents = currentEvents.length > 0;\n\n\t// Get present character names for context\n\tconst presentCharacters = state.characters?.map(c => c.name) ?? [];\n\n\t// Check if narrative modal should be available (has chapters or relationships)\n\tconst hasNarrativeContent =\n\t\tnarrativeState &&\n\t\t(narrativeState.chapters.length > 0 || narrativeState.relationships.length > 0);\n\n\treturn (\n\t\t<div className=\"bt-state-container\">\n\t\t\t{/* Time/Weather/Location row - only show if at least one is enabled */}\n\t\t\t{(showTime || showClimate || showLocation) && (\n\t\t\t\t<div className=\"bt-state-summary\">\n\t\t\t\t\t{showTime && state.time && (\n\t\t\t\t\t\t<span className=\"bt-time\">\n\t\t\t\t\t\t\t<i className=\"fa-regular fa-clock\"></i>{' '}\n\t\t\t\t\t\t\t{formatTime(\n\t\t\t\t\t\t\t\tstate.time,\n\t\t\t\t\t\t\t\tsettings.timeFormat,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{showClimate && state.climate && (\n\t\t\t\t\t\t<ClimateDisplay\n\t\t\t\t\t\t\tclimate={state.climate}\n\t\t\t\t\t\t\ttemperatureUnit={settings.temperatureUnit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{showLocation && state.location && (\n\t\t\t\t\t\t<span className=\"bt-location\">\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-location-dot\"></i>{' '}\n\t\t\t\t\t\t\t{formatLocation(state.location)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Scene summary */}\n\t\t\t{showScene && state.scene ? (\n\t\t\t\t<SceneDisplay\n\t\t\t\t\tscene={state.scene}\n\t\t\t\t\tonMoreInfoClick={\n\t\t\t\t\t\thasNarrativeContent ? handleOpenModal : undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : showScene && !state.scene ? (\n\t\t\t\t<div className=\"bt-scene-pending\">\n\t\t\t\t\t<i className=\"fa-solid fa-hourglass-half\"></i>\n\t\t\t\t\t<span>\n\t\t\t\t\t\tScene analysis will happen after first character\n\t\t\t\t\t\tresponse\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{/* Current Events OR Chapter Ended Summary (same slot) */}\n\t\t\t{state.chapterEnded ? (\n\t\t\t\t<div className=\"bt-current-events\">\n\t\t\t\t\t<div className=\"bt-chapter-ended\">\n\t\t\t\t\t\t<div className=\"bt-chapter-ended-header\">\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-book\"></i>\n\t\t\t\t\t\t\t<span className=\"bt-chapter-ended-title\">\n\t\t\t\t\t\t\t\tChapter {state.chapterEnded.index + 1}:{' '}\n\t\t\t\t\t\t\t\t{state.chapterEnded.title}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"bt-chapter-ended-badge\">\n\t\t\t\t\t\t\t\t{state.chapterEnded.reason ===\n\t\t\t\t\t\t\t\t\t'location_change' &&\n\t\t\t\t\t\t\t\t\t'Location changed'}\n\t\t\t\t\t\t\t\t{state.chapterEnded.reason ===\n\t\t\t\t\t\t\t\t\t'time_jump' && 'Time skip'}\n\t\t\t\t\t\t\t\t{state.chapterEnded.reason === 'both' &&\n\t\t\t\t\t\t\t\t\t'Location + Time'}\n\t\t\t\t\t\t\t\t{state.chapterEnded.reason === 'manual' &&\n\t\t\t\t\t\t\t\t\t'Manual'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-chapter-ended-summary\">\n\t\t\t\t\t\t\t{state.chapterEnded.summary}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-chapter-ended-stats\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{state.chapterEnded.eventCount} events\n\t\t\t\t\t\t\t\tarchived\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : showEvents ? (\n\t\t\t\t<div className=\"bt-current-events\">\n\t\t\t\t\t<EventList\n\t\t\t\t\t\tevents={currentEvents.slice(-3)}\n\t\t\t\t\t\tpresentCharacters={presentCharacters}\n\t\t\t\t\t\tmaxEvents={3}\n\t\t\t\t\t/>\n\t\t\t\t\t{currentEvents.length > 3 && hasNarrativeContent && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bt-view-all-events\"\n\t\t\t\t\t\t\tonClick={handleOpenModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tView all {currentEvents.length} events...\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{/* Expandable details - only show if there's something to expand */}\n\t\t\t{showDetails && (\n\t\t\t\t<details className=\"bt-state-details\">\n\t\t\t\t\t<summary>\n\t\t\t\t\t\tDetails\n\t\t\t\t\t\t{showCharacters &&\n\t\t\t\t\t\t\tcharacterCount > 0 &&\n\t\t\t\t\t\t\t` (${characterCount} characters`}\n\t\t\t\t\t\t{showLocation &&\n\t\t\t\t\t\t\tpropsCount > 0 &&\n\t\t\t\t\t\t\t`${showCharacters && characterCount > 0 ? ', ' : ' ('}${propsCount} props`}\n\t\t\t\t\t\t{(showCharacters && characterCount > 0) ||\n\t\t\t\t\t\t(showLocation && propsCount > 0)\n\t\t\t\t\t\t\t? ')'\n\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t</summary>\n\n\t\t\t\t\t{showLocation &&\n\t\t\t\t\t\tstate.location &&\n\t\t\t\t\t\tstate.location.props &&\n\t\t\t\t\t\tstate.location.props.length > 0 && (\n\t\t\t\t\t\t\t<div className=\"bt-props-section\">\n\t\t\t\t\t\t\t\t<span className=\"bt-props-header\">\n\t\t\t\t\t\t\t\t\tProps\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<div className=\"bt-props\">\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t{state.location.props.map(\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\tprop,\n\t\t\t\t\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{showCharacters &&\n\t\t\t\t\t\tstate.characters &&\n\t\t\t\t\t\tstate.characters.length > 0 && (\n\t\t\t\t\t\t\t<div className=\"bt-characters\">\n\t\t\t\t\t\t\t\t{state.characters.map(\n\t\t\t\t\t\t\t\t\t(char, idx) => (\n\t\t\t\t\t\t\t\t\t\t<CharacterCard\n\t\t\t\t\t\t\t\t\t\t\tkey={`${char.name}-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={\n\t\t\t\t\t\t\t\t\t\t\t\tchar\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trelationships={\n\t\t\t\t\t\t\t\t\t\t\t\trelationships\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</details>\n\t\t\t)}\n\n\t\t\t{/* Narrative Modal */}\n\t\t\t{showModal && narrativeState && (\n\t\t\t\t<NarrativeModal\n\t\t\t\t\tnarrativeState={narrativeState}\n\t\t\t\t\tcurrentEvents={currentEvents}\n\t\t\t\t\tpresentCharacters={presentCharacters}\n\t\t\t\t\tonClose={handleCloseModal}\n\t\t\t\t\tonSave={handleNarrativeSave}\n\t\t\t\t\tinitialTab={\n\t\t\t\t\t\tcurrentEvents.length > 3 ? 'events' : 'chapters'\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\n// --- State Extraction ---\n\nfunction getPreviousState(context: STContext, beforeMessageId: number): TrackedState | null {\n\tfor (let i = beforeMessageId - 1; i >= 0; i--) {\n\t\tconst prev = context.chat[i];\n\t\tconst trackerData = getMessageState(prev) as StoredStateData | undefined;\n\t\tif (trackerData?.state) {\n\t\t\treturn trackerData.state;\n\t\t}\n\t}\n\treturn null;\n}\n\nexport async function doExtractState(\n\tmessageId: number,\n\toptions: { isManual?: boolean } = {},\n): Promise<StoredStateData | null> {\n\tif (extractionInProgress.has(messageId)) {\n\t\treturn null;\n\t}\n\n\t// Set manual extraction flag if this is a manual trigger\n\tif (options.isManual) {\n\t\tsetManualExtractionInProgress(true);\n\t}\n\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst message = context.chat[messageId];\n\n\tif (!message) {\n\t\tconsole.warn(`[${EXTENSION_NAME}] Message not found:`, messageId);\n\t\treturn null;\n\t}\n\n\t// Mark extraction in progress and track which message\n\textractionInProgress.add(messageId);\n\tcurrentExtractionMessageId = messageId;\n\n\t// Try to show loading state (synchronous - DOM should be ready since we're called from\n\t// USER_MESSAGE_RENDERED or GENERATION_ENDED, not during streaming)\n\tconst messageElement = document.querySelector(`[mesid=\"${messageId}\"]`);\n\tconst mesBlock = messageElement?.querySelector('.mes_block');\n\n\tif (messageElement && mesBlock) {\n\t\tupdateMenuButtonState(messageId, true);\n\t\trenderMessageStateInternal(\n\t\t\tmessageId,\n\t\t\tmessageElement,\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tcurrentExtractionStep,\n\t\t);\n\t}\n\n\tconst previousState = getPreviousState(context, messageId);\n\n\t// Clear milestones created by this message before re-extraction\n\t// This applies to all triggers: swiping, editing, fire button, slash commands\n\tconst narrativeState = getNarrativeState();\n\tif (narrativeState && narrativeState.relationships.length > 0) {\n\t\tconst removed = clearAllMilestonesForMessage(\n\t\t\tnarrativeState.relationships,\n\t\t\tmessageId,\n\t\t);\n\t\tif (removed > 0) {\n\t\t\tawait saveNarrativeState(narrativeState);\n\t\t}\n\t}\n\n\ttry {\n\t\tconst { state } = await extractState(context, messageId, previousState);\n\n\t\tconst stateData: StoredStateData = {\n\t\t\tstate,\n\t\t\textractedAt: new Date().toISOString(),\n\t\t};\n\n\t\tif (!message.extra) {\n\t\t\tmessage.extra = {};\n\t\t}\n\t\tsetMessageState(message, stateData);\n\n\t\tawait context.saveChat();\n\n\t\t// Update subsequent messages if this isn't the last message (re-extraction case)\n\t\tif (messageId < context.chat.length - 1) {\n\t\t\t// Find the event that was extracted for this specific messageId\n\t\t\tconst newEvent = state.currentEvents?.find(e => e.messageId === messageId);\n\n\t\t\t// Update subsequent messages' events\n\t\t\tupdateSubsequentMessagesEvents(context, messageId, newEvent);\n\n\t\t\t// Save again to persist the updated subsequent messages\n\t\t\tawait context.saveChat();\n\t\t}\n\n\t\t// Render the extracted state\n\t\tif (messageElement) {\n\t\t\trenderMessageStateInternal(messageId, messageElement, stateData, false);\n\t\t}\n\n\t\treturn stateData;\n\t} catch (e: any) {\n\t\tif (e.name === 'AbortError') {\n\t\t\tst_echo?.('warning', ' Extraction aborted');\n\t\t} else {\n\t\t\tconsole.warn(`[${EXTENSION_NAME}] Extraction failed:`, e);\n\t\t\tst_echo?.('error', ` Extraction failed: ${e.message}`);\n\t\t}\n\n\t\t// Clear loading state on error\n\t\tif (messageElement) {\n\t\t\trenderMessageStateInternal(messageId, messageElement, null, false);\n\t\t}\n\n\t\treturn null;\n\t} finally {\n\t\textractionInProgress.delete(messageId);\n\t\tif (currentExtractionMessageId === messageId) {\n\t\t\tcurrentExtractionMessageId = null;\n\t\t}\n\t\t// Clear manual extraction flag if we set it\n\t\tif (options.isManual) {\n\t\t\tsetManualExtractionInProgress(false);\n\t\t}\n\t\tupdateMenuButtonState(messageId, false);\n\t}\n}\n\n// --- Menu Button ---\n\nfunction updateMenuButtonState(messageId: number, isLoading: boolean) {\n\tconst messageElement = document.querySelector(`[mesid=\"${messageId}\"]`);\n\tconst btn = messageElement?.querySelector('.bt-extract-btn') as HTMLElement;\n\tif (btn) {\n\t\tbtn.classList.toggle('bt-loading', isLoading);\n\t\tconst icon = btn.querySelector('i');\n\t\tif (icon) {\n\t\t\ticon.className = isLoading\n\t\t\t\t? 'fa-solid fa-spinner fa-spin'\n\t\t\t\t: 'fa-solid fa-fire';\n\t\t}\n\t}\n}\n\nfunction addMenuButton(messageId: number, messageElement: Element) {\n\tconst extraButtons = messageElement.querySelector('.extraMesButtons');\n\tif (!extraButtons) return;\n\n\tif (!extraButtons.querySelector('.bt-extract-btn')) {\n\t\tconst extractBtn = document.createElement('div');\n\t\textractBtn.className = 'bt-extract-btn mes_button';\n\t\textractBtn.title = 'Extract scene state (BlazeTracker)';\n\t\textractBtn.innerHTML = '<i class=\"fa-solid fa-fire\"></i>';\n\n\t\textractBtn.addEventListener('click', async e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tawait doExtractState(messageId, { isManual: true });\n\t\t});\n\n\t\textraButtons.insertBefore(extractBtn, extraButtons.firstChild);\n\t}\n\n\tif (!extraButtons.querySelector('.bt-edit-btn')) {\n\t\tconst editBtn = document.createElement('div');\n\t\teditBtn.className = 'bt-edit-btn mes_button';\n\t\teditBtn.title = 'Edit scene state (BlazeTracker)';\n\t\teditBtn.innerHTML = '<i class=\"fa-solid fa-pen\"></i>';\n\n\t\teditBtn.addEventListener('click', async e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tawait editMessageState(messageId);\n\t\t});\n\n\t\tconst extractBtn = extraButtons.querySelector('.bt-extract-btn');\n\t\tif (extractBtn) {\n\t\t\textractBtn.after(editBtn);\n\t\t} else {\n\t\t\textraButtons.insertBefore(editBtn, extraButtons.firstChild);\n\t\t}\n\t}\n}\n\n// --- Internal render function (when we already have the element) ---\n\nfunction renderMessageStateInternal(\n\tmessageId: number,\n\tmessageElement: Element,\n\tstateData: StoredStateData | null,\n\tisExtracting: boolean,\n\textractionStep?: ExtractionStep,\n) {\n\taddMenuButton(messageId, messageElement);\n\n\tconst settings = getSettings();\n\tconst isAbove = settings.displayPosition === 'above';\n\n\tlet needsNewRoot = false;\n\n\tlet container = messageElement.querySelector('.bt-state-root') as HTMLElement;\n\tif (!container) {\n\t\tcontainer = document.createElement('div');\n\t\tcontainer.className = 'bt-state-root';\n\t\tneedsNewRoot = true;\n\t}\n\n\t// Update position class\n\tcontainer.classList.toggle('bt-above', isAbove);\n\n\t// Insert in correct position\n\tconst mesBlock = messageElement.querySelector('.mes_block');\n\tconst mesText = mesBlock?.querySelector('.mes_text');\n\n\tif (needsNewRoot && mesBlock) {\n\t\tif (isAbove && mesText) {\n\t\t\tmesBlock.insertBefore(container, mesText);\n\t\t} else {\n\t\t\tmesBlock.appendChild(container);\n\t\t}\n\t}\n\n\tlet root = roots.get(messageId);\n\tif (needsNewRoot && root) {\n\t\troot.unmount();\n\t\troot = undefined;\n\t}\n\n\tif (!root) {\n\t\troot = ReactDOM.createRoot(container);\n\t\troots.set(messageId, root);\n\t}\n\n\t// Get narrative state from message 0\n\tconst narrativeState = getNarrativeState();\n\n\troot.render(\n\t\t<StateDisplay\n\t\t\tstateData={stateData}\n\t\t\tnarrativeState={narrativeState}\n\t\t\tmessageId={messageId}\n\t\t\tisExtracting={isExtracting}\n\t\t\textractionStep={extractionStep}\n\t\t/>,\n\t);\n\n\t// If this is the most recent message, scroll to the end.\n\tconst context = SillyTavern.getContext() as STContext;\n\tif (messageId === context.chat.length - 1) {\n\t\tsetTimeout(() => {\n\t\t\tmessageElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n\t\t}, 50);\n\t}\n}\n\n// --- Public API ---\n\nexport function renderMessageState(\n\tmessageId: number,\n\tstateData?: StoredStateData | null,\n\tisExtracting: boolean = false,\n) {\n\t// Don't render if extraction is in progress (unless we're explicitly setting isExtracting)\n\tif (extractionInProgress.has(messageId) && !isExtracting) {\n\t\treturn;\n\t}\n\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst message = context.chat[messageId];\n\n\tconst messageElement = document.querySelector(`[mesid=\"${messageId}\"]`);\n\tif (!messageElement) return;\n\n\tconst currentStateData =\n\t\tstateData !== undefined\n\t\t\t? stateData\n\t\t\t: ((getMessageState(message) as StoredStateData | undefined) ?? null);\n\n\trenderMessageStateInternal(messageId, messageElement, currentStateData, isExtracting);\n}\n\n/** Clear loading state (used when extraction is handled elsewhere) */\nexport function clearLoadingState(messageId: number): void {\n\textractionInProgress.delete(messageId);\n\trenderMessageState(messageId);\n}\n\nexport function unmountMessageState(messageId: number) {\n\tconst root = roots.get(messageId);\n\tif (root) {\n\t\troot.unmount();\n\t\troots.delete(messageId);\n\t}\n}\n\n/**\n * Unmount all React roots and clear DOM containers.\n * Use this before bulk operations like bt-extract-all.\n */\nexport function unmountAllRoots(): void {\n\t// Remove all DOM containers\n\tdocument.querySelectorAll('.bt-state-root').forEach(el => el.remove());\n\n\t// Unmount all React roots\n\tfor (const [_messageId, root] of roots) {\n\t\troot.unmount();\n\t}\n\troots.clear();\n}\n\nexport function renderAllStates() {\n\tconst context = SillyTavern.getContext() as STContext;\n\n\t// Reset time tracker first\n\tresetTimeTracker();\n\n\t// Find most recent message with state and initialize time tracker\n\tfor (let i = context.chat.length - 1; i >= 0; i--) {\n\t\tconst msg = context.chat[i];\n\t\tconst stored = getMessageState(msg);\n\t\tif (stored?.state?.time) {\n\t\t\tsetTimeTrackerState(stored.state.time);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Unmount all roots and clear DOM containers\n\tunmountAllRoots();\n\n\t// Re-render all messages\n\tfor (let i = 0; i < context.chat.length; i++) {\n\t\trenderMessageState(i);\n\t}\n}\n\nasync function editMessageState(messageId: number): Promise<void> {\n\tconst context = SillyTavern.getContext() as STContext;\n\tconst message = context.chat[messageId];\n\n\tif (!message) {\n\t\tst_echo?.('error', 'Message not found');\n\t\treturn;\n\t}\n\n\tconst currentStateData = getMessageState(message);\n\tconst currentState = currentStateData?.state || null;\n\n\tconst _saved = await openStateEditor(currentState, async (newState: TrackedState) => {\n\t\tconst stateData = {\n\t\t\tstate: newState,\n\t\t\textractedAt: new Date().toISOString(),\n\t\t};\n\n\t\tsetMessageState(message, stateData);\n\t\tawait context.saveChat();\n\n\t\trenderMessageState(messageId, stateData);\n\t\tupdateInjectionFromChat();\n\n\t\tst_echo?.('success', ' State updated');\n\t});\n}\n\nexport function initStateDisplay() {\n\tconst context = SillyTavern.getContext();\n\n\t// Wire up extraction progress updates\n\tonExtractionProgress((progress: ExtractionProgress) => {\n\t\tcurrentExtractionStep = progress.step;\n\n\t\t// Re-render the extracting message to show updated step\n\t\tif (\n\t\t\tcurrentExtractionMessageId !== null &&\n\t\t\textractionInProgress.has(currentExtractionMessageId)\n\t\t) {\n\t\t\tconst messageElement = document.querySelector(\n\t\t\t\t`[mesid=\"${currentExtractionMessageId}\"]`,\n\t\t\t);\n\t\t\tif (messageElement) {\n\t\t\t\trenderMessageStateInternal(\n\t\t\t\t\tcurrentExtractionMessageId,\n\t\t\t\t\tmessageElement,\n\t\t\t\t\tnull,\n\t\t\t\t\ttrue,\n\t\t\t\t\tprogress.step,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n\n\t// Only handle chat change for initial render - let index.ts handle message events\n\tcontext.eventSource.on(context.event_types.CHAT_CHANGED, (() => {\n\t\tresetTimeTracker();\n\t\tsetTimeout(renderAllStates, 100);\n\t}) as (...args: unknown[]) => void);\n}\n\nexport function injectStyles() {\n\tif (document.getElementById('blazetracker-styles')) return;\n\n\tconst link = document.createElement('link');\n\tlink.id = 'blazetracker-styles';\n\tlink.rel = 'stylesheet';\n\tlink.href = new URL('./stateDisplay.css', import.meta.url).href;\n\tdocument.head.appendChild(link);\n}\n","/**\n * BlazeTracker State Editor\n *\n * A form-based editor for TrackedState with validation against the schema.\n * Uses ST's popup system to display.\n *\n * Only shows sections for fields that exist in the state.\n * Preserves optionality - undefined fields stays undefined.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport type {\n\tTrackedState,\n\tCharacter,\n\tClimate,\n\tScene,\n\tNarrativeDateTime,\n\tLocationState,\n\tWeatherCondition,\n} from '../types/state';\nimport { toDisplayTemp, toStorageTemp } from '../utils/temperatures';\nimport { getSettings } from '../settings';\nimport {\n\tWEATHER_OPTIONS,\n\tWEATHER_CONDITIONS,\n\tWEATHER_CONDITION_LABELS,\n\tBUILDING_TYPES,\n\tBUILDING_TYPE_LABELS,\n\tDAYS_OF_WEEK,\n\tMONTH_NAMES,\n\tTENSION_LEVELS,\n\tTENSION_DIRECTIONS,\n\tTENSION_TYPES,\n} from './constants';\nimport { TagInput, OutfitEditor } from './components/form';\nimport { isLegacyClimate } from '../weather';\n\n// --- Types ---\n\ninterface StateEditorProps {\n\tinitialState: TrackedState | null;\n\tonSave: (state: TrackedState) => void;\n\tonCancel: () => void;\n}\n\ntype ValidationErrors = Record<string, string>;\n\n// --- Helper Functions ---\n\nfunction getDaysInMonth(year: number, month: number): number {\n\t// Day 0 of next month = last day of this month\n\treturn new Date(year, month, 0).getDate();\n}\n\nfunction getDayOfWeek(year: number, month: number, day: number): string {\n\tconst date = new Date(year, month - 1, day);\n\treturn DAYS_OF_WEEK[date.getDay()];\n}\n\nfunction createEmptyCharacter(): Character {\n\treturn {\n\t\tname: '',\n\t\tposition: '',\n\t\tactivity: '',\n\t\t// Note: goals removed in v1.0.0, now tracked in CharacterArc\n\t\tmood: [],\n\t\tphysicalState: [],\n\t\toutfit: {\n\t\t\thead: null,\n\t\t\tneck: null,\n\t\t\tjacket: null,\n\t\t\tback: null,\n\t\t\ttorso: null,\n\t\t\tlegs: null,\n\t\t\tsocks: null,\n\t\t\tunderwear: null,\n\t\t\tfootwear: null,\n\t\t},\n\t\t// Note: dispositions removed in v1.0.0, now tracked in Relationship\n\t};\n}\n\nfunction createEmptyTime(): NarrativeDateTime {\n\tconst now = new Date();\n\treturn {\n\t\tyear: now.getFullYear(),\n\t\tmonth: now.getMonth() + 1,\n\t\tday: now.getDate(),\n\t\thour: 12,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t\tdayOfWeek: DAYS_OF_WEEK[now.getDay()],\n\t};\n}\n\nfunction createEmptyLocation(): LocationState {\n\treturn {\n\t\tarea: '',\n\t\tplace: '',\n\t\tposition: '',\n\t\tprops: [],\n\t};\n}\n\nfunction createEmptyClimate(): Climate {\n\treturn {\n\t\tweather: 'sunny',\n\t\ttemperature: 70,\n\t};\n}\n\nfunction createEmptyScene(): Scene {\n\treturn {\n\t\ttopic: '',\n\t\ttone: '',\n\t\ttension: {\n\t\t\tlevel: 'relaxed',\n\t\t\tdirection: 'stable',\n\t\t\ttype: 'conversation',\n\t\t},\n\t\t// Note: recentEvents removed in v1.0.0, replaced by currentEvents on TrackedState\n\t};\n}\n\nfunction cloneState(state: TrackedState): TrackedState {\n\treturn JSON.parse(JSON.stringify(state));\n}\n\n// --- Validation ---\n\nfunction validateState(state: TrackedState): ValidationErrors {\n\tconst errors: ValidationErrors = {};\n\n\t// Scene (only validate if present)\n\tif (state.scene) {\n\t\tif (!state.scene.topic?.trim()) {\n\t\t\terrors['scene.topic'] = 'Topic is required';\n\t\t}\n\t\tif (!state.scene.tone?.trim()) {\n\t\t\terrors['scene.tone'] = 'Tone is required';\n\t\t}\n\t}\n\n\t// Time (only validate if present)\n\tif (state.time) {\n\t\tif (state.time.year < 1 || state.time.year > 9999) {\n\t\t\terrors['time.year'] = 'Year must be 1-9999';\n\t\t}\n\t\tif (state.time.month < 1 || state.time.month > 12) {\n\t\t\terrors['time.month'] = 'Month must be 1-12';\n\t\t}\n\t\tconst maxDay = getDaysInMonth(state.time.year, state.time.month);\n\t\tif (state.time.day < 1 || state.time.day > maxDay) {\n\t\t\terrors['time.day'] = `Day must be 1-${maxDay}`;\n\t\t}\n\t\tif (state.time.hour < 0 || state.time.hour > 23) {\n\t\t\terrors['time.hour'] = 'Hour must be 0-23';\n\t\t}\n\t\tif (state.time.minute < 0 || state.time.minute > 59) {\n\t\t\terrors['time.minute'] = 'Minute must be 0-59';\n\t\t}\n\t}\n\n\t// Location (only validate if present)\n\tif (state.location) {\n\t\tif (!state.location.area?.trim()) {\n\t\t\terrors['location.area'] = 'Area is required';\n\t\t}\n\t\tif (!state.location.place?.trim()) {\n\t\t\terrors['location.place'] = 'Place is required';\n\t\t}\n\t\tif (!state.location.position?.trim()) {\n\t\t\terrors['location.position'] = 'Position is required';\n\t\t}\n\t\tif (!state.location.props?.length) {\n\t\t\terrors['location.props'] = 'Props is required';\n\t\t}\n\t}\n\n\t// Climate (only validate if present)\n\tif (state.climate) {\n\t\tif (isLegacyClimate(state.climate)) {\n\t\t\tif (\n\t\t\t\t!(WEATHER_OPTIONS as readonly string[]).includes(\n\t\t\t\t\tstate.climate.weather,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\terrors['climate.weather'] = 'Invalid weather';\n\t\t\t}\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!(WEATHER_CONDITIONS as readonly string[]).includes(\n\t\t\t\t\tstate.climate.conditionType,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\terrors['climate.conditionType'] = 'Invalid condition type';\n\t\t\t}\n\t\t}\n\t}\n\n\t// Characters (only validate if present)\n\tif (state.characters) {\n\t\tstate.characters.forEach((char, idx) => {\n\t\t\tif (!char.name?.trim()) {\n\t\t\t\terrors[`char.${idx}.name`] = 'Name required';\n\t\t\t}\n\t\t\tif (!char.position?.trim()) {\n\t\t\t\terrors[`char.${idx}.position`] = 'Position required';\n\t\t\t}\n\t\t});\n\t}\n\n\treturn errors;\n}\n\n// --- Sub-Components ---\n\n/** Character editor */\nfunction CharacterEditor({\n\tcharacter,\n\tindex,\n\tonChange,\n\tonRemove,\n\totherNames: _otherNames,\n\terrors,\n}: {\n\tcharacter: Character;\n\tindex: number;\n\tonChange: (c: Character) => void;\n\tonRemove: () => void;\n\totherNames: string[];\n\terrors: ValidationErrors;\n}) {\n\tconst update = <K extends keyof Character>(field: K, value: Character[K]) => {\n\t\tonChange({ ...character, [field]: value });\n\t};\n\n\treturn (\n\t\t<div className=\"bt-char-editor\">\n\t\t\t<details>\n\t\t\t\t<summary>\n\t\t\t\t\t<span className=\"bt-char-name\">\n\t\t\t\t\t\t{character.name || `Character ${index + 1}`}\n\t\t\t\t\t</span>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tonRemove();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"bt-x\"\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</summary>\n\n\t\t\t\t<div className=\"bt-char-fields\">\n\t\t\t\t\t{/* Basic Info */}\n\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t<label>Name *</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={character.name}\n\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\tupdate(\n\t\t\t\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\terrors[`char.${index}.name`]\n\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t<label>Activity</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={character.activity || ''}\n\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\tupdate(\n\t\t\t\t\t\t\t\t\t\t'activity',\n\t\t\t\t\t\t\t\t\t\te.target.value ||\n\t\t\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t<label>Position *</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={character.position}\n\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\tupdate('position', e.target.value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\terrors[`char.${index}.position`]\n\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Tags */}\n\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t<label>Mood</label>\n\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\ttags={character.mood || []}\n\t\t\t\t\t\t\tonChange={t => update('mood', t)}\n\t\t\t\t\t\t\tplaceholder=\"anxious, hopeful...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Note: Goals removed in v1.0.0, now tracked in CharacterArc */}\n\n\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t<label>Physical State</label>\n\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\ttags={character.physicalState || []}\n\t\t\t\t\t\t\tonChange={t => update('physicalState', t)}\n\t\t\t\t\t\t\tplaceholder=\"tired, injured...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Outfit */}\n\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t<label>Outfit</label>\n\t\t\t\t\t\t<OutfitEditor\n\t\t\t\t\t\t\toutfit={character.outfit}\n\t\t\t\t\t\t\tonChange={o => update('outfit', o)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Note: Dispositions removed in v1.0.0, now tracked in Relationship */}\n\t\t\t\t</div>\n\t\t\t</details>\n\t\t</div>\n\t);\n}\n\n// --- Main Component ---\n\nexport function StateEditor({ initialState, onSave, onCancel }: StateEditorProps) {\n\tconst settings = getSettings();\n\tconst tempUnit = settings.temperatureUnit ?? 'fahrenheit';\n\n\t// Clone the state to avoid mutating the original\n\t// Keep undefined fields as undefined\n\tconst [state, setState] = useState<TrackedState>(() =>\n\t\tinitialState ? cloneState(initialState) : {},\n\t);\n\tconst [errors, setErrors] = useState<ValidationErrors>({});\n\tconst [tab, setTab] = useState<'scene' | 'chars'>('scene');\n\n\t// Check what sections exist\n\tconst hasTime = state.time !== undefined;\n\tconst hasLocation = state.location !== undefined;\n\tconst hasClimate = state.climate !== undefined;\n\tconst hasScene = state.scene !== undefined;\n\tconst hasCharacters = state.characters !== undefined;\n\n\t// Check if there's anything to show on the scene tab\n\tconst hasSceneTabContent = hasTime || hasLocation || hasClimate || hasScene;\n\n\t// Ensure we're on a valid tab\n\tuseEffect(() => {\n\t\tif (tab === 'scene' && !hasSceneTabContent && hasCharacters) {\n\t\t\tsetTab('chars');\n\t\t} else if (tab === 'chars' && !hasCharacters && hasSceneTabContent) {\n\t\t\tsetTab('scene');\n\t\t}\n\t}, [tab, hasSceneTabContent, hasCharacters]);\n\n\t// Scene context\n\tconst updateScene = (field: keyof Scene, value: any) => {\n\t\tsetState(s => {\n\t\t\tif (!s.scene) return s;\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tscene: { ...s.scene, [field]: value },\n\t\t\t};\n\t\t});\n\t};\n\n\tconst updateTension = (field: keyof Scene['tension'], value: any) => {\n\t\tsetState(s => {\n\t\t\tif (!s.scene) return s;\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tscene: {\n\t\t\t\t\t...s.scene,\n\t\t\t\t\ttension: {\n\t\t\t\t\t\t...s.scene.tension,\n\t\t\t\t\t\t[field]: value,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t};\n\n\t// Time - with automatic dayOfWeek calculation\n\tconst updateTime = (field: keyof NarrativeDateTime, value: any) => {\n\t\tsetState(s => {\n\t\t\tif (!s.time) return s;\n\t\t\tconst newTime = { ...s.time, [field]: value };\n\n\t\t\t// Recalculate dayOfWeek if date components change\n\t\t\tif (field === 'year' || field === 'month' || field === 'day') {\n\t\t\t\t// Clamp day to valid range for the month\n\t\t\t\tconst maxDay = getDaysInMonth(newTime.year, newTime.month);\n\t\t\t\tif (newTime.day > maxDay) {\n\t\t\t\t\tnewTime.day = maxDay;\n\t\t\t\t}\n\t\t\t\tnewTime.dayOfWeek = getDayOfWeek(\n\t\t\t\t\tnewTime.year,\n\t\t\t\t\tnewTime.month,\n\t\t\t\t\tnewTime.day,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn { ...s, time: newTime };\n\t\t});\n\t};\n\n\t// Location\n\tconst updateLocation = (field: keyof LocationState, value: string | string[]) => {\n\t\tsetState(s => {\n\t\t\tif (!s.location) return s;\n\t\t\treturn { ...s, location: { ...s.location, [field]: value } };\n\t\t});\n\t};\n\n\t// Climate (handles both legacy Climate and ProceduralClimate)\n\tconst updateClimate = (field: string, value: any) => {\n\t\tsetState(s => {\n\t\t\tif (!s.climate) return s;\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tclimate: { ...s.climate, [field]: value },\n\t\t\t};\n\t\t});\n\t};\n\n\t// Characters\n\tconst updateChar = (idx: number, char: Character) => {\n\t\tsetState(s => {\n\t\t\tif (!s.characters) return s;\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tcharacters: s.characters.map((c, i) => (i === idx ? char : c)),\n\t\t\t};\n\t\t});\n\t};\n\n\tconst addChar = () => {\n\t\tsetState(s => {\n\t\t\tif (!s.characters) return s;\n\t\t\treturn { ...s, characters: [...s.characters, createEmptyCharacter()] };\n\t\t});\n\t};\n\n\tconst removeChar = (idx: number) => {\n\t\tsetState(s => {\n\t\t\tif (!s.characters) return s;\n\t\t\treturn { ...s, characters: s.characters.filter((_, i) => i !== idx) };\n\t\t});\n\t};\n\n\tconst getOtherNames = (excludeIdx: number) =>\n\t\t(state.characters || [])\n\t\t\t.filter((_, i) => i !== excludeIdx)\n\t\t\t.map(c => c.name)\n\t\t\t.filter(Boolean);\n\n\t// Add missing sections\n\tconst addTime = () => setState(s => ({ ...s, time: createEmptyTime() }));\n\tconst addLocation = () => setState(s => ({ ...s, location: createEmptyLocation() }));\n\tconst addClimate = () => setState(s => ({ ...s, climate: createEmptyClimate() }));\n\tconst addScene = () => setState(s => ({ ...s, scene: createEmptyScene() }));\n\tconst addCharacters = () => setState(s => ({ ...s, characters: [] }));\n\n\t// Remove sections (switch tabs if needed)\n\tconst removeTime = () => {\n\t\tsetState(s => {\n\t\t\tconst { time: _time, ...rest } = s;\n\t\t\treturn rest;\n\t\t});\n\t};\n\tconst removeLocation = () => {\n\t\tsetState(s => {\n\t\t\tconst { location: _location, ...rest } = s;\n\t\t\treturn rest;\n\t\t});\n\t};\n\tconst removeClimate = () => {\n\t\tsetState(s => {\n\t\t\tconst { climate: _climate, ...rest } = s;\n\t\t\treturn rest;\n\t\t});\n\t};\n\tconst removeScene = () => {\n\t\tsetState(s => {\n\t\t\tconst { scene: _scene, ...rest } = s;\n\t\t\treturn rest;\n\t\t});\n\t};\n\tconst removeCharacters = () => {\n\t\tsetState(s => {\n\t\t\tconst { characters: _characters, ...rest } = s;\n\t\t\treturn rest;\n\t\t});\n\t\t// Switch to scene tab since characters tab will be gone\n\t\tsetTab('scene');\n\t};\n\n\t// Save\n\tconst handleSave = () => {\n\t\tconst errs = validateState(state);\n\t\tsetErrors(errs);\n\t\tif (Object.keys(errs).length === 0) {\n\t\t\tonSave(state);\n\t\t}\n\t};\n\n\tconst hasErrors = Object.keys(errors).length > 0;\n\n\t// Calculate max days for current month (only if time exists)\n\tconst maxDaysInMonth =\n\t\thasTime && state.time ? getDaysInMonth(state.time.year, state.time.month) : 31;\n\n\t// Check what sections are missing (for add buttons)\n\tconst missingSections = {\n\t\ttime: !hasTime,\n\t\tlocation: !hasLocation,\n\t\tclimate: !hasClimate,\n\t\tscene: !hasScene,\n\t\tcharacters: !hasCharacters,\n\t};\n\tconst hasMissingSections = Object.values(missingSections).some(v => v);\n\n\t// Component for adding missing sections\n\tconst AddSectionButtons = () => {\n\t\tif (!hasMissingSections) return null;\n\n\t\treturn (\n\t\t\t<div className=\"bt-add-sections\">\n\t\t\t\t<span className=\"bt-add-sections-label\">Add section:</span>\n\t\t\t\t{missingSections.scene && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addScene}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-clapperboard\"></i> Scene\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{missingSections.time && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addTime}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-regular fa-clock\"></i> Time\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{missingSections.location && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addLocation}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-map-marker-alt\"></i>{' '}\n\t\t\t\t\t\tLocation\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{missingSections.climate && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addClimate}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-cloud-sun\"></i> Climate\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{missingSections.characters && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addCharacters}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-users\"></i> Characters\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\t// If nothing to edit at all, show add buttons\n\tif (!hasSceneTabContent && !hasCharacters) {\n\t\treturn (\n\t\t\t<div className=\"bt-editor\">\n\t\t\t\t<div className=\"bt-empty-state\">\n\t\t\t\t\t<i className=\"fa-solid fa-info-circle\"></i>\n\t\t\t\t\t<p>No state data to edit.</p>\n\t\t\t\t\t<p>Run extraction to populate, or add sections manually:</p>\n\t\t\t\t\t<AddSectionButtons />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bt-actions\">\n\t\t\t\t\t<button type=\"button\" onClick={onCancel} className=\"bt-btn\">\n\t\t\t\t\t\tClose\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"bt-editor\">\n\t\t\t{/* Tabs */}\n\t\t\t<div className=\"bt-tabs\">\n\t\t\t\t{hasSceneTabContent && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={`bt-tab ${tab === 'scene' ? 'active' : ''}`}\n\t\t\t\t\t\tonClick={() => setTab('scene')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-location-dot\"></i> Scene\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{hasCharacters && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={`bt-tab ${tab === 'chars' ? 'active' : ''}`}\n\t\t\t\t\t\tonClick={() => setTab('chars')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-users\"></i> Characters (\n\t\t\t\t\t\t{state.characters?.length || 0})\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Scene Tab */}\n\t\t\t{tab === 'scene' && hasSceneTabContent && (\n\t\t\t\t<div className=\"bt-panel\">\n\t\t\t\t\t{/* Scene Context */}\n\t\t\t\t\t{hasScene && state.scene && (\n\t\t\t\t\t\t<fieldset className=\"bt-section\">\n\t\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-clapperboard\"></i>{' '}\n\t\t\t\t\t\t\t\tContext\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"bt-section-remove\"\n\t\t\t\t\t\t\t\t\tonClick={removeScene}\n\t\t\t\t\t\t\t\t\ttitle=\"Remove section\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Topic *</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.scene\n\t\t\t\t\t\t\t\t\t\t\t\t.topic\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateScene(\n\t\t\t\t\t\t\t\t\t\t\t\t'topic',\n\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"What's the scene about?\"\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'scene.topic'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Tone *</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.scene\n\t\t\t\t\t\t\t\t\t\t\t\t.tone\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateScene(\n\t\t\t\t\t\t\t\t\t\t\t\t'tone',\n\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Emotional atmosphere...\"\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'scene.tone'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Tension */}\n\t\t\t\t\t\t\t<div className=\"bt-row-3\">\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Tension Level</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.scene\n\t\t\t\t\t\t\t\t\t\t\t\t.tension\n\t\t\t\t\t\t\t\t\t\t\t\t.level\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTension(\n\t\t\t\t\t\t\t\t\t\t\t\t'level',\n\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{TENSION_LEVELS.map(\n\t\t\t\t\t\t\t\t\t\t\tl => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{l\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.charAt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tl.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Direction</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.scene\n\t\t\t\t\t\t\t\t\t\t\t\t.tension\n\t\t\t\t\t\t\t\t\t\t\t\t.direction\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTension(\n\t\t\t\t\t\t\t\t\t\t\t\t'direction',\n\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{TENSION_DIRECTIONS.map(\n\t\t\t\t\t\t\t\t\t\t\td => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{d\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.charAt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Type</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.scene\n\t\t\t\t\t\t\t\t\t\t\t\t.tension\n\t\t\t\t\t\t\t\t\t\t\t\t.type\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTension(\n\t\t\t\t\t\t\t\t\t\t\t\t'type',\n\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{TENSION_TYPES.map(\n\t\t\t\t\t\t\t\t\t\t\tt => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.charAt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Note: Recent Events removed in v1.0.0, replaced by currentEvents on TrackedState */}\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Time */}\n\t\t\t\t\t{hasTime && state.time && (\n\t\t\t\t\t\t<fieldset className=\"bt-section\">\n\t\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t\t<i className=\"fa-regular fa-clock\"></i>{' '}\n\t\t\t\t\t\t\t\tTime\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"bt-section-remove\"\n\t\t\t\t\t\t\t\t\tonClick={removeTime}\n\t\t\t\t\t\t\t\t\ttitle=\"Remove section\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t\t{/* Date row */}\n\t\t\t\t\t\t\t<div className=\"bt-row-3\">\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Year</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={9999}\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.year\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t'year',\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t2024,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'time.year'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Month</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.month\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t'month',\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'time.month'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{MONTH_NAMES.map(\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Day</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={maxDaysInMonth}\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.day\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t'day',\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'time.day'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Time row */}\n\t\t\t\t\t\t\t<div className=\"bt-row-3\">\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Hour (0-23)</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\tmax={23}\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.hour\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t'hour',\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'time.hour'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Minute</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\tmax={59}\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.minute\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\tupdateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t'minute',\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t\t'time.minute'\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t<label>Day of Week</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tstate.time\n\t\t\t\t\t\t\t\t\t\t\t\t.dayOfWeek\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\topacity: 0.7,\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'not-allowed',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Location */}\n\t\t\t\t\t{hasLocation && state.location && (\n\t\t\t\t\t\t<fieldset className=\"bt-section\">\n\t\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-map-marker-alt\"></i>{' '}\n\t\t\t\t\t\t\t\tLocation\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"bt-section-remove\"\n\t\t\t\t\t\t\t\t\tonClick={removeLocation}\n\t\t\t\t\t\t\t\t\ttitle=\"Remove section\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t<label>Area *</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={state.location.area}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tupdateLocation(\n\t\t\t\t\t\t\t\t\t\t\t'area',\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"City, district, region...\"\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t'location.area'\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t<label>Place *</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={state.location.place}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tupdateLocation(\n\t\t\t\t\t\t\t\t\t\t\t'place',\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Building, establishment, room...\"\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t'location.place'\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t<label>Position *</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tstate.location\n\t\t\t\t\t\t\t\t\t\t\t.position\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\tupdateLocation(\n\t\t\t\t\t\t\t\t\t\t\t'position',\n\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Position within the place...\"\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\terrors[\n\t\t\t\t\t\t\t\t\t\t\t'location.position'\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t? 'bt-err'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t<label>Props</label>\n\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\tstate.location\n\t\t\t\t\t\t\t\t\t\t\t.props || []\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={t =>\n\t\t\t\t\t\t\t\t\t\tupdateLocation(\n\t\t\t\t\t\t\t\t\t\t\t'props',\n\t\t\t\t\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Add props...\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Climate */}\n\t\t\t\t\t{hasClimate && state.climate && (\n\t\t\t\t\t\t<fieldset className=\"bt-section\">\n\t\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-cloud-sun\"></i>{' '}\n\t\t\t\t\t\t\t\tClimate\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"bt-section-remove\"\n\t\t\t\t\t\t\t\t\tonClick={removeClimate}\n\t\t\t\t\t\t\t\t\ttitle=\"Remove section\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t\t{isLegacyClimate(state.climate) ? (\n\t\t\t\t\t\t\t\t/* Legacy Climate Editor */\n\t\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\tWeather\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t.weather\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'weather',\n\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value as Climate['weather'],\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{WEATHER_OPTIONS.map(\n\t\t\t\t\t\t\t\t\t\t\t\tw => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tw\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tw\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{w\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.charAt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tw.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\tTemperature\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t{tempUnit ===\n\t\t\t\t\t\t\t\t\t\t\t'celsius'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'C'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'F'}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={toDisplayTemp(\n\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t.temperature,\n\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temperature',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoStorageTemp(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t/* Procedural Climate Editor */\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tCondition\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.conditionType\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'conditionType',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value as WeatherCondition,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{WEATHER_CONDITIONS.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\tc => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tWEATHER_CONDITION_LABELS[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tTemperature\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t{tempUnit ===\n\t\t\t\t\t\t\t\t\t\t\t\t'celsius'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'C'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'F'}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={toDisplayTemp(\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.temperature,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'temperature',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoStorageTemp(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tHumidity\n\t\t\t\t\t\t\t\t\t\t\t\t(%)\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.humidity\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'humidity',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tWind\n\t\t\t\t\t\t\t\t\t\t\t\tSpeed\n\t\t\t\t\t\t\t\t\t\t\t\t(mph)\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.windSpeed\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'windSpeed',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tCloud\n\t\t\t\t\t\t\t\t\t\t\t\tCover\n\t\t\t\t\t\t\t\t\t\t\t\t(%)\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.cloudCover\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cloudCover',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\tIndoors\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.isIndoors\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'yes'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'no'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'isIndoors',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'yes',\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"no\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\t\t\t\t\t\t(Outdoors)\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"yes\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\t\t\t\t\t\t(Indoors)\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{state.climate\n\t\t\t\t\t\t\t\t\t\t.isIndoors && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-row-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\tBuilding\n\t\t\t\t\t\t\t\t\t\t\t\t\tType\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.buildingType ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'modern'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'buildingType',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{BUILDING_TYPES.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tb => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBUILDING_TYPE_LABELS[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"bt-field\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\tIndoor\n\t\t\t\t\t\t\t\t\t\t\t\t\tTemp\n\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{tempUnit ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t'celsius'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'C'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'F'}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={toDisplayTemp(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indoorTemperature ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.climate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.temperature,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateClimate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'indoorTemperature',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoStorageTemp(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttempUnit,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Add section buttons for scene tab */}\n\t\t\t\t\t{(missingSections.scene ||\n\t\t\t\t\t\tmissingSections.time ||\n\t\t\t\t\t\tmissingSections.location ||\n\t\t\t\t\t\tmissingSections.climate) && (\n\t\t\t\t\t\t<div className=\"bt-add-sections\">\n\t\t\t\t\t\t\t<span className=\"bt-add-sections-label\">\n\t\t\t\t\t\t\t\tAdd:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{missingSections.scene && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={addScene}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-clapperboard\"></i>{' '}\n\t\t\t\t\t\t\t\t\tScene\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{missingSections.time && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={addTime}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-regular fa-clock\"></i>{' '}\n\t\t\t\t\t\t\t\t\tTime\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{missingSections.location && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={addLocation}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-map-marker-alt\"></i>{' '}\n\t\t\t\t\t\t\t\t\tLocation\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{missingSections.climate && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={addClimate}\n\t\t\t\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-cloud-sun\"></i>{' '}\n\t\t\t\t\t\t\t\t\tClimate\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Characters Tab */}\n\t\t\t{tab === 'chars' && hasCharacters && state.characters && (\n\t\t\t\t<div className=\"bt-panel\">\n\t\t\t\t\t<div className=\"bt-section-header\">\n\t\t\t\t\t\t<span>Characters</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"bt-section-remove\"\n\t\t\t\t\t\t\tonClick={removeCharacters}\n\t\t\t\t\t\t\ttitle=\"Remove all characters\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i> Remove\n\t\t\t\t\t\t\tSection\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"bt-chars-list\">\n\t\t\t\t\t\t{state.characters.map((char, idx) => (\n\t\t\t\t\t\t\t<CharacterEditor\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tcharacter={char}\n\t\t\t\t\t\t\t\tindex={idx}\n\t\t\t\t\t\t\t\tonChange={c => updateChar(idx, c)}\n\t\t\t\t\t\t\t\tonRemove={() => removeChar(idx)}\n\t\t\t\t\t\t\t\totherNames={getOtherNames(idx)}\n\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={addChar}\n\t\t\t\t\t\tclassName=\"bt-add-char\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-plus\"></i> Add Character\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Show characters add button if on scene tab but no characters */}\n\t\t\t{tab === 'scene' && missingSections.characters && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"bt-add-sections\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginTop: '1rem',\n\t\t\t\t\t\tborderTop: '1px solid var(--SmartThemeBorderColor)',\n\t\t\t\t\t\tpaddingTop: '1rem',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"bt-add-sections-label\">Add:</span>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\taddCharacters();\n\t\t\t\t\t\t\tsetTab('chars');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"bt-btn-small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-users\"></i> Characters\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Error summary */}\n\t\t\t{hasErrors && (\n\t\t\t\t<div className=\"bt-errors\">\n\t\t\t\t\t<i className=\"fa-solid fa-exclamation-triangle\"></i>\n\t\t\t\t\tFix highlighted errors before saving.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Actions */}\n\t\t\t<div className=\"bt-actions\">\n\t\t\t\t<button type=\"button\" onClick={onCancel} className=\"bt-btn\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleSave}\n\t\t\t\t\tclassName=\"bt-btn bt-btn-primary\"\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fa-solid fa-save\"></i> Save\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// --- Integration with SillyTavern Popup ---\n\n/**\n * Opens the state editor in a popup dialog.\n * Returns true if saved, false if cancelled.\n */\nexport async function openStateEditor(\n\tcurrentState: TrackedState | null,\n\tonSave: (state: TrackedState) => Promise<void>,\n): Promise<boolean> {\n\t// Load CSS if not already loaded\n\tconst cssUrl = new URL('./stateEditor.css', import.meta.url).href;\n\tif (!document.querySelector(`link[href=\"${cssUrl}\"]`)) {\n\t\tconst link = document.createElement('link');\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = cssUrl;\n\t\tdocument.head.appendChild(link);\n\t}\n\n\tconst context = SillyTavern.getContext();\n\n\treturn new Promise(resolve => {\n\t\t// Create container\n\t\tconst container = document.createElement('div');\n\t\tcontainer.id = 'bt-editor-root';\n\n\t\tlet savedState: TrackedState | null = null;\n\n\t\tconst handleSave = (state: TrackedState) => {\n\t\t\tsavedState = state;\n\t\t\t// Close popup by clicking OK\n\t\t\t(document.querySelector('.popup-button-ok') as HTMLElement)?.click();\n\t\t};\n\n\t\tconst handleCancel = () => {\n\t\t\t(document.querySelector('.popup-button-cancel') as HTMLElement)?.click();\n\t\t};\n\n\t\t// Use imported ReactDOM, not window.ReactDOM\n\t\tconst root = ReactDOM.createRoot(container);\n\n\t\troot.render(\n\t\t\t<StateEditor\n\t\t\t\tinitialState={currentState}\n\t\t\t\tonSave={handleSave}\n\t\t\t\tonCancel={handleCancel}\n\t\t\t/>,\n\t\t);\n\n\t\t// Show popup\n\t\tcontext.callGenericPopup(container, context.POPUP_TYPE.CONFIRM, null, {\n\t\t\twide: true,\n\t\t\tlarge: true,\n\t\t\tokButton: '', // Hidden\n\t\t\tcancelButton: 'Close',\n\t\t}).then(async () => {\n\t\t\troot.unmount();\n\n\t\t\tif (savedState) {\n\t\t\t\tawait onSave(savedState);\n\t\t\t\tresolve(true);\n\t\t\t} else {\n\t\t\t\tresolve(false);\n\t\t\t}\n\t\t});\n\n\t\t// Hide default OK button\n\t\trequestAnimationFrame(() => {\n\t\t\tconst okBtn = document.querySelector('.popup-button-ok') as HTMLElement;\n\t\t\tif (okBtn) okBtn.style.display = 'none';\n\t\t});\n\t});\n}\n\nexport default StateEditor;\n","// ============================================\n// Relationships Tab Component\n// ============================================\n\nimport React, { useState, useMemo } from 'react';\nimport type {\n\tRelationship,\n\tRelationshipStatus,\n\tRelationshipAttitude,\n\tNarrativeDateTime,\n} from '../../types/state';\nimport { RELATIONSHIP_STATUSES } from '../../types/state';\nimport { TagInput } from '../components/form/TagInput';\n\n// ============================================\n// Helpers\n// ============================================\n\nfunction formatMilestoneDate(dt: NarrativeDateTime | undefined): string {\n\tif (!dt) return '';\n\tconst months = [\n\t\t'Jan',\n\t\t'Feb',\n\t\t'Mar',\n\t\t'Apr',\n\t\t'May',\n\t\t'Jun',\n\t\t'Jul',\n\t\t'Aug',\n\t\t'Sep',\n\t\t'Oct',\n\t\t'Nov',\n\t\t'Dec',\n\t];\n\tconst month = months[dt.month - 1] || 'Jan';\n\treturn `${month} ${dt.day}, ${dt.year}`;\n}\n\n// ============================================\n// Types\n// ============================================\n\ninterface RelationshipsTabProps {\n\trelationships: Relationship[];\n\tpresentCharacters?: string[];\n\teditMode?: boolean;\n\tonUpdate?: (relationships: Relationship[]) => void;\n}\n\ninterface RelationshipCardProps {\n\trelationship: Relationship;\n\tisExpanded: boolean;\n\tonToggle: () => void;\n\teditMode?: boolean;\n\tisEditing?: boolean;\n\tonStartEdit?: () => void;\n\tonUpdateRelationship?: (relationship: Relationship) => void;\n\tonDeleteRelationship?: () => void;\n}\n\n// ============================================\n// Constants\n// ============================================\n\nconst STATUS_COLORS: Record<RelationshipStatus, string> = {\n\tstrangers: '#6b7280',\n\tacquaintances: '#3b82f6',\n\tfriendly: '#22c55e',\n\tclose: '#f59e0b',\n\tintimate: '#ec4899',\n\tstrained: '#f97316',\n\thostile: '#ef4444',\n\tcomplicated: '#8b5cf6',\n};\n\nconst STATUS_ICONS: Record<RelationshipStatus, string> = {\n\tstrangers: 'fa-user-secret',\n\tacquaintances: 'fa-handshake',\n\tfriendly: 'fa-users',\n\tclose: 'fa-user-group',\n\tintimate: 'fa-heart',\n\tstrained: 'fa-face-frown',\n\thostile: 'fa-skull',\n\tcomplicated: 'fa-question',\n};\n\n// ============================================\n// Components\n// ============================================\n\nfunction RelationshipCard({\n\trelationship,\n\tisExpanded,\n\tonToggle,\n\teditMode,\n\tisEditing,\n\tonStartEdit,\n\tonUpdateRelationship,\n\tonDeleteRelationship,\n}: RelationshipCardProps) {\n\tconst [char1, char2] = relationship.pair;\n\tconst statusColor = STATUS_COLORS[relationship.status] || '#6b7280';\n\tconst statusIcon = STATUS_ICONS[relationship.status] || 'fa-circle';\n\n\tconst handleStatusChange = (newStatus: RelationshipStatus) => {\n\t\tonUpdateRelationship?.({ ...relationship, status: newStatus });\n\t};\n\n\tconst handleAToBChange = (field: keyof RelationshipAttitude, values: string[]) => {\n\t\tonUpdateRelationship?.({\n\t\t\t...relationship,\n\t\t\taToB: { ...relationship.aToB, [field]: values },\n\t\t});\n\t};\n\n\tconst handleBToAChange = (field: keyof RelationshipAttitude, values: string[]) => {\n\t\tonUpdateRelationship?.({\n\t\t\t...relationship,\n\t\t\tbToA: { ...relationship.bToA, [field]: values },\n\t\t});\n\t};\n\n\tconst handleDeleteMilestone = (index: number) => {\n\t\tconst newMilestones = relationship.milestones.filter((_, i) => i !== index);\n\t\tonUpdateRelationship?.({ ...relationship, milestones: newMilestones });\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`bt-relationship-card ${isExpanded ? 'bt-expanded' : ''} ${isEditing ? 'bt-editing' : ''}`}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"bt-relationship-header\"\n\t\t\t\tonClick={isEditing ? undefined : onToggle}\n\t\t\t>\n\t\t\t\t<div className=\"bt-relationship-pair\">\n\t\t\t\t\t<span className=\"bt-char-name\">{char1}</span>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`fa-solid ${statusIcon}`}\n\t\t\t\t\t\tstyle={{ color: statusColor }}\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"bt-char-name\">{char2}</span>\n\t\t\t\t</div>\n\t\t\t\t{isEditing ? (\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"bt-status-select\"\n\t\t\t\t\t\tvalue={relationship.status}\n\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\thandleStatusChange(\n\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t.value as RelationshipStatus,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={e => e.stopPropagation()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{RELATIONSHIP_STATUSES.map(status => (\n\t\t\t\t\t\t\t<option key={status} value={status}>\n\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"bt-relationship-status\"\n\t\t\t\t\t\tstyle={{ color: statusColor }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{relationship.status}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{editMode && !isEditing && (\n\t\t\t\t\t<div className=\"bt-relationship-actions\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"bt-edit-btn-small\"\n\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tonStartEdit?.();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit relationship\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-pen\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"bt-delete-btn-small\"\n\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tonDeleteRelationship?.();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Delete relationship\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{isEditing && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"bt-delete-btn-small\"\n\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tonDeleteRelationship?.();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle=\"Delete relationship\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa-solid fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<i\n\t\t\t\t\tclassName={`fa-solid ${isExpanded ? 'fa-chevron-up' : 'fa-chevron-down'} bt-expand-icon`}\n\t\t\t\t\tonClick={isEditing ? onToggle : undefined}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{isExpanded && (\n\t\t\t\t<div className=\"bt-relationship-details\">\n\t\t\t\t\t{/* Attitudes - A towards B */}\n\t\t\t\t\t<div className=\"bt-attitude-section\">\n\t\t\t\t\t\t<div className=\"bt-attitude-header\">\n\t\t\t\t\t\t\t{char1}  {char2}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-attitude-content\">\n\t\t\t\t\t\t\t{isEditing ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tFeels:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.aToB\n\t\t\t\t\t\t\t\t\t\t\t\t\t.feelings\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAToBChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'feelings',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add feeling...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tWants:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.aToB\n\t\t\t\t\t\t\t\t\t\t\t\t\t.wants\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAToBChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'wants',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add want...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tSecrets:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.aToB\n\t\t\t\t\t\t\t\t\t\t\t\t\t.secrets\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAToBChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'secrets',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add secret...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{relationship.aToB.feelings\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tFeels:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.aToB.feelings.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{relationship.aToB.wants\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tWants:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.aToB.wants.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{relationship.aToB.secrets\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tSecrets:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.aToB.secrets.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Attitudes - B towards A */}\n\t\t\t\t\t<div className=\"bt-attitude-section\">\n\t\t\t\t\t\t<div className=\"bt-attitude-header\">\n\t\t\t\t\t\t\t{char2}  {char1}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bt-attitude-content\">\n\t\t\t\t\t\t\t{isEditing ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tFeels:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.bToA\n\t\t\t\t\t\t\t\t\t\t\t\t\t.feelings\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleBToAChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'feelings',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add feeling...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tWants:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.bToA\n\t\t\t\t\t\t\t\t\t\t\t\t\t.wants\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleBToAChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'wants',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add want...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row-edit\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\tSecrets:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<TagInput\n\t\t\t\t\t\t\t\t\t\t\ttags={\n\t\t\t\t\t\t\t\t\t\t\t\trelationship\n\t\t\t\t\t\t\t\t\t\t\t\t\t.bToA\n\t\t\t\t\t\t\t\t\t\t\t\t\t.secrets\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonChange={v =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleBToAChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'secrets',\n\t\t\t\t\t\t\t\t\t\t\t\t\tv,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add secret...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{relationship.bToA.feelings\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tFeels:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.bToA.feelings.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{relationship.bToA.wants\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tWants:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.bToA.wants.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{relationship.bToA.secrets\n\t\t\t\t\t\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bt-attitude-row\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-label\">\n\t\t\t\t\t\t\t\t\t\t\t\tSecrets:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-value\">\n\t\t\t\t\t\t\t\t\t\t\t\t{relationship.bToA.secrets.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Milestones */}\n\t\t\t\t\t{(relationship.milestones.length > 0 || isEditing) && (\n\t\t\t\t\t\t<div className=\"bt-milestones-section\">\n\t\t\t\t\t\t\t<div className=\"bt-milestones-header\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-star\" />{' '}\n\t\t\t\t\t\t\t\tMilestones\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{relationship.milestones.length > 0 ? (\n\t\t\t\t\t\t\t\t<ul className=\"bt-milestones-list\">\n\t\t\t\t\t\t\t\t\t{relationship.milestones.map(\n\t\t\t\t\t\t\t\t\t\t(milestone, i) => {\n\t\t\t\t\t\t\t\t\t\t\tconst dateStr =\n\t\t\t\t\t\t\t\t\t\t\t\tformatMilestoneDate(\n\t\t\t\t\t\t\t\t\t\t\t\t\tmilestone.timestamp,\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-milestone-type\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{milestone.type.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/_/g,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dateStr && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-milestone-date\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateStr\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{milestone.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-milestone-desc\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmilestone.description\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isEditing && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bt-delete-btn-small bt-inline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteMilestone(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Delete milestone\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p className=\"bt-empty-message\">\n\t\t\t\t\t\t\t\t\tNo milestones yet.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* History */}\n\t\t\t\t\t{relationship.history.length > 0 && (\n\t\t\t\t\t\t<div className=\"bt-history-section\">\n\t\t\t\t\t\t\t<div className=\"bt-history-header\">\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-clock-rotate-left\" />{' '}\n\t\t\t\t\t\t\t\tHistory\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul className=\"bt-history-list\">\n\t\t\t\t\t\t\t\t{relationship.history.map(\n\t\t\t\t\t\t\t\t\t(snapshot, i) => (\n\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-history-chapter\">\n\t\t\t\t\t\t\t\t\t\t\t\tCh.{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{snapshot.chapterIndex +\n\t\t\t\t\t\t\t\t\t\t\t\t\t1}\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-history-status\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsnapshot.status\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t{snapshot.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"bt-history-summary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsnapshot.summary\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport function RelationshipsTab({\n\trelationships,\n\tpresentCharacters,\n\teditMode,\n\tonUpdate,\n}: RelationshipsTabProps) {\n\tconst [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\n\tconst [filterCharacter, setFilterCharacter] = useState<string>('');\n\tconst [editingPairKey, setEditingPairKey] = useState<string | null>(null);\n\n\t// Get unique characters for filter dropdown\n\tconst allCharacters = useMemo(() => {\n\t\tconst chars = new Set<string>();\n\t\tfor (const rel of relationships) {\n\t\t\tchars.add(rel.pair[0]);\n\t\t\tchars.add(rel.pair[1]);\n\t\t}\n\t\treturn Array.from(chars).sort();\n\t}, [relationships]);\n\n\t// Filter relationships\n\tconst filteredRelationships = useMemo(() => {\n\t\tif (!filterCharacter) return relationships;\n\t\treturn relationships.filter(\n\t\t\trel =>\n\t\t\t\trel.pair[0].toLowerCase() === filterCharacter.toLowerCase() ||\n\t\t\t\trel.pair[1].toLowerCase() === filterCharacter.toLowerCase(),\n\t\t);\n\t}, [relationships, filterCharacter]);\n\n\t// Sort: present characters first, then by status\n\tconst sortedRelationships = useMemo(() => {\n\t\tconst presentSet = presentCharacters\n\t\t\t? new Set(presentCharacters.map(c => c.toLowerCase()))\n\t\t\t: null;\n\n\t\tconst statusOrder: RelationshipStatus[] = [\n\t\t\t'intimate',\n\t\t\t'close',\n\t\t\t'friendly',\n\t\t\t'acquaintances',\n\t\t\t'strangers',\n\t\t\t'strained',\n\t\t\t'hostile',\n\t\t\t'complicated',\n\t\t];\n\n\t\treturn [...filteredRelationships].sort((a, b) => {\n\t\t\t// Present characters first\n\t\t\tif (presentSet) {\n\t\t\t\tconst aPresent = a.pair.some(p => presentSet.has(p.toLowerCase()));\n\t\t\t\tconst bPresent = b.pair.some(p => presentSet.has(p.toLowerCase()));\n\t\t\t\tif (aPresent && !bPresent) return -1;\n\t\t\t\tif (!aPresent && bPresent) return 1;\n\t\t\t}\n\n\t\t\t// Then by status (closer = higher)\n\t\t\tconst aStatus = statusOrder.indexOf(a.status);\n\t\t\tconst bStatus = statusOrder.indexOf(b.status);\n\t\t\treturn aStatus - bStatus;\n\t\t});\n\t}, [filteredRelationships, presentCharacters]);\n\n\tconst toggleExpanded = (pairKey: string) => {\n\t\tsetExpandedIds(prev => {\n\t\t\tconst next = new Set(prev);\n\t\t\tif (next.has(pairKey)) {\n\t\t\t\tnext.delete(pairKey);\n\t\t\t} else {\n\t\t\t\tnext.add(pairKey);\n\t\t\t}\n\t\t\treturn next;\n\t\t});\n\t};\n\n\tconst getPairKey = (rel: Relationship) => rel.pair.join('|');\n\n\tconst handleStartEdit = (pairKey: string) => {\n\t\t// Expand the card when starting to edit\n\t\tsetExpandedIds(prev => {\n\t\t\tconst next = new Set(prev);\n\t\t\tnext.add(pairKey);\n\t\t\treturn next;\n\t\t});\n\t\tsetEditingPairKey(pairKey);\n\t};\n\n\tconst handleUpdateRelationship = (pairKey: string, updated: Relationship) => {\n\t\tif (onUpdate) {\n\t\t\tconst newRelationships = relationships.map(rel =>\n\t\t\t\tgetPairKey(rel) === pairKey ? updated : rel,\n\t\t\t);\n\t\t\tonUpdate(newRelationships);\n\t\t}\n\t};\n\n\tconst handleDeleteRelationship = (pairKey: string) => {\n\t\tif (onUpdate) {\n\t\t\tconst newRelationships = relationships.filter(\n\t\t\t\trel => getPairKey(rel) !== pairKey,\n\t\t\t);\n\t\t\tonUpdate(newRelationships);\n\t\t\t// Clear editing if we deleted the one being edited\n\t\t\tif (editingPairKey === pairKey) {\n\t\t\t\tsetEditingPairKey(null);\n\t\t\t}\n\t\t}\n\t};\n\n\t// Clear editing state when leaving edit mode\n\tReact.useEffect(() => {\n\t\tif (!editMode) {\n\t\t\tsetEditingPairKey(null);\n\t\t}\n\t}, [editMode]);\n\n\tif (relationships.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"bt-relationships-tab bt-empty\">\n\t\t\t\t<p>No relationships established yet.</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"bt-relationships-tab\">\n\t\t\t{/* Filter */}\n\t\t\t{allCharacters.length > 2 && (\n\t\t\t\t<div className=\"bt-filter-bar\">\n\t\t\t\t\t<label htmlFor=\"bt-char-filter\">Filter by character:</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tid=\"bt-char-filter\"\n\t\t\t\t\t\tvalue={filterCharacter}\n\t\t\t\t\t\tonChange={e => setFilterCharacter(e.target.value)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"\">All</option>\n\t\t\t\t\t\t{allCharacters.map(char => (\n\t\t\t\t\t\t\t<option key={char} value={char}>\n\t\t\t\t\t\t\t\t{char}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Relationship cards */}\n\t\t\t<div className=\"bt-relationship-list\">\n\t\t\t\t{sortedRelationships.map(rel => {\n\t\t\t\t\tconst pairKey = getPairKey(rel);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<RelationshipCard\n\t\t\t\t\t\t\tkey={pairKey}\n\t\t\t\t\t\t\trelationship={rel}\n\t\t\t\t\t\t\tisExpanded={expandedIds.has(pairKey)}\n\t\t\t\t\t\t\tonToggle={() => toggleExpanded(pairKey)}\n\t\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\t\tisEditing={editingPairKey === pairKey}\n\t\t\t\t\t\t\tonStartEdit={() => handleStartEdit(pairKey)}\n\t\t\t\t\t\t\tonUpdateRelationship={updated =>\n\t\t\t\t\t\t\t\thandleUpdateRelationship(\n\t\t\t\t\t\t\t\t\tpairKey,\n\t\t\t\t\t\t\t\t\tupdated,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonDeleteRelationship={() =>\n\t\t\t\t\t\t\t\thandleDeleteRelationship(pairKey)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t{filteredRelationships.length === 0 && filterCharacter && (\n\t\t\t\t<p className=\"bt-no-results\">\n\t\t\t\t\tNo relationships found for {filterCharacter}.\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","/**\n * Utility functions for matching clothing items in props.\n * Used to detect duplicate items when moving removed clothing to location props.\n */\n\n// ============================================\n// Constants\n// ============================================\n\n/**\n * Common clothing type keywords to extract for fuzzy matching.\n * Order matters - more specific terms should come first.\n */\nexport const CLOTHING_KEYWORDS = [\n\t// Footwear\n\t'sneakers',\n\t'trainers',\n\t'boots',\n\t'heels',\n\t'sandals',\n\t'loafers',\n\t'flats',\n\t'shoes',\n\t'slippers',\n\t// Legwear\n\t'stockings',\n\t'tights',\n\t'thigh-highs',\n\t'knee-highs',\n\t'socks',\n\t'jeans',\n\t'trousers',\n\t'pants',\n\t'shorts',\n\t'skirt',\n\t'leggings',\n\t'sweatpants',\n\t// Underwear\n\t'panties',\n\t'knickers',\n\t'thong',\n\t'boxers',\n\t'briefs',\n\t'underwear',\n\t'sports bra',\n\t'bralette',\n\t'bra',\n\t// Tops\n\t'blouse',\n\t't-shirt',\n\t'tshirt',\n\t'shirt',\n\t'top',\n\t'tank top',\n\t'vest',\n\t'camisole',\n\t'sweater',\n\t'jumper',\n\t'hoodie',\n\t'cardigan',\n\t'pullover',\n\t// Outerwear\n\t'jacket',\n\t'coat',\n\t'blazer',\n\t'parka',\n\t'windbreaker',\n\t// Dresses\n\t'dress',\n\t'gown',\n\t'sundress',\n\t// Headwear\n\t'hat',\n\t'cap',\n\t'beanie',\n\t'hood',\n];\n\n/**\n * Common color words to extract from item descriptions.\n */\nexport const COLOR_KEYWORDS = [\n\t'black',\n\t'white',\n\t'red',\n\t'blue',\n\t'green',\n\t'yellow',\n\t'purple',\n\t'pink',\n\t'orange',\n\t'brown',\n\t'grey',\n\t'gray',\n\t'navy',\n\t'cream',\n\t'beige',\n\t'tan',\n\t'maroon',\n\t'burgundy',\n\t'teal',\n\t'cyan',\n\t'silver',\n\t'gold',\n\t'dark',\n\t'light',\n\t'pale',\n\t'bright',\n\t'pastel',\n];\n\n/**\n * Patterns for PREFIX [item] - character name before the item.\n */\nexport const CHAR_PREFIX_PATTERNS = [\n\t(char: string) => `${char}'s `,\n\t(char: string) => `${char}s `, // Without apostrophe\n];\n\n/**\n * Patterns for [item] SUFFIX - character name after the item.\n */\nexport const CHAR_SUFFIX_PATTERNS = [\n\t(char: string) => ` belonging to ${char}`,\n\t(char: string) => ` ${char} removed`,\n\t(char: string) => ` ${char} took off`,\n\t(char: string) => ` ${char} dropped`,\n\t(char: string) => ` ${char} discarded`,\n\t(char: string) => ` from ${char}`,\n\t(char: string) => ` (${char}'s)`,\n];\n\n// ============================================\n// Extraction Functions\n// ============================================\n\n/**\n * Extract the core clothing type from a descriptive item name.\n * e.g., \"dark blue Levi's jeans\" -> \"jeans\"\n */\nexport function extractClothingType(itemName: string): string | null {\n\tconst lower = itemName.toLowerCase();\n\tfor (const keyword of CLOTHING_KEYWORDS) {\n\t\tif (lower.includes(keyword)) {\n\t\t\treturn keyword;\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n * Extract color(s) from an item description.\n * e.g., \"dark blue Levi's jeans\" -> [\"dark\", \"blue\"]\n */\nexport function extractColors(itemName: string): string[] {\n\tconst lower = itemName.toLowerCase();\n\tconst colors: string[] = [];\n\tfor (const color of COLOR_KEYWORDS) {\n\t\tif (lower.includes(color)) {\n\t\t\tcolors.push(color);\n\t\t}\n\t}\n\treturn colors;\n}\n\n/**\n * Build search terms for an item. Returns variations we should look for.\n * e.g., \"White Nike sneakers\" ->\n *   [\"white nike sneakers\", \"sneakers\", \"white sneakers\"]\n */\nexport function buildItemSearchTerms(itemName: string): string[] {\n\tconst terms: string[] = [];\n\tconst lower = itemName.toLowerCase();\n\n\t// Full item name\n\tterms.push(lower);\n\n\t// Just the clothing type\n\tconst clothingType = extractClothingType(itemName);\n\tif (clothingType) {\n\t\tterms.push(clothingType);\n\n\t\t// Color + type combinations\n\t\tconst colors = extractColors(itemName);\n\t\tfor (const color of colors) {\n\t\t\tterms.push(`${color} ${clothingType}`);\n\t\t}\n\t} else {\n\t\t// No known clothing type - add individual words as fallback\n\t\t// This helps match \"onesie\" when item is \"pink onesie\"\n\t\tconst words = lower\n\t\t\t.split(/\\s+/)\n\t\t\t.filter(\n\t\t\t\tw =>\n\t\t\t\t\tw.length > 2 &&\n\t\t\t\t\t!COLOR_KEYWORDS.includes(w) &&\n\t\t\t\t\t!['the', 'and', 'with'].includes(w),\n\t\t\t);\n\t\tterms.push(...words);\n\t}\n\n\treturn [...new Set(terms)]; // Dedupe\n}\n\n/**\n * Strip a prop string down to its core item description.\n * Removes character prefixes, state suffixes like \"(removed)\", location info.\n */\nexport function extractPropCore(prop: string, charName: string): string {\n\tconst charLower = charName.toLowerCase();\n\tlet propCore = prop.toLowerCase();\n\n\t// Remove character prefix\n\tfor (const prefixFn of CHAR_PREFIX_PATTERNS) {\n\t\tconst prefix = prefixFn(charLower);\n\t\tif (propCore.startsWith(prefix)) {\n\t\t\tpropCore = propCore.slice(prefix.length);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Strip common suffixes like \"on the floor\", \"(removed)\" etc.\n\tpropCore = propCore\n\t\t.replace(/\\s*\\(.*\\)\\s*$/, '')\n\t\t.replace(/\\s+on the (?:floor|ground|bed|chair|table|sofa|couch).*$/, '')\n\t\t.replace(/\\s+(?:removed|discarded|dropped|tossed|thrown).*$/, '')\n\t\t.replace(/\\s+belonging to \\w+.*$/, '')\n\t\t.replace(/\\s+from \\w+.*$/, '')\n\t\t.trim();\n\n\treturn propCore;\n}\n\n// ============================================\n// Matching Functions\n// ============================================\n\n/**\n * Check if a prop matches an item for a given character.\n * Uses PREFIX [item] SUFFIX pattern matching.\n */\nexport function propMatchesItem(\n\tprop: string,\n\titemSearchTerms: string[],\n\tcharName: string,\n\tfullItemName: string,\n): boolean {\n\tconst propLower = prop.toLowerCase();\n\tconst charLower = charName.toLowerCase();\n\tconst itemLower = fullItemName.toLowerCase();\n\n\t// Strategy 1: Check if prop contains any search term AND the character name\n\tconst hasCharName = propLower.includes(charLower);\n\n\tfor (const term of itemSearchTerms) {\n\t\t// Direct match on full prop\n\t\tif (propLower === term) return true;\n\n\t\t// Prop contains the search term\n\t\tif (propLower.includes(term)) {\n\t\t\t// If char name is also present, definitely a match\n\t\t\tif (hasCharName) return true;\n\n\t\t\t// If no possessive marker at all, it's probably a generic prop that matches\n\t\t\t// e.g., \"sneakers on the floor\" matches anyone's sneakers\n\t\t\tif (!propLower.includes(\"'s\") && !propLower.includes('belonging to')) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Strategy 2: Check PREFIX patterns - \"Elena's [term]\"\n\tfor (const prefixFn of CHAR_PREFIX_PATTERNS) {\n\t\tconst prefix = prefixFn(charLower);\n\t\tif (propLower.startsWith(prefix)) {\n\t\t\t// Check if any search term appears after the prefix\n\t\t\tconst afterPrefix = propLower.slice(prefix.length);\n\t\t\tfor (const term of itemSearchTerms) {\n\t\t\t\tif (\n\t\t\t\t\tafterPrefix.includes(term) ||\n\t\t\t\t\tterm.includes(afterPrefix.split(' ')[0])\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Fallback: check if the afterPrefix is substring of item or vice versa\n\t\t\tif (\n\t\t\t\tafterPrefix.length > 2 &&\n\t\t\t\t(itemLower.includes(afterPrefix) || afterPrefix.includes(itemLower))\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Strategy 3: Check SUFFIX patterns - \"[term] belonging to Elena\"\n\tfor (const suffixFn of CHAR_SUFFIX_PATTERNS) {\n\t\tconst suffix = suffixFn(charLower);\n\t\tif (propLower.includes(suffix)) {\n\t\t\tfor (const term of itemSearchTerms) {\n\t\t\t\tif (propLower.includes(term)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Strategy 4: Substring fallback for unknown item types\n\t// If prop (without char prefix) is substring of item or vice versa\n\t// e.g., prop \"onesie\" matches item \"pink onesie\"\n\tconst propCore = extractPropCore(prop, charName);\n\n\tif (propCore.length > 2) {\n\t\tif (itemLower.includes(propCore) || propCore.includes(itemLower)) {\n\t\t\t// But make sure it's not a different character's item\n\t\t\tif (hasCharName || !propLower.includes(\"'s\")) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\n/**\n * Check if a prop already exists in the set using multiple matching strategies.\n */\nexport function propAlreadyExists(\n\titemName: string,\n\tcharName: string,\n\texistingProps: Set<string>,\n): boolean {\n\tconst searchTerms = buildItemSearchTerms(itemName);\n\n\tfor (const prop of existingProps) {\n\t\tif (propMatchesItem(prop, searchTerms, charName, itemName)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n","import type { ExtractedData } from 'sillytavern-utils-lib/types';\nimport type { Message } from 'sillytavern-utils-lib';\nimport { Generator } from 'sillytavern-utils-lib';\n\nconst generator = new Generator();\n\nexport interface GeneratorOptions {\n\tprofileId: string;\n\tmaxTokens: number;\n\ttemperature?: number;\n\tabortSignal?: AbortSignal;\n}\n\n/**\n * Make a request to the LLM via SillyTavern's Generator.\n * Centralized to avoid duplication across extractors.\n */\nexport function makeGeneratorRequest(\n\tmessages: Message[],\n\toptions: GeneratorOptions,\n): Promise<string> {\n\tconst { profileId, maxTokens, temperature = 0.5, abortSignal } = options;\n\n\treturn new Promise((resolve, reject) => {\n\t\tif (abortSignal?.aborted) {\n\t\t\treturn reject(new DOMException('Aborted', 'AbortError'));\n\t\t}\n\n\t\tconst abortController = new AbortController();\n\n\t\tif (abortSignal) {\n\t\t\tabortSignal.addEventListener('abort', () => abortController.abort());\n\t\t}\n\n\t\tgenerator.generateRequest(\n\t\t\t{\n\t\t\t\tprofileId,\n\t\t\t\tprompt: messages,\n\t\t\t\tmaxTokens,\n\t\t\t\tcustom: { signal: abortController.signal },\n\t\t\t\toverridePayload: {\n\t\t\t\t\ttemperature,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tabortController,\n\t\t\t\tonFinish: (_requestId, data, error) => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treturn reject(error);\n\t\t\t\t\t}\n\t\t\t\t\tif (!data) {\n\t\t\t\t\t\treturn reject(\n\t\t\t\t\t\t\tnew DOMException(\n\t\t\t\t\t\t\t\t'Request aborted',\n\t\t\t\t\t\t\t\t'AbortError',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tconst content = (data as ExtractedData).content;\n\t\t\t\t\tif (typeof content === 'string') {\n\t\t\t\t\t\tresolve(content);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(JSON.stringify(content));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t});\n}\n\n/**\n * Build a standard message array for extraction prompts.\n */\nexport function buildExtractionMessages(systemPrompt: string, userPrompt: string): Message[] {\n\treturn [\n\t\t{ role: 'system', content: systemPrompt },\n\t\t{ role: 'user', content: userPrompt },\n\t];\n}\n","/**\n * Expected shape of the JSON response.\n * 'object' will match {...}\n * 'array' will match [...]\n * 'auto' will try object first, then array\n */\nexport type JsonShape = 'object' | 'array' | 'auto';\n\nexport interface ParseOptions {\n\t/** Expected shape of the response */\n\tshape?: JsonShape;\n\t/** Module name for error logging */\n\tmoduleName?: string;\n}\n\n// ============================================\n// JSON Repair Functions\n// ============================================\n\n/**\n * Common thinking block close tags from various models.\n */\nconst THINKING_CLOSERS = [\n\t'</think>',\n\t'</thinking>',\n\t'</thought>',\n\t'</reasoning>',\n\t'</reason>',\n\t'</reflection>',\n\t'[/THINK]',\n\t'[/THINKING]',\n\t'[/THOUGHT]',\n\t'[/REASONING]',\n\t'[/REASON]',\n\t'[/REFLECTION]',\n];\n\n/**\n * Strip content before thinking block closers and trim to JSON boundaries.\n */\nfunction preprocessJsonResponse(input: string): string {\n\tlet result = input;\n\n\t// Strip everything up to and including thinking close tags\n\tfor (const closer of THINKING_CLOSERS) {\n\t\tconst idx = result.toLowerCase().indexOf(closer.toLowerCase());\n\t\tif (idx !== -1) {\n\t\t\tresult = result.slice(idx + closer.length);\n\t\t}\n\t}\n\n\t// Find the first { or [ and last } or ]\n\tconst firstBrace = result.indexOf('{');\n\tconst firstBracket = result.indexOf('[');\n\tconst lastBrace = result.lastIndexOf('}');\n\tconst lastBracket = result.lastIndexOf(']');\n\n\t// Determine start position (first { or [)\n\tlet start = -1;\n\tif (firstBrace !== -1 && firstBracket !== -1) {\n\t\tstart = Math.min(firstBrace, firstBracket);\n\t} else if (firstBrace !== -1) {\n\t\tstart = firstBrace;\n\t} else if (firstBracket !== -1) {\n\t\tstart = firstBracket;\n\t}\n\n\t// Determine end position (last } or ])\n\tlet end = -1;\n\tif (lastBrace !== -1 && lastBracket !== -1) {\n\t\tend = Math.max(lastBrace, lastBracket);\n\t} else if (lastBrace !== -1) {\n\t\tend = lastBrace;\n\t} else if (lastBracket !== -1) {\n\t\tend = lastBracket;\n\t}\n\n\t// Extract JSON portion if valid boundaries found\n\tif (start !== -1 && end !== -1 && end > start) {\n\t\tresult = result.slice(start, end + 1);\n\t}\n\n\treturn result.trim();\n}\n\n/**\n * Fix directional/smart quotes to straight quotes.\n * \" \"   \"\n * ' '   '\n */\nfunction repairSmartQuotes(jsonStr: string): string {\n\treturn jsonStr\n\t\t.replace(/[\\u201C\\u201D\\u201E\\u201F\\u2033\\u2036]/g, '\"')\n\t\t.replace(/[\\u2018\\u2019\\u201A\\u201B\\u2032\\u2035]/g, \"'\");\n}\n\n/**\n * Fix single-quoted strings to double-quoted.\n * Uses a state machine approach for reliability.\n */\nfunction repairSingleQuotes(jsonStr: string): string {\n\tconst result: string[] = [];\n\tlet i = 0;\n\tlet inDoubleQuote = false;\n\tlet inSingleQuote = false;\n\n\twhile (i < jsonStr.length) {\n\t\tconst char = jsonStr[i];\n\t\tconst prevChar = i > 0 ? jsonStr[i - 1] : '';\n\n\t\tif (char === '\"' && prevChar !== '\\\\') {\n\t\t\tif (!inSingleQuote) {\n\t\t\t\tinDoubleQuote = !inDoubleQuote;\n\t\t\t}\n\t\t\tresult.push(char);\n\t\t} else if (char === \"'\" && prevChar !== '\\\\') {\n\t\t\tif (!inDoubleQuote) {\n\t\t\t\t// Convert single quote to double quote\n\t\t\t\tresult.push('\"');\n\t\t\t\tinSingleQuote = !inSingleQuote;\n\t\t\t} else {\n\t\t\t\t// Inside double-quoted string, keep as-is\n\t\t\t\tresult.push(char);\n\t\t\t}\n\t\t} else {\n\t\t\tresult.push(char);\n\t\t}\n\t\ti++;\n\t}\n\n\treturn result.join('');\n}\n\n/**\n * Fix unquoted keys in JSON strings.\n * Converts: { footwear: null } -> { \"footwear\": null }\n */\nfunction repairUnquotedKeys(jsonStr: string): string {\n\treturn jsonStr.replace(/([{,]\\s*)([a-zA-Z_][a-zA-Z0-9_]*)(\\s*:)/g, '$1\"$2\"$3');\n}\n\n/**\n * Fix unquoted keys with trailing apostrophe typo.\n * mood':  mood:\n * Must run before repairUnquotedKeys and repairSingleQuotes.\n */\nfunction repairUnquotedKeyApostropheTypo(jsonStr: string): string {\n\t// Match: after { or , (with any whitespace including newlines),\n\t// an identifier followed by apostrophe, then colon\n\treturn jsonStr.replace(/([{,][\\s]*)([a-zA-Z_][a-zA-Z0-9_]*)'([\\s]*:)/g, '$1$2$3');\n}\n\n/**\n * Fix double-quoted keys with trailing apostrophe typo before colon.\n * \"mood':  \"mood\":\n */\nfunction repairKeyApostropheTypo(jsonStr: string): string {\n\treturn jsonStr.replace(/\"([^\"]+)'(\\s*:)/g, '\"$1\"$2');\n}\n\n/**\n * Fix the bizarre '. pattern that appears in some malformed output.\n * jacket'.null  jacket: null\n */\nfunction repairDotApostropheTypo(jsonStr: string): string {\n\treturn jsonStr.replace(/'\\.(\\s*)/g, ': ');\n}\n\n/**\n * Fix unquoted string values (risky but sometimes necessary).\n * Only attempts to fix values that look like unquoted strings.\n */\nfunction repairUnquotedValues(jsonStr: string): string {\n\treturn jsonStr.replace(/:\\s*([a-zA-Z][^,}\\]\\n]*?)(\\s*[,}\\]])/g, (match, value, ending) => {\n\t\tconst trimmed = value.trim();\n\n\t\t// Don't quote JSON literals\n\t\tif (['null', 'true', 'false'].includes(trimmed)) {\n\t\t\treturn `: ${trimmed}${ending}`;\n\t\t}\n\n\t\t// Don't quote if already quoted\n\t\tif (/^[\"'].*[\"']$/.test(trimmed)) {\n\t\t\treturn match;\n\t\t}\n\n\t\t// Don't quote numbers\n\t\tif (/^-?\\d+\\.?\\d*$/.test(trimmed)) {\n\t\t\treturn `: ${trimmed}${ending}`;\n\t\t}\n\n\t\t// Quote the unquoted string value\n\t\tconst escaped = trimmed.replace(/\"/g, '\\\\\"');\n\t\treturn `: \"${escaped}\"${ending}`;\n\t});\n}\n\n/**\n * Apply all repair functions to a JSON string.\n * Order matters - some repairs depend on others running first.\n */\nfunction repairJson(jsonStr: string): string {\n\tlet repaired = jsonStr;\n\n\t// Phase 1: Normalize smart quote characters to straight quotes\n\trepaired = repairSmartQuotes(repaired);\n\n\t// Phase 2: Fix apostrophe typos BEFORE single quote conversion\n\t// (otherwise the state machine thinks stray apostrophes are string delimiters)\n\trepaired = repairUnquotedKeyApostropheTypo(repaired);\n\trepaired = repairKeyApostropheTypo(repaired);\n\trepaired = repairDotApostropheTypo(repaired);\n\n\t// Phase 3: Convert single quotes to double quotes\n\trepaired = repairSingleQuotes(repaired);\n\n\t// Phase 4: Fix unquoted keys\n\trepaired = repairUnquotedKeys(repaired);\n\n\t// Phase 5: Fix unquoted values (riskiest, run last)\n\trepaired = repairUnquotedValues(repaired);\n\n\treturn repaired;\n}\n\n// ============================================\n// Main Parser\n// ============================================\n\n/**\n * Parse a JSON response from an LLM, handling markdown code blocks\n * and extracting the JSON object or array.\n */\nexport function parseJsonResponse<T = unknown>(response: string, options: ParseOptions = {}): T {\n\tconst { shape = 'auto', moduleName = 'BlazeTracker' } = options;\n\n\tlet jsonStr = response.trim();\n\n\t// Strip markdown code blocks\n\tconst jsonMatch = jsonStr.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n\tif (jsonMatch) {\n\t\tjsonStr = jsonMatch[1].trim();\n\t}\n\n\t// Preprocess: strip thinking blocks and extract JSON boundaries\n\tjsonStr = preprocessJsonResponse(jsonStr);\n\n\t// Extract based on expected shape\n\tif (shape === 'array') {\n\t\tconst arrayMatch = jsonStr.match(/\\[[\\s\\S]*\\]/);\n\t\tif (arrayMatch) {\n\t\t\tjsonStr = arrayMatch[0];\n\t\t}\n\t} else if (shape === 'object') {\n\t\tconst objectMatch = jsonStr.match(/\\{[\\s\\S]*\\}/);\n\t\tif (objectMatch) {\n\t\t\tjsonStr = objectMatch[0];\n\t\t}\n\t} else {\n\t\t// Auto: try object first, then array\n\t\tconst objectMatch = jsonStr.match(/\\{[\\s\\S]*\\}/);\n\t\tconst arrayMatch = jsonStr.match(/\\[[\\s\\S]*\\]/);\n\n\t\tif (objectMatch && arrayMatch) {\n\t\t\t// Use whichever comes first in the string\n\t\t\tjsonStr =\n\t\t\t\tjsonStr.indexOf('{') < jsonStr.indexOf('[')\n\t\t\t\t\t? objectMatch[0]\n\t\t\t\t\t: arrayMatch[0];\n\t\t} else if (objectMatch) {\n\t\t\tjsonStr = objectMatch[0];\n\t\t} else if (arrayMatch) {\n\t\t\tjsonStr = arrayMatch[0];\n\t\t}\n\t}\n\n\t// Try parsing as-is first\n\ttry {\n\t\treturn JSON.parse(jsonStr) as T;\n\t} catch {\n\t\t// Try with repairs\n\t\tconst repaired = repairJson(jsonStr);\n\t\ttry {\n\t\t\treturn JSON.parse(repaired) as T;\n\t\t} catch (e) {\n\t\t\tconsole.error(`[${moduleName}] Failed to parse response:`, e);\n\t\t\tconsole.error(`[${moduleName}] Original:`, jsonStr);\n\t\t\tconsole.error(`[${moduleName}] After repair:`, repaired);\n\t\t\tthrow new Error(`Failed to parse ${moduleName} response as JSON`);\n\t\t}\n\t}\n}\n\n/**\n * Safely extract a string from an unknown value.\n */\nexport function asString(value: unknown, fallback: string): string {\n\treturn typeof value === 'string' ? value : fallback;\n}\n\n/**\n * Safely extract a string or null from an unknown value.\n */\nexport function asStringOrNull(value: unknown): string | null {\n\treturn typeof value === 'string' ? value : null;\n}\n\n/**\n * Safely extract a number from an unknown value.\n */\nexport function asNumber(value: unknown, fallback: number): number {\n\treturn typeof value === 'number' ? value : fallback;\n}\n\n/**\n * Safely extract a boolean from an unknown value.\n */\nexport function asBoolean(value: unknown, fallback: boolean): boolean {\n\treturn typeof value === 'boolean' ? value : fallback;\n}\n\n/**\n * Safely extract an array of strings from an unknown value.\n */\nexport function asStringArray(value: unknown, maxItems?: number): string[] {\n\tif (!Array.isArray(value)) {\n\t\treturn [];\n\t}\n\tconst filtered = value.filter((v): v is string => typeof v === 'string');\n\treturn maxItems ? filtered.slice(0, maxItems) : filtered;\n}\n\n/**\n * Check if value is a non-null object.\n */\nexport function isObject(value: unknown): value is Record<string, unknown> {\n\treturn typeof value === 'object' && value !== null && !Array.isArray(value);\n}\n","import { EXTENSION_KEY } from '../constants';\nimport type { ChatMessage } from '../types/st';\nimport type { StoredStateData } from '../types/state';\n\ntype SwipeStateStorage = Record<number, StoredStateData>;\n\nexport function getMessageState(message: ChatMessage): StoredStateData | null {\n\tconst swipeId = message.swipe_id ?? 0;\n\tconst storage = message.extra?.[EXTENSION_KEY] as SwipeStateStorage | undefined;\n\treturn storage?.[swipeId] ?? null;\n}\n\nexport function setMessageState(message: ChatMessage, stateData: StoredStateData) {\n\tconst swipeId = message.swipe_id ?? 0;\n\tif (!message.extra) message.extra = {};\n\tif (!message.extra[EXTENSION_KEY]) message.extra[EXTENSION_KEY] = {};\n\t(message.extra[EXTENSION_KEY] as SwipeStateStorage)[swipeId] = stateData;\n}\n","export type TemperatureUnit = 'fahrenheit' | 'celsius';\n\nexport function fahrenheitToCelsius(fahrenheit: number): number {\n\treturn Math.round(((fahrenheit - 32) * 5) / 9);\n}\n\nexport function celsiusToFahrenheit(celsius: number): number {\n\treturn Math.round((celsius * 9) / 5 + 32);\n}\n\n/**\n * Convert from storage (Fahrenheit) to display unit\n */\nexport function toDisplayTemp(fahrenheit: number, unit: TemperatureUnit): number {\n\treturn unit === 'celsius' ? fahrenheitToCelsius(fahrenheit) : fahrenheit;\n}\n\n/**\n * Convert from display unit to storage (Fahrenheit)\n */\nexport function toStorageTemp(display: number, unit: TemperatureUnit): number {\n\treturn unit === 'celsius' ? celsiusToFahrenheit(display) : display;\n}\n\n/**\n * Format temperature for display with unit symbol\n */\nexport function formatTemperature(fahrenheit: number, unit: TemperatureUnit): string {\n\tif (unit === 'celsius') {\n\t\treturn `${fahrenheitToCelsius(fahrenheit)}C`;\n\t}\n\treturn `${fahrenheit}F`;\n}\n","import type { Scene } from '../types/state';\n\nconst TENSION_LEVEL_ORDER: Scene['tension']['level'][] = [\n\t'relaxed',\n\t'aware',\n\t'guarded',\n\t'tense',\n\t'charged',\n\t'volatile',\n\t'explosive',\n];\n\nexport function calculateTensionDirection(\n\tcurrentLevel: Scene['tension']['level'],\n\tpreviousLevel?: Scene['tension']['level'],\n): Scene['tension']['direction'] {\n\tif (!previousLevel) return 'stable';\n\n\tconst currentIndex = TENSION_LEVEL_ORDER.indexOf(currentLevel);\n\tconst previousIndex = TENSION_LEVEL_ORDER.indexOf(previousLevel);\n\n\tif (currentIndex > previousIndex) return 'escalating';\n\tif (currentIndex < previousIndex) return 'decreasing';\n\treturn 'stable';\n}\n","export type TimeFormat = '12h' | '24h';\n\nexport function applyTimeFormat(hour: number, minute: number, format: TimeFormat): string {\n\tconst mm = String(minute).padStart(2, '0');\n\n\tif (format === '12h') {\n\t\tconst h = hour % 12 || 12;\n\t\tconst ampm = hour < 12 ? 'AM' : 'PM';\n\t\treturn `${h}:${mm} ${ampm}`;\n\t}\n\n\treturn `${String(hour).padStart(2, '0')}:${mm}`;\n}\n","/**\n * Climate API Client\n *\n * Fetches historical climate data from Open-Meteo API.\n * Converts metric units to imperial (Fahrenheit, mph, inches).\n */\n\nimport type { ClimateNormals } from './types';\nimport { getClimateNormalsFromFallback } from './fallbackProfiles';\n\n// ============================================\n// Constants\n// ============================================\n\nconst OPEN_METEO_ARCHIVE_URL = 'https://archive-api.open-meteo.com/v1/archive';\nconst NOMINATIM_URL = 'https://nominatim.openstreetmap.org/search';\nconst USER_AGENT = 'BlazeTracker/1.0 (SillyTavern Extension)';\n\n// Cache for API responses\nconst climateCache = new Map<string, ClimateNormals>();\nconst geocodeCache = new Map<string, { latitude: number; longitude: number } | null>();\n\n// ============================================\n// Unit Conversion\n// ============================================\n\nfunction celsiusToFahrenheit(c: number): number {\n\treturn (c * 9) / 5 + 32;\n}\n\nfunction kmhToMph(kmh: number): number {\n\treturn kmh * 0.621371;\n}\n\nfunction mmToInches(mm: number): number {\n\treturn mm * 0.0393701;\n}\n\n// ============================================\n// Geocoding\n// ============================================\n\n/**\n * Geocode a place name to coordinates using Nominatim\n */\nexport async function geocodeLocation(\n\tplaceName: string,\n): Promise<{ latitude: number; longitude: number } | null> {\n\tconst cacheKey = placeName.toLowerCase().trim();\n\n\tif (geocodeCache.has(cacheKey)) {\n\t\treturn geocodeCache.get(cacheKey)!;\n\t}\n\n\ttry {\n\t\tconst params = new URLSearchParams({\n\t\t\tq: placeName,\n\t\t\tformat: 'json',\n\t\t\tlimit: '1',\n\t\t});\n\n\t\tconst response = await fetch(`${NOMINATIM_URL}?${params}`, {\n\t\t\theaders: {\n\t\t\t\t'User-Agent': USER_AGENT,\n\t\t\t},\n\t\t});\n\n\t\tif (!response.ok) {\n\t\t\tconsole.warn(\n\t\t\t\t`[BlazeTracker] Geocoding failed for \"${placeName}\": ${response.status}`,\n\t\t\t);\n\t\t\tgeocodeCache.set(cacheKey, null);\n\t\t\treturn null;\n\t\t}\n\n\t\tconst data = await response.json();\n\n\t\tif (!Array.isArray(data) || data.length === 0) {\n\t\t\tconsole.warn(`[BlazeTracker] No geocoding results for \"${placeName}\"`);\n\t\t\tgeocodeCache.set(cacheKey, null);\n\t\t\treturn null;\n\t\t}\n\n\t\tconst result = {\n\t\t\tlatitude: parseFloat(data[0].lat),\n\t\t\tlongitude: parseFloat(data[0].lon),\n\t\t};\n\n\t\tgeocodeCache.set(cacheKey, result);\n\t\treturn result;\n\t} catch (error) {\n\t\tconsole.error(`[BlazeTracker] Geocoding error for \"${placeName}\":`, error);\n\t\tgeocodeCache.set(cacheKey, null);\n\t\treturn null;\n\t}\n}\n\n// ============================================\n// Climate Data Fetching\n// ============================================\n\n/**\n * Fetch historical climate data from Open-Meteo\n * Returns averages for the specified month based on historical data\n */\nexport async function fetchClimateNormals(\n\tlatitude: number,\n\tlongitude: number,\n\tmonth: number,\n\tfallbackClimateType?: string,\n): Promise<ClimateNormals> {\n\tconst cacheKey = `${latitude.toFixed(2)},${longitude.toFixed(2)},${month}`;\n\n\tif (climateCache.has(cacheKey)) {\n\t\treturn climateCache.get(cacheKey)!;\n\t}\n\n\ttry {\n\t\t// Query last 10 years of data for this month\n\t\tconst currentYear = new Date().getFullYear();\n\t\tconst years: number[] = [];\n\t\tfor (let y = currentYear - 10; y < currentYear; y++) {\n\t\t\tyears.push(y);\n\t\t}\n\n\t\t// Build date ranges for the target month across all years\n\t\tconst allData = await Promise.all(\n\t\t\tyears.map(year => fetchMonthData(latitude, longitude, year, month)),\n\t\t);\n\n\t\t// Filter out failed fetches\n\t\tconst validData = allData.filter(d => d !== null) as MonthData[];\n\n\t\tif (validData.length === 0) {\n\t\t\tconsole.warn(`[BlazeTracker] No climate data available, using fallback`);\n\t\t\treturn getFallbackNormals(latitude, longitude, month, fallbackClimateType);\n\t\t}\n\n\t\t// Calculate averages\n\t\tconst normals = calculateNormals(validData, latitude, longitude, month);\n\t\tclimateCache.set(cacheKey, normals);\n\t\treturn normals;\n\t} catch (error) {\n\t\tconsole.error(`[BlazeTracker] Climate API error:`, error);\n\t\treturn getFallbackNormals(latitude, longitude, month, fallbackClimateType);\n\t}\n}\n\ninterface MonthData {\n\thighs: number[];\n\tlows: number[];\n\tprecip: number[];\n\thumidity: number[];\n\twindSpeed: number[];\n\tcloudCover: number[];\n}\n\n/**\n * Fetch data for a single month in a single year\n */\nasync function fetchMonthData(\n\tlatitude: number,\n\tlongitude: number,\n\tyear: number,\n\tmonth: number,\n): Promise<MonthData | null> {\n\ttry {\n\t\t// Calculate date range for the month\n\t\tconst startDate = `${year}-${String(month).padStart(2, '0')}-01`;\n\t\tconst lastDay = new Date(year, month, 0).getDate();\n\t\tconst endDate = `${year}-${String(month).padStart(2, '0')}-${String(lastDay).padStart(2, '0')}`;\n\n\t\tconst params = new URLSearchParams({\n\t\t\tlatitude: latitude.toString(),\n\t\t\tlongitude: longitude.toString(),\n\t\t\tstart_date: startDate,\n\t\t\tend_date: endDate,\n\t\t\tdaily: [\n\t\t\t\t'temperature_2m_max',\n\t\t\t\t'temperature_2m_min',\n\t\t\t\t'precipitation_sum',\n\t\t\t\t'relative_humidity_2m_mean',\n\t\t\t\t'windspeed_10m_max',\n\t\t\t\t'cloudcover_mean',\n\t\t\t].join(','),\n\t\t\ttimezone: 'auto',\n\t\t});\n\n\t\tconst response = await fetch(`${OPEN_METEO_ARCHIVE_URL}?${params}`);\n\n\t\tif (!response.ok) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst data = await response.json();\n\n\t\tif (!data.daily) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\thighs: data.daily.temperature_2m_max || [],\n\t\t\tlows: data.daily.temperature_2m_min || [],\n\t\t\tprecip: data.daily.precipitation_sum || [],\n\t\t\thumidity: data.daily.relative_humidity_2m_mean || [],\n\t\t\twindSpeed: data.daily.windspeed_10m_max || [],\n\t\t\tcloudCover: data.daily.cloudcover_mean || [],\n\t\t};\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n/**\n * Calculate climate normals from historical data\n */\nfunction calculateNormals(\n\tdata: MonthData[],\n\tlatitude: number,\n\tlongitude: number,\n\tmonth: number,\n): ClimateNormals {\n\t// Flatten all data points\n\tconst allHighs = data.flatMap(d => d.highs).filter(v => v !== null);\n\tconst allLows = data.flatMap(d => d.lows).filter(v => v !== null);\n\tconst allPrecip = data.flatMap(d => d.precip).filter(v => v !== null);\n\tconst allHumidity = data.flatMap(d => d.humidity).filter(v => v !== null);\n\tconst allWind = data.flatMap(d => d.windSpeed).filter(v => v !== null);\n\tconst allClouds = data.flatMap(d => d.cloudCover).filter(v => v !== null);\n\n\tconst avg = (arr: number[]) =>\n\t\tarr.length > 0 ? arr.reduce((a, b) => a + b, 0) / arr.length : 0;\n\n\tconst stdDev = (arr: number[]) => {\n\t\tif (arr.length === 0) return 0;\n\t\tconst mean = avg(arr);\n\t\tconst squareDiffs = arr.map(v => Math.pow(v - mean, 2));\n\t\treturn Math.sqrt(avg(squareDiffs));\n\t};\n\n\t// Count precip days (>1mm = >0.04 inches)\n\tconst precipDays = allPrecip.filter(p => p > 1).length / data.length;\n\n\t// Calculate sun times based on latitude and month\n\tconst sunTimes = calculateSunTimes(latitude, month);\n\n\t// Estimate condition probabilities from cloud cover and precip\n\tconst avgCloudCover = avg(allClouds);\n\tconst precipProb = precipDays / 30;\n\n\tconst conditionProbabilities = {\n\t\tclear: Math.max(0, (100 - avgCloudCover) / 100 - precipProb) * 0.5,\n\t\tpartlyCloudy: Math.min(0.3, avgCloudCover / 200),\n\t\tovercast: Math.min(0.3, avgCloudCover / 150),\n\t\train: precipProb * (avg(allLows) > 32 ? 1 : 0.3),\n\t\tsnow: precipProb * (avg(allLows) <= 32 ? 1 : 0),\n\t};\n\n\t// Normalize probabilities\n\tconst total = Object.values(conditionProbabilities).reduce((a, b) => a + b, 0);\n\tif (total > 0) {\n\t\tObject.keys(conditionProbabilities).forEach(k => {\n\t\t\tconditionProbabilities[k as keyof typeof conditionProbabilities] /= total;\n\t\t});\n\t}\n\n\treturn {\n\t\tlatitude,\n\t\tlongitude,\n\t\tmonth,\n\t\tavgHigh: celsiusToFahrenheit(avg(allHighs)),\n\t\tavgLow: celsiusToFahrenheit(avg(allLows)),\n\t\tavgPrecipitation: mmToInches(avg(allPrecip)),\n\t\tavgPrecipDays: Math.round(precipDays),\n\t\tavgHumidity: avg(allHumidity),\n\t\tavgWindSpeed: kmhToMph(avg(allWind)),\n\t\tavgCloudCover: avg(allClouds),\n\t\tavgSunriseHour: sunTimes.sunrise,\n\t\tavgSunsetHour: sunTimes.sunset,\n\t\ttempStdDev: celsiusToFahrenheit(stdDev(allHighs)) - 32, // Convert std dev\n\t\tconditionProbabilities,\n\t};\n}\n\n/**\n * Calculate approximate sunrise/sunset times based on latitude and month\n */\nfunction calculateSunTimes(latitude: number, month: number): { sunrise: number; sunset: number } {\n\t// Simplified calculation based on latitude and time of year\n\t// June 21 = summer solstice (longest day in northern hemisphere)\n\t// December 21 = winter solstice (shortest day)\n\n\tconst dayOfYear = (month - 1) * 30 + 15; // Approximate mid-month\n\tconst summerSolstice = 172; // ~June 21\n\n\t// Calculate day length variation based on latitude\n\t// At equator, day length is ~12 hours year-round\n\t// At 60 latitude, variation is ~6 hours\n\tconst latitudeRadians = (Math.abs(latitude) * Math.PI) / 180;\n\tconst maxVariation = Math.min(6, Math.tan(latitudeRadians) * 3);\n\n\t// Sinusoidal variation through the year\n\tconst variation =\n\t\tMath.cos(((dayOfYear - summerSolstice) * 2 * Math.PI) / 365) * maxVariation;\n\n\t// Apply hemisphere correction\n\tconst hemisphereCorrection = latitude >= 0 ? 1 : -1;\n\tconst dayLengthHours = 12 + variation * hemisphereCorrection;\n\n\t// Calculate sunrise/sunset from day length\n\tconst sunrise = 12 - dayLengthHours / 2;\n\tconst sunset = 12 + dayLengthHours / 2;\n\n\treturn {\n\t\tsunrise: Math.max(4, Math.min(9, sunrise)),\n\t\tsunset: Math.max(17, Math.min(21, sunset)),\n\t};\n}\n\n/**\n * Get fallback normals when API fails\n */\nfunction getFallbackNormals(\n\tlatitude: number,\n\tlongitude: number,\n\tmonth: number,\n\tfallbackClimateType?: string,\n): ClimateNormals {\n\t// Infer climate type from latitude if not provided\n\tlet climateType = fallbackClimateType;\n\n\tif (!climateType) {\n\t\tconst absLat = Math.abs(latitude);\n\t\tif (absLat > 60) climateType = 'arctic';\n\t\telse if (absLat < 25) climateType = 'tropical';\n\t\telse if (absLat > 45) climateType = 'continental';\n\t\telse climateType = 'temperate';\n\t}\n\n\tconst normals = getClimateNormalsFromFallback(\n\t\tclimateType as Parameters<typeof getClimateNormalsFromFallback>[0],\n\t\tmonth,\n\t);\n\n\t// Override with actual coordinates\n\treturn {\n\t\t...normals,\n\t\tlatitude,\n\t\tlongitude,\n\t};\n}\n\n/**\n * Clear all caches (for testing)\n */\nexport function clearCaches(): void {\n\tclimateCache.clear();\n\tgeocodeCache.clear();\n}\n","/**\n * Fallback Climate Profiles\n *\n * Hardcoded climate data for when API/geocoding fails.\n * All temperatures in Fahrenheit.\n */\n\nimport type { BaseClimateType, FallbackClimateProfile, ClimateNormals } from './types';\n\n// ============================================\n// Profiles\n// ============================================\n\nexport const FALLBACK_PROFILES: Record<BaseClimateType, FallbackClimateProfile> = {\n\ttemperate: {\n\t\ttype: 'temperate',\n\t\tmonthlyHighs: [40, 43, 52, 62, 72, 80, 85, 83, 76, 64, 52, 43],\n\t\tmonthlyLows: [25, 27, 34, 43, 53, 62, 67, 65, 57, 46, 36, 28],\n\t\tmonthlyPrecipDays: [10, 9, 11, 11, 12, 10, 9, 9, 8, 8, 9, 10],\n\t\tmonthlyHumidity: [70, 68, 62, 58, 62, 65, 68, 70, 72, 70, 72, 72],\n\t\ttempStdDev: 8,\n\t\tprecipPersistence: 0.6,\n\t\tconditionWeights: {\n\t\t\twinter: { clear: 0.3, overcast: 0.35, snow: 0.2, rain: 0.15 },\n\t\t\tspring: { clear: 0.35, partly_cloudy: 0.3, rain: 0.25, overcast: 0.1 },\n\t\t\tsummer: { sunny: 0.45, partly_cloudy: 0.3, thunderstorm: 0.15, clear: 0.1 },\n\t\t\tfall: { clear: 0.35, overcast: 0.3, rain: 0.2, partly_cloudy: 0.15 },\n\t\t},\n\t},\n\tdesert: {\n\t\ttype: 'desert',\n\t\tmonthlyHighs: [67, 72, 80, 89, 99, 109, 111, 109, 103, 91, 77, 67],\n\t\tmonthlyLows: [45, 49, 55, 63, 72, 81, 87, 85, 78, 65, 53, 45],\n\t\tmonthlyPrecipDays: [3, 3, 2, 1, 1, 0, 2, 3, 2, 2, 2, 3],\n\t\tmonthlyHumidity: [35, 30, 25, 18, 15, 12, 25, 30, 28, 25, 30, 38],\n\t\ttempStdDev: 6,\n\t\tprecipPersistence: 0.3,\n\t\tconditionWeights: {\n\t\t\twinter: { sunny: 0.6, clear: 0.3, partly_cloudy: 0.1 },\n\t\t\tspring: { sunny: 0.7, clear: 0.2, windy: 0.1 },\n\t\t\tsummer: { hot: 0.5, sunny: 0.3, thunderstorm: 0.15, clear: 0.05 },\n\t\t\tfall: { sunny: 0.6, clear: 0.3, partly_cloudy: 0.1 },\n\t\t},\n\t},\n\tarctic: {\n\t\ttype: 'arctic',\n\t\tmonthlyHighs: [5, 8, 18, 32, 45, 55, 60, 57, 47, 32, 18, 8],\n\t\tmonthlyLows: [-12, -10, 0, 18, 32, 42, 47, 45, 36, 22, 8, -5],\n\t\tmonthlyPrecipDays: [8, 7, 7, 6, 7, 8, 10, 11, 10, 10, 9, 8],\n\t\tmonthlyHumidity: [75, 73, 70, 68, 70, 75, 80, 82, 80, 78, 76, 75],\n\t\ttempStdDev: 10,\n\t\tprecipPersistence: 0.7,\n\t\tconditionWeights: {\n\t\t\twinter: { snow: 0.4, overcast: 0.3, cold: 0.2, clear: 0.1 },\n\t\t\tspring: { overcast: 0.3, snow: 0.3, partly_cloudy: 0.25, clear: 0.15 },\n\t\t\tsummer: { partly_cloudy: 0.35, overcast: 0.3, rain: 0.2, clear: 0.15 },\n\t\t\tfall: { overcast: 0.35, snow: 0.25, cold: 0.2, partly_cloudy: 0.2 },\n\t\t},\n\t},\n\ttropical: {\n\t\ttype: 'tropical',\n\t\tmonthlyHighs: [87, 88, 89, 90, 90, 89, 88, 88, 88, 88, 87, 87],\n\t\tmonthlyLows: [73, 73, 74, 75, 76, 76, 75, 75, 75, 75, 74, 73],\n\t\tmonthlyPrecipDays: [8, 6, 7, 10, 15, 18, 20, 19, 17, 15, 12, 9],\n\t\tmonthlyHumidity: [78, 75, 74, 76, 82, 85, 86, 86, 85, 84, 82, 80],\n\t\ttempStdDev: 3,\n\t\tprecipPersistence: 0.7,\n\t\tconditionWeights: {\n\t\t\twinter: { sunny: 0.4, partly_cloudy: 0.35, rain: 0.2, humid: 0.05 },\n\t\t\tspring: { partly_cloudy: 0.35, rain: 0.3, thunderstorm: 0.2, humid: 0.15 },\n\t\t\tsummer: { rain: 0.35, thunderstorm: 0.25, humid: 0.25, overcast: 0.15 },\n\t\t\tfall: { partly_cloudy: 0.3, rain: 0.3, humid: 0.2, thunderstorm: 0.2 },\n\t\t},\n\t},\n\tmediterranean: {\n\t\ttype: 'mediterranean',\n\t\tmonthlyHighs: [55, 58, 63, 70, 78, 87, 93, 93, 86, 75, 63, 55],\n\t\tmonthlyLows: [40, 42, 45, 50, 57, 64, 70, 70, 64, 55, 47, 41],\n\t\tmonthlyPrecipDays: [9, 8, 7, 5, 2, 1, 0, 1, 2, 5, 7, 9],\n\t\tmonthlyHumidity: [72, 68, 62, 55, 48, 42, 38, 40, 48, 58, 68, 73],\n\t\ttempStdDev: 5,\n\t\tprecipPersistence: 0.5,\n\t\tconditionWeights: {\n\t\t\twinter: { rain: 0.35, overcast: 0.3, partly_cloudy: 0.2, clear: 0.15 },\n\t\t\tspring: { sunny: 0.4, partly_cloudy: 0.35, clear: 0.15, rain: 0.1 },\n\t\t\tsummer: { sunny: 0.6, hot: 0.25, clear: 0.1, partly_cloudy: 0.05 },\n\t\t\tfall: { partly_cloudy: 0.35, sunny: 0.3, rain: 0.2, overcast: 0.15 },\n\t\t},\n\t},\n\tcontinental: {\n\t\ttype: 'continental',\n\t\tmonthlyHighs: [32, 37, 48, 62, 73, 82, 87, 85, 76, 63, 48, 35],\n\t\tmonthlyLows: [17, 21, 30, 40, 51, 61, 66, 64, 55, 43, 32, 22],\n\t\tmonthlyPrecipDays: [9, 8, 10, 11, 12, 10, 9, 9, 8, 8, 9, 9],\n\t\tmonthlyHumidity: [72, 70, 65, 58, 60, 62, 65, 68, 70, 68, 72, 74],\n\t\ttempStdDev: 12,\n\t\tprecipPersistence: 0.55,\n\t\tconditionWeights: {\n\t\t\twinter: { snow: 0.35, overcast: 0.3, cold: 0.2, clear: 0.15 },\n\t\t\tspring: { partly_cloudy: 0.3, rain: 0.3, clear: 0.25, thunderstorm: 0.15 },\n\t\t\tsummer: { sunny: 0.35, hot: 0.25, thunderstorm: 0.25, partly_cloudy: 0.15 },\n\t\t\tfall: { clear: 0.35, overcast: 0.3, rain: 0.2, partly_cloudy: 0.15 },\n\t\t},\n\t},\n\toceanic: {\n\t\ttype: 'oceanic',\n\t\tmonthlyHighs: [47, 49, 53, 58, 64, 69, 73, 73, 68, 59, 52, 47],\n\t\tmonthlyLows: [38, 38, 41, 44, 50, 55, 59, 59, 55, 48, 43, 39],\n\t\tmonthlyPrecipDays: [15, 12, 13, 11, 10, 9, 8, 9, 10, 13, 14, 15],\n\t\tmonthlyHumidity: [85, 82, 78, 75, 76, 78, 80, 82, 83, 85, 86, 86],\n\t\ttempStdDev: 4,\n\t\tprecipPersistence: 0.65,\n\t\tconditionWeights: {\n\t\t\twinter: { overcast: 0.4, rain: 0.35, drizzle: 0.15, foggy: 0.1 },\n\t\t\tspring: { partly_cloudy: 0.35, rain: 0.3, overcast: 0.2, drizzle: 0.15 },\n\t\t\tsummer: { partly_cloudy: 0.4, overcast: 0.25, rain: 0.2, sunny: 0.15 },\n\t\t\tfall: { overcast: 0.35, rain: 0.35, drizzle: 0.15, foggy: 0.15 },\n\t\t},\n\t},\n};\n\n// ============================================\n// Helpers\n// ============================================\n\n/**\n * Get season from month (Northern Hemisphere)\n */\nfunction getSeason(month: number): 'winter' | 'spring' | 'summer' | 'fall' {\n\tif (month >= 3 && month <= 5) return 'spring';\n\tif (month >= 6 && month <= 8) return 'summer';\n\tif (month >= 9 && month <= 11) return 'fall';\n\treturn 'winter';\n}\n\n/**\n * Get approximate sunrise/sunset for a month\n * Returns hours (e.g., 6.5 = 6:30 AM)\n */\nfunction getApproxSunTimes(\n\tmonth: number,\n\tbaseClimate: BaseClimateType,\n): { sunrise: number; sunset: number } {\n\t// Base times vary by latitude approximation\n\tconst latitudeEffect: Record<BaseClimateType, number> = {\n\t\tarctic: 3, // Extreme variation\n\t\tcontinental: 1.5,\n\t\ttemperate: 1,\n\t\toceanic: 0.8,\n\t\tmediterranean: 0.7,\n\t\tdesert: 0.5,\n\t\ttropical: 0.3, // Minimal variation\n\t};\n\n\tconst effect = latitudeEffect[baseClimate];\n\n\t// June = longest day (month 6), December = shortest (month 12)\n\t// Sinusoidal variation\n\tconst dayOfYear = (month - 1) * 30 + 15; // Approximate\n\tconst summerSolstice = 172; // ~June 21\n\tconst variation = Math.cos(((dayOfYear - summerSolstice) * 2 * Math.PI) / 365);\n\n\t// Base: 6 AM sunrise, 6 PM sunset (equinox)\n\tconst sunrise = 6 - variation * effect;\n\tconst sunset = 18 + variation * effect;\n\n\treturn { sunrise, sunset };\n}\n\n/**\n * Convert a fallback profile to ClimateNormals for a given month\n */\nexport function getClimateNormalsFromFallback(\n\tbaseClimate: BaseClimateType,\n\tmonth: number,\n): ClimateNormals {\n\tconst profile = FALLBACK_PROFILES[baseClimate];\n\tconst monthIndex = month - 1;\n\tconst season = getSeason(month);\n\tconst { sunrise, sunset } = getApproxSunTimes(month, baseClimate);\n\n\t// Calculate condition probabilities from weights\n\tconst weights = profile.conditionWeights[season];\n\tconst totalWeight = Object.values(weights).reduce((a, b) => a + b, 0);\n\n\t// Map to standard condition probabilities\n\tconst conditionProbabilities = {\n\t\tclear: ((weights.clear || 0) + (weights.sunny || 0)) / totalWeight || 0.2,\n\t\tpartlyCloudy: (weights.partly_cloudy || 0) / totalWeight || 0.2,\n\t\tovercast: (weights.overcast || 0) / totalWeight || 0.2,\n\t\train:\n\t\t\t((weights.rain || 0) +\n\t\t\t\t(weights.drizzle || 0) +\n\t\t\t\t(weights.thunderstorm || 0)) /\n\t\t\t\ttotalWeight || 0.2,\n\t\tsnow: (weights.snow || 0) / totalWeight || 0,\n\t};\n\n\t// Estimate precipitation (inches/day based on precip days)\n\tconst avgPrecipitation = (profile.monthlyPrecipDays[monthIndex] / 30) * 0.15; // ~0.15\" per rainy day\n\n\treturn {\n\t\tlatitude: 0, // Unknown for fallback\n\t\tlongitude: 0,\n\t\tmonth,\n\t\tavgHigh: profile.monthlyHighs[monthIndex],\n\t\tavgLow: profile.monthlyLows[monthIndex],\n\t\tavgPrecipitation,\n\t\tavgPrecipDays: profile.monthlyPrecipDays[monthIndex],\n\t\tavgHumidity: profile.monthlyHumidity[monthIndex],\n\t\tavgWindSpeed: 8, // Default moderate wind\n\t\tavgCloudCover: 50, // Default moderate clouds\n\t\tavgSunriseHour: sunrise,\n\t\tavgSunsetHour: sunset,\n\t\ttempStdDev: profile.tempStdDev,\n\t\tconditionProbabilities,\n\t};\n}\n\n/**\n * Get a fallback profile by type\n */\nexport function getFallbackProfile(type: BaseClimateType): FallbackClimateProfile {\n\treturn FALLBACK_PROFILES[type];\n}\n\n/**\n * Determine most likely base climate type from temperature and conditions\n */\nexport function inferBaseClimateType(\n\tavgTemp: number,\n\thumidity: number,\n\tcondition: string,\n): BaseClimateType {\n\tconst conditionLower = condition.toLowerCase();\n\n\t// Check for obvious conditions\n\tif (conditionLower.includes('snow') || conditionLower.includes('blizzard')) {\n\t\treturn avgTemp < 20 ? 'arctic' : 'continental';\n\t}\n\n\tif (conditionLower.includes('hot') || avgTemp > 95) {\n\t\treturn humidity < 40 ? 'desert' : 'tropical';\n\t}\n\n\t// Temperature-based heuristics\n\tif (avgTemp < 32) return 'arctic';\n\tif (avgTemp > 85 && humidity > 70) return 'tropical';\n\tif (avgTemp > 85 && humidity < 40) return 'desert';\n\tif (humidity > 75) return 'oceanic';\n\n\t// Default to temperate\n\treturn 'temperate';\n}\n","/**\n * Forecast Cache\n *\n * Manages per-location forecast storage and retrieval.\n */\n\nimport type { ForecastCacheEntry, LocationForecast } from './types';\nimport type { NarrativeDateTime } from '../types/state';\n\n// ============================================\n// Location ID\n// ============================================\n\n/**\n * Generate consistent location ID from area name\n */\nexport function getLocationId(area: string): string {\n\treturn area.toLowerCase().trim().replace(/\\s+/g, '-');\n}\n\n// ============================================\n// Date Utilities\n// ============================================\n\n/**\n * Parse a YYYY-MM-DD date string\n */\nfunction parseDate(dateStr: string): Date {\n\tconst [year, month, day] = dateStr.split('-').map(Number);\n\treturn new Date(year, month - 1, day);\n}\n\n/**\n * Convert NarrativeDateTime to Date\n */\nfunction toDate(dt: NarrativeDateTime): Date {\n\treturn new Date(dt.year, dt.month - 1, dt.day);\n}\n\n/**\n * Add days to a date\n */\nfunction addDays(date: Date, days: number): Date {\n\tconst result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n}\n\n// ============================================\n// Cache Operations\n// ============================================\n\n/**\n * Get a cached forecast for an area\n * Returns null if not found or expired\n */\nexport function getCachedForecast(\n\tcache: ForecastCacheEntry[],\n\tarea: string,\n\tcurrentDate: NarrativeDateTime,\n): LocationForecast | null {\n\tconst locationId = getLocationId(area);\n\tconst entry = cache.find(e => getLocationId(e.areaName) === locationId);\n\n\tif (!entry) {\n\t\treturn null;\n\t}\n\n\t// Check if forecast covers current date\n\tconst forecastStart = parseDate(entry.forecast.startDate);\n\tconst forecastEnd = addDays(forecastStart, entry.forecast.days.length);\n\tconst current = toDate(currentDate);\n\n\tif (current < forecastStart || current >= forecastEnd) {\n\t\treturn null; // Forecast doesn't cover this date\n\t}\n\n\treturn entry.forecast;\n}\n\n/**\n * Add or update a forecast in the cache\n */\nexport function cacheForecast(\n\tcache: ForecastCacheEntry[],\n\tarea: string,\n\tforecast: LocationForecast,\n): ForecastCacheEntry[] {\n\tconst locationId = getLocationId(area);\n\n\t// Remove existing entry for this location\n\tconst filtered = cache.filter(e => getLocationId(e.areaName) !== locationId);\n\n\t// Add new entry\n\treturn [\n\t\t...filtered,\n\t\t{\n\t\t\tareaName: area,\n\t\t\tforecast,\n\t\t\tlastAccessedDate: new Date().toISOString(),\n\t\t},\n\t];\n}\n\n/**\n * Update the last accessed date for a cache entry\n */\nexport function touchCacheEntry(cache: ForecastCacheEntry[], area: string): ForecastCacheEntry[] {\n\tconst locationId = getLocationId(area);\n\n\treturn cache.map(entry => {\n\t\tif (getLocationId(entry.areaName) === locationId) {\n\t\t\treturn {\n\t\t\t\t...entry,\n\t\t\t\tlastAccessedDate: new Date().toISOString(),\n\t\t\t};\n\t\t}\n\t\treturn entry;\n\t});\n}\n\n/**\n * Remove a specific location from the cache\n */\nexport function removeCacheEntry(cache: ForecastCacheEntry[], area: string): ForecastCacheEntry[] {\n\tconst locationId = getLocationId(area);\n\treturn cache.filter(e => getLocationId(e.areaName) !== locationId);\n}\n\n/**\n * Clean up old cache entries\n */\nexport function cleanupCache(\n\tcache: ForecastCacheEntry[],\n\tmaxAgeMs: number = 30 * 24 * 60 * 60 * 1000, // 30 days default\n): ForecastCacheEntry[] {\n\tconst cutoff = Date.now() - maxAgeMs;\n\n\treturn cache.filter(entry => {\n\t\tconst lastAccessed = new Date(entry.lastAccessedDate).getTime();\n\t\treturn lastAccessed > cutoff;\n\t});\n}\n\n/**\n * Get cache statistics\n */\nexport function getCacheStats(cache: ForecastCacheEntry[]): {\n\tentryCount: number;\n\ttotalDays: number;\n\toldestAccess: string | null;\n\tnewestAccess: string | null;\n} {\n\tif (cache.length === 0) {\n\t\treturn {\n\t\t\tentryCount: 0,\n\t\t\ttotalDays: 0,\n\t\t\toldestAccess: null,\n\t\t\tnewestAccess: null,\n\t\t};\n\t}\n\n\tconst accessDates = cache\n\t\t.map(e => new Date(e.lastAccessedDate).getTime())\n\t\t.sort((a, b) => a - b);\n\n\treturn {\n\t\tentryCount: cache.length,\n\t\ttotalDays: cache.reduce((sum, e) => sum + e.forecast.days.length, 0),\n\t\toldestAccess: new Date(accessDates[0]).toISOString(),\n\t\tnewestAccess: new Date(accessDates[accessDates.length - 1]).toISOString(),\n\t};\n}\n\n// ============================================\n// Forecast Querying\n// ============================================\n\n/**\n * Check if a forecast covers a date range\n */\nexport function forecastCoversRange(\n\tforecast: LocationForecast,\n\tstartDate: NarrativeDateTime,\n\tendDate: NarrativeDateTime,\n): boolean {\n\tconst forecastStart = parseDate(forecast.startDate);\n\tconst forecastEnd = addDays(forecastStart, forecast.days.length);\n\n\tconst rangeStart = toDate(startDate);\n\tconst rangeEnd = toDate(endDate);\n\n\treturn rangeStart >= forecastStart && rangeEnd < forecastEnd;\n}\n\n/**\n * Get the number of days remaining in a forecast from a given date\n */\nexport function getDaysRemaining(\n\tforecast: LocationForecast,\n\tcurrentDate: NarrativeDateTime,\n): number {\n\tconst forecastStart = parseDate(forecast.startDate);\n\tconst forecastEnd = addDays(forecastStart, forecast.days.length);\n\tconst current = toDate(currentDate);\n\n\tif (current >= forecastEnd) {\n\t\treturn 0;\n\t}\n\n\tconst diffMs = forecastEnd.getTime() - current.getTime();\n\treturn Math.ceil(diffMs / (1000 * 60 * 60 * 24));\n}\n\n/**\n * Determine if a forecast should be regenerated\n * (less than 3 days remaining or doesn't cover current date)\n */\nexport function shouldRegenerateForecast(\n\tforecast: LocationForecast | null,\n\tcurrentDate: NarrativeDateTime,\n\tminDaysRemaining: number = 3,\n): boolean {\n\tif (!forecast) {\n\t\treturn true;\n\t}\n\n\tconst daysRemaining = getDaysRemaining(forecast, currentDate);\n\treturn daysRemaining < minDaysRemaining;\n}\n","/**\n * Forecast Generator\n *\n * Generates a 4-week weather forecast with realistic day-to-day variation\n * using autocorrelated temperature generation and Markov chain precipitation.\n */\n\nimport seedrandom from 'seedrandom';\nimport type {\n\tClimateNormals,\n\tDailyForecast,\n\tHourlyWeather,\n\tLocationForecast,\n\tWeatherCondition,\n} from './types';\nimport type { NarrativeDateTime } from '../types/state';\nimport { deriveCondition, calculateFeelsLike, getDominantCondition } from './weatherDeriver';\n\n// ============================================\n// Types\n// ============================================\n\nexport interface ForecastGeneratorParams {\n\tclimateNormals: ClimateNormals;\n\tstartDate: NarrativeDateTime;\n\tinitialConditions?: {\n\t\ttemperature: number;\n\t\tcondition: string;\n\t} | null;\n\tseed: string;\n\tdays?: number; // Default 28\n}\n\ninterface DayGeneratorState {\n\tprevDayMeanTemp: number;\n\twasRaining: boolean;\n\trng: () => number;\n}\n\n// ============================================\n// Random Utilities\n// ============================================\n\n/**\n * Box-Muller transform for Gaussian random numbers\n */\nfunction gaussianRandom(rng: () => number): number {\n\tlet u = 0,\n\t\tv = 0;\n\twhile (u === 0) u = rng(); // Avoid 0\n\twhile (v === 0) v = rng();\n\treturn Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n}\n\n/**\n * Clamp a value between min and max\n */\nfunction clamp(value: number, min: number, max: number): number {\n\treturn Math.max(min, Math.min(max, value));\n}\n\n// ============================================\n// Date Utilities\n// ============================================\n\n/**\n * Format date as YYYY-MM-DD\n */\nfunction formatDate(year: number, month: number, day: number): string {\n\treturn `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n}\n\n/**\n * Add days to a date\n */\nfunction addDays(\n\tyear: number,\n\tmonth: number,\n\tday: number,\n\tdaysToAdd: number,\n): { year: number; month: number; day: number } {\n\tconst date = new Date(year, month - 1, day + daysToAdd);\n\treturn {\n\t\tyear: date.getFullYear(),\n\t\tmonth: date.getMonth() + 1,\n\t\tday: date.getDate(),\n\t};\n}\n\n// ============================================\n// Temperature Generation\n// ============================================\n\n/**\n * Generate daily high/low temperatures using AR(1) process\n * This creates realistic day-to-day correlation\n */\nfunction generateDailyTemps(\n\tnormals: ClimateNormals,\n\tstate: DayGeneratorState,\n\tdayIndex: number,\n\tinitialAnchor?: { temperature: number } | null,\n): { high: number; low: number; meanTemp: number } {\n\tconst phi = 0.75; // Autocorrelation coefficient\n\tconst mean = (normals.avgHigh + normals.avgLow) / 2;\n\tconst range = normals.avgHigh - normals.avgLow;\n\n\tlet todayMean: number;\n\n\t// For day 0 with initial anchor, use the anchor\n\tif (dayIndex === 0 && initialAnchor) {\n\t\ttodayMean = initialAnchor.temperature;\n\t}\n\t// For days 1-2 with anchor, blend toward normals\n\telse if (dayIndex <= 2 && initialAnchor) {\n\t\tconst blendFactor = dayIndex / 3;\n\t\tconst noise =\n\t\t\tgaussianRandom(state.rng) *\n\t\t\tnormals.tempStdDev *\n\t\t\tMath.sqrt(1 - phi * phi) *\n\t\t\tblendFactor;\n\t\ttodayMean =\n\t\t\tstate.prevDayMeanTemp * (1 - blendFactor) +\n\t\t\t(mean + phi * (state.prevDayMeanTemp - mean) + noise) * blendFactor;\n\t}\n\t// Normal AR(1) process\n\telse {\n\t\tconst noise =\n\t\t\tgaussianRandom(state.rng) * normals.tempStdDev * Math.sqrt(1 - phi * phi);\n\t\ttodayMean = mean + phi * (state.prevDayMeanTemp - mean) + noise;\n\t}\n\n\t// Calculate high and low from mean\n\tconst high = todayMean + range / 2;\n\tconst low = todayMean - range / 2;\n\n\treturn {\n\t\thigh: Math.round(high),\n\t\tlow: Math.round(low),\n\t\tmeanTemp: todayMean,\n\t};\n}\n\n/**\n * Generate hourly temperatures using sinusoidal interpolation\n */\nfunction generateHourlyTemp(\n\thour: number,\n\thigh: number,\n\tlow: number,\n\tsunrise: number,\n\tsunset: number,\n): number {\n\t// Temperature minimum occurs near sunrise\n\t// Temperature maximum occurs ~2-3 hours after solar noon\n\tconst solarNoon = (sunrise + sunset) / 2;\n\tconst peakHour = solarNoon + 2;\n\n\t// Use sinusoidal model\n\t// Minimum at sunrise, maximum at peak hour\n\tconst range = high - low;\n\n\tif (hour < sunrise) {\n\t\t// Pre-dawn: gradually cooling toward minimum\n\t\tconst nightLength = 24 - sunset + sunrise;\n\t\tconst hoursFromSunset = hour + (24 - sunset);\n\t\tconst progress = hoursFromSunset / nightLength;\n\t\treturn low + range * 0.3 * (1 - progress);\n\t} else if (hour < peakHour) {\n\t\t// Morning: warming toward peak\n\t\tconst morningLength = peakHour - sunrise;\n\t\tconst progress = (hour - sunrise) / morningLength;\n\t\t// Sinusoidal ease-in\n\t\tconst factor = Math.sin((progress * Math.PI) / 2);\n\t\treturn low + range * factor;\n\t} else if (hour < sunset) {\n\t\t// Afternoon: cooling from peak\n\t\tconst afternoonLength = sunset - peakHour;\n\t\tconst progress = (hour - peakHour) / afternoonLength;\n\t\t// Sinusoidal ease-out\n\t\tconst factor = Math.cos((progress * Math.PI) / 2);\n\t\treturn low + range * factor;\n\t} else {\n\t\t// Evening: continued cooling\n\t\tconst eveningLength = 24 - sunset + sunrise;\n\t\tconst progress = (hour - sunset) / eveningLength;\n\t\treturn low + range * 0.3 * (1 - progress);\n\t}\n}\n\n// ============================================\n// Precipitation Generation\n// ============================================\n\n/**\n * Determine if it's raining today using Markov chain\n */\nfunction willRainToday(normals: ClimateNormals, state: DayGeneratorState): boolean {\n\tconst baseProbability = normals.avgPrecipDays / 30;\n\n\t// Persistence: if it rained yesterday, more likely today\n\tconst persistence = 0.6;\n\tconst probability = state.wasRaining\n\t\t? baseProbability + (1 - baseProbability) * persistence\n\t\t: baseProbability * (1 - persistence * 0.5);\n\n\treturn state.rng() < probability;\n}\n\n/**\n * Generate hourly precipitation amounts\n */\nfunction generateHourlyPrecip(\n\tisRaining: boolean,\n\tnormals: ClimateNormals,\n\trng: () => number,\n): number[] {\n\tconst hourly = new Array(24).fill(0);\n\n\tif (!isRaining) return hourly;\n\n\t// Determine rain pattern\n\t// 60% chance of sustained rain, 40% chance of scattered showers\n\tconst sustained = rng() < 0.6;\n\n\tif (sustained) {\n\t\t// Pick a start hour and duration\n\t\tconst startHour = Math.floor(rng() * 18); // Start between 0-17\n\t\tconst duration = Math.floor(rng() * 8) + 4; // 4-12 hours\n\n\t\tfor (let h = startHour; h < Math.min(startHour + duration, 24); h++) {\n\t\t\t// Base intensity with some variation\n\t\t\tconst intensity = (0.05 + rng() * 0.15) * (normals.avgPrecipitation * 30);\n\t\t\thourly[h] = Math.max(0.01, intensity);\n\t\t}\n\t} else {\n\t\t// Scattered showers - 2-4 short bursts\n\t\tconst numBursts = Math.floor(rng() * 3) + 2;\n\t\tfor (let i = 0; i < numBursts; i++) {\n\t\t\tconst burstHour = Math.floor(rng() * 24);\n\t\t\tconst burstDuration = Math.floor(rng() * 2) + 1;\n\t\t\tfor (let h = burstHour; h < Math.min(burstHour + burstDuration, 24); h++) {\n\t\t\t\tconst intensity =\n\t\t\t\t\t(0.02 + rng() * 0.1) * (normals.avgPrecipitation * 30);\n\t\t\t\thourly[h] = Math.max(0.01, intensity);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn hourly;\n}\n\n// ============================================\n// Cloud Cover Generation\n// ============================================\n\n/**\n * Generate hourly cloud cover\n */\nfunction generateHourlyClouds(\n\tisRaining: boolean,\n\tprecipHourly: number[],\n\tnormals: ClimateNormals,\n\trng: () => number,\n): number[] {\n\t// Base cloud cover from normals\n\tconst baseClouds = normals.avgCloudCover;\n\n\treturn precipHourly.map((precip, hour) => {\n\t\t// If raining, clouds are high\n\t\tif (precip > 0.01) {\n\t\t\treturn clamp(80 + rng() * 20, 70, 100);\n\t\t}\n\n\t\t// Otherwise, use base with variation\n\t\tconst variation = (rng() - 0.5) * 30;\n\t\tlet clouds = baseClouds + variation;\n\n\t\t// Morning tends to be clearer\n\t\tif (hour >= 6 && hour <= 10) {\n\t\t\tclouds -= 10;\n\t\t}\n\n\t\t// Afternoon buildup (especially in summer)\n\t\tif (hour >= 14 && hour <= 17) {\n\t\t\tclouds += 10;\n\t\t}\n\n\t\treturn clamp(clouds, 0, 100);\n\t});\n}\n\n// ============================================\n// Wind Generation\n// ============================================\n\n/**\n * Generate hourly wind speed and direction\n */\nfunction generateHourlyWind(\n\tnormals: ClimateNormals,\n\trng: () => number,\n): { speed: number[]; direction: number[] } {\n\tconst baseSpeed = normals.avgWindSpeed;\n\tconst speed: number[] = [];\n\tconst direction: number[] = [];\n\n\t// Pick a prevailing direction for the day\n\tconst prevailingDir = rng() * 360;\n\n\tfor (let h = 0; h < 24; h++) {\n\t\t// Wind is typically lighter at night, stronger in afternoon\n\t\tlet timeMultiplier = 1;\n\t\tif (h >= 0 && h < 6) timeMultiplier = 0.6;\n\t\telse if (h >= 12 && h < 18) timeMultiplier = 1.3;\n\n\t\t// Random variation\n\t\tconst variation = 0.7 + rng() * 0.6; // 0.7 to 1.3\n\n\t\tspeed.push(Math.max(0, Math.round(baseSpeed * timeMultiplier * variation)));\n\n\t\t// Direction varies around prevailing\n\t\tconst dirVariation = (rng() - 0.5) * 60; // 30 degrees\n\t\tdirection.push((prevailingDir + dirVariation + 360) % 360);\n\t}\n\n\treturn { speed, direction };\n}\n\n// ============================================\n// Humidity Generation\n// ============================================\n\n/**\n * Generate hourly humidity\n */\nfunction generateHourlyHumidity(\n\thourlyTemp: number[],\n\tprecipHourly: number[],\n\thigh: number,\n\tlow: number,\n\tnormals: ClimateNormals,\n\trng: () => number,\n): number[] {\n\tconst baseHumidity = normals.avgHumidity;\n\n\treturn hourlyTemp.map((temp, hour) => {\n\t\tlet humidity = baseHumidity;\n\n\t\t// Humidity inversely related to temperature (warmer = drier)\n\t\tconst tempRange = high - low;\n\t\tconst tempPosition = tempRange > 0 ? (temp - low) / tempRange : 0.5;\n\t\thumidity -= tempPosition * 15; // Up to 15% drop at peak temp\n\n\t\t// Rain increases humidity\n\t\tif (precipHourly[hour] > 0.01) {\n\t\t\thumidity += 20;\n\t\t}\n\n\t\t// Early morning tends to be more humid\n\t\tif (hour >= 4 && hour <= 7) {\n\t\t\thumidity += 10;\n\t\t}\n\n\t\t// Random variation\n\t\thumidity += (rng() - 0.5) * 10;\n\n\t\treturn clamp(Math.round(humidity), 20, 100);\n\t});\n}\n\n// ============================================\n// UV Index Generation\n// ============================================\n\n/**\n * Generate hourly UV index\n */\nfunction generateHourlyUV(\n\thourlyTemp: number[],\n\thourlyClouds: number[],\n\tsunrise: number,\n\tsunset: number,\n\tnormals: ClimateNormals,\n): number[] {\n\treturn hourlyTemp.map((_, hour) => {\n\t\t// No UV at night\n\t\tif (hour < sunrise || hour > sunset) return 0;\n\n\t\t// Peak UV at solar noon\n\t\tconst solarNoon = (sunrise + sunset) / 2;\n\t\tconst hoursFromNoon = Math.abs(hour - solarNoon);\n\t\tconst dayLength = sunset - sunrise;\n\n\t\t// Base UV curve (peaks at 10-11 at solar noon in summer)\n\t\tconst maxUV = 8 + (normals.avgHigh - 60) / 10; // Higher temp = higher max UV\n\t\tconst timeFactor = Math.cos((hoursFromNoon / (dayLength / 2)) * Math.PI * 0.5);\n\t\tlet uv = maxUV * Math.max(0, timeFactor);\n\n\t\t// Clouds reduce UV\n\t\tconst cloudReduction = hourlyClouds[hour] / 100;\n\t\tuv *= 1 - cloudReduction * 0.7;\n\n\t\treturn clamp(Math.round(uv), 0, 11);\n\t});\n}\n\n// ============================================\n// Main Generator\n// ============================================\n\n/**\n * Generate a complete day forecast\n */\nfunction generateDay(\n\tdateStr: string,\n\tnormals: ClimateNormals,\n\tstate: DayGeneratorState,\n\tdayIndex: number,\n\tinitialConditions?: { temperature: number; condition: string } | null,\n): DailyForecast {\n\t// Generate daily temps\n\tconst { high, low, meanTemp } = generateDailyTemps(\n\t\tnormals,\n\t\tstate,\n\t\tdayIndex,\n\t\tinitialConditions,\n\t);\n\tstate.prevDayMeanTemp = meanTemp;\n\n\t// Determine precipitation\n\tconst isRaining = willRainToday(normals, state);\n\tstate.wasRaining = isRaining;\n\n\t// Generate hourly data\n\tconst precipHourly = generateHourlyPrecip(isRaining, normals, state.rng);\n\tconst cloudHourly = generateHourlyClouds(isRaining, precipHourly, normals, state.rng);\n\tconst { speed: windSpeed, direction: windDir } = generateHourlyWind(normals, state.rng);\n\n\tconst hourly: HourlyWeather[] = [];\n\tconst conditions: WeatherCondition[] = [];\n\n\tfor (let h = 0; h < 24; h++) {\n\t\tconst temp = generateHourlyTemp(\n\t\t\th,\n\t\t\thigh,\n\t\t\tlow,\n\t\t\tnormals.avgSunriseHour,\n\t\t\tnormals.avgSunsetHour,\n\t\t);\n\n\t\tconst humidity = generateHourlyHumidity(\n\t\t\t[temp],\n\t\t\t[precipHourly[h]],\n\t\t\thigh,\n\t\t\tlow,\n\t\t\tnormals,\n\t\t\tstate.rng,\n\t\t)[0];\n\n\t\tconst hourData: HourlyWeather = {\n\t\t\thour: h,\n\t\t\ttemperature: Math.round(temp),\n\t\t\tfeelsLike: calculateFeelsLike(temp, humidity, windSpeed[h]),\n\t\t\thumidity,\n\t\t\tprecipitation: Math.round(precipHourly[h] * 100) / 100,\n\t\t\tprecipProbability:\n\t\t\t\tprecipHourly[h] > 0.01\n\t\t\t\t\t? 80 + state.rng() * 20\n\t\t\t\t\t: 10 + state.rng() * 20,\n\t\t\tcloudCover: Math.round(cloudHourly[h]),\n\t\t\twindSpeed: windSpeed[h],\n\t\t\twindDirection: Math.round(windDir[h]),\n\t\t\tuvIndex: 0, // Will be set below\n\t\t};\n\n\t\t// Derive condition\n\t\tconst condition = deriveCondition(hourData);\n\t\tconditions.push(condition);\n\n\t\thourly.push(hourData);\n\t}\n\n\t// Generate UV after we have all hourly data\n\tconst uvIndex = generateHourlyUV(\n\t\thourly.map(h => h.temperature),\n\t\thourly.map(h => h.cloudCover),\n\t\tnormals.avgSunriseHour,\n\t\tnormals.avgSunsetHour,\n\t\tnormals,\n\t);\n\n\t// Apply UV to hourly data\n\thourly.forEach((h, i) => {\n\t\th.uvIndex = uvIndex[i];\n\t});\n\n\t// Determine dominant condition for the day\n\tconst dominantCondition = getDominantCondition(\n\t\tconditions,\n\t\tnormals.avgSunriseHour,\n\t\tnormals.avgSunsetHour,\n\t);\n\n\treturn {\n\t\tdate: dateStr,\n\t\thigh,\n\t\tlow,\n\t\tsunrise: Math.round(normals.avgSunriseHour * 10) / 10,\n\t\tsunset: Math.round(normals.avgSunsetHour * 10) / 10,\n\t\thourly,\n\t\tdominantCondition,\n\t};\n}\n\n/**\n * Generate a complete forecast\n */\nexport function generateForecast(params: ForecastGeneratorParams): LocationForecast {\n\tconst { climateNormals, startDate, initialConditions, seed, days = 28 } = params;\n\n\t// Create seeded RNG\n\tconst rng = seedrandom(seed);\n\n\t// Initialize state\n\tconst initialMean = initialConditions\n\t\t? initialConditions.temperature\n\t\t: (climateNormals.avgHigh + climateNormals.avgLow) / 2;\n\n\tconst state: DayGeneratorState = {\n\t\tprevDayMeanTemp: initialMean,\n\t\twasRaining: false,\n\t\trng,\n\t};\n\n\t// Generate each day\n\tconst forecastDays: DailyForecast[] = [];\n\n\tfor (let i = 0; i < days; i++) {\n\t\tconst { year, month, day } = addDays(\n\t\t\tstartDate.year,\n\t\t\tstartDate.month,\n\t\t\tstartDate.day,\n\t\t\ti,\n\t\t);\n\t\tconst dateStr = formatDate(year, month, day);\n\n\t\t// Only use initial conditions for first 3 days (anchor period)\n\t\tconst anchor = i < 3 ? initialConditions : null;\n\n\t\tforecastDays.push(generateDay(dateStr, climateNormals, state, i, anchor));\n\t}\n\n\treturn {\n\t\tlocationId: seed.split('-')[0] || 'unknown',\n\t\tstartDate: formatDate(startDate.year, startDate.month, startDate.day),\n\t\tgeneratedFrom: initialConditions || undefined,\n\t\tdays: forecastDays,\n\t};\n}\n\n/**\n * Look up weather for a specific date/time in a forecast\n */\nexport function lookupWeather(\n\tforecast: LocationForecast,\n\tdate: NarrativeDateTime,\n): HourlyWeather | null {\n\tconst dateStr = formatDate(date.year, date.month, date.day);\n\n\tconst day = forecast.days.find(d => d.date === dateStr);\n\tif (!day) return null;\n\n\tconst hour = clamp(date.hour, 0, 23);\n\treturn day.hourly[hour];\n}\n\n/**\n * Get the day forecast for a specific date\n */\nexport function lookupDay(\n\tforecast: LocationForecast,\n\tdate: NarrativeDateTime,\n): DailyForecast | null {\n\tconst dateStr = formatDate(date.year, date.month, date.day);\n\treturn forecast.days.find(d => d.date === dateStr) || null;\n}\n\n/**\n * Calculate the day index for a date within a forecast\n */\nexport function getDayIndex(forecastStartDate: string, currentDate: NarrativeDateTime): number {\n\tconst [startYear, startMonth, startDay] = forecastStartDate.split('-').map(Number);\n\tconst start = new Date(startYear, startMonth - 1, startDay);\n\tconst current = new Date(currentDate.year, currentDate.month - 1, currentDate.day);\n\n\tconst diffTime = current.getTime() - start.getTime();\n\tconst diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n\n\treturn diffDays;\n}\n","/**\n * Weather System\n *\n * Main entry point for the procedural weather system.\n * Coordinates location mapping, forecast generation, and climate derivation.\n */\n\nimport type {\n\tProceduralClimate,\n\tLocationForecast,\n\tLocationMapping,\n\tForecastCacheEntry,\n} from './types';\nimport type { NarrativeDateTime, Climate } from '../types/state';\nimport type { LocationState } from '../extractors/extractLocation';\n\nimport { mapLocation, addToCache as addLocationToCache } from './locationMapper';\nimport { fetchClimateNormals } from './climateApi';\nimport { getClimateNormalsFromFallback } from './fallbackProfiles';\nimport { generateForecast, lookupWeather, lookupDay, getDayIndex } from './forecastGenerator';\nimport { getCachedForecast, cacheForecast, shouldRegenerateForecast } from './forecastCache';\nimport {\n\tderiveCondition,\n\tdescribeCondition,\n\tgetWindDirection,\n\tgetDaylightPhase,\n\tcalculateFeelsLike,\n\tmapLegacyWeather,\n\ttoLegacyWeather,\n} from './weatherDeriver';\nimport { calculateEffectiveTemperature } from './indoorTemperature';\nimport { shouldMentionTransition, generateTransitionInjection } from './weatherTransitions';\n\n// Re-export types\nexport type {\n\tProceduralClimate,\n\tLocationForecast,\n\tLocationMapping,\n\tClimateExtractionResult,\n\tForecastCacheEntry,\n\tWeatherCondition,\n} from './types';\n\n// Re-export utilities\nexport { toLegacyWeather, mapLegacyWeather } from './weatherDeriver';\nexport { getCachedForecast, cacheForecast } from './forecastCache';\n\n// ============================================\n// Legacy Climate Detection\n// ============================================\n\n/**\n * Check if a climate object is the legacy format\n */\nexport function isLegacyClimate(climate: unknown): climate is Climate {\n\treturn (\n\t\tclimate !== null &&\n\t\ttypeof climate === 'object' &&\n\t\t'weather' in climate &&\n\t\t'temperature' in climate &&\n\t\t!('conditionType' in climate)\n\t);\n}\n\n// ============================================\n// Main Climate Extraction\n// ============================================\n\nexport interface ExtractClimateParams {\n\tisInitial: boolean;\n\tcurrentTime: NarrativeDateTime;\n\tcurrentLocation: LocationState;\n\tpreviousClimate: ProceduralClimate | Climate | null;\n\tnarrativeContext?: string;\n\n\t// State for caching\n\tforecastCache: ForecastCacheEntry[];\n\tlocationMappings: LocationMapping[];\n\n\tabortSignal?: AbortSignal;\n}\n\nexport interface ExtractClimateResult {\n\tclimate: ProceduralClimate;\n\tforecast: LocationForecast;\n\ttransition: string | null;\n\n\t// Updated caches\n\tforecastCache: ForecastCacheEntry[];\n\tlocationMappings: LocationMapping[];\n}\n\n/**\n * Main climate extraction function\n *\n * Flow:\n * 1. Check if we have a cached forecast for this location\n * 2. If not, map the location and generate a new forecast\n * 3. Look up weather for current date/time\n * 4. Calculate indoor/outdoor temperature\n * 5. Derive conditions and check for transitions\n */\nexport async function extractProceduralClimate(\n\tparams: ExtractClimateParams,\n): Promise<ExtractClimateResult> {\n\tconst {\n\t\tisInitial,\n\t\tcurrentTime,\n\t\tcurrentLocation,\n\t\tpreviousClimate,\n\t\tnarrativeContext,\n\t\tabortSignal,\n\t} = params;\n\n\tlet { forecastCache, locationMappings } = params;\n\n\tconst area = currentLocation.area || 'Unknown';\n\n\t// Check for existing forecast\n\tlet forecast = getCachedForecast(forecastCache, area, currentTime);\n\tconst needsNewForecast = shouldRegenerateForecast(forecast, currentTime);\n\n\t// Handle initial extraction or missing forecast\n\tif (needsNewForecast || !forecast) {\n\t\t// Get initial conditions from previous climate (for anchoring)\n\t\tlet initialConditions: { temperature: number; condition: string } | null = null;\n\n\t\tif (isInitial && previousClimate) {\n\t\t\tif (isLegacyClimate(previousClimate)) {\n\t\t\t\tinitialConditions = {\n\t\t\t\t\ttemperature: previousClimate.temperature,\n\t\t\t\t\tcondition: previousClimate.weather,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tinitialConditions = {\n\t\t\t\t\ttemperature: previousClimate.temperature,\n\t\t\t\t\tcondition: previousClimate.conditionType,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Map location to climate data source\n\t\tconst mapping = await mapLocation(\n\t\t\tarea,\n\t\t\tnarrativeContext || '',\n\t\t\tlocationMappings,\n\t\t\tabortSignal,\n\t\t);\n\n\t\t// Update location mappings cache\n\t\tlocationMappings = addLocationToCache(locationMappings, mapping);\n\n\t\t// Fetch or generate climate normals\n\t\tlet climateNormals;\n\t\tif (mapping.latitude !== undefined && mapping.longitude !== undefined) {\n\t\t\tclimateNormals = await fetchClimateNormals(\n\t\t\t\tmapping.latitude,\n\t\t\t\tmapping.longitude,\n\t\t\t\tcurrentTime.month,\n\t\t\t\tmapping.baseClimateType,\n\t\t\t);\n\t\t} else if (mapping.baseClimateType) {\n\t\t\tclimateNormals = getClimateNormalsFromFallback(\n\t\t\t\tmapping.baseClimateType,\n\t\t\t\tcurrentTime.month,\n\t\t\t);\n\t\t} else {\n\t\t\t// Ultimate fallback\n\t\t\tclimateNormals = getClimateNormalsFromFallback(\n\t\t\t\t'temperate',\n\t\t\t\tcurrentTime.month,\n\t\t\t);\n\t\t}\n\n\t\t// Generate forecast\n\t\tconst seed = `${area}-${currentTime.year}-${currentTime.month}-${currentTime.day}`;\n\t\tforecast = generateForecast({\n\t\t\tclimateNormals,\n\t\t\tstartDate: currentTime,\n\t\t\tinitialConditions,\n\t\t\tseed,\n\t\t\tdays: 28,\n\t\t});\n\n\t\t// Update location info on forecast\n\t\tif (mapping.realWorldAnalog && mapping.latitude && mapping.longitude) {\n\t\t\tforecast.realWorldAnalog = {\n\t\t\t\tname: mapping.realWorldAnalog,\n\t\t\t\tlatitude: mapping.latitude,\n\t\t\t\tlongitude: mapping.longitude,\n\t\t\t};\n\t\t}\n\t\tif (mapping.baseClimateType) {\n\t\t\tforecast.baseClimateType = mapping.baseClimateType;\n\t\t}\n\n\t\t// Cache the forecast\n\t\tforecastCache = cacheForecast(forecastCache, area, forecast);\n\t}\n\n\t// Look up current weather\n\tconst hourlyWeather = lookupWeather(forecast, currentTime);\n\tconst dayForecast = lookupDay(forecast, currentTime);\n\n\tif (!hourlyWeather || !dayForecast) {\n\t\t// This shouldn't happen if forecast generation is correct\n\t\tconsole.error('[BlazeTracker] Failed to look up weather for date');\n\t\t// Return a default climate\n\t\treturn createDefaultResult(\n\t\t\tcurrentTime,\n\t\t\tcurrentLocation,\n\t\t\tforecastCache,\n\t\t\tlocationMappings,\n\t\t);\n\t}\n\n\t// Calculate indoor/outdoor temperature\n\tconst tempResult = calculateEffectiveTemperature(\n\t\thourlyWeather.temperature,\n\t\tcurrentLocation,\n\t\tcurrentTime.hour,\n\t);\n\n\t// Derive condition\n\tconst conditionType = deriveCondition(hourlyWeather);\n\tconst conditions = describeCondition(conditionType);\n\n\t// Build climate object\n\tconst climate: ProceduralClimate = {\n\t\ttemperature: Math.round(tempResult.effectiveTemperature),\n\t\toutdoorTemperature: hourlyWeather.temperature,\n\t\tindoorTemperature: tempResult.indoorTemperature,\n\t\tfeelsLike: calculateFeelsLike(\n\t\t\thourlyWeather.temperature,\n\t\t\thourlyWeather.humidity,\n\t\t\thourlyWeather.windSpeed,\n\t\t),\n\t\thumidity: hourlyWeather.humidity,\n\t\tprecipitation: hourlyWeather.precipitation,\n\t\tcloudCover: hourlyWeather.cloudCover,\n\t\twindSpeed: hourlyWeather.windSpeed,\n\t\twindDirection: getWindDirection(hourlyWeather.windDirection),\n\t\tconditions,\n\t\tconditionType,\n\t\tuvIndex: hourlyWeather.uvIndex,\n\t\tdaylight: getDaylightPhase(\n\t\t\tcurrentTime.hour,\n\t\t\tdayForecast.sunrise,\n\t\t\tdayForecast.sunset,\n\t\t),\n\t\tisIndoors: tempResult.isIndoors,\n\t\tbuildingType: tempResult.buildingType,\n\t};\n\n\t// Check for weather transition\n\tlet transition: string | null = null;\n\tif (previousClimate && !isInitial) {\n\t\tconst prevProcedural = isLegacyClimate(previousClimate)\n\t\t\t? convertLegacyClimate(previousClimate)\n\t\t\t: previousClimate;\n\n\t\tif (shouldMentionTransition(prevProcedural, climate)) {\n\t\t\ttransition = generateTransitionInjection(prevProcedural, climate);\n\t\t}\n\t}\n\n\treturn {\n\t\tclimate,\n\t\tforecast,\n\t\ttransition,\n\t\tforecastCache,\n\t\tlocationMappings,\n\t};\n}\n\n/**\n * Convert legacy climate to procedural format (for comparison)\n */\nfunction convertLegacyClimate(legacy: Climate): ProceduralClimate {\n\tconst conditionType = mapLegacyWeather(legacy.weather);\n\n\treturn {\n\t\ttemperature: legacy.temperature,\n\t\toutdoorTemperature: legacy.temperature,\n\t\tfeelsLike: legacy.temperature,\n\t\thumidity: 50,\n\t\tprecipitation: 0,\n\t\tcloudCover: 50,\n\t\twindSpeed: 5,\n\t\twindDirection: 'N',\n\t\tconditions: legacy.weather,\n\t\tconditionType,\n\t\tuvIndex: 5,\n\t\tdaylight: 'day',\n\t\tisIndoors: false,\n\t};\n}\n\n/**\n * Create a default result when forecast lookup fails\n */\nfunction createDefaultResult(\n\tcurrentTime: NarrativeDateTime,\n\tcurrentLocation: LocationState,\n\tforecastCache: ForecastCacheEntry[],\n\tlocationMappings: LocationMapping[],\n): ExtractClimateResult {\n\tconst climate: ProceduralClimate = {\n\t\ttemperature: 70,\n\t\toutdoorTemperature: 70,\n\t\tfeelsLike: 70,\n\t\thumidity: 50,\n\t\tprecipitation: 0,\n\t\tcloudCover: 30,\n\t\twindSpeed: 5,\n\t\twindDirection: 'N',\n\t\tconditions: 'pleasant weather',\n\t\tconditionType: 'clear',\n\t\tuvIndex: 5,\n\t\tdaylight: currentTime.hour >= 6 && currentTime.hour < 18 ? 'day' : 'night',\n\t\tisIndoors: false,\n\t};\n\n\t// Create a minimal forecast\n\tconst forecast: LocationForecast = {\n\t\tlocationId: currentLocation.area || 'unknown',\n\t\tstartDate: `${currentTime.year}-${String(currentTime.month).padStart(2, '0')}-${String(currentTime.day).padStart(2, '0')}`,\n\t\tdays: [],\n\t};\n\n\treturn {\n\t\tclimate,\n\t\tforecast,\n\t\ttransition: null,\n\t\tforecastCache,\n\t\tlocationMappings,\n\t};\n}\n\n// ============================================\n// Utility Functions\n// ============================================\n\n/**\n * Convert ProceduralClimate to legacy Climate format\n * Used for backward compatibility with existing code\n */\nexport function tolegacyClimateFormat(climate: ProceduralClimate): Climate {\n\treturn {\n\t\tweather: toLegacyWeather(climate.conditionType),\n\t\ttemperature: climate.temperature,\n\t};\n}\n\n/**\n * Get forecast day index for debugging\n */\nexport { getDayIndex };\n","/**\n * Indoor Temperature Calculator\n *\n * Calculates indoor temperatures based on building type and outdoor conditions.\n * All temperatures in Fahrenheit.\n */\n\nimport type { BuildingType } from './types';\nimport type { LocationState } from '../extractors/extractLocation';\n\n// ============================================\n// Indoor Temperature Calculation\n// ============================================\n\nexport interface IndoorTempParams {\n\toutdoorTemp: number; // F\n\tbuildingType: BuildingType;\n\thour: number; // 0-23\n\tprevIndoorTemp?: number; // For gradual changes\n}\n\n/**\n * Calculate indoor temperature based on building type\n */\nexport function calculateIndoorTemp(params: IndoorTempParams): number {\n\tconst { outdoorTemp, buildingType, hour } = params;\n\n\tswitch (buildingType) {\n\t\tcase 'modern':\n\t\t\t// HVAC maintains 65-75F\n\t\t\t// Slight variation based on outdoor (AC struggles in extreme heat)\n\t\t\tif (outdoorTemp > 95) return 75 + (outdoorTemp - 95) * 0.1;\n\t\t\tif (outdoorTemp < 14) return 65 - (14 - outdoorTemp) * 0.05;\n\t\t\treturn 70;\n\n\t\tcase 'heated': {\n\t\t\t// Fireplace/hearth - aims for ~65F but influenced by outdoor\n\t\t\t// Warmer during \"active\" hours, cooler at night (fire dies down)\n\t\t\tconst heatedTarget = hour >= 6 && hour <= 22 ? 65 : 57;\n\t\t\tconst heatedDamping = 0.3; // 30% outdoor influence\n\t\t\treturn heatedTarget + (outdoorTemp - heatedTarget) * heatedDamping;\n\t\t}\n\n\t\tcase 'unheated': {\n\t\t\t// Barn, warehouse - minimal shelter\n\t\t\t// Slightly warmer than outdoor in cold, slightly cooler in heat\n\t\t\tconst unheatedDamping = 0.7;\n\t\t\tconst shelterEffect = outdoorTemp < 50 ? 5 : outdoorTemp > 77 ? -4 : 0;\n\t\t\treturn (\n\t\t\t\toutdoorTemp * unheatedDamping +\n\t\t\t\t70 * (1 - unheatedDamping) +\n\t\t\t\tshelterEffect\n\t\t\t);\n\t\t}\n\n\t\tcase 'underground':\n\t\t\t// Cave, basement - stable year-round\n\t\t\t// Typically average annual temperature of region (~55F)\n\t\t\treturn 55;\n\n\t\tcase 'tent': {\n\t\t\t// Almost no shelter, slight greenhouse effect\n\t\t\tconst tentEffect = hour >= 10 && hour <= 16 ? 9 : 2;\n\t\t\treturn outdoorTemp + tentEffect;\n\t\t}\n\n\t\tcase 'vehicle': {\n\t\t\t// Car/carriage - moderate shelter\n\t\t\t// Greenhouse effect when sunny during day\n\t\t\tconst vehicleEffect = hour >= 10 && hour <= 16 ? 15 : 4;\n\t\t\treturn outdoorTemp + vehicleEffect;\n\t\t}\n\n\t\tdefault:\n\t\t\treturn outdoorTemp;\n\t}\n}\n\n// ============================================\n// Building Type Detection\n// ============================================\n\n/**\n * Pattern definitions for building type detection\n */\nconst BUILDING_PATTERNS: Array<[BuildingType, RegExp]> = [\n\t[\n\t\t'underground',\n\t\t/\\b(cave|basement|cellar|mine|tunnel|bunker|crypt|catacomb|sewer|subway|metro|underground)\\b/i,\n\t],\n\t['tent', /\\b(tent|campsite|bivouac|yurt|pavilion|camping|campground)\\b/i],\n\t[\n\t\t'vehicle',\n\t\t/\\b(car|truck|van|bus|carriage|wagon|train|plane|aircraft|ship|boat|yacht|submarine|spaceship|shuttle)\\b/i,\n\t],\n\t[\n\t\t'unheated',\n\t\t/\\b(barn|warehouse|shed|garage|stable|hangar|greenhouse|storage|attic|loft)\\b/i,\n\t],\n\t[\n\t\t'modern',\n\t\t/\\b(office|apartment|hotel|hospital|mall|store|shop|restaurant|cafe|cafeteria|gym|school|university|library|museum|theater|cinema|supermarket|bank|clinic)\\b/i,\n\t],\n\t[\n\t\t'heated',\n\t\t/\\b(house|home|cabin|cottage|inn|tavern|castle|manor|palace|mansion|villa|lodge|hut|shack|chapel|church|temple|shrine)\\b/i,\n\t],\n];\n\n/**\n * Infer building type from location description\n */\nexport function inferBuildingType(location: LocationState): BuildingType | null {\n\tconst place = location.place?.toLowerCase() || '';\n\tconst area = location.area?.toLowerCase() || '';\n\tconst position = location.position?.toLowerCase() || '';\n\n\t// Combine all location text for matching\n\tconst fullText = `${area} ${place} ${position}`;\n\n\tfor (const [type, pattern] of BUILDING_PATTERNS) {\n\t\tif (pattern.test(fullText)) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\treturn null; // Unknown - assume outdoor\n}\n\n// ============================================\n// Indoor/Outdoor Detection\n// ============================================\n\n/**\n * Explicit outdoor indicators\n */\nconst OUTDOOR_PATTERNS =\n\t/\\b(outside|outdoor|street|road|path|trail|garden|park|beach|field|forest|mountain|river|lake|ocean|sea|sky|rooftop|balcony|patio|deck|yard|lawn|meadow|desert|plains|valley|cliff|shore|woods|jungle|savanna|tundra|swamp|marsh|courtyard|plaza|square|alley|sidewalk|highway|bridge)\\b/i;\n\n/**\n * Explicit indoor indicators\n */\nconst INDOOR_PATTERNS =\n\t/\\b(inside|indoor|room|hall|chamber|office|bedroom|kitchen|bathroom|lobby|corridor|basement|attic|closet|pantry|study|den|foyer|vestibule|anteroom|parlor|salon|lounge|ward|cell|vault|treasury|armory|throne room|great hall|dining room|living room|sitting room)\\b/i;\n\n/**\n * Determine if the current location is indoors\n */\nexport function isIndoors(location: LocationState): boolean {\n\tconst place = location.place?.toLowerCase() || '';\n\tconst position = location.position?.toLowerCase() || '';\n\tconst area = location.area?.toLowerCase() || '';\n\n\t// Check position first (most specific)\n\tif (OUTDOOR_PATTERNS.test(position)) {\n\t\treturn false;\n\t}\n\tif (INDOOR_PATTERNS.test(position)) {\n\t\treturn true;\n\t}\n\n\t// Check place\n\tif (OUTDOOR_PATTERNS.test(place)) {\n\t\treturn false;\n\t}\n\tif (INDOOR_PATTERNS.test(place)) {\n\t\treturn true;\n\t}\n\n\t// Check area\n\tif (OUTDOOR_PATTERNS.test(area)) {\n\t\treturn false;\n\t}\n\n\t// If we can infer a building type, assume indoor\n\tconst buildingType = inferBuildingType(location);\n\tif (buildingType && buildingType !== 'tent') {\n\t\treturn true;\n\t}\n\n\t// Default to outdoor if uncertain\n\treturn false;\n}\n\n// ============================================\n// Combined Function\n// ============================================\n\nexport interface IndoorOutdoorResult {\n\tisIndoors: boolean;\n\tbuildingType?: BuildingType;\n\tindoorTemperature?: number;\n\teffectiveTemperature: number;\n}\n\n/**\n * Determine indoor/outdoor status and calculate effective temperature\n */\nexport function calculateEffectiveTemperature(\n\toutdoorTemp: number,\n\tlocation: LocationState,\n\thour: number,\n): IndoorOutdoorResult {\n\tconst indoors = isIndoors(location);\n\n\tif (!indoors) {\n\t\treturn {\n\t\t\tisIndoors: false,\n\t\t\teffectiveTemperature: outdoorTemp,\n\t\t};\n\t}\n\n\tconst buildingType = inferBuildingType(location);\n\n\tif (!buildingType) {\n\t\t// Indoor but unknown building type - assume heated\n\t\tconst indoorTemp = calculateIndoorTemp({\n\t\t\toutdoorTemp,\n\t\t\tbuildingType: 'heated',\n\t\t\thour,\n\t\t});\n\n\t\treturn {\n\t\t\tisIndoors: true,\n\t\t\tbuildingType: 'heated',\n\t\t\tindoorTemperature: indoorTemp,\n\t\t\teffectiveTemperature: indoorTemp,\n\t\t};\n\t}\n\n\tconst indoorTemp = calculateIndoorTemp({\n\t\toutdoorTemp,\n\t\tbuildingType,\n\t\thour,\n\t});\n\n\treturn {\n\t\tisIndoors: true,\n\t\tbuildingType,\n\t\tindoorTemperature: indoorTemp,\n\t\teffectiveTemperature: indoorTemp,\n\t};\n}\n","/**\n * Location Mapper\n *\n * Maps fictional/fantasy locations to real-world climate analogs\n * or base climate types.\n */\n\nimport type { LocationMapping, BaseClimateType } from './types';\nimport { geocodeLocation } from './climateApi';\nimport { getSettings, getTemperature } from '../settings';\nimport { makeGeneratorRequest, buildExtractionMessages } from '../utils/generator';\nimport { parseJsonResponse } from '../utils/json';\n\n// ============================================\n// Constants\n// ============================================\n\nconst SYSTEM_PROMPT = 'You are a climate analysis assistant. Return only valid JSON.';\n\nconst LOCATION_ANALYSIS_PROMPT = `\nAnalyze this location for climate mapping.\n\nLocation: {{location}}\nContext: {{context}}\n\nDetermine:\n1. Is the LOCATION itself a real Earth location, or fictional/fantasy?\n2. If fictional, what real-world city has the most similar climate?\n3. If you cannot determine a good real-world equivalent, classify into a base climate type.\n\nCRITICAL: You are classifying the LOCATION, not the characters or story.\n- Fictional characters in a real location = isFantasy: FALSE (the location is still real)\n- A real location in a fictional story = isFantasy: FALSE (the location is still real)\n- Only fictional/fantasy LOCATIONS should be isFantasy: true\n\nBase climate types (use ONLY if no good real-world match):\n- temperate: Mild seasons, moderate precipitation (e.g., generic forests, villages)\n- desert: Hot/dry, large day/night temperature swings\n- arctic: Cold year-round, possible polar day/night cycles\n- tropical: Hot/humid, consistent temperatures, possible monsoons\n- mediterranean: Warm dry summers, mild wet winters\n- continental: Hot summers, cold winters, variable weather\n- oceanic: Mild temperatures, frequent rain, small variations\n\nExamples:\n- \"London\"  isFantasy: false (real location)\n- \"London\" (with Doctor Who)  isFantasy: false (London is real regardless of fictional characters)\n- \"Tokyo\" (in an anime)  isFantasy: false (Tokyo is a real city)\n- \"New York\" (with Spider-Man)  isFantasy: false (New York is real)\n- \"Winterfell\"  isFantasy: true, realWorldAnalog: \"Reykjavik, Iceland\"\n- \"The Void Dimension\"  isFantasy: true, baseClimateType: \"arctic\" (no good match)\n- \"Generic fantasy tavern\"  isFantasy: true, baseClimateType: \"temperate\"\n- \"Tatooine\"  isFantasy: true, realWorldAnalog: \"Phoenix, Arizona\"\n- \"King's Landing\"  isFantasy: true, realWorldAnalog: \"Dubrovnik, Croatia\"\n- \"Gotham City\"  isFantasy: true, realWorldAnalog: \"New York City, USA\"\n\nOutput JSON:\n{\n  \"isFantasy\": true/false,\n  \"realWorldAnalog\": \"City, Country\" or null,\n  \"baseClimateType\": \"temperate\" or null,\n  \"reasoning\": \"Brief explanation\"\n}\n`;\n\n// Schema for validation (reserved for future use)\nconst _LOCATION_ANALYSIS_SCHEMA = {\n\ttype: 'object',\n\tproperties: {\n\t\tisFantasy: { type: 'boolean' },\n\t\trealWorldAnalog: { type: ['string', 'null'] },\n\t\tbaseClimateType: {\n\t\t\ttype: ['string', 'null'],\n\t\t\tenum: [\n\t\t\t\t'temperate',\n\t\t\t\t'desert',\n\t\t\t\t'arctic',\n\t\t\t\t'tropical',\n\t\t\t\t'mediterranean',\n\t\t\t\t'continental',\n\t\t\t\t'oceanic',\n\t\t\t\tnull,\n\t\t\t],\n\t\t},\n\t\treasoning: { type: 'string' },\n\t},\n\trequired: ['isFantasy', 'reasoning'],\n};\n\n// ============================================\n// Geocoding Helpers\n// ============================================\n\ninterface GeocodeFallbackResult {\n\tlatitude: number;\n\tlongitude: number;\n\tusedLocation: string;\n}\n\n/**\n * Try geocoding with progressively shorter location strings.\n * For \"Industrial District, Huntsville, AL\", tries:\n * 1. \"Industrial District, Huntsville, AL\"\n * 2. \"Huntsville, AL\"\n * 3. \"AL\"\n */\nasync function geocodeWithFallback(location: string): Promise<GeocodeFallbackResult | null> {\n\t// Split by comma and try progressively shorter versions\n\tconst parts = location.split(',').map(p => p.trim());\n\n\tfor (let i = 0; i < parts.length; i++) {\n\t\tconst tryLocation = parts.slice(i).join(', ');\n\t\tconst coords = await geocodeLocation(tryLocation);\n\t\tif (coords) {\n\t\t\treturn {\n\t\t\t\tlatitude: coords.latitude,\n\t\t\t\tlongitude: coords.longitude,\n\t\t\t\tusedLocation: tryLocation,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn null;\n}\n\n// ============================================\n// Main API\n// ============================================\n\n/**\n * Map a location to climate data source\n *\n * Flow:\n * 1. Check cache\n * 2. Ask LLM if fantasy or real\n * 3. If real, try geocoding\n * 4. If fantasy with analog, try geocoding analog\n * 5. If geocoding fails, fall back to base climate type\n */\nexport async function mapLocation(\n\tlocation: string,\n\tcontext: string,\n\tcache: LocationMapping[],\n\tabortSignal?: AbortSignal,\n): Promise<LocationMapping> {\n\t// Check cache first\n\tconst normalizedLocation = location.toLowerCase().trim();\n\tconst cached = cache.find(\n\t\tm => m.fantasyLocation.toLowerCase().trim() === normalizedLocation,\n\t);\n\tif (cached) {\n\t\treturn cached;\n\t}\n\n\t// Ask LLM to analyze the location\n\tconst analysis = await analyzeLocation(location, context, abortSignal);\n\n\t// Handle real locations\n\tif (!analysis.isFantasy) {\n\t\tconst coords = await geocodeWithFallback(location);\n\t\tif (coords) {\n\t\t\treturn {\n\t\t\t\tfantasyLocation: location,\n\t\t\t\trealWorldAnalog: coords.usedLocation,\n\t\t\t\tlatitude: coords.latitude,\n\t\t\t\tlongitude: coords.longitude,\n\t\t\t\tisFantasy: false,\n\t\t\t\treasoning: analysis.reasoning,\n\t\t\t};\n\t\t}\n\t\t// Geocoding failed - treat as fantasy and re-analyze\n\t\tconsole.warn(\n\t\t\t`[BlazeTracker] Geocoding failed for \"${location}\", treating as fantasy`,\n\t\t);\n\t}\n\n\t// Handle fantasy with real-world analog\n\tif (analysis.realWorldAnalog) {\n\t\tconst coords = await geocodeLocation(analysis.realWorldAnalog);\n\t\tif (coords) {\n\t\t\treturn {\n\t\t\t\tfantasyLocation: location,\n\t\t\t\trealWorldAnalog: analysis.realWorldAnalog,\n\t\t\t\tlatitude: coords.latitude,\n\t\t\t\tlongitude: coords.longitude,\n\t\t\t\tisFantasy: true,\n\t\t\t\treasoning: analysis.reasoning,\n\t\t\t};\n\t\t}\n\t\t// Analog geocoding failed - fall through to base climate type\n\t\tconsole.warn(\n\t\t\t`[BlazeTracker] Geocoding failed for analog \"${analysis.realWorldAnalog}\"`,\n\t\t);\n\t}\n\n\t// Fall back to base climate type\n\tconst baseClimateType = analysis.baseClimateType || 'temperate';\n\n\treturn {\n\t\tfantasyLocation: location,\n\t\tbaseClimateType: baseClimateType as BaseClimateType,\n\t\tisFantasy: true,\n\t\treasoning: analysis.reasoning || 'Using fallback climate type',\n\t};\n}\n\n/**\n * Quick check if a location is likely real (for optimization)\n */\nexport async function isLikelyRealLocation(location: string): Promise<boolean> {\n\t// Simple heuristics for common real locations\n\tconst realIndicators = [\n\t\t/^[A-Z][a-z]+,\\s*[A-Z][a-z]+/, // \"City, Country\" format\n\t\t/\\b(USA|UK|France|Germany|Japan|China|Australia|Canada)\\b/i,\n\t\t/\\b(New York|London|Paris|Tokyo|Sydney|Toronto)\\b/i,\n\t];\n\n\tconst fantasyIndicators = [\n\t\t/\\b(castle|kingdom|realm|dimension|void|magical|enchanted)\\b/i,\n\t\t/\\b(tavern|inn|guild|dungeon|forest|village)\\b/i,\n\t\t/'s\\s+(lair|tower|fortress|domain)/i,\n\t];\n\n\tconst locationLower = location.toLowerCase();\n\n\t// Check fantasy indicators first\n\tif (fantasyIndicators.some(r => r.test(locationLower))) {\n\t\treturn false;\n\t}\n\n\t// Check real indicators\n\tif (realIndicators.some(r => r.test(location))) {\n\t\treturn true;\n\t}\n\n\t// Uncertain - will need LLM analysis\n\treturn false;\n}\n\n// ============================================\n// Internal: LLM Analysis\n// ============================================\n\ninterface LocationAnalysisResult {\n\tisFantasy: boolean;\n\trealWorldAnalog: string | null;\n\tbaseClimateType: string | null;\n\treasoning: string;\n}\n\nasync function analyzeLocation(\n\tlocation: string,\n\tcontext: string,\n\tabortSignal?: AbortSignal,\n): Promise<LocationAnalysisResult> {\n\tconst settings = getSettings();\n\n\tconst prompt = LOCATION_ANALYSIS_PROMPT.replace('{{location}}', location).replace(\n\t\t'{{context}}',\n\t\tcontext || 'No additional context',\n\t);\n\n\tconst messages = buildExtractionMessages(SYSTEM_PROMPT, prompt);\n\n\ttry {\n\t\tconst response = await makeGeneratorRequest(messages, {\n\t\t\tprofileId: settings.profileId,\n\t\t\tmaxTokens: 500,\n\t\t\ttemperature: getTemperature('climate_initial'),\n\t\t\tabortSignal,\n\t\t});\n\n\t\tconst parsed = parseJsonResponse(response, {\n\t\t\tshape: 'object',\n\t\t\tmoduleName: 'BlazeTracker/LocationMapper',\n\t\t});\n\n\t\treturn validateAnalysisResult(parsed);\n\t} catch (error) {\n\t\tconsole.error('[BlazeTracker] Location analysis failed:', error);\n\t\t// Return safe default\n\t\treturn {\n\t\t\tisFantasy: true,\n\t\t\trealWorldAnalog: null,\n\t\t\tbaseClimateType: 'temperate',\n\t\t\treasoning: 'Analysis failed, using default',\n\t\t};\n\t}\n}\n\nfunction validateAnalysisResult(data: unknown): LocationAnalysisResult {\n\tif (typeof data !== 'object' || data === null) {\n\t\tthrow new Error('Invalid location analysis result');\n\t}\n\n\tconst obj = data as Record<string, unknown>;\n\n\tconst validBaseTypes = [\n\t\t'temperate',\n\t\t'desert',\n\t\t'arctic',\n\t\t'tropical',\n\t\t'mediterranean',\n\t\t'continental',\n\t\t'oceanic',\n\t];\n\n\treturn {\n\t\tisFantasy: typeof obj.isFantasy === 'boolean' ? obj.isFantasy : true,\n\t\trealWorldAnalog:\n\t\t\ttypeof obj.realWorldAnalog === 'string' ? obj.realWorldAnalog : null,\n\t\tbaseClimateType:\n\t\t\ttypeof obj.baseClimateType === 'string' &&\n\t\t\tvalidBaseTypes.includes(obj.baseClimateType)\n\t\t\t\t? obj.baseClimateType\n\t\t\t\t: null,\n\t\treasoning:\n\t\t\ttypeof obj.reasoning === 'string' ? obj.reasoning : 'No reasoning provided',\n\t};\n}\n\n// ============================================\n// Cache Management\n// ============================================\n\n/**\n * Add a mapping to the cache\n */\nexport function addToCache(cache: LocationMapping[], mapping: LocationMapping): LocationMapping[] {\n\tconst normalizedLocation = mapping.fantasyLocation.toLowerCase().trim();\n\n\t// Remove existing entry if present\n\tconst filtered = cache.filter(\n\t\tm => m.fantasyLocation.toLowerCase().trim() !== normalizedLocation,\n\t);\n\n\treturn [...filtered, mapping];\n}\n\n/**\n * Find a mapping in the cache\n */\nexport function findInCache(\n\tcache: LocationMapping[],\n\tlocation: string,\n): LocationMapping | undefined {\n\tconst normalizedLocation = location.toLowerCase().trim();\n\treturn cache.find(m => m.fantasyLocation.toLowerCase().trim() === normalizedLocation);\n}\n","/**\n * Weather Deriver\n *\n * Derives human-readable weather conditions from meteorological metrics.\n * All temperatures in Fahrenheit, wind in mph, precipitation in inches.\n */\n\nimport type { HourlyWeather, WeatherCondition, DaylightPhase } from './types';\n\n// ============================================\n// Condition Derivation\n// ============================================\n\n/**\n * Derive weather condition from hourly metrics\n */\nexport function deriveCondition(weather: HourlyWeather): WeatherCondition {\n\tconst { temperature, precipitation, humidity, windSpeed, cloudCover } = weather;\n\n\t// Precipitation takes priority (precipitation in inches)\n\tif (precipitation > 0.02) {\n\t\t// Snow vs rain (temperature in F)\n\t\tif (temperature <= 32) {\n\t\t\tif (windSpeed > 25 && precipitation > 0.2) return 'blizzard';\n\t\t\tif (precipitation > 0.2) return 'heavy_snow';\n\t\t\treturn 'snow';\n\t\t}\n\t\tif (temperature <= 35) return 'sleet';\n\n\t\t// Rain intensity\n\t\tif (precipitation > 0.4) return 'heavy_rain';\n\t\tif (precipitation > 0.2 && windSpeed > 20) return 'thunderstorm';\n\t\tif (precipitation > 0.08) return 'rain';\n\t\treturn 'drizzle';\n\t}\n\n\t// Fog (high humidity, low wind, near dew point)\n\tif (humidity > 95 && windSpeed < 6 && cloudCover > 80) {\n\t\treturn 'foggy';\n\t}\n\n\t// Wind (mph)\n\tif (windSpeed > 30) return 'windy';\n\n\t// Cloud cover\n\tif (cloudCover > 85) return 'overcast';\n\tif (cloudCover > 50) return 'partly_cloudy';\n\n\t// Temperature extremes (F)\n\tif (temperature > 95) return 'hot';\n\tif (temperature < 14) return 'cold';\n\n\t// Humidity extreme\n\tif (humidity > 85 && temperature > 75) return 'humid';\n\n\t// Default clear conditions\n\treturn cloudCover < 20 ? 'sunny' : 'clear';\n}\n\n// ============================================\n// Condition Descriptions\n// ============================================\n\nconst CONDITION_DESCRIPTIONS: Record<WeatherCondition, string[]> = {\n\tclear: ['clear skies', 'pleasant weather', 'calm conditions'],\n\tsunny: ['bright sunshine', 'sunny skies', 'brilliant sun'],\n\tpartly_cloudy: ['scattered clouds', 'partly cloudy', 'intermittent sunshine'],\n\tovercast: ['gray skies', 'heavy cloud cover', 'overcast'],\n\tfoggy: ['thick fog', 'misty conditions', 'fog rolling in'],\n\tdrizzle: ['light drizzle', 'misting rain', 'gentle rain'],\n\train: ['steady rain', 'rainfall', 'rainy weather'],\n\theavy_rain: ['heavy rain', 'downpour', 'torrential rain'],\n\tthunderstorm: ['thunderstorm', 'thunder and lightning', 'electrical storm'],\n\tsleet: ['freezing rain', 'sleet', 'icy precipitation'],\n\tsnow: ['snowfall', 'snow flurries', 'snowing'],\n\theavy_snow: ['heavy snowfall', 'blanketing snow', 'intense snow'],\n\tblizzard: ['blizzard conditions', 'whiteout', 'severe blizzard'],\n\twindy: ['strong winds', 'gusty conditions', 'blustery weather'],\n\thot: ['scorching heat', 'oppressive heat', 'sweltering'],\n\tcold: ['bitter cold', 'freezing temperatures', 'frigid air'],\n\thumid: ['muggy conditions', 'humid air', 'sticky weather'],\n};\n\n/**\n * Get a human-readable description of the condition\n */\nexport function describeCondition(condition: WeatherCondition, rng?: () => number): string {\n\tconst options = CONDITION_DESCRIPTIONS[condition] || ['moderate weather'];\n\tconst random = rng ? rng() : Math.random();\n\treturn options[Math.floor(random * options.length)];\n}\n\n// ============================================\n// Wind Direction\n// ============================================\n\nconst WIND_DIRECTIONS = [\n\t'N',\n\t'NNE',\n\t'NE',\n\t'ENE',\n\t'E',\n\t'ESE',\n\t'SE',\n\t'SSE',\n\t'S',\n\t'SSW',\n\t'SW',\n\t'WSW',\n\t'W',\n\t'WNW',\n\t'NW',\n\t'NNW',\n];\n\n/**\n * Convert wind direction degrees to compass direction\n */\nexport function getWindDirection(degrees: number): string {\n\tconst index = Math.round(degrees / 22.5) % 16;\n\treturn WIND_DIRECTIONS[index];\n}\n\n// ============================================\n// Daylight Phase\n// ============================================\n\n/**\n * Determine daylight phase based on current hour and sun times\n */\nexport function getDaylightPhase(hour: number, sunrise: number, sunset: number): DaylightPhase {\n\t// Dawn: 30 min before to 30 min after sunrise\n\tif (hour >= sunrise - 0.5 && hour < sunrise + 0.5) return 'dawn';\n\n\t// Day: after dawn until 30 min before sunset\n\tif (hour >= sunrise + 0.5 && hour < sunset - 0.5) return 'day';\n\n\t// Dusk: 30 min before to 30 min after sunset\n\tif (hour >= sunset - 0.5 && hour < sunset + 0.5) return 'dusk';\n\n\t// Night: everything else\n\treturn 'night';\n}\n\n// ============================================\n// Feels Like Temperature\n// ============================================\n\n/**\n * Calculate \"feels like\" temperature (wind chill / heat index)\n * Uses Fahrenheit\n */\nexport function calculateFeelsLike(\n\ttemperature: number,\n\thumidity: number,\n\twindSpeed: number,\n): number {\n\t// Wind chill (for cold temperatures)\n\tif (temperature <= 50 && windSpeed > 3) {\n\t\t// NWS Wind Chill formula\n\t\tconst windChill =\n\t\t\t35.74 +\n\t\t\t0.6215 * temperature -\n\t\t\t35.75 * Math.pow(windSpeed, 0.16) +\n\t\t\t0.4275 * temperature * Math.pow(windSpeed, 0.16);\n\t\treturn Math.round(windChill);\n\t}\n\n\t// Heat index (for hot temperatures)\n\tif (temperature >= 80 && humidity >= 40) {\n\t\t// Simplified Rothfusz regression\n\t\tconst hi =\n\t\t\t-42.379 +\n\t\t\t2.04901523 * temperature +\n\t\t\t10.14333127 * humidity -\n\t\t\t0.22475541 * temperature * humidity -\n\t\t\t0.00683783 * temperature * temperature -\n\t\t\t0.05481717 * humidity * humidity +\n\t\t\t0.00122874 * temperature * temperature * humidity +\n\t\t\t0.00085282 * temperature * humidity * humidity -\n\t\t\t0.00000199 * temperature * temperature * humidity * humidity;\n\n\t\treturn Math.round(hi);\n\t}\n\n\t// No adjustment needed\n\treturn Math.round(temperature);\n}\n\n// ============================================\n// Dominant Condition for Day\n// ============================================\n\n/**\n * Determine the dominant weather condition for a day\n * based on hourly conditions (weighted toward daytime hours)\n */\nexport function getDominantCondition(\n\thourlyConditions: WeatherCondition[],\n\tsunrise: number,\n\tsunset: number,\n): WeatherCondition {\n\tconst counts: Record<string, number> = {};\n\n\thourlyConditions.forEach((condition, hour) => {\n\t\t// Weight daytime hours more heavily\n\t\tconst isDaytime = hour >= Math.floor(sunrise) && hour <= Math.ceil(sunset);\n\t\tconst weight = isDaytime ? 2 : 1;\n\n\t\tcounts[condition] = (counts[condition] || 0) + weight;\n\t});\n\n\t// Find condition with highest count\n\tlet dominant: WeatherCondition = 'clear';\n\tlet maxCount = 0;\n\n\tfor (const [condition, count] of Object.entries(counts)) {\n\t\tif (count > maxCount) {\n\t\t\tmaxCount = count;\n\t\t\tdominant = condition as WeatherCondition;\n\t\t}\n\t}\n\n\treturn dominant;\n}\n\n// ============================================\n// Legacy Condition Mapping\n// ============================================\n\n/**\n * Map legacy weather types to new WeatherCondition\n */\nexport function mapLegacyWeather(legacyWeather: string): WeatherCondition {\n\tconst mapping: Record<string, WeatherCondition> = {\n\t\tsunny: 'sunny',\n\t\tcloudy: 'overcast',\n\t\tsnowy: 'snow',\n\t\trainy: 'rain',\n\t\twindy: 'windy',\n\t\tthunderstorm: 'thunderstorm',\n\t};\n\n\treturn mapping[legacyWeather.toLowerCase()] || 'clear';\n}\n\n/**\n * Map new WeatherCondition back to legacy weather type (for display compatibility)\n */\nexport function toLegacyWeather(\n\tcondition: WeatherCondition,\n): 'sunny' | 'cloudy' | 'snowy' | 'rainy' | 'windy' | 'thunderstorm' {\n\tswitch (condition) {\n\t\tcase 'sunny':\n\t\tcase 'clear':\n\t\tcase 'hot':\n\t\t\treturn 'sunny';\n\n\t\tcase 'partly_cloudy':\n\t\tcase 'overcast':\n\t\tcase 'foggy':\n\t\tcase 'humid':\n\t\t\treturn 'cloudy';\n\n\t\tcase 'snow':\n\t\tcase 'heavy_snow':\n\t\tcase 'blizzard':\n\t\tcase 'sleet':\n\t\tcase 'cold':\n\t\t\treturn 'snowy';\n\n\t\tcase 'drizzle':\n\t\tcase 'rain':\n\t\tcase 'heavy_rain':\n\t\t\treturn 'rainy';\n\n\t\tcase 'windy':\n\t\t\treturn 'windy';\n\n\t\tcase 'thunderstorm':\n\t\t\treturn 'thunderstorm';\n\n\t\tdefault:\n\t\t\treturn 'sunny';\n\t}\n}\n","/**\n * Weather Transitions\n *\n * Generates narrative text when weather changes significantly.\n */\n\nimport type { WeatherCondition, ProceduralClimate } from './types';\n\n// ============================================\n// Transition Templates\n// ============================================\n\ninterface WeatherTransition {\n\tfrom: WeatherCondition;\n\tto: WeatherCondition;\n\ttemplates: string[];\n}\n\nconst TRANSITIONS: WeatherTransition[] = [\n\t// Clear to precipitation\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'overcast',\n\t\ttemplates: [\n\t\t\t'Clouds drift across the sky, dimming the light',\n\t\t\t'The sky grows gray as clouds gather overhead',\n\t\t\t'A blanket of clouds slowly obscures the sun',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'sunny',\n\t\tto: 'overcast',\n\t\ttemplates: [\n\t\t\t'The bright sunshine fades as clouds roll in',\n\t\t\t'Dark clouds begin to gather, blocking out the sun',\n\t\t\t'The sunny skies give way to gathering clouds',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'overcast',\n\t\tto: 'rain',\n\t\ttemplates: [\n\t\t\t'The first drops of rain begin to fall',\n\t\t\t'Rain starts to patter down from the gray sky',\n\t\t\t'The clouds finally release their burden as rain begins',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'rain',\n\t\ttemplates: [\n\t\t\t'Dark clouds roll in quickly, and rain begins to fall',\n\t\t\t'The weather turns suddenly as rain sweeps across the area',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'partly_cloudy',\n\t\tto: 'rain',\n\t\ttemplates: [\n\t\t\t'The scattered clouds thicken and rain begins to fall',\n\t\t\t'What started as a few clouds has turned to steady rain',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'rain',\n\t\tto: 'heavy_rain',\n\t\ttemplates: [\n\t\t\t'The rain intensifies into a downpour',\n\t\t\t'The steady rain becomes a torrential downpour',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'rain',\n\t\tto: 'thunderstorm',\n\t\ttemplates: [\n\t\t\t'Thunder rumbles in the distance as the rain intensifies',\n\t\t\t'Lightning flashes across the sky as the storm picks up',\n\t\t\t'The rain turns to a full thunderstorm',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'rain',\n\t\tto: 'snow',\n\t\ttemplates: [\n\t\t\t'The rain turns to sleet, then thick snowflakes',\n\t\t\t'As the temperature drops, the rain becomes snow',\n\t\t],\n\t},\n\n\t// Precipitation clearing\n\t{\n\t\tfrom: 'rain',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The rain tapers off as patches of blue appear',\n\t\t\t'The clouds part and sunlight breaks through',\n\t\t\t'The storm passes, leaving fresh air in its wake',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'rain',\n\t\tto: 'partly_cloudy',\n\t\ttemplates: [\n\t\t\t'The rain stops, leaving behind scattered clouds',\n\t\t\t'The precipitation ends but clouds remain',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'heavy_rain',\n\t\tto: 'rain',\n\t\ttemplates: [\n\t\t\t'The downpour eases to a steady rain',\n\t\t\t'The torrential rain lessens somewhat',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'thunderstorm',\n\t\tto: 'rain',\n\t\ttemplates: [\n\t\t\t'The thunder fades into the distance, leaving just rain',\n\t\t\t'The storm passes but the rain continues',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'snow',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The snowfall gradually stops, revealing clear skies',\n\t\t\t'The last snowflakes drift down as the clouds disperse',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'heavy_snow',\n\t\tto: 'snow',\n\t\ttemplates: [\n\t\t\t'The heavy snowfall eases to light flurries',\n\t\t\t'The blanketing snow becomes a gentler fall',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'blizzard',\n\t\tto: 'snow',\n\t\ttemplates: [\n\t\t\t'The blizzard conditions ease, though snow continues',\n\t\t\t'The whiteout conditions clear somewhat',\n\t\t],\n\t},\n\n\t// Temperature-related\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'hot',\n\t\ttemplates: [\n\t\t\t'The heat intensifies as the sun beats down',\n\t\t\t'A wave of oppressive heat settles in',\n\t\t\t'The temperature climbs to sweltering levels',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'hot',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The oppressive heat begins to ease',\n\t\t\t'The temperature becomes more bearable',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'cold',\n\t\ttemplates: [\n\t\t\t'A bitter chill settles over the area',\n\t\t\t'The temperature plummets as a cold front moves in',\n\t\t\t'An icy wind brings freezing temperatures',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'cold',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The bitter cold begins to moderate',\n\t\t\t'The freezing temperatures ease somewhat',\n\t\t],\n\t},\n\n\t// Fog\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'foggy',\n\t\ttemplates: [\n\t\t\t'A thick fog rolls in, obscuring visibility',\n\t\t\t'Mist begins to gather, shrouding the surroundings',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'foggy',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The fog begins to lift, revealing the surroundings',\n\t\t\t'The mist burns off as visibility improves',\n\t\t],\n\t},\n\n\t// Wind\n\t{\n\t\tfrom: 'clear',\n\t\tto: 'windy',\n\t\ttemplates: [\n\t\t\t'Strong winds pick up, rustling through everything',\n\t\t\t'Gusts of wind begin to sweep across the area',\n\t\t],\n\t},\n\t{\n\t\tfrom: 'windy',\n\t\tto: 'clear',\n\t\ttemplates: [\n\t\t\t'The strong winds die down to a gentle breeze',\n\t\t\t'The gusts subside and calm returns',\n\t\t],\n\t},\n];\n\n// ============================================\n// Transition Detection\n// ============================================\n\n/**\n * Determine if a weather transition is significant enough to mention\n */\nexport function shouldMentionTransition(\n\tprevClimate: ProceduralClimate,\n\tnewClimate: ProceduralClimate,\n): boolean {\n\t// Condition type changed\n\tif (prevClimate.conditionType !== newClimate.conditionType) {\n\t\t// Some transitions are minor (e.g., clear to sunny)\n\t\tconst minorTransitions: Array<[WeatherCondition, WeatherCondition]> = [\n\t\t\t['clear', 'sunny'],\n\t\t\t['sunny', 'clear'],\n\t\t\t['partly_cloudy', 'overcast'],\n\t\t\t['overcast', 'partly_cloudy'],\n\t\t];\n\n\t\tconst isMinor = minorTransitions.some(\n\t\t\t([from, to]) =>\n\t\t\t\t(prevClimate.conditionType === from &&\n\t\t\t\t\tnewClimate.conditionType === to) ||\n\t\t\t\t(prevClimate.conditionType === to &&\n\t\t\t\t\tnewClimate.conditionType === from),\n\t\t);\n\n\t\tif (!isMinor) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// Large temperature change (>10F)\n\tif (Math.abs(prevClimate.temperature - newClimate.temperature) > 10) {\n\t\treturn true;\n\t}\n\n\t// Precipitation started/stopped\n\tconst wasRaining = prevClimate.precipitation > 0.02;\n\tconst isRaining = newClimate.precipitation > 0.02;\n\tif (wasRaining !== isRaining) {\n\t\treturn true;\n\t}\n\n\t// Significant wind change\n\tif (\n\t\tMath.abs(prevClimate.windSpeed - newClimate.windSpeed) > 15 &&\n\t\t(prevClimate.windSpeed > 20 || newClimate.windSpeed > 20)\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n// ============================================\n// Transition Text Generation\n// ============================================\n\n/**\n * Get transition text for a weather change\n */\nexport function getTransitionText(\n\tfrom: WeatherCondition,\n\tto: WeatherCondition,\n\ttempChange?: number,\n): string | null {\n\t// Find matching transition\n\tconst transition = TRANSITIONS.find(t => t.from === from && t.to === to);\n\n\tif (transition) {\n\t\tconst templates = transition.templates;\n\t\treturn templates[Math.floor(Math.random() * templates.length)];\n\t}\n\n\t// Try reverse direction with modified text\n\tconst reverseTransition = TRANSITIONS.find(t => t.from === to && t.to === from);\n\tif (reverseTransition) {\n\t\t// Use a generic transition for the reverse\n\t\tconst conditions = formatCondition(to);\n\t\treturn `The weather shifts to ${conditions}`;\n\t}\n\n\t// Generic fallback for unmapped transitions\n\tif (from !== to) {\n\t\tconst fromStr = formatCondition(from);\n\t\tconst toStr = formatCondition(to);\n\t\treturn `The weather changes from ${fromStr} to ${toStr}`;\n\t}\n\n\t// Temperature-only change\n\tif (tempChange && Math.abs(tempChange) > 10) {\n\t\tif (tempChange > 0) {\n\t\t\treturn 'The air grows noticeably warmer';\n\t\t} else {\n\t\t\treturn 'A distinct chill creeps into the air';\n\t\t}\n\t}\n\n\treturn null; // No significant change\n}\n\n/**\n * Format a condition for display\n */\nfunction formatCondition(condition: WeatherCondition): string {\n\treturn condition.replace(/_/g, ' ');\n}\n\n// ============================================\n// Full Transition Description\n// ============================================\n\n/**\n * Generate a complete transition description for injection\n */\nexport function generateTransitionInjection(\n\tprevClimate: ProceduralClimate,\n\tnewClimate: ProceduralClimate,\n): string | null {\n\tif (!shouldMentionTransition(prevClimate, newClimate)) {\n\t\treturn null;\n\t}\n\n\tconst tempChange = newClimate.temperature - prevClimate.temperature;\n\tconst transitionText = getTransitionText(\n\t\tprevClimate.conditionType,\n\t\tnewClimate.conditionType,\n\t\ttempChange,\n\t);\n\n\treturn transitionText;\n}\n","/* (ignored) */","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (typeof import.meta.url === \"string\") scriptUrl = import.meta.url\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = new URL(\"./\", import.meta.url);\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no install chunk\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no external install chunk\n\n// no on chunks loaded\n// no HMR\n\n// no HMR manifest","import type { STContext } from './types/st';\nimport {\n\tsetupExtractionAbortHandler,\n\twasGenerationAborted,\n\tisBatchExtractionInProgress,\n} from './extractors/extractState';\nimport { initSettingsUI } from './ui/settingsUI';\nimport {\n\tinitStateDisplay,\n\tinjectStyles,\n\trenderMessageState,\n\trenderAllStates,\n\tdoExtractState,\n\tisManualExtractionInProgress,\n} from './ui/stateDisplay';\nimport { settingsManager, getSettings } from './settings';\nimport { updateInjectionFromChat } from './injectors/injectState';\nimport { EXTENSION_KEY } from './constants';\nimport { getMessageState } from './utils/messageState';\nimport { migrateOldTimeFormats } from './migrations/migrateOldTime';\nimport { registerSlashCommands, runExtractAll } from './commands/slashCommands';\nimport {\n\tgetNarrativeState,\n\tgetOrInitializeNarrativeState,\n\tinitializeNarrativeState,\n\tsetNarrativeState,\n} from './state/narrativeState';\nimport { st_echo } from 'sillytavern-utils-lib/config';\n\n \nfunction log(..._args: unknown[]) {\n\t// Logging disabled for production\n}\n\n/**\n * Check if chat has legacy BlazeTracker data without narrative state.\n * This indicates the ancient format that needs full re-extraction.\n */\nfunction hasLegacyDataWithoutNarrativeState(context: STContext): boolean {\n\t// If there's already a narrative state, we're good\n\tconst narrativeState = getNarrativeState();\n\tif (narrativeState) {\n\t\treturn false;\n\t}\n\n\t// Check if any messages have old BlazeTracker data\n\tfor (const message of context.chat) {\n\t\tif (message.extra?.[EXTENSION_KEY]) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\n/**\n * Show popup offering migration options when legacy data is detected.\n */\nasync function showLegacyDataPopup(context: STContext): Promise<void> {\n\treturn new Promise(resolve => {\n\t\tconst container = document.createElement('div');\n\t\tcontainer.innerHTML = `\n\t\t\t<div style=\"padding: 10px;\">\n\t\t\t\t<p style=\"margin-bottom: 15px;\">\n\t\t\t\t\t<strong> BlazeTracker: Outdated Data Detected</strong>\n\t\t\t\t</p>\n\t\t\t\t<p style=\"margin-bottom: 15px;\">\n\t\t\t\t\tThis chat has tracker data from an older version that is no longer compatible.\n\t\t\t\t</p>\n\t\t\t\t<div style=\"display: flex; flex-direction: column; gap: 10px;\">\n\t\t\t\t\t<button id=\"bt-migrate-all\" class=\"menu_button\" style=\"padding: 10px; width: 100%;\">\n\t\t\t\t\t\t<strong>Re-extract All State</strong> (slow, accurate)\n\t\t\t\t\t\t<br><small>Rebuild state for every message. Best for important chats.</small>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id=\"bt-migrate-recent\" class=\"menu_button\" style=\"padding: 10px; width: 100%;\">\n\t\t\t\t\t\t<strong>Re-extract Recent State</strong> (fast)\n\t\t\t\t\t\t<br><small>Only extract the latest message. Good enough for most cases.</small>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id=\"bt-migrate-empty\" class=\"menu_button\" style=\"padding: 10px; width: 100%;\">\n\t\t\t\t\t\t<strong>Initialize Empty State</strong>\n\t\t\t\t\t\t<br><small style=\"color: #f59e0b;\"> Discards old data. State will build from new messages.</small>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\t// Show as TEXT popup (no buttons) - we provide our own\n\t\tcontext.callGenericPopup(container, context.POPUP_TYPE.TEXT, null, {\n\t\t\twide: true,\n\t\t});\n\n\t\t// Wire up button handlers\n\t\tconst handleMigrateAll = async () => {\n\t\t\tcleanup();\n\t\t\tlog('User chose to re-extract all messages');\n\t\t\tst_echo?.('info', ' Starting full re-extraction...');\n\n\t\t\tconst state = initializeNarrativeState();\n\t\t\tsetNarrativeState(state);\n\t\t\tclearAllPerMessageState(context);\n\t\t\tawait context.saveChat();\n\n\t\t\tconst { extracted, failed } = await runExtractAll();\n\t\t\tst_echo?.('success', ` Re-extraction complete: ${extracted} extracted, ${failed} failed`);\n\t\t\tresolve();\n\t\t};\n\n\t\tconst handleMigrateRecent = async () => {\n\t\t\tcleanup();\n\t\t\tlog('User chose to re-extract recent message only');\n\t\t\tst_echo?.('info', ' Re-extracting recent state...');\n\n\t\t\tconst state = initializeNarrativeState();\n\t\t\tsetNarrativeState(state);\n\t\t\tclearAllPerMessageState(context);\n\t\t\tawait context.saveChat();\n\n\t\t\t// Just extract the most recent message\n\t\t\tconst lastMessageId = context.chat.length - 1;\n\t\t\tif (lastMessageId > 0) {\n\t\t\t\tawait doExtractState(lastMessageId);\n\t\t\t}\n\n\t\t\trenderAllStates();\n\t\t\tst_echo?.('success', ' Recent state extracted');\n\t\t\tresolve();\n\t\t};\n\n\t\tconst handleMigrateEmpty = async () => {\n\t\t\tcleanup();\n\t\t\tlog('User chose to initialize empty state');\n\n\t\t\tconst state = initializeNarrativeState();\n\t\t\tsetNarrativeState(state);\n\t\t\t// Don't clear per-message state - just let it be ignored\n\t\t\tawait context.saveChat();\n\n\t\t\trenderAllStates();\n\t\t\tst_echo?.('info', ' Initialized with empty state');\n\t\t\tresolve();\n\t\t};\n\n\t\tconst cleanup = () => {\n\t\t\t// Close the popup\n\t\t\t(document.querySelector('.popup-button-ok') as HTMLElement)?.click();\n\t\t};\n\n\t\t// Add event listeners after a tick to ensure DOM is ready\n\t\tsetTimeout(() => {\n\t\t\tdocument.getElementById('bt-migrate-all')?.addEventListener('click', handleMigrateAll);\n\t\t\tdocument.getElementById('bt-migrate-recent')?.addEventListener('click', handleMigrateRecent);\n\t\t\tdocument.getElementById('bt-migrate-empty')?.addEventListener('click', handleMigrateEmpty);\n\t\t}, 0);\n\t});\n}\n\n/**\n * Clear all per-message BlazeTracker state.\n */\nfunction clearAllPerMessageState(context: STContext): void {\n\tfor (let i = 0; i < context.chat.length; i++) {\n\t\tconst message = context.chat[i];\n\t\tif (message.extra && message.extra[EXTENSION_KEY]) {\n\t\t\tdelete message.extra[EXTENSION_KEY];\n\t\t}\n\t}\n}\n\nasync function init() {\n\tconst context = SillyTavern.getContext();\n\n\t// Inject CSS first\n\tinjectStyles();\n\n\t// Initialize settings\n\tawait settingsManager.initializeSettings();\n\tawait initSettingsUI();\n\n\t// Initialize state display (handles chat change)\n\tinitStateDisplay();\n\tsetupExtractionAbortHandler();\n\n\t// Register slash commands\n\tregisterSlashCommands();\n\n\tconst settings = getSettings();\n\tconst autoExtractResponses =\n\t\tsettings.autoMode === 'responses' || settings.autoMode === 'both';\n\tconst autoExtractInputs = settings.autoMode === 'inputs' || settings.autoMode === 'both';\n\n\t// Hook user messages\n\tcontext.eventSource.on(context.event_types.USER_MESSAGE_RENDERED, (async (\n\t\tmessageId: number,\n\t) => {\n\t\tif (autoExtractInputs) {\n\t\t\tlog('Auto-extracting for user message:', messageId);\n\t\t\tawait doExtractState(messageId);\n\t\t\tupdateInjectionFromChat();\n\t\t} else {\n\t\t\t// Just render existing state (or nothing)\n\t\t\tsetTimeout(() => renderMessageState(messageId), 100);\n\t\t}\n\t}) as (...args: unknown[]) => void);\n\n\t// Re-extract on message edit\n\tcontext.eventSource.on(context.event_types.MESSAGE_EDITED, (async (messageId: number) => {\n\t\tconst lastIndex = context.chat.length - 1;\n\n\t\t// Only re-extract if editing one of the last 2 messages\n\t\tif (messageId >= lastIndex - 1 && messageId !== 0) {\n\t\t\tif (autoExtractResponses || autoExtractInputs) {\n\t\t\t\tlog('Re-extracting for edited message:', messageId);\n\t\t\t\tawait doExtractState(messageId);\n\t\t\t}\n\t\t}\n\t}) as (...args: unknown[]) => void);\n\n\t// Re-render all on generation end (to catch any we missed)\n\tif (autoExtractResponses) {\n\t\t// This ensures the message is fully rendered and DOM is stable\n\t\tcontext.eventSource.on(context.event_types.GENERATION_ENDED, (async (\n\t\t\t_messageId: number,\n\t\t) => {\n\t\t\t// Yield to microtask queue - ensures any synchronous\n\t\t\t// GENERATION_STOPPED handlers complete first\n\t\t\tawait Promise.resolve();\n\n\t\t\t// Skip extraction if the generation was aborted\n\t\t\tif (wasGenerationAborted()) {\n\t\t\t\tlog('Generation was aborted, skipping extraction');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Skip if batch extraction is in progress (bt-extract-all)\n\t\t\tif (isBatchExtractionInProgress()) {\n\t\t\t\tlog('Batch extraction in progress, skipping auto-extraction');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Skip if manual extraction is in progress (fire button, slash command)\n\t\t\tif (isManualExtractionInProgress()) {\n\t\t\t\tlog('Manual extraction in progress, skipping auto-extraction');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// messageId might not be passed, get the last message\n\t\t\tconst stContext = SillyTavern.getContext() as STContext;\n\t\t\tconst lastMessageId = stContext.chat.length - 1;\n\n\t\t\tif (lastMessageId <= 0) return;\n\n\t\t\tconst message = stContext.chat[lastMessageId];\n\t\t\t// Only extract for AI messages\n\t\t\tif (message.is_user) return;\n\n\t\t\tlog('Auto-extracting for completed generation:', lastMessageId);\n\t\t\tawait doExtractState(lastMessageId);\n\t\t}) as (...args: unknown[]) => void);\n\t}\n\n\t// Update injection on chat change\n\tcontext.eventSource.on(context.event_types.CHAT_CHANGED, (async () => {\n\t\tconst ctx = SillyTavern.getContext() as STContext;\n\t\tconst settings = getSettings();\n\n\t\t// Check for ancient legacy data that needs full re-extraction\n\t\tif (hasLegacyDataWithoutNarrativeState(ctx)) {\n\t\t\tlog('Detected legacy BlazeTracker data without narrative state');\n\t\t\t// Show popup - don't await, let it run in background\n\t\t\tshowLegacyDataPopup(ctx);\n\t\t} else {\n\t\t\t// Ensure narrative state is migrated to latest version\n\t\t\tgetOrInitializeNarrativeState();\n\t\t}\n\n\t\t// Run time format migration\n\t\tif (settings.profileId) {\n\t\t\tawait migrateOldTimeFormats(ctx, settings.profileId);\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\trenderAllStates();\n\t\t\tupdateInjectionFromChat();\n\t\t}, 100);\n\t}) as (...args: unknown[]) => void);\n\n\tconst handleSwipe = async (messageId: number) => {\n\t\tlog('Swipe detected for message:', messageId);\n\n\t\tconst stContext = SillyTavern.getContext() as STContext;\n\t\tconst message = stContext.chat[messageId];\n\t\tconst existingState = getMessageState(message);\n\n\t\tif (existingState) {\n\t\t\t// This swipe already has state, render it\n\t\t\tlog('State exists for this swipe');\n\t\t\trenderMessageState(messageId, existingState);\n\t\t} else {\n\t\t\t// No state - either new generation in progress or old unextracted swipe\n\t\t\t// Don't auto-extract here - could be mid-generation with wrong content\n\t\t\t// GENERATION_ENDED will handle new generations\n\t\t\t// User can manually extract old swipes if needed\n\t\t\trenderMessageState(messageId, null);\n\t\t}\n\n\t\tupdateInjectionFromChat();\n\t};\n\n\t// Try MESSAGE_SWIPED event\n\tif (context.event_types.MESSAGE_SWIPED) {\n\t\tcontext.eventSource.on(context.event_types.MESSAGE_SWIPED, (async (data: any) => {\n\t\t\t// Event data format varies: could be number, { message }, { messageId }, { id }\n\t\t\tconst messageId =\n\t\t\t\ttypeof data === 'number'\n\t\t\t\t\t? data\n\t\t\t\t\t: (data?.message ?? data?.messageId ?? data?.id);\n\n\t\t\tif (typeof messageId === 'number') {\n\t\t\t\t// Small delay to let ST update the swipe data\n\t\t\t\tsetTimeout(() => handleSwipe(messageId), 50);\n\t\t\t}\n\t\t}) as (...args: unknown[]) => void);\n\t\tlog('MESSAGE_SWIPED handler registered');\n\t}\n\n\t// Try SWIPE_CHANGED event (alternate name)\n\tif (context.event_types.SWIPE_CHANGED) {\n\t\tcontext.eventSource.on(context.event_types.SWIPE_CHANGED, (async (data: any) => {\n\t\t\tconst messageId =\n\t\t\t\ttypeof data === 'number'\n\t\t\t\t\t? data\n\t\t\t\t\t: (data?.message ?? data?.messageId ?? data?.id);\n\n\t\t\tif (typeof messageId === 'number') {\n\t\t\t\tsetTimeout(() => handleSwipe(messageId), 50);\n\t\t\t}\n\t\t}) as (...args: unknown[]) => void);\n\t\tlog('SWIPE_CHANGED handler registered');\n\t}\n\n\tlog('Event hooks registered.');\n}\n\n// Wait for DOM/ST to be ready\nif (document.readyState === 'loading') {\n\tdocument.addEventListener('DOMContentLoaded', init);\n} else {\n\tinit();\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}